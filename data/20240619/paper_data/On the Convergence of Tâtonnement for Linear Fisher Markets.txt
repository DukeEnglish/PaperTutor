On the Convergence of Tâtonnement for Linear Fisher
Markets
Tianlong Nan, Yuan Gao, and Christian Kroer
Columbia University, IEOR
{tianlong.nan,gao.yuan,christian.kroer}@columbia.edu
Abstract
Tâtonnement is a simple, intuitive market process where prices are iteratively ad-
justed based on the difference between demand and supply. Many variants under
different market assumptions have been studied and shown to converge to a market
equilibrium, in some cases at a fast rate. However, the classical case of linear Fisher
markets have long eluded the analyses, and it remains unclear whether tâtonnement
converges in this case. We show that, for a sufficiently small step size, the prices given
by the tâtonnement process are guaranteed to converge to equilibrium prices, up to a
small approximation radius that depends on the stepsize. To achieve this, we consider
the dual Eisenberg-Gale convex program in the price space, view tâtonnement as sub-
gradient descent on this convex program, and utilize last-iterate convergence results
for subgradient descent under error bound conditions. In doing so, we show that the
convexprogramsatisfiesaparticularerrorboundcondition,thequadraticgrowthcon-
dition, and that the price sequence generated by tâtonnement is bounded above and
away from zero. We also show that a similar convergence result holds for tâtonnement
in quasi-linear Fisher markets. Numerical experiments are conducted to demonstrate
that the theoretical linear convergence aligns with empirical observations.
Contents
1 Introduction 2
2 Related Work 4
3 Linear Fisher markets and Tâtonnement 5
4 Convergence of Tâtonnement 7
5 Tâtonnement in Quasi-linear Fisher markets 15
6 Numerical Experiments 18
A Direct equivalence between Tâtonnement and SubGD on CPF 25
B Strong convexity of h 26
C Algorithms 27
D Omitted proofs in Sections 4 and 5 27
Preprint.
4202
nuJ
81
]TG.sc[
1v62521.6042:viXra1 Introduction
Market equilibrium (ME) is a central solution concept in economics. It describes a steady
state of the market in which supply is equal to demand. In recent year, it has found
various applications in resource allocation in large-scale online and physical market places
due to its fairness, efficiency in allocating items, and tractability under various real-world-
inspired settings. Since ME was first studied by Léon Walras in 1874, extensive work
has been undertaken to establish the existence and uniqueness of ME in various market
models [Walras, 1874, Arrow and Debreu, 1954, Cole et al., 2017]. In this paper, we focus
on theFisher market setting, a well-known market model involving m divisible items which
aretobeallocatedamongnbuyers. Eachitemhasafixedsupply(usuallyassumedtobe1)
andeachbuyerisendowedwithafixedbudgetofmoney. InaFishermarket,anequilibrium
is a set of prices for the items, and an allocation of items to buyers, such that each buyer
is allocated the optimal bundle subject to the prices and her budget, and each item is
allocated at its supply.
Alongside the development of market settings and equilibrium solution concepts, mar-
ket equilibrium computation, by itself or as part of an end-to-end approach to real-world
resource allocation problems, has seen a growing interest in various research communities
in economics, computer science, and operations research [Scarf et al., 1967, Kantorovich,
1975, Daskalakis et al., 2009, Bateni et al., 2018, Babaioff et al., 2019, Othman et al., 2010,
Cole et al., 2017, Birnbaum et al., 2011, Kroer et al., 2019, 2021, Gao and Kroer, 2020,
Gao et al., 2021]. This is especially so in the past two decades, as the emergence of in-
ternet marketplaces, including advertising systems, require approximating or maintaining
equilibrium variables in large-scale market settings.
Tâtonnement is a simple, natural, and decentralized price-adjustment process where
prices of items are adjusted to reflect buyers’ demands: the price of a good increases if the
demand exceeds the supply under current prices, and decreases if the supply exceeds the
demand. Itcanalsobeviewedasanalgorithmforcomputingmarketequilibria. Intuitively,
if the tâtonnement process is guaranteed to converge to a market equilibrium, then it
lends more credence to the equilibrium concept as a solution concept for the economic
allocationofgoods. Indeed, forvariousmarketsettings, includingFishermarketswithnon-
linear constant-elasticity-of-substitution (CES) utilities, the convergence of tâtonnement
has been established and is well-understood [Cole and Fleischer, 2008, Cheung et al., 2019,
Avigdor-Elgrabli et al., 2014]. A prominent exception is the simplest, and arguably most
prevalent, setting of linear Fisher markets (LFM), where buyers have linear (additive)
utilities over items. On the one hand, it has long been known that, for LFMs, tâtonnement
does not converge to an equilibrium in the strongest sense of a vanishing metric or norm;
see, e.g., Cole and Tao [2019], references therein, and Section 4.4 for examples and further
discussions. However, on the other hand, little has been shown regarding the existence and
detailed characterizations (e.g. convergence rates) of the approximate convergence (if any)
of tâtonnement for this setting.
2One important fact about an LFM is that its market equilibria are captured by the
well-known Eisenberg-Gale (EG) convex program:
n n
(cid:88) (cid:88)
max B log⟨v ,x ⟩ s.t. x ≤ 1, x = (x )n ≥ 0, (EG-Primal)
i i i i i i=1
i=1 i=1
where B ∈ R,v ∈ Rm,x ∈ Rm denotes budget, valuation vector, and allocation vector
i i i
for buyer i, respectively, in an LFM composed of n buyers and m items. It turns out that
tâtonnement in LFM is equivalent to the subgradient descent method applied to the dual
program of Eq. (EG-Primal) (See, e.g., Cheung et al. [2013]). This can be shown as follows:
by taking the Lagrangian of Eq. (EG-Primal), we obtain that the dual problem to EG is
to minimize the following function
 
n m m
(cid:88) (cid:88) (cid:88)
φ(p) = max L(x,p) = max B ilog⟨v i,x i⟩− p jx ij+ p j, (1)
x≥0 x≥0
i=1 j=1 j=1
whichisamax-typenonsmoothconvexfunctionw.r.t. pbyconstruction. Everysubgradient
of φ(p) is of the form 1−(cid:80) x∗(p), where x∗(p) is a maximizer of max (B log⟨v ,x ⟩−
(cid:80)m p x ). By first-order
oi pti
imality
condii
tions, for any p, x∗(p) is
thx ei≥ d0 emai
nd of
bi uyi
er i
j=1 j ij i
under p. Thus, tâtonnement (in the form of pt+1 ← pt+η((cid:80) x∗(pt)−1), where η ∈ R )
i i >0
is equivalent to applying subgradient descent on min p∈Rm φ(p). We will use this relation
to establish a linear convergence rate for tâtonnement on≥L0FMs.
Contributions. We consider a classic form of the tâtonnement process in LFMs, which
updates prices as follows (where [·] denotes thresholding at zero):
+
pt+1 ← [pt+ηzt] , ∀t, (2)
+
where z denotes excess demand at time t. We give the first positive answers to the question
ofwhethertâtonnementconvergesinLFM:weshowthatthepricesgeneratedbytheprocess
converge at a fast linear rate (i.e. exponentially fast) to a small neighborhood around the
true equilibrium prices. Moreover, we show that the size of this neighborhood shrinks to 0
as the stepsize η goes to 0. Thus, for any approximation level ϵ > 0, we can find an η > 0
such that tâtonnement converges linearly to an ϵ-approximate equilibrium. Our results are
achieved by leveraging the connection between tâtonnement and subgradient methods, and
from there showing that the dual of the EG convex program satisfies the quadratic growth
condition around its optimum. Moreover, we must then show bounded subgradients, which
we establish by showing that the tâtonnement process is guaranteed to be bounded above
and away from zero for its entire trajectory, assuming a sufficiently small stepsize. As is
explained in Section 2, many existing works on tâtonnement use some modified version of
the process where prices are generally kept away from zero either through projection to
a region bounded away from zero, or by artificially upper-bounding excess demands. Our
3results show that for LFM, such modifications are not necessary as long as stepsizes are
sufficiently small. Finally, we extend our analysis framework to an important variant of
LFMs: quasi-linear Fisher markets. For such markets, we again show that tâtonnement
achieves a linear convergence rate to approximate equilibrium.
Notation. Throughout this paper, we use ∥·∥ to denote Euclidean distance and ⟨·,·⟩ to
denote the standard inner product. We use Π (x) to denote the Euclidean projection of x
X
onto set X. We use ∥·∥ to denote the l norm. We use Argmax to denote the set of values
1 1
that reach the maximum. The subdifferential of a function f at x is denoted as ∂f(x). We
use ∇f to denote the differential of f if f is smooth. Denote [m] = {1,...,m}.
2 Related Work
Convergence of tâtonnement. Initially, economists studied the convergence of tâton-
nementincontinuoustime. There,Arrowetal.[1959]provedthatacontinuous-timeversion
of tâtonnement converges to ME for markets satisfying weak gross substitutability (WGS).
In the remainder of the literature review, we focus on the discrete-time version of tâton-
nement,whichisthefocusofourpaper. Codenottietal.[2005]consideredadiscreteversion
of tâtonnement and proved that it converges to an approximate equilibrium in polynomial
time for any exchange economy satisfying WGS. Though their tâtonnement updates are
additive and similar to ours, they need to apply tâtonnement on a transformed market and
use price projection in order to restrict prices to a region that is bounded and bounded
away from zero. Cole and Fleischer [2008] considered a multiplicative tâtonnement with
artificially upper-bounded excess demands, and showed polynomial convergence for it on
non-linear CES markets satisfying WGS (0 ≤ ρ < 1). Cheung et al. [2012] extended this
analysis to some non-WGS markets.
Cheung et al. [2019] proved that the entropic tâtonnement is equivalent to generalized
gradient descent with KL divergence, and thus is guaranteed to reach ϵ fraction of initial
distance to ME measured in a potential function in O(1) iterations for the Leontief Fisher
ϵ
market, and O(log 1) iterations for the complementary CES Fisher market (−∞ < ρ < 0).
ϵ
Avigdor-Elgrabli et al. [2014], Cheung [2014] considered multiplicative tâtonnement and
showed convergence to an approximate equilibrium for Fisher markets with nested non-
linear CES-Leontief utilities.
ColeandTao[2019]studiedconvergencetoapproximateequilibriumfortheLFM,using
a modified entropic tâtonnement process. In particular, they considered the update rule
pt+1 ← pteηmin{zt,1}, where pt and zt denote the price and excess demand at time t. They
showed a linear convergence rate under what they call a “large market assumption,” which
requires that for buyers with linear or close-to-linear utilities, the spending (of budget)
on a single item does not vary too much as prices change. This is unnatural for LFM
as the elasticity of demand can be infinity in the LFM. Moveover, their quality of the
approximation is proportional to a particular squared parameter in their assumption, while
4our results do not even require any such assumption.
Goktas et al. [2021] studied the dual of an Eisenberg-Gale-like convex program from the
perspective of the expenditure minimization problem (EMP). Goktas et al. [2023] showed
anO((1+E2)/T2)convergenceforanentropictâtonnementprocessonFishermarketswith
concave, continuous, nonegative, and 1-homogeneous 1 (CCNH) utilities, where E denotes
the upper bound of the elasticity of demand. Note that in the case of LFM, the elasticity
of demand is unbounded, and thus this result gives an infinite upper bound.
Fleischer et al. [2008] study the convergence of the averaged iterates generated by a
tâtonnement-like algorithm in a class of Fisher markets that include linear, Leontief, and
CES utilities. Note that we focus on the last iterate, which is the only type of convergence
that allows us to say whether the day-to-day prices are converging. Secondly, last-iterate
convergence implies average-iterate convergence.
Convergence of subgradient descent methods. Subgradient descent methods (Sub-
GDs) have been extensively studied since their introduction in the 1960s. Historically,
√
SubGD was only known to have a O(1/ T) convergence rate for the averaged iterate,
where T is the number of iterations. Moreover, this convergence was in terms of the op-
timality gap, and not in terms of the distance to the optimal solution. For tâtonnement,
we are interested in the latter, as we want to know how quickly the prices converge to the
√
market equilibrium prices. Recently, Zamani and Glineur [2023] showed a nearly O(1/ T)
optimal rate for the last iterate, but again only in terms of optimality gap. It is known,
however, that SubGD can achieve a faster convergence rate when the objective satisfies
various notions of error-bound conditions. For prior work on SubGDs under error bound
conditions, see Johnstone and Moulin [2020] and references therein. Particularly relevant
to us, SubGD is known to have linear convergence under the quadratic growth condition
(QG) [Nedić and Bertsekas, 2001, Karimi et al., 2016], in terms of the distance to the
optimal solution.
3 Linear Fisher markets and Tâtonnement
Linear Fisher markets. WeconsideralinearFishermarketwithnbuyersandmdivisible
items. Each buyer i has a budget B > 0 and valuation v ≥ 0 for each item j. Let
i ij
B = (cid:80) B and B = min B . Denote v = (v ,...,v ) for all i and v as the
i∈[n] i min i∈[n] i i i1 im
valuation matrix whose i-th row is v . An allocation (or bundle) of items x ∈ Rm gives
i i ≥0
buyer i a utility of u (x ) = ⟨v ,x ⟩. Without loss of generality, we assume the following:
i i i i
• There is a unit supply of each item j.
• ∥v ∥ = 1 for all i.
i 1
1A utility function u:Rm →R is α-homogeneous if u(ax)=aαu(x) for any a∈R and x∈Rm .
≥0 ≥0 ≥0 ≥0
5• v ∈ Rn×m does not have all-zero rows or columns. In other words, each item j is
≥0
wanted by at least one buyer, and each buyer i wants at least one item.
Given a set of prices p ∈ Rm for the items, the demand set of buyer i is defined as
≥0
D (p) := Argmax{⟨v ,x ⟩ : ⟨p,x ⟩ ≤ B , x ≥ 0}. (Demand)
i i i i i i
xi
We use d (p) ∈ D (p) to denote an arbitrary demand vector of buyer i under p. We use
i i
z (p) = (cid:80) d (p)−1 to denote the excess demand for item j under p. The excess supply
j i∈[n] ij
is −z (p).
j
In the LFM (or its variants), buyers only buy items with maximum bang-per-buck
(MBB). We call such items the MBB items for a buyer, i.e., j is an MBB item for buyer i
if vij ≥ v ij′ for all j′ ∈ [m].
pj p′
j
A Fisher market is said to reach a market equilibrium if allocations x∗ ∈ Rm , ∀ i ∈ [n]
i ≥0
and prices p∗ ∈ Rm satisfy
≥0
• Buyer optimality: x∗ ∈ D (p∗) for all i ∈ [n],
i i
• Market clearance: (cid:80)n x∗ = 1 for all j ∈ [m].
i=1 ij
WesayaFishermarketreachesanϵ-approximateequilibriumifallocationsx ∈ Rm ∀ i ∈
i ≥0
[n] and prices p ∈ Rm satisfy
≥0
• Approximate buyer optimality: ⟨v ,x ⟩ ≥ (1−ϵ)⟨v ,y ⟩ for all y such that ⟨p,y ⟩ ≤
i i i i i i
(1−ϵ)B , and ⟨p,x ⟩ ≤ B for all i ∈ [n],
i i i
• Approximate market clearance: 1−ϵ ≤ (cid:80)n x ≤ 1 for all j ∈ [m].
i=1 ij
Tâtonnement. We consider the classic, discrete-time tâtonnement dynamics that adjust
prices at time t as follows:
• Pick xt ∈ D (pt) ∀ i ∈ [n]
i i
n
(cid:88)
• zt = xt−1 ∀ j ∈ [m]. (3)
j i
i=1
• pt+1 = pt +ηtzt ∀ j ∈ [m]
j j j
Typically, many authors have considered some form of projection to ensure pt+1 ≥ 0, or
even such that it is strictly bounded away from zero. We will show that for LFM, it is
possible to select ηt such that the prices are ensured to be strictly bounded away from zero
without projection. This is critical for our later convergence results. We will mostly focus
on the case where stepsizes are constant, i.e. ηt = η for some η > 0.
6As shown in Section 1, Eq. (3) is equivalent to applying subgradient descent on the
following non-smooth convex minimization problem:
min p∈Rm φ(p). (4)
≥0
In particular, starting with some feasible point p0 ∈ Rm , at time t,
≥0
• Pick g(pt) ∈ ∂φ(pt)
. (5)
• pt+1 = ΠRm (cid:0) pt−ηg(pt)(cid:1)
≥0
4 Convergence of Tâtonnement
In this section, we establish our main result: showing that the tâtonnement process con-
verges to an arbitrarily small neighborhood of the equilibrium price vector at a linear rate,
where the size of the neighborhood is determined by the stepsize. To do this, we show
that the corresponding SubGD guarantees such a linear convergence. Specifically, we first
showthatthepricesgeneratedbythetâtonnementdynamicsarelowerboundedbypositive
constants if stepsizes are small enough (without any other modifications to tâtonnement).
Becausepricesareboundedawayfromzero,thedemandsareallupperbounded,andinturn
this implies that tâtonnement is equivalent to SubGD with bounded subgradients. This is
crucial, becauseboundedsubgradientsarerequiredinalllast-iterateconvergenceresultsfor
SubGD that we are aware of. Next, we establish a quadratic growth (QG) property of the
non-smooth EG dual objective function. Finally, we obtain the desired linear convergence
by a standard analysis for SubGD under QG and bounded subgradients. Then, we show an
example where the prices cycle in a small neighborhood of the equilibrium prices, exactly
as predicted by our theory once we hit the neighborhood implied by the stepsize.
4.1 Tâtonnement and price lower bounds
The expression for φ(p) in Eq. (1) can be simplified into (cid:80)m p −(cid:80)n B log(cid:0) min pj (cid:1)
j=1 j i=1 i j vij
up to a constant, which yields the following dual formulation of Eq. (EG-Primal):
m n (cid:18) (cid:19)
min φ(p) = (cid:88) p −(cid:88) B log min p k . (6)
j i
p∈Rm ≥0 j=1 i=1 k∈[m] v ik
Here, the two expressions for φ differ only by a constant. As a result, tâtonnement in an
LFM is equivalent to SubGD on φ(p). In Appendix A, we show how to directly derive this
well-known equivalence in terms of φ(p).
As we mentioned, to ensure that the tâtonnement process is well-defined and converges
to a market equilibrium, some past work (e.g. Cole and Tao [2019]) assumed an artificial
lower bound on prices. This is to ensure that we do not encounter unbounded demands
7(which occur as prices tend to zero). Next, we show that such artificial lower bounds are
notnecessary: thetâtonnementprocessitselfguaranteesthatpricesareboundedawayfrom
zero, aslongasourstepsizeisnottoolarge. Thisimpliesaglobalupperboundondemands
at each step.
Lemma 1 (Lower bounds on prices). Let p˜be an m-dimensional vector where
B v
p˜ = min max ij , for all j ∈ [m]. (7)
j
4m i ∥v i∥ ∞
Assume that we adjust prices in the linear Fisher market with Eq. (3), starting from an
initial price vector p0 ≥ p˜, with any stepsize η < 1 min p˜ . Then, pt ≥ p˜ −2mη for all
2m j j j j
j ∈ [m] and t ≥ 0.
To prove Lemma 1, we first introduce some notations. Without loss of generality, we
let bbb(j) be the buyer with the minimum index such that
v
bbb(j) ∈ Argmax ij . (8)
∥v ∥
i i ∞
Intuitively, buyer bbb(j) is the buyer who values item j the most relative to their largest
valuation. We use bt to denote the spend from buyer i for item j at the t-th iteration. If
ij
bt > 0, we say item j receives spend bt from buyer i. We denote κ = Bmin for simplicity.
ij ij 4m
Then, we can show the following two facts.
Fact 1. For each item j ∈ [m], if p ≤ p˜ , then for any item j′ ̸= j which is demanded by
j j
buyer bbb(j), we have p ≤ p˜ .
j′ j′
Proof. Since buyer bbb(j) demands item j′, we have p ≤ v bbb(j)j′p . Then, it follows that
j′ v j
bbb(j)j
v bbb(j)j′ v bbb(j)j′ Eq.(7) v bbb(j)j′ v ij
p ≤ p ≤ p˜ = κmax
j′ j j
v bbb(j)j v bbb(j)j v bbb(j)j i ∥v i∥ ∞
v v
Eq.(8) bbb(j)j′ bbb(j)j
= κ
v ∥v ∥
bbb(j)j bbb(j) ∞
= κ v bbb(j)j′ ≤ κmax v ij′ Eq =.(7) p˜ . (9)
j′
∥v bbb(j)∥ ∞ i ∥v i∥ ∞
Fact 2. Let t ≥ 0 be any time step. For any item j, if pt ≤ p˜ for t ≤ t ≤ t +2m−1,
j j j j j
and ptj ≥ p˜ −2mη for all j′ ̸= j. Then,
j′ j′
tj+2m−1
(cid:88)
bt ≤ 2B for all j′ ̸= j. (10)
bbb(j)j′ bbb(j)
t=tj
8Proof. Weprovethisfactbycontradiction. Supposethat, attimesteptˆ≤ t +2m−1, item
j
j′ receives more than 2B spend from buyer bbb(j) cumulatively for the first time. Then
bbb(j)
we have (cid:80)tˆ−1 bt ≤ 2B < (cid:80)tˆ bt . Since item j′ receives a spend of at most
t=tj bbb(j)j′ bbb(j) t=tj bbb(j)j′
B from buyerbbb(j) per iteration, we have (cid:80)tˆ−1 bt > B . By Fact 1 and pt ≤ p˜ for
bbb(j) t=tj bbb(j)j′ bbb(j) j j
t ≤ t ≤ t +2m−1, we know pt ≤ p˜ for t ≤ t ≤ t +2m−1 such that bt > 0. Thus,
j j j′ j′ j j bbb(j)j′
(cid:80)t tˆ− =1 tj b bbt b p(j t j) ′j′ ≥ p˜1 j′ (cid:80)t tˆ− =1 tj b bbbt (j)j′ ≥ B4 bbbm (j) (cid:80)t tˆ− =1 tj b bbt b(j)j′ > 4m, because p˜ j′ ≤ B 4m min ≤ B 4bbb m(j). This
leads to
tˆ−1 (cid:32) bt (cid:33)
ptˆ ≥ ptj +η(cid:88) bbb(j)j′ −1 > ptj +4mη−(2m−1)η = ptj +(2m+1)η ≥ p˜ +η. (11)
j′ j′ pt j′ j′ j′
t=tj j′
This contradicts ptˆ ≤ p˜ , which follows from Fact 1 and btˆ > 0.
j′ j′ bbb(j)j′
Now we are ready to prove Lemma 1.
Proof. We assume there exists a T = min(cid:8) t(cid:12) (cid:12)pt
j
< p˜
j
−2mη for some j(cid:9) < ∞, otherwise
we are done. In words, T is the first time that some item j’s price goes below p˜ −2mη.
j
For each item j such that pT < p˜ −2mη, we let t < T be the last time that its price went
j j j
from above p˜ to below p˜ . It follows that pt ≤ p˜ for t ≤ t ≤ T. Since the price decreases
j j j j j
by at most η per iteration, T ≥ t +2m, and thus pt ≤ p˜ for t ≤ t ≤ t +2m. Note that,
j j j j j
by definition of T, ptj ≥ p˜ −2mη for all j′ ̸= j.
j′ j′
ByFact2andpt ≤ p˜ fort ≤ t ≤ t +2m,(cid:80) (cid:80)tj+2m−1 bt ≤ 2(m−1)B . Since
j j j j j′̸=j t=tj bbb(j)j′ bbb(j)
fromt tot +2m−1, thetotalspendfrombuyerbbb(j)equalsto2mB , (cid:80)tj+2m−1 bt ≥
j j bbb(j) t=tj bbb(j)j
2B . Thereby, we have
bbb(j)
ptj+2m
≥
ptj
+ηtj+ (cid:88)2m−1 (cid:16)b bbt
b(j)j
−1(cid:17)
≥
ptj
+ηtj+ (cid:88)2m−1 b bbt
b(j)j
−2mη
j j pt j p˜
t=tj j t=tj j
≥
ptj
+8mη−2mη
j
≥ p˜ +(6m−1)η, (12)
j
where the first inequality follows because total demand across buyers is lower bounded by
demand from buyer bbb(j), the second inequality follows from pt ≤ p˜ for t ≤ t ≤ t +2m,
j j j j
the third inequality follows from p˜ ≤ B bbb(j) and (cid:80)tj+2m−1 bt ≥ 2B , and the last
j 4m t=tj bbb(j)j bbb(j)
inequality follows from ptj ≥ p˜ −η since the price decreases by at most η per iteration.
j j
Eq. (12) contradicts ptj+2m ≤ p˜ and thus T < ∞ does not exist. By contradiction, we
j j
can conclude pt ≥ p˜ −2mη for all j.
j j
9Next we show that the lower bound on price in Lemma 1 is tight, in terms of its order
dependence on m.
Lemma 2. There is an instance for which pt = p˜−(m−1)η for some item at some time
step t.
Proof. Assume that there is one buyer and m items. This buyer has a unit budget and
receives the same utility for each item. Thus, p˜ = 1 for all j. Let p0 = p˜. Assume that
j 4m
at each iteration, the buyer always selects only one item out of all MBB items and spends
her entire budget on that item. Then, the price of every item, except the demanded item,
will have a price decrease of η at each iteration. Obviously, the last item to be demanded
will have a price of p˜ −(m−1)η at the m-th iteration.
j
A direct consequence of Lemma 1 is that the demands are upper bounded, due to the
lower bound on prices. Recall that (cid:80)n B = B.
i=1 i
Corollary 1 (Upper bounds of demands in the LFM). Assume that we adjust prices in the
LFM using Eq. (3), with p0 ≥ p˜and η < 1 min p˜ . At any time step t, let z(pt) ∈ Rm be
2m j j
the excess demand vector and bt be the spend from buyer i for item j, then we have
ij
∥z(pt)∥ ≤ ∥z(pt)∥ =
(cid:88)m
|z (pt)| ≤
(cid:88)m (cid:16)(cid:80)n i=1bt
ij
+1(cid:17)
≤
B
+m, (13)
1 j pt min p˜ −2mη
j=1 j=1 j j j
where the last inequality follows by pt ≥ min p˜ −2mη for all j ∈ [m] and (cid:80) (cid:80) bt = B.
j j j j i ij
Sincethedemandsareupperbounded,itfollowsthatthepricesarealsoupperbounded.
Lemma 3 (Upper bounds of prices in the LFM). Assume that we adjust prices in the LFM
using Eq. (3), with p0 ≥ p˜ and η < 1 min p˜ , where p˜ is defined in Lemma 1. Then,
2m j j
(cid:16) (cid:17)
pt ≤ 1+ η B for all t ≥ 0 and j ∈ [m].
j p˜j−2mη
Proof. Ifthereexistssometatwhichpt > B, thenthepriceofitemj hastodecreaseatthe
j
(t+1)-th step because pt+1 = pt +η(x −1) = pt
+η(cid:16)(cid:80) ibt
ij
−1(cid:17)
≤ pt
+η(cid:16)
B
−1(cid:17)
< pt.
j j j j pt j pt j
j j
Then, we consider the largest possible value pt can attain, approaching from below B.
j
Foranypt−1 ≤ B,thenpt = pt−1+η(x −1) ≤
pt−1+η(cid:80) ibt
ij ≤ B+ ηB ≤
(cid:16)
1+ η
(cid:17)
B.
j j j j j pt−1 pt−1 p˜j−2mη
j j
Hence, the lemma follows.
4.2 Quadratic growth of the dual EG objective
To guarantee a fast convergence rate for (sub)gradient descent methods, we need the ob-
jective function to satisfy some form of metric regularity condition. See Karimi et al. [2016,
Appendix A] for a comprehensive comparison of different types of regularity conditions.
10Here, we focus on the strong convexity (SC) and quadratic growth (QG) conditions. A
differentiable convex function f is said to be µ-strongly convex if
µ
f(y) ≥ f(x)+⟨∇f(x),y−x⟩+ ∥y−x∥2 ∀ x,y ∈ dom f. (14)
2
A closed convex function φ is said to have the α-quadratic growth property if
φ(x)−φ(Π (x)) ≥ α∥x−Π (x)∥2 ∀ x ∈ dom φ, (15)
X∗ X∗
where X∗ is the set of the minima of φ. It is easy to see that µ-strong convexity implies
µ-quadratic growth. Next, we show that φ(p) in Eq. (6) satisfies QG.
2
Lemma 4 (Quadratic growth of φ(p)). The convex function
m n (cid:18) (cid:19)
(cid:88) (cid:88) p k
φ(p) = p − B log min
j i
k∈[m] v ik
j=1 i=1
p∗
satisfies the quadratic growth condition with modulus α = min j , where p∗
j (cid:0) (cid:1)2
2 1+ η B2
p˜j−2mη
denotes the unique equilibrium price vector, and p˜is defined in Lemma 1.
Proof. Letp¯ = (1+ η )B denotethepriceupperboundforitemj. First, weconstruct
j p˜j−2mη
an auxiliary function
m m n (cid:18) (cid:19)
h(p) = (cid:88) p −(cid:88)(cid:88) p∗x∗ log p j ,
j j ij v
ij
j=1 j=1 i=1
where (p∗,x∗) is a pair of equilibrium prices and allocations. Since h(p) is strictly convex,
it has a unique minimum. Note that, since ∇ h(p) = 1−p∗ j (cid:80) x∗ = 1−p∗ j for all j ∈ [m],
pj pj i ij pj
by first-order optimality conditions we have that p∗ is the minimum of h(p). Then, we have
m n (cid:18) (cid:19)
(cid:88) (cid:88) p k
φ(p) = p − B log min
j i
k∈[m] v ik
j=1 i=1
m n m (cid:18) (cid:19)
= (cid:88) p −(cid:88)(cid:88) p∗x∗ log min p k ((cid:80)m p∗x∗ = B )
j j ij k∈[m] v ik j=1 j ij i
j=1 i=1 j=1
m m n (cid:18) (cid:19)
≥ (cid:88) p −(cid:88)(cid:88) p∗x∗ log p j = h(p).
j j ij v
ij
j=1 j=1 i=1
11Also, note that
(cid:88)m (cid:88)m
(cid:88)
(cid:18) p∗ (cid:19)
φ(p∗) = p∗− p∗x∗ log min k
j=1 j j=1i:x∗>0 j ij k∈[m] v ik
ij
=
(cid:88)m p∗−(cid:88)m
(cid:88) p∗x∗
log(cid:18)p∗
j
(cid:19)
(x∗ > 0 =⇒ p∗ j = min p∗ k )
j j ij v ij ij vij k∈[m] v ik
j=1 j=1i:x∗>0
ij
= h(p∗).
Since p is upper bounded by p¯, h is strongly convex with modulus µ = min
p∗
j (see Ap-
j p¯2
j
pendix B for derivation). Since strong convexity implies the quadratic growth condition,
we obtain
p∗
h(p)−h(p∗) ≥ min j ∥p−p∗∥2, for all p ≤ p¯.
j
2p¯2
j
Since φ(p) ≥ h(p) for all p, and φ(p∗) = h(p∗) at the unique minimum p∗,
p∗
φ(p)−φ(p∗) ≥ h(p)−h(p∗) ≥ min j ∥p−p∗∥2, for all p ≤ p¯.
j
2p¯2
j
Therefore, φ is a convex function satisfying the QG condition with modulus α = min
p∗
j .
j 2p¯2
j
4.3 Linear Convergence to Approximate Equilibrium
Next we show that tâtonnement converges at a linear rate, due to our results on bounded
prices and quadratic growth. The proof below is typical for subgradient descent methods
undertheseconditions,andweonlyincludeitheretoshowexplicitlyhowlinearconvergence
follows easily from our structural results on tâtonnement and the EG dual.
Theorem 1 (Linear convergence of Tâtonnement in the LFM). Assume that we adjust
prices in the linear Fisher market with Eq. (3), starting from an initial price vector p0 ≥ p˜,
with any stepsize η < 1 min p˜ , where p˜ is defined in Lemma 1. Then, we have
2m j j j
∥pt−p∗∥2 ≤ (1−2ηα)t∥p0−p∗∥2+e, for all t ≥ 0, (16)
where α is defined in Lemma 4 and
ηG2 η (cid:18) B (cid:19)2
e = = +m . (17)
2α 2α min p˜ −2mη
j j
12Proof. Let gt ∈ ∂φ(pt). Since ∂φ(pt) is equal to the excess supply −zt, by Corollary 1 we
have ∥gt∥ = ∥zt∥ ≤ G := B +m. First we derive a descent inequality:
minjp˜j−2mη
∥pt+1−p∗∥2 = ∥ΠRm (cid:0) pt−ηgt(cid:1) −p∗∥2
≥0
≤ ∥pt−ηgt−p∗∥2 (non-expansiveness)
= ∥pt−p∗∥2−2η⟨gt,pt−p∗⟩+η2∥gt∥2
≤ ∥pt−p∗∥2−2η(cid:0) φ(pt)−φ(p∗)(cid:1) +η2G2
(convexity and G-bounded subgradients)
≤ ∥pt−p∗∥2−2ηα∥pt−p∗∥2+η2G2 (Lemma 4)
= (1−2ηα)∥pt−p∗∥2+η2G2. (18)
Equivalently, we have
ηG2 (cid:18) ηG2(cid:19)
∥pt+1−p∗∥2− ≤ (1−2ηα) ∥pt−p∗∥2− . (19)
2α 2α
By induction, we obtain that ∥pt−p∗∥2−e ≤ (1−2ηα)t(cid:0) ∥p0−p∗∥2−e(cid:1) ≤ (1−2ηα)t∥p0−
p∗∥2 where e = ηG2.
2α
Theorem1showsthatthepricevectorpt convergeslinearlytoanϵneighborhoodaround
the equilibrium price vector p∗, where the size of the neighborhood is determined by the
stepsize η. Suppose instead that we want to get arbitrarily close to p∗. Next, we show a
corrolary of Theorem 1 for this case.
Corollary 2 (Time complexity of Tâtonnement in the LFM). For a given ϵ > 0, let
(cid:26) (cid:27)
η ≤ min minjp˜j, 2ϵminjp∗ j . Then, starting from any p0 ≥ p˜such that (cid:80)m p0 = B,
4m 9B2( 2B +m)2 j=1 j
minjp˜j
tâtonnement with stepsize η generates a price vector p such that ∥p−p∗∥2 ≤ ϵ in O(1 log 1)
ϵ ϵ
iterations. If ϵ ≥ 9B2minjp˜j( 2B +m)2, the time complexity is on the order of O(log 1).
8mminjp∗
j
minjp˜j ϵ
Proof. Sinceη ≤ min j′p˜ j′ ≤ p˜j forallj ∈ [m], wehave η ≤ 1 andthusα ≥ 2minjp∗ j.
4m 4m p˜j−2mη 2m 9B2
It follows that
η (cid:18) B (cid:19)2 9ηB2 (cid:18) 2B (cid:19)2 ϵ
e = +m ≤ +m ≤ , (20)
2α min p˜ −2mη 4min p∗ min p˜ 2
j j j j j j
wheretheinequalityfollowsbyη ≤ minjp˜j andthelastequalityfollowsbyη ≤ 2ϵminjp∗ j .
4m 9B2( 2B +m)2
minjp˜j
After t = 1 log 8B2 iterations, we have
2ηα ϵ
8B2 ϵ
tlog(1−2ηα)+log∥p0−p∗∥2 ≤ −2ηα·t+log4B2 = −log +log4B2 = log , (21)
ϵ 2
13where the inequality follows because log(1+x) ≤ x, ∀x > −1 and ∥p0−p∗∥ ≤ 2B. Thus,
by Theorem 1 ∥pt−p∗∥2 ≤ (1−2ηα)t∥p0−p∗∥2+e ≤ ϵ + ϵ = ϵ.
2 2
Since α ≥ 2minjp∗ j, t ≤ 9B2 log(8B2 ). If ϵ is small such that 2ϵminjp∗ j ≤
9B2 4ηminjp∗
j
ϵ 9B2( mi2 nB jp˜j+m)2
minjp˜j, η is of the order O(ϵ), hence the time complexity is of the order O(1 log 1). Other-
4m ϵ ϵ
wise, η is independent of ϵ, hence the time complexity is of the order O(log 1).
ϵ
We note that this last-iterate convergence in p implies an approximate equilibrium.
Theorem 2. For any p such that ∥p−p∗∥ ≤ ϵmin p∗, there exists an allocation x such
j j
that (p,x) constitute an ϵ-approximate equilibrium.
Proof. ∥p − p∗∥ ≤ ϵmin p∗ implies (1 − ϵ)p∗ ≤ p ≤ (1 + ϵ)p∗ for all j. Let x∗ be
j j j j j
any equilibrium allocation associated with p∗. For any i, let x = x∗ if p ≤ p∗ and
ij ij j j
x = (1−ϵ)x∗ otherwise. Then, one can check:
ij ij
i. ⟨v ,x ⟩ ≥ (1−ϵ)⟨v ,x∗⟩ ≥ (1−ϵ)⟨v ,y ⟩ for all y such that ⟨p,y ⟩ ≤ (1−ϵ)B ;
i i i i i i i i i
ii. (cid:80) p x ≤ (cid:80) p∗x∗ +(cid:80) (1+ϵ)p∗·(1−ϵ)x∗ ≤ (cid:80) p∗x∗ = B ;
j j ij j:pj≤p∗
j
j ij j:pj>p∗
j
j ij j j ij i
iii. 1−ϵ ≤ (cid:80) (1−ϵ)x∗ ≤ (cid:80) x ≤ (cid:80) x∗ = 1.
i ij i ij i ij
This shows that (p,x) constitutes an ϵ-approximate equilibrium.
Remark 1. Zamani and Glineur [2023] showed a nearly-optimal last-iterate convergence
rate without regularity conditions. Assuming that the function φ(p) has G-bounded subgra-
dients (i.e. any subgradient g satisfies ∥g∥ ≤ G) and ∥p0 − p∗∥ ≤ R, they show that a
sequence of iterates {pt}T generated by the (projected) subgradient method with a constant
t=0
stepsize √1 satisfies
T
(cid:18) (cid:19)
GR 5 1
φ(pT)−φ(p∗) ≤ √ + logT . (22)
T 4 4
Note that smaller constant stepsizes than √1 do not guarantee the above convergence. As
T
discussed before, for any p0 ∈ Rm such that (cid:80)m p0 = B, we have ∥p0−p∗∥ ≤ ∥p0−p∗∥ ≤
≥0 j=1 j 1
∥p0∥ +∥p∗∥ = 2B. Also, by Corollary 1, we have ∥gt∥ ≤ B +m ≤ 2B +m
1 1 minjp˜j−2mη minjp˜j
for any gt ∈ ∂φ(pt) for all t ≥ 0 if η ≤ minjp˜j. Let G = 2B +m and R = 2B. By
4m minjp˜j
combining our results with the results in Zamani and Glineur [2023], we obtain that after
T = G2R2 log2(cid:0)GR(cid:1) iterations, tâtonnement with stepsize η = √1 = ϵ generates a
ϵ2 ϵ T GRlog(GR)
ϵ
price vector p satisfying φ(p)−φ(p∗) ≤ ϵ, if ϵ ≤ GRmin{e−4, minjp˜j}. See Appendix D.1
m
for a proof for this time complexity result.
14Using the subgradient inequality and our subgradient bound, it is also possible to use
Theorem 1 to directly derive the duality gap convergence rate obtained in Remark 1. Con-
versely, one can apply the quadratic growth condition and the rate in Remark 1 to get a
rate of convergence on ∥pt−p∗∥2, however, this yields a rate of O˜(√1 ), which is worse than
T
the O˜(1) rate in Theorem 1. Moreover, it does not allow one to obtain the linear rate of
T
convergence to a neighborhood of the equilibrium, as in Theorem 1.
4.4 A Non-Convergence Example and Discussion.
Theorem 1 showed linear convergence to a neighborhood of the equilibrium prices, whose
size depends on the stepsize η. Moreover, Corollary 2 showed the complexity for getting
arbitrarily close to the equilibrium prices, but it requires choosing stepsizes accordingly. A
natural question is then whether the last-iterate prices, under a fixed stepsize, converge to
the equilibrium prices metrically or under any norm, i.e., pt → p∗ or ∥pt −p∗∥ → 0. The
non-convergence of tâtonnement under linear utilities has been discussed in previous work,
e.g., Cole and Fleischer [2008, Section 5], Cheung et al. [2019, Section 6], Avigdor-Elgrabli
et al. [2014, Section 6]. Cole and Tao [2019] gives a simple market instance (Example 1
in that paper) showing that a multiplicative form of tâtonnement results in prices cycling
between off-equilibrium prices. Here, we provide a similar, simple instance to demonstrate
the non-convergence of the additive form of tâtonnement Eq. (3) under any stepsize η > 0.
Consider a single buyer with a unit budget and two items with valuations v = v = 0.5.
11 12
The initial prices are chosen as p0 = (0.5,0.5 + η). It can be easily verified that the
equilibrium prices p∗ = (0.5,0.5). For a small η > 0, tâtonnement gives
(cid:40)
(0.5+η,0.5), t = 1,3,5,...
pt =
(0.5,0.5+η), t = 2,4,6,...
and, as can be verified via straightforward calculations, p2t+1 → 0.5, p2t → 0.5+η.
1 1
5 Tâtonnement in Quasi-linear Fisher markets
As a natural extension of the linear Fisher market, the quasi-linear Fisher market (QLFM)
considers buyers who have outside value for money. Formally, given a set of prices p =
{p } ≥ 0 on all items, the demand of buyer i is
j j∈[m]
Dq(p) = argmax{⟨v −p,x ⟩ : ⟨p,x ⟩ ≤ B , x ≥ 0}.
i i i i i i
xi
In the QLFM, if the price for every item is greater than the value to the buyer, the buyer
prefers not to spend her money. Thus, unlike for LFM, buyers may not spend all their
money in equilibrium. However, as in LFM, buyers only spend money on their MBB items,
and the market clears in equilibrium.
15Recently, there has been increasing interest in the QL Fisher market, due to its relation
to budget management in internet advertising markets. Conitzer et al. [2022] showed that
the first price pacing equilibrium (FPPE) concept, which captures steady-state outcomes
of typical budget pacing algorithms for a first-price auction setting, is equivalent to market
equilibrium in the QLFM. Consequently, FPPE can be computed efficiently by solving
EG-like convex programs.
As shown in Chen et al. [2007], Devanur et al. [2016], market equilibria in the QLFM
can be captured by the following pair of EG-like primal and dual problems:
max (cid:88) (B ilogu i−y i) (cid:12) (cid:12) min (cid:88) p −(cid:88) B logβ
x∈Rn ≥× 0m,u,y∈Rn
≥0
i (cid:12)
(cid:12)
β∈Rn ≥0,p∈Rm
≥0
j j i i i
(cid:12)
s.t. u i ≤ ⟨v i,x i⟩+y i ∀i ∈ [n] (cid:12) (cid:12) s.t. v ijβ i ≤ p j ∀i ∈ [n],j ∈ [m]
(cid:88) (cid:12)
x ij ≤ 1 ∀j ∈ [m] (cid:12) β i ≤ 1 ∀i ∈ [n].
i
Equivalence between tâtonnement and SubGD. Similar to Eq. (1), the dual problem
can be expressed as minimizing a max-type nonsmooth convex function
 
n m m
(cid:88) (cid:88) (cid:88)
φq(p) = max B ilog(⟨v i,x i⟩+y i)−y i− p jx ij+ p j. (23)
x,y≥0
i=1 j=1 j=1
Bythefirst-orderoptimalityconditions,wehavethatforanyp,anymaximizerx¯oftheinner
maximizationproblemcorrespondstoasetofdemandsunderpricep,andthecorresponding
maximizer y¯ denotes leftover budgets under p. Since any subgradient of φq(p) is given by
1−(cid:80)n x¯ , the subgradient equals the excess supply under price p.
i=1 i
By KKT conditions, the EG dual problem for QLFM can be simplified as
m n (cid:18) (cid:26) (cid:27)(cid:19)
min φq(p) = (cid:88) p −(cid:88) B log min min p k ,1 . (24)
j i
p∈Rm ≥0 j=1 i=1 k∈[m] v ik
Again, the two expressions for φq(p) only differ by a constant. Thus, we have ∂φq(p) =
−zq(p) for any p. Consequently, tâtonnement in the QLFM is equivalent to SubGD
on Eq. (24). See Appendix A for a direct derivation of this equivalence in terms of φq(p).
Convergence analysis. First, we show that the tâtonnement process in the QLFM gen-
erates a sequence of prices with lower and upper bounds, as long as the stepsize is not too
large. Lower bounds on prices in the QLFM can be obtained almost identically to how we
prove Lemma 1 since QLFM behaves the same as LFM when the price is small. Before
showing the lemma, we introduce some notation. Recall that, given an item j, we use bbb(j)
to denote the buyer with the minimum index such that
v
bbb(j) ∈ Argmax ij .
∥v ∥
i i ∞
We denote v = min v .
min j bbb(j)j
16Lemma 5 (Lower bounds of prices in the QLFM). Let pˆbe an m-dimensional price vector
where
(cid:26) (cid:27)
B v v
pˆ = min min , min max ij , for all j ∈ [m]. (25)
j
4m 2 i ∥v i∥ ∞
Assume that we adjust prices in the QLFM with Eq. (3), starting from any initial price
p0 ≥ pˆ, with any stepsize η < 1 min pˆ . Then, pt ≥ pˆ −2mη for all j ∈ [m] and t ≥ 0.
2m j j j j
Proof. As in the proof of Lemma 1, we can show two facts analogous to Facts 1 and 2.
Moreover, pˆ < v max vij ≤ v guarantees buyer bbb(j) wants to spend all her
money if p ≤j pˆ . Omi tn her pai r∥ tv si∥ o∞f the pbbb r( oj) oj f are analogous to the proof of Lemma 1.
j j
The complete proof Lemma 5 and all other omitted proofs for this section is in Ap-
pendix D. Completely analogously to the LFM case, we now get the following results.
Corollary 3 (Upper bounds of demands in the QLFM). Assume that we adjust prices in
the QLFM using Eq. (3), with p0 ≥ pˆ and η < 1 min pˆ . Let z(pt) be the excess demand
2m j j
vector at time step t. Then, ∥z(pt)∥ ≤ B +m.
minjpˆj−2mη
Lemma 6 (Upper bounds of prices in the QLFM). Assume that we adjust prices in the
QLFM using Eq. (3), with p0 ≥ pˆ and η < 1 min pˆ , where pˆ is defined in Lemma 5.
2m j j j
Then, pt ≤ p¯ := min{max v ,B}+ ηB for all j ∈ [m] and t ≥ 0.
j j i ij pˆj−2mη
Next, we show that φq(p) also satisfies QG, by considering an auxiliary function hq(p)
analogous to h(p) in the proof of Lemma 4.
Lemma 7 (Quadratic growth of φq(p)). The convex function φq(p) satisfies quadratic
p∗
growth condition with modulus α = min j , where p∗ denotes the
j (cid:0) (cid:1)2
2 min{maxivij,B}+ pˆj−ηB
2mη
unique equilibrium price vector and pˆis defined in Lemma 5.
Proof. Let (p∗,x∗,y∗) be a market equilibrium in the QLFM and
m n m (cid:18) (cid:19)
hq(p) = (cid:88) p −(cid:88)(cid:88) p∗x∗ log p j . (26)
j j ij v
ij
j=1 i=1 j=1
By KKT conditions of the EG-like primal and dual problems for QLFM, we have ⟨p∗,x∗⟩+
i
y∗ = B and y∗ > 0 implies min p k ≥ 1 for all i ∈ [n]. Thereby, we have
i i i k∈[m] v
ik
 
m n m (cid:18) (cid:26) (cid:27)(cid:19)
φq(p) = (cid:88) p
j
−(cid:88) (cid:88) p∗ jx∗
ij
+y i∗ log min km ∈[i mn
]
vp ik k,1
j=1 i=1 j=1
m n m (cid:18) (cid:26) (cid:27)(cid:19) (cid:18) (cid:26) (cid:27)(cid:19)
= (cid:88) p −(cid:88)(cid:88) p∗x∗ log min min p k ,1 −(cid:88) y∗log min min p k ,1
j j ij k∈[m] v ik i k∈[m] v ik
j=1 i=1 j=1 i
m n m (cid:18) (cid:26) (cid:27)(cid:19)
= (cid:88) p −(cid:88)(cid:88) p∗x∗ log min min p k ,1 ≥ hq(p). (27)
j j ij k∈[m] v ik
j=1 i=1 j=1
17Also, φq(p∗) = hq(p∗) since x∗ > 0 implies p∗ j = min p∗ k ≤ 1. Analogous to the LFM
ij vij k∈[m] v
ik
case, ∇ hq(p) = 1− p∗ j (cid:80)n x∗ = 1− p∗ j for all j ∈ [m], thus p = p∗ is the minimizer of
pj pj i=1 ij pj
hq(p). Therefore, φq(p)−φq(p∗) ≥ hq(p)−hq(p∗) ≥ α∥p−p∗∥2, where α = min
p∗
j .
j 2p¯2
j
Based on the above results, we conclude a linear convergence rate and corresponding
time complexity.
Theorem 3 (Linear convergence of tâtonnement in the QLFM). Assume that we adjust
prices in the QLFM with Eq. (3), starting from any initial price p0 ≥ pˆ, with stepsize
η < 1 min pˆ , where pˆ is defined in Lemma 5. Then, we have
2m j j j
∥pt−p∗∥2 ≤ (1−2ηα)t∥p0−p∗∥2+e for all t ≥ 0, (28)
where α is defined in Lemma 7 and
ηG2 η (cid:18) B (cid:19)2
e = = +m .
2α 2α min pˆ −2mη
j j
Corollary 4 (Time complexity of Tâtonnement in the QLFM). For a given ϵ > 0, let
(cid:26) (cid:27)
η ≤ min minjpˆj, 2ϵminjp∗ j . Then, starting from any p0 ≥ pˆ such that (cid:80) p0 = B,
4m 9B2( 2B +m)2 j j
minjpˆj
tâtonnement with stepsize η generates a price vector p such that ∥p−p∗∥2 ≤ ϵ in O(1 log 1)
ϵ ϵ
iterations. If ϵ ≥ 9B2minjpˆj( 2B +m)2, the time complexity is on the order of O(log 1).
8mminjp∗
j
minjpˆj ϵ
6 Numerical Experiments
In this section, we demonstrate the convergence of tâtonnement for various market settings
through numerical experiments. We generate random market instances of various sizes for
linear and quasilinear utilities and study the convergence of the tâtonnement prices toward
equilibriumprices. Tocomputethe“true” equilibriumprices,werunProportionalResponse
(PR) dynamics [Zhang, 2011] for LFM, and the quasi-linear variant of PR [Gao and Kroer,
2020], which gives highly accurate solutions for our simple instances.
We use the squared error norm, ∥pt −p∗∥2, as the measure of convergence. For each
market class, instance size, and step size, we run tâtonnement for a large number of itera-
tions until the error residuals do not decrease further. In all instances, we run tâtonnement
starting with p0 = 1 for all j ∈ [m], where m is the number of items. We set the number
j m
of buyers and items to be 10,20,30,40 and 20,40,60,80, respectively.
18Linear, n=10, m=20 Linear, n=20, m=40
102
eta=2.00e-05 eta=2.00e-05
103 eta=4.00e-05 103 eta=4.00e-05
eta=6.00e-05 eta=6.00e-05
104 104
105 105
106 106
107
107
108
0 5000 1000015000200002500030000 0 2000 4000 6000 8000 10000
Iteration t Iteration t
Linear, n=30, m=60 Linear, n=40, m=80
103 eta=2.00e-05 103 eta=2.00e-05
eta=4.00e-05 eta=4.00e-05
104 eta=6.00e-05 104 eta=6.00e-05
105 105
106 106
107
107
0 1000 2000 3000 4000 5000 0 1000 2000 3000 4000
Iteration t Iteration t
Figure 1: Convergence of squared error norms on random generated instances of different
sizes under linear utilities.
QL, n=10, m=20 QL, n=20, m=40
101 eta=2.00e-05 101 eta=2.00e-05
eta=4.00e-05 eta=4.00e-05
eta=6.00e-05
102
eta=6.00e-05
103 103
104
105
105
107
106
107
0 100002000030000400005000060000 0 10000 20000 30000 40000
Iteration t Iteration t
QL, n=30, m=60 QL, n=40, m=80
101 eta=2.00e-05 101 eta=2.00e-05
eta=4.00e-05 eta=4.00e-05
102 eta=6.00e-05 102 eta=6.00e-05
103 103
104 104
105
105
106
106
0 5000 1000015000200002500030000 0 5000 10000 15000 20000
Iteration t Iteration t
Figure 2: Convergence of squared error norms on random generated instances of different
sizes under quasi-linear utilities.
Convergence to equilibrium prices under different stepsizes. In Fig. 1 we plot the
squared error norms ∥pt−p∗∥2 across iterations for different LFM instance sizes. For each
19
2||*p
tp||
2||*p
tp||
2||*p
tp||
2||*p
tp||
2||*p
tp||
2||*p
tp||
2||*p
tp||
2||*p
tp||Linear, n=10, m=20 Linear, n=20, m=40
eta=2.00e-05 eta=2.00e-05
104
103
6×105
4×105
6×104 3×105
2×105
1000 1200 1400 1600 1800 2000 1000 1200 1400 1600 1800 2000
Iteration t Iteration t
Linear, n=30, m=60 Linear, n=40, m=80
105
eta=2.00e-05 eta=2.00e-05
105
106 106
1000 1200 1400 1600 1800 2000 1000 1200 1400 1600 1800 2000
Iteration t Iteration t
Figure3: Linearconvergenceofsquarederrornormsintheinitialtimestepsoftâtonnement
under linear utilities. All settings are the same as the corresponding plots in Fig. 1.
size, we test tâtonnement on a randomly generated instance: we draw budgets {B }
i i∈[n]
from the [0,1] uniform distribution and valuations {v } from the exponential
i,j i∈[n],j∈[m]
distibution with scale 1, and then normalize them to ∥B∥ = 1 and ∥v ∥ = 1 for each
1 i 1
i. Note that the y-axes are log-scaled. We compare the convergence of tâtonnement with
three stepsizes: 2×10−5,4×10−5,6×10−5. The transparent dotted lines represent the
values of ∥pt −p∗∥2 for all iterations and the solid lines represent those values for equally
sampled iterations. The corresponding plots for QL utilities are in Fig. 2.
Linearconvergence. Forthesameexperimentsettings,wezoomintotheinitialtimesteps
of tâtonnement in Figs. 3 and 4. For each instance size, we only plot the line corresponding
to stepsize 2×10−5 since "straight line" sections corresponding to different stepsizes are
vastly different and don’t share time windows.
Discussion. As can be seen from Figs. 1 and 2, under both linear utilities and quasi-linear
utilities, for each instance size, tâtonnement with all three stepsizes (2×10−5,4×10−5,6×
10−5)leadtoconvergenceoftâtonnementtosmallneighborhoodsofthemarketequilibrium.
Moreover,largerstepsizesleadtofasterinitialconvergenceratesbuthigherfinalerrorlevels.
Thisisconsistentwithourtheoreticalresults: whenη ≪ min p˜ −2mη, thenα ≈ min
p∗
j
j j j 2B2
is approximately a constant, thus 1−2ηα linearly decreases as η increases; and the final
(cid:16) (cid:17)2
error level e ≈ B2 η B +m increases as η increases.
minjp∗
j
minjp˜j−2mη
As can be seen from Figs. 3 and 4, before oscillating around the final error levels, the
linescorrespondingtostepsize2×10−5 exhibitanapproximatelylinearconvergencepattern.
20
2||*p
tp||
2||*p
tp||
2||*p
tp||
2||*p
tp||QL, n=10, m=20 QL, n=20, m=40
5×102 eta=2.00e-05 eta=2.00e-05
6×103
4×102
4×103
3×102 3×103
2×103
1000 1200 1400 1600 1800 2000 1000 1200 1400 1600 1800 2000
Iteration t Iteration t
QL, n=30, m=60 QL, n=40, m=80
4×103
eta=2.00e-05 eta=2.00e-05
6×104
3×103
2×103
4×104
3×104
1000 1200 1400 1600 1800 2000 1000 1200 1400 1600 1800 2000
Iteration t Iteration t
Figure4: Linearconvergenceofsquarederrornormsintheinitialtimestepsoftâtonnement
under quasi-linear utilities. All settings are the same as the corresponding plots in Fig. 2.
This demonstrates that our linear convergence results align with the practical performance
of tâtonnement. That is to say, by considering the quadratic growth property of the convex
potential function φ(p), we discover the “true” underlying convergence rate of tâtonnement
prior to hitting the oscillating neighborhood.
21
2||*p
tp||
2||*p
tp||
2||*p
tp||
2||*p
tp||Acknowledgements
This research was supported by the Office of Naval Research awards N00014-22-1-2530
and N00014-23-1-2374, and the National Science Foundation awards IIS-2147361 and IIS-
2238960.
References
Kenneth J Arrow and Gerard Debreu. Existence of an equilibrium for a competitive econ-
omy. Econometrica: Journal of the Econometric Society, pages 265–290, 1954.
Kenneth J Arrow, Henry D Block, and Leonid Hurwicz. On the stability of the competitive
equilibrium, ii. Econometrica: Journal of the Econometric Society, pages 82–109, 1959.
Noa Avigdor-Elgrabli, Yuval Rabani, and Gala Yadgar. Convergence of tatonnement in
fisher markets. arXiv preprint arXiv:1401.6637, 2014.
MosheBabaioff,NoamNisan,andInbalTalgam-Cohen. Fairallocationthroughcompetitive
equilibrium from generic incomes. In FAT, page 180, 2019.
MohammadHosseinBateni,YiweiChen,DragosCiocan,andVahabMirrokni. Fairresource
allocation in a volatile marketplace. Available at SSRN 2789380, 2018.
Benjamin Birnbaum, Nikhil R Devanur, and Lin Xiao. Distributed algorithms via gradient
descent for fisher markets. In Proceedings of the 12th ACM conference on Electronic
commerce, pages 127–136. ACM, 2011.
LihuaChen,YinyuYe,andJiaweiZhang. Anoteonequilibriumpricingasconvexoptimiza-
tion. In International Workshop on Web and Internet Economics, pages 7–16. Springer,
2007.
Yun Kuen Cheung. Analyzing tatonnement dynamics in economic markets. PhD thesis,
New York University, 2014.
Yun Kuen Cheung, Richard Cole, and Ashish Rastogi. Tatonnement in ongoing markets
of complementary goods. In Proceedings of the 13th ACM Conference on Electronic
Commerce, pages 337–354, 2012.
Yun Kuen Cheung, Richard Cole, and Nikhil Devanur. Tatonnement beyond gross sub-
stitutes? gradient descent to the rescue. In Proceedings of the forty-fifth annual ACM
symposium on Theory of computing, pages 191–200, 2013.
Yun Kuen Cheung, Richard Cole, and Nikhil R Devanur. Tatonnement beyond gross sub-
stitutes? gradient descent to the rescue. Games and Economic Behavior, 2019.
22Bruno Codenotti, Benton McCune, and Kasturi Varadarajan. Market equilibrium via the
excess demand function. In Proceedings of the thirty-seventh annual ACM symposium on
Theory of computing, pages 74–83, 2005.
Richard Cole and Lisa Fleischer. Fast-converging tatonnement algorithms for one-time and
ongoing market problems. In Proceedings of the fortieth annual ACM symposium on
Theory of computing, pages 315–324, 2008.
Richard Cole and Yixin Tao. Balancing the robustness and convergence of tatonnement.
arXiv preprint arXiv:1908.00844, 2019.
RichardCole,NikhilRDevanur,VasilisGkatzelis,KamalJain,TungMai,VijayVVazirani,
and Sadra Yazdanbod. Convex program duality, fisher markets, and Nash social welfare.
In 18th ACM Conference on Economics and Computation, EC 2017. Association for
Computing Machinery, Inc, 2017.
Vincent Conitzer, Christian Kroer, Debmalya Panigrahi, Okke Schrijvers, Nicolas E Stier-
Moses, Eric Sodomka, and Christopher A Wilkens. Pacing equilibrium in first price
auction markets. Management Science, 68(12):8515–8535, 2022.
ConstantinosDaskalakis,PaulWGoldberg,andChristosHPapadimitriou. Thecomplexity
of computing a Nash equilibrium. SIAM Journal on Computing, 39(1):195–259, 2009.
Nikhil R Devanur, Kamal Jain, Tung Mai, Vijay V Vazirani, and Sadra Yazdanbod.
New convex programs for fisher’s market model and its generalizations. arXiv preprint
arXiv:1603.01257, 2016.
Lisa Fleischer, Rahul Garg, Sanjiv Kapoor, Rohit Khandekar, and Amin Saberi. A fast
and simple algorithm for computing market equilibria. In Internet and Network Eco-
nomics: 4th International Workshop, WINE 2008, Shanghai, China, December 17-20,
2008. Proceedings 4, pages 19–30. Springer, 2008.
Yuan Gao and Christian Kroer. First-order methods for large-scale market equilibrium
computation. In Neural Information Processing Systems 2020, NeurIPS 2020, 2020.
Yuan Gao, Christian Kroer, and Alex Peysakhovich. Online market equilibrium with ap-
plication to fair division. arXiv preprint arXiv:2103.12936, 2021.
Denizalp Goktas, Enrique Areyan Viqueira, and Amy Greenwald. A consumer-theoretic
characterization of fisher market equilibria. In International Conference on Web and
Internet Economics, pages 334–351. Springer, 2021.
Denizalp Goktas, Jiayi Zhao, and Amy Greenwald. Tâtonnement in homothetic fisher
markets. In Proceedings of the 24th ACM Conference on Economics and Computation,
EC’23, pages 760–781, 2023. ISBN 9798400701047.
23Patrick R Johnstone and Pierre Moulin. Faster subgradient methods for functions with
hölderian growth. Mathematical Programming, 180(1):417–450, 2020.
Leonid Kantorovich. Mathematics in economics: achievements, difficulties, perspectives.
Technical report, Nobel Prize Committee, 1975.
Hamed Karimi, Julie Nutini, and Mark Schmidt. Linear convergence of gradient and
proximal-gradient methods under the polyak-łojasiewicz condition. In Machine Learning
and Knowledge Discovery in Databases: European Conference, pages 795–811. Springer,
2016.
Christian Kroer, Alexander Peysakhovich, Eric Sodomka, and Nicolas E Stier-Moses. Com-
puting large market equilibria using abstractions. In Proceedings of the 2019 ACM Con-
ference on Economics and Computation, pages 745–746, 2019.
Christian Kroer, Alexander Peysakhovich, Eric Sodomka, and Nicolas E Stier-Moses. Com-
puting large market equilibria using abstractions. Operations Research, 2021.
Angelia Nedić and Dimitri Bertsekas. Convergence rate of incremental subgradient algo-
rithms. Stochastic optimization: algorithms and applications, pages 223–264, 2001.
Abraham Othman, Tuomas Sandholm, and Eric Budish. Finding approximate competitive
equilibria: efficient and fair course allocation. In AAMAS, volume 10, pages 873–880,
2010.
Herbert Scarf et al. On the computation of equilibrium prices. Number 232. Cowles Foun-
dation for Research in Economics at Yale University New Haven, CT, 1967.
Léon Walras. Eléments d’économie pure. Economica, 1874.
Moslem Zamani and François Glineur. Exact convergence rate of the last iterate in subgra-
dient methods. arXiv preprint arXiv:2307.11134, 2023.
Li Zhang. Proportional response dynamics in the fisher market. Theoretical Computer
Science, 412(24):2691–2698, 2011.
24A Direct equivalence between Tâtonnement and SubGD on
CPF
In this section, we show a direct equivalence between tâtonnement process described in the
main texts, without considering the first-order optimality of the EG-like programs.
Lemma 8. Let
f(x) = mina⊤x+b .
j j
j
Then, the subdifferential of f(x) is
(cid:18)(cid:26) (cid:12) (cid:27)(cid:19)
∂f(x) = conv a j∗(cid:12) (cid:12)a⊤ j∗x+b
j∗
= mina⊤
j
x+b
j
. (29)
(cid:12) j
Linear Fisher market. Denote 1 is an m-dimensional vector whose j-th entry is 1
vij vij
and all other entries are 0. Let ϕ (p) = min pj = min 1 ⊤ p. Denote J∗(p) =
(cid:110) (cid:12) (cid:111)
i j∈[m] vij j∈[m] vij i
j∗(cid:12) p j∗ = min pj . It follows that
(cid:12) v ij∗ j∈[m] vij
 (cid:12) 
∂ϕ i(p) = conv(cid:32)(cid:40) v1 (cid:12) (cid:12) (cid:12) (cid:12)j ∈ J i∗(p)(cid:41)(cid:33) = (cid:18) λ vi1 ,..., λ vim(cid:19)(cid:12) (cid:12) (cid:12) (cid:12)(cid:88)m λ ij = 1,λ ij ≥ 0,λ ij = 0 if j ∈/ J i∗(p) .
ij(cid:12)  i1 im 
(cid:12)j=1
Because φ = (cid:80) p −(cid:80) B logϕ (p), by the chain rule of subgradient methods we have
j j i i i
(cid:88) B i
∂φ(p) = 1− ∂ϕ (p)
i
ϕ (p)
i
i
 (cid:12) 
= 1−(cid:88) ϕB (pi
)
(cid:18) vλ 1 ,..., vλ m(cid:19)(cid:12) (cid:12) (cid:12) (cid:12)(cid:88)m λ j = 1,λ j ≥ 0,λ j = 0 if j ∈/ J i∗(p) . (30)
 i i1 im 
i (cid:12)j=1
Note that B λ = b and ϕ (p)v = p for j ∈ J∗(p). Thus, ∂φ(p) is equivalent to the
i ij ij i ij j i
excess supply (negative excess demand).
Quasi-linear Fisher market. Let a be an m-dimensional zero vector and a = 1
i0 ij v
ij
(cid:110) (cid:111)
for j ∈ [m]. Let b = 1 if b = 0 for j ∈ [m]. Let ϕq(p) = min min pj ,1 =
i0 ij i j∈[m] vij
(cid:110) (cid:12) (cid:111)
min a⊤p + b . Denote J∗(p) = j∗(cid:12)a⊤ p+b = min a⊤p+b .
j=0,1,2,...,m ij ij i (cid:12) ij∗ ij∗ j=0,1,2,...,m ij ij
Here, 0 ∈ J∗(p) means “do not spend money” is an optimal choice. It follows that
i
 (cid:12) 
∂ϕq i(p) = conv(cid:0)(cid:8) a ij(cid:12) (cid:12)j ∈ J i∗(p)(cid:9)(cid:1) = (cid:18) λ vi1 ,..., λ vim(cid:19)(cid:12) (cid:12) (cid:12) (cid:12)(cid:88)m λ ij ≤ 1,λ ij ≥ 0;λ ij = 0 if j ∈/ J i∗(p) .
 i1 im 
(cid:12)j=1
25Because φq = (cid:80) p − (cid:80) B logϕ (p), by the chain rule of subgradient methods we
j j i i i
have
∂φq(p) = 1−(cid:88) B i ∂ϕq(p)
ϕq(p) i
i i
 (cid:12) 
= 1−(cid:88) ϕqB (i
p)
(cid:18) vλ 1 ,..., vλ m(cid:19)(cid:12) (cid:12) (cid:12) (cid:12)(cid:88)m λ j ≤ 1,λ j ≥ 0,λ j = 0 if j ∈/ J i∗(p) . (31)
i  i i1 im (cid:12)j=1 
Note that B λ = b and ϕq(p)v = p for j ∈ [m]∩J∗(p). Thus, ∂φq(p) is equivalent
i ij ij i ij j i
to the excess supply (negative excess demand).
B Strong convexity of h
In this section, we compute the Hessian matrix of h(p) and then determine the strong
convexity modulus of h(p). First, note that
(cid:18) (cid:19)
h(p) = (cid:88) p −(cid:88)(cid:88) p∗x∗ log p j
j j ij v
ij
j j i
(cid:32) (cid:33)
(cid:88) (cid:88) (cid:88) (cid:88)
= p − p∗ x∗ logp − x∗ logv
j j ij j ij ij
j j i i
(cid:32) (cid:33)
(cid:88) (cid:88) (cid:88)
= p − p∗ logp − x∗ logv
j j j ij ij
j j i
(cid:88) (cid:88)(cid:88)
= (p −p∗logp )− p∗x∗ logv .
j j j j ij ij
j i j
It follows that the Hessian matrix
p∗ 
1 0 ··· 0
p2
 01 p∗
2 ··· 0

 p∗
∇2h(p) =  

. .
.
p . . .2 2 ... . .
.
 

⪰ m jin p¯j 2
j
I, (32)
 
p∗
0 0 ··· m
p2
m
where I denotes the m-dimensional identity matrix. Equivalently, h(p) is strongly convex
with modulus µ = min
p∗
j. The strong convexity modulus of hq(p) can be computed in the
j p¯2
same way. j
26ALGORITHM 1: Tâtonnement for the quasi-linear Fisher market
Input: initial price vector p0
for t=0,1,... do
xt ←0 for all j;
j
for i=1,2,...,n do
J(i)=Argmax vij;
j∈[m] pt
j (cid:80)
Set b ≥0∀j ∈J(i) such that b =B ;
ij j∈J(i) ij i
xt ←xt + bij for j ∈J(i);
j j pt
j
pt+1 =pt +η(xt −1) for all j;
j j j
ALGORITHM 2: Tâtonnement for the quasi-linear Fisher market
Input: initial price vector p0
for t=0,1,... do
xt ←0 for all j;
j
for i=1,2,...,n do
if max vij >1 then
j∈[m] pt
J(i)=Argj max vij;
j∈[m] pt
j (cid:80)
Set b ≥0∀j ∈J(i) such that b =B ;
ij j∈J(i) ij i
xt ←xt + bij for j ∈J(i);
j j pt
j
pt+1 =pt +η(xt −1) for all j;
j j j
C Algorithms
In this section, we show how to implement the discrete-time tâtonnement process in the
linear Fisher market and the quasi-linear Fisher market. See Algorithms 1 and 2.
D Omitted proofs in Sections 4 and 5
D.1 Proof of the time complexity result in Remark 1.
Since ϵ ≤ GRmin{e−4, minjp˜j}, we have log(GR) ≥ 4 and ϵ ≤ minjp˜j. Thus,
m ϵ GR m
1 ϵ min p˜
η = √ = ≤ j j . (33)
T GRlog(GR) 4m
ϵ
27By Corollary 1, we have ∥gt∥ ≤ G for any gt ∈ ∂φ(pt) for all t ≥ 0. By Eq. (22), we have
that after T iterations,
(cid:18) (cid:19)
GR 5 1
φ(pT)−φ(p∗) ≤ √ + logT
T 4 4
5 + 1 log(GR)+ 1 loglog(GR)
≤ ϵ4 2 ϵ 2 ϵ
log(GR)
ϵ
(cid:18) (cid:19)
5 1 1
≤ ϵ + + ≤ ϵ, (34)
16 2 2e
where the third inequality follows by log(GR) ≥ 4 and logx ≤ 1 for all x > 0.
ϵ x e
D.2 Proof of Lemma 5.
Lemma 9. Let pˆbe an m-dimensional price vector where
(cid:26) (cid:27)
B v v
pˆ = min min , min max ij , for all j ∈ [m]. (35)
j
4m 2 i ∥v i∥ ∞
Assume that we adjust prices in the quasi-linear Fisher market using Eq. (3), with any
initial price p0 ≥ pˆ and stepsize η < 1 min pˆ . Then, pt ≥ pˆ −2mη for all j ∈ [m] and
2m j j j j
t ≥ 0.
First, analogous to the proof of Lemma 1, we can show the following two facts. Recall
that buyer bbb(j) is defined as the buyer with the minimum index such that
v
bbb(j) ∈ Argmax ij . (36)
∥v ∥
i i ∞
Fact 3. For any two items j,j′ ∈ [m], if p ≤ pˆ and item j′ is demanded by buyer j, then
j j
p ≤ pˆ .
j′ j′
(cid:110) (cid:111) (cid:110) (cid:111)
Proof. We denote κ′ = min Bmin,v = min miniBi,min v for simplicity. Since
4m min 4m j bbb(j)j
buyer j demands item j′, we have p ≤ v bbb(j)j′p . Then, it follows that
j′ v j
bbb(j)j
p ≤ v bbb(j)j′ p ≤ v bbb(j)j′ pˆ byE =q.(25) v bbb(j)j′ κ′max v ij
j′ j j
v bbb(j)j v bbb(j)j v bbb(j)j i ∥v i∥ ∞
v v
byE =q.(8) bbb(j)j′ κ′ bbb(j)j
v ∥v ∥
bbb(j)j bbb(j) ∞
v v
= κ′ bbb(j)j′ ≤ κ′max ij′ = pˆ . (37)
j′
∥v bbb(j)∥ ∞ i ∥v i∥ ∞
28Fact 4. Let t ≥ 0 be any time step. For any item j, if pt ≤ pˆ for t ≤ t ≤ t +2m−1,
j j j j j
and ptj ≥ pˆ −2mη for all j′ ̸= j. Then,
j′ j′
tj+2m−1
(cid:88)
bt ≤ 2B for all j′ ̸= j. (38)
bbb(j)j′ bbb(j)
t=tj
Proof. Weprovethisfactbycontradiction. Supposethat, attimesteptˆ≤ t +2m−1, item
j
j′ receives more than 2B spend from buyer bbb(j) cumulatively for the first time. Then
bbb(j)
we have (cid:80)tˆ−1 bt ≤ 2B < (cid:80)tˆ bt . Since item j′ receives a spend of at most
t=tj bbb(j)j′ bbb(j) t=tj bbb(j)j′
B from buyer bbb(j) per iteration, we have (cid:80)tˆ−1 bt > B . By Fact 3 and pt ≤ pˆ
bbb(j) t=tj bbb(j)j′ bbb(j) j j
for t ≤ t ≤ t +2m−1, we know pt ≤ pˆ for t ≤ t ≤ t +2m−1 such that bt > 0.
j j j′ j′ j j bbb(j)j′
Thus, (cid:80) ttˆ =− t1 j b bbbt p(j t j) ′j′ ≥ (cid:80) ttˆ =− t1 j b bbt b pˆ(j j) ′j′ ≥ 4 Bm j (cid:80)t tˆ− =1 tj b bbt b(j)j′ > 4m, because pˆ j′ ≤ B 4m min ≤ B 4bbb m(j) and
(cid:80)tˆ−1 bt > B . This leads to
t=tj bbb(j)j′ bbb(j)
tˆ−1 bt
ptˆ ≥ ptj +η(cid:88)(cid:0) bbb(j)j′ −1(cid:1) > ptj +4mη−(2m−1)η = ptj +(2m+1)η ≥ pˆ +η. (39)
j′ j′ pt j′ j′ j′
t=tj j′
This contradicts ptˆ ≤ pˆ , which follows from Fact 3 and btˆ > 0.
j′ j′ bbb(j)j′
Now we are ready to prove Lemma 5.
Proof. We suppose that there exists a T = min(cid:8) t(cid:12) (cid:12)pt
j
< pˆ
j
− 2mη for some j(cid:9) < ∞,
otherwise we are done. In words, T is the first time that some item j’s price goes below
pˆ −2mη. For each item j such that pT < pˆ −2mη, we let t < T be the last time that its
j j j j
price went from above pˆ to below pˆ . It follows that pt ≤ pˆ for t ≤ t ≤ T. Since the price
j j j j j
decreases by at most η per iteration, T ≥ t +2m, and thus pt ≤ pˆ for t ≤ t ≤ t +2m.
j j j j j
Note that, by definition of T, ptj ≥ pˆ −2mη for all j′ ̸= j.
j′ j′
By Fact 4, since pt ≤ pˆ for t ≤ t ≤ t + 2m and ptj ≥ pˆ − 2mη for all j′ ̸= j,
j j j j j′ j′
we have (cid:80) (cid:80)tj+2m−1 bt ≤ 2(m − 1)B . Since pt ≤ pˆ ≤ vmin < v from
j′̸=j t=tj bbb(j)j′ bbb(j) j j 2 bbb(j)j
t to t + 2m − 1, the total spend from buyer bbb(j) equals to 2mB . Hence, we have
j j bbb(j)
(cid:80)tj+2m−1 bt ≥ 2B . Thereby, we have
t=tj bbb(j)j bbb(j)
ptj+2m
≥
ptj
+ηtj+ (cid:88)2m−1 (cid:16)b bbt
b(j)j
−1(cid:17)
≥
ptj
+ηtj+ (cid:88)2m−1 b bbt
b(j)j
−2mη
j j pt j pˆ
t=tj j t=tj j
≥
ptj
+8mη−2mη
j
≥ pˆ +(6m−1)η, (40)
j
29where the first inequality follows because total demand across buyers is lower bounded by
demand from buyer bbb(j), the second inequality follows from pt ≤ pˆ for t ≤ t ≤ t +2m,
j j j j
the third inequality follows from pˆ ≤ B bbb(j) and (cid:80)tj+2m−1 bt ≥ 2B , and the last
j 4m t=tj bbb(j)j bbb(j)
inequality follows from ptj ≥ pˆ −η since the price decreases by at most η per iteration.
j j
Therefore, Eq. (40) contradicts ptj+2m ≤ pˆ and thus T < ∞ does not exist. By
j j
contradiction, we can conclude pt ≥ pˆ −2mη for all j and all t ≥ 0.
j j
D.3 Proof of Corollary 3
Proof. Let bt be the spend from buyer i for item j at time step t, then we have
ij
∥z(pt)∥ ≤ ∥z(pt)∥ =
(cid:88)m
|z (pt)| ≤
(cid:88)m (cid:16)(cid:80)n i=1bt
ij
+1(cid:17)
≤
B
+m, (41)
1 j pt min pˆ −2mη
j=1 j=1 j j j
where the last inequality follows because pt ≥ min pˆ −2mη for all j and (cid:80)m (cid:80)n bt ≤
j j j j=1 i=1 ij
B.
D.4 Proof of Lemma 6.
Proof. If at time step t, pt > min{max v ,B}, then the price of item j has to decrease
j i ij
at the (t+1)-th step. This is because: 1) if pt > max v , then no buyer wants to spend
j i ij
money on item j thus the total demand on this time step has to be 0; 2) if pt > B, then
j
pt+1 = pt +η(x −1) = pt
+η(cid:16)(cid:80)n i=1bt
ij
−1(cid:17)
≤ pt
+η(cid:16)
B
−1(cid:17)
< pt.
j j j j pt j pt j
j j
Then, we consider the largest possible value pt can attain, approaching from below
j
min{max v ,B}. For any pt−1 ≤ min{max v ,B}, then pt = pt−1 +η(x −1) ≤ pt−1 +
i ij j i ij j j j j
η(cid:80) ibt
ij ≤ min{max v ,B} + η B ≤ min{max v ,B} + η B. Hence, the lemma
pt−1 i ij pt−1 i ij pˆj−2mη
j j
follows.
D.5 Proof of Theorem 3
Proof. Since gt ∈ ∂φ(pt) is equal to the excess supply −zt, by Corollary 3 we have ∥gt∥ =
∥zt∥ ≤ G := B +m. By Lemma 7, the quadratic growth parameter associated
minjpˆj−2mη
with φq(p) is α = min
p∗
j . The rest of the proof follows the same
j (cid:0) (cid:1)2
2 min{maxivij,B}+ pˆj−ηB
2mη
steps as in the proof of Theorem 1.
30D.6 Proof of Corollary 4
Proof. Since η ≤ min j′pˆ j′ ≤ pˆj for all j ∈ [m], we have η ≤ 1 and thus
4m 4m pˆj−2mη 2m
p∗ 2min p∗
α ≥ min j ≥ j j . (42)
j 2(cid:0) B+ ηB (cid:1)2 9B2
pˆj−2mη
It follows that
η (cid:18) B (cid:19)2 9ηB2 (cid:18) 2B (cid:19)2 ϵ
e = +m ≤ +m = , (43)
2α min pˆ −2mη 4min p∗ min pˆ 2
j j j j j j
wheretheinequalityfollowsbyη ≤ min j′pˆ j′ andthelastequalityfollowsbyη ≤ 2ϵminjp∗ j .
4m 9B2( 2B +m)2
minjpˆj
After t = 1 log 8B2 iterations, we have
2ηα ϵ
8B2 ϵ
tlog(1−2ηα)+log∥p0−p∗∥2 ≤ −2ηα·t+log4B2 = −log +log4B2 = log , (44)
ϵ 2
where the inequality follows because log(1+x) ≤ x, ∀x > −1 and ∥p0−p∗∥ ≤ 2B. Thus,
by Theorem 1 ∥pt−p∗∥2 ≤ (1−2ηα)t∥p0−p∗∥2+e ≤ ϵ + ϵ = ϵ.
2 2
Since α ≥ 2minjp∗ j, t ≤ 9B2 log(8B2 ). If ϵ is small such that 2ϵminjp∗ j ≤
9B2 4ηminjp∗
j
ϵ 9B2( mi2 nB jpˆj+m)2
minjpˆj, η is of the order O(ϵ), hence the time complexity is of the order O(1 log 1). Other-
4m ϵ ϵ
wise, η is independent of ϵ, hence the time complexity is of the order O(log 1).
ϵ
31