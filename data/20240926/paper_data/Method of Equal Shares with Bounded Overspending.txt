Method of Equal Shares
with Bounded Overspending
GeorgiosPapasotiropoulos SeyedehZeinabPishbin
UniversityofWarsaw UniversityofTehran,UniversityofWarsaw
gpapasotiropoulos@gmail.com zeinab.s.pishbin@gmail.com
OskarSkibski PiotrSkowron TomaszWa˛s
UniversityofWarsaw UniversityofWarsaw UniversityofOxford
oskar.skibski@mimuw.edu.pl p.skowron@mimuw.edu.pl tomasz.was@cs.ox.ac.uk
Inparticipatorybudgeting(PB),votersdecidethroughvotingwhichsubsetofprojectstofund
withinagivenbudget. ProportionalityinthecontextofPBiscrucialtoensureequaltreatment
ofallgroupsofvoters. However,pureproportionalrulescansometimesleadtosuboptimal
outcomes. WeintroducetheMethodofEqualShareswithBoundedOverspending(BOSEqual
Shares),arobustvariantofEqualSharesthatbalancesproportionalityandefficiency. BOS
Equal Shares addresses inefficiencies inherent in strict proportionality guarantees yet still
providesgoodproportionalitysimilartotheoriginalMethodofEqualShares. Inthecourseof
theanalysis,wealsodiscussafractionalvariantofthemethodwhichallowsforpartialfunding
ofprojects.
1 Introduction
Weconsidertheparticipatorybudgeting(PB)scenario, whereagroupofvotersdecide, throughvoting,
whichsubsetofprojectstofund. Theprojectshavevaryingprices,andthetotalcostoftheselectedprojects
cannot exceed a given budget. Voters express their preferences by casting ballots—typically either by
indicatingsetsofapprovedprojects(i.e.,theycastapprovalballots)orbyassigningnumericalscoresto
projects(so-calledrangevoting). PBhasbeenrecentlyadoptedbymanymunicipalitiesworldwide,1 butthe
modelappliesmorebroadly. Itextendstheframeworkofcommitteeelections[7,8]andcanbeusedevenif
thevotersandcandidatesarenothumansbutrepresentabstractobjects,suchasvalidatorsinproof-of-stake
blockchains[4].
ProportionalityisacriticalrequirementinthecontextofPBelections. Intuitively,itsaysthateachgroup
ofsimilar-mindedvotersshouldbeentitledtodecideaboutaproportionalfractionoftheavailablefunds
(e.g.,if30%ofvoterslikesimilarprojects,thenroughly30%offundsshouldbedesignatedtotheprojects
thesevoterssupport). Proportionality,amongothers,ensuresequaltreatmentofminorities,geographical
regions, and various project categories [6, 12]. It also ensures that groups of voters forming pluralities
are not overrepresented, thus protecting elections against strategies employed by coordinated voters or
projectowners. Asaresult,severalproportionalitycriteriaandnewvotingruleshavebeenproposedinthe
literatureofComputationalSocialChoice(cf. theoverviewofReyandMaly[12]). Onevotingmethod,
1en.wikipedia.org/wiki/List_of_participatory_budgeting_votes
1
4202
peS
32
]TG.sc[
1v50051.9042:viXratheMethodofEqualShares[10,11],standsoutbyexhibitingparticularlystrongproportionalityproperties;
ithasalsobeenrecentlysuccesfullyusedinreal-lifePBelections.
Informallyspeaking,theMethodofEqualSharesfirstvirtuallydistributesthebudgetequallyamong
thevoters. Projectsarethenselectedbasedonthevotecount,buteachtimeaprojectisselected,itscost
issplitamongitssupportingvoters. Thus,onlytheprojectswhosesupportersstillhaveenoughfundsto
covertheircostscanbeselected. Furthermore,thevotesofthosewhohaverunoutofmoneyarenolonger
counted. Thisway,insubsequentrounds,thevotesofminoritieswhohavenotyetinfluencedthebudgeting
decision(hence,stillhavemoney)aretakenintoaccount.
Whilethismethodoffersstrongproportionalityguarantees,andlargelyexhibitsdesiredbehaviourin
practice, it is not without its flaws. In this work, we begin by uncovering drawbacks of Equal Shares
(discussedindetailinSection3).
Non-exhaustiveness As it was already observed in the literature, the Method of Equal Shares can
significantlyunderspendtheavailablefunds. Forexample,onrealinstancesofPBelectionsituseson
averageonly32%ofthebugdet[6]. Thus,inpracticeitheavilydependsonthecompletionmethod
whichitiscombinedwith(wediscussthisindetailinSection2).
HelenkaParadox In Equal Shares, even a small group of voters can propose a modest project which,
if unanimously supported by that group, would likely be selected. However, due to strict budget
constraints,thiscouldpreventalargerproject—potentiallybenefitingthevastmajorityofvoters—
from being funded. We observed this issue in the Helenka district of Zabrze, Poland, where the
MethodofEqualShareswouldhaveresultedin97%ofvotersbeingleftwithoutanyproject.
TailUtilities Whentherearelargediscrepanciesinvoters’scoresassignedtoprojects,EqualSharesselects
a project based on the score of the least satisfied voter who must cover its cost. This mechanism
isegalitarianinprinciple,andso,themethodmaynotproperlytakeintoaccountsignificantutility
valuesinthedecisionprocess.
Basedontheseobservations,weintroduceandanalyseanewvotingrule,whichwecalltheMethodof
EqualShareswithBoundedOverspending(inshort,BOSEqualShares,orsimplyBOS).Thenewmethod
isamorerobustvariantofEqualShares,particularlyeffectiveinhandlingscenariosakintoparticularly
challenginginstancesofPBelections.
Interestingly,wearguethatsomeoftheproblemsweidentifyarenotsolelyduetotheMethodofEqual
Sharesitself,butrathertothestrictproportionalityguaranteesthemethodaimstoprovide. Specifically,
it appears that the appealing axiom of extended justified representation (EJR) [1, 3, 10] might enforce
inefficienciesincertainscenarios. Consequently,BOSEqualSharesisnotmeanttogenerallysatisfyEJR.
However,inmostcases,ournewmethodprovidesstrongproportionalityguarantees,mirroringthoseofthe
originalMethodofEqualShares. Weconfirmthisusingsimulations,alongwiththeoreticalguarantees.
Noteworthy,inthecourseofdesigningBOSEqualShares,weproposeandanalyseafractionalvariant
oftheMethodofEqualShares. Thenewvariantworksinamodel,whereprojectsareallowedtobefunded
onlypartially. ItextendstheGeneralisedMethodofEqualShares[9],anotherrulerecentlyproposedfor
thefractionalmodel,butonlyforapprovalballots.
2 Preliminaries
APBelection(inshort,anelection),isatuple E = (C,V,b),whereC = {c ,...,c }isasetofavailable
1 m
candidates(alsoreferredtoasprojects),V = {v ,...,v }isasetofvoters,andb ∈ Risthebudgetvalue.
1 n
Eachcandidatec ∈C isassociatedwithacost,denotedascost(c),assumedtobeupperboundedbyb. We
extendthisnotationtosetsofcandidates,settingcost(W) = (cid:80) cost(c)forallW ⊆C. Anoutcomeofan
c∈W
electionisasubsetofcandidates;anoutcomeW isfeasibleifcost(W) ⩽ b. Anelectionruleisafunction
2thatforeachelectionreturnsanonemptycollectionoffeasibleoutcomes. Typically,weareinterestedina
singleoutcome,yetweallowforties. Eachvoterv i ∈ V hasautilityfunctionu i: C → R ⩾0 thatassigns
valuestothecandidates. Weassumetheutilitiesareadditive,andwriteu(W) = (cid:80) u(c)foreachW ⊆C.
i c∈W i
Thevoters’utilityfunctionsandthecandidates’costsareintegralpartsoftheelection.
Therearetwospecialtypesofutilityfunctionsthatareparticularlyinteresting,andpivotalforcertain
partsofourwork. Insomecasesitisnaturaltoassumethattheutilitiesdirectlycorrespondtothescores
extractedfromthevoters’ballots;thenwespeakaboutscoreutilities. Incaseofapprovalballots,wherethe
votersonlyindicatesubsetsofsupportedcandidates,wesimplyassumethatthevoterassignsscoresofone
totheapprovedcandidates,andscoresofzerotothoseshedoesnotapprove. Ontheotherhand,thecost
utilityofavoterfromaprojectisitsscoreutilitymultipliedbytheprojects’cost. Forexample,ifW ⊆C
andA isthesetofcandidatesthatvoterv approves,thenwehaveu(W) = |W ∩A|forscoreutilities(the
i i i i
utilityisthenumberofselectedprojectsthevoterapproves),andu(W) = cost(W ∩A)forcostutilities
i i
(thus,theutilityistheamountofpublicfundsallocatedtoprojectsshesupports).
2.1 The Method of Equal Shares
Arguably the simplest, and most commonly used voting rule in PB elections is the Utilitarian Method.
Thismethodselectsthecandidatesbytheirvotecount,omittingthosewhoseselectionwouldexceedthe
budget;itstopswhennofurthercandidatecanbeadded. Sincethisapproachishighlysuboptimalfromthe
perspectiveofproportionality(seeforinstanceExample1thatfollows),wewillbeparticularlyinterested
intheMethodofEqualShares,aproportionalelectionrulerecentlyintroducedintheliterature[10,11].
MethodofEqualShares Letb
i
bethevirtualbudgetofvoterv i;initiallyb
i
:= b
ini
= b/n. Ineachround,
wesaythatanotyetelectedprojectcisρ-affordableforρ ∈ R +,if
cost(c) = (cid:80) min(b,u(c)·ρ).
vi∈V i i
In a given round the method selects the ρ-affordable candidate for the lowest possible value of ρ
andupdatesthevoters’accountsaccordingly: b := b −min(b,u(c)·ρ);thenitmovestothenext
i i i i
round. Theprocedurestopsifthereisnoρ-affordablecandidateforanyvalueofρ.
The concept of ρ-affordability is crucial to our work. Intuitively, voters supporting a ρ-affordable
candidate c can cover its cost in such a way that each of them pays ρ per unit of utility or all of their
remaining funds. In simpler terms, ρ represents the rate (price per unit of utility) at which the least
advantagedsupporteroftheprojectwould”purchase”theirsatisfaction,iftheprojectisselected. Also,
notethatasituationinwhichacandidateisnotρ-affordableforallρ ∈ R + happensonlyifitssupportersdo
nothaveenoughmoneytocoveritscost.
Example1. ConsiderthePBelectiondepictedinTable1,andassumecost-utilities. TheUtilitarianMethod
wouldselectprojectssolelybasedontheirvotecount,thuschoosingProjectsA,BandC.Thisseemsunfair
since a large fraction of the voters (namely voters v to v making up 30% of the electorate) would not
7 9
approveanyoftheselectedprojects.
At the beginning, the Method of Equal Shares assigns $100k to each voter. The table appears below
indicatestheavailable(virtual)budgetofeachvoter(inthousandsofdollars).
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 100 100 100 100 100 100 100 100 100 100
i
Wefirstneedtodeterminehowaffordableeachprojectis. ProjectAis1/6-affordable,asitcanbefundedif
eachofitssupporterspays$50k,whichis1/6ofitscost. Analogously,eachotherprojectthatreceived x
votesis1/x-affordable.
3cost v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
ProjectA $300k ¸ ¸ ¸ ¸ ¸ ¸
ProjectB $400k ¸ ¸ ¸ ¸ ¸
ProjectC $300k ¸ ¸ ¸ ¸ ¸
ProjectD $240k ¸ ¸ ¸ ¸
ProjectE $170k ¸ ¸ ¸ ¸
ProjectF $100k ¸ ¸ ¸
Table1:AnexampleofaPBelectionwith10votersand6projectsofvaryingcosts. Approvalsofvoters
towardsprojectsareindicatedbythe¸symbol. Givenabudgetof$1,000,000, theUtilitarian
Method selects {A,B,C}, the Method of Equal Shares selects {A,D,E}, while the BOS Equal
Sharesselects{A,C,D,F}.
A B C D E F
ρ 1/ 6 1/ 5 1/ 5 1/ 4 1/ 4 1/ 3
Thus,inthefirstroundtherulesimplyselectstheprojectwiththehighestvotecount,namelyprojectA.
After paying its cost, voters v to v are left with $(100k−300k/6) = $50k. Voters’ remaining budget
1 6
follows.
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 50 50 50 50 50 100 100 100 100
i
Inthesecondround,projectBisnolongeraffordable,asitssupportersdonothaveatotalofatleast
$400ktofundit. ProjectCis1/3-affordable: tofundit,votersv 2,v 3,v 4,v
5
andv
10
wouldhavetouseall
theirmoney. Thismeansthatvoterv
10
pays$100koutof$300kwhichis1/3ofthecostoftheproject. The
restoftheprojectsremainρ-affordableforthesamevaluesofρ,astheircostcanstillbespreadequally
amongtheirsupporters.
A B C D E F
ρ – – 1/ 3 1/ 4 1/ 4 1/ 3
Hence,projectsDandEarebothρ-affordableforthesmallestvalueofρ = 1/4. Letusassumetheformer
projectisselected,bybreakingtieslexicographically. Afterpayingitscost,votersv tov areleftwith
7 10
$(100k−240k/4) = $40k.
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 50 50 50 50 50 40 40 40 40
i
Inthethirdround,projectCisnolongeraffordable,asitssupportershavetogetheronly$240k. Project
Eis5/17-affordable: votersv 7,v
8
andv
9
haveonly$120k,whichmeansthatvoterv
2
needstopay$50kto
coverthecostof$170k. ProjectFremains1/3-affordable.
A B C D E F
ρ – – – – 5/ 17 1/ 3
Asaresult,projectEisselectedandvotersv ,v ,v ,andv runoutofmoney.
2 7 8 9
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 0 50 50 50 50 0 0 0 40
i
4Atthispoint,noprojectisaffordablesincethesupportersofprojectsB,CandFhaveintotal$200k,
$150kand$90k,respectively,therefore,theprocedurestopshavingselectedtheoutcome{A,D,E}. Note
thatthepurchasedbundlecomesatatotalcostof$710k,whichis$290klessthantheinitiallyavailable
budget. Thus,inprinciple,wecouldaffordtoadditionallyfundprojectF.However,thesupportersofthis
projectdonothaveenough(virtual)moneytofundit,andsotheprojectisnotselectedbytheMethodof
EqualShares.
Clearly, the selection made by the Method of Equal Shares is less discriminatory than the one by
Utilitarian,aseachvoterapprovesatleastoneoftheselectedprojects.
NotethatthebundlepurchasedbytheMethodofEqualSharescomesatatotalcostof$710k,leavingas
muchas$250kinvirtualaccountsofvotersv –v . WhileitispossibletoadditionallyfundProjectF,its
1 6
supportersdonothaveenoughmoneytofundit,sotheprojectisnotselected. ⌟
Example 1 shows that Equal Shares is non-exhaustive: an outcome W ⊆ C is exhaustive if it utilises
the available funds in a way that no further project can be funded, in other words if for each unelected
candidatec (cid:60) W itholdsthatcost(W ∪{c}) > b. Todealwithnon-exhaustiveness,EqualSharesistypically
usedtogetherwithacompletionstrategy. OnesuchastrategysuggestedintheliteratureisAdd1U:
Add1U We gradually increment the initial endowment b by one unit and rerun the Method of Equal
ini
Shares from scratch, until it produces an outcome that exceeds the budget. Then we return the
outcome computed for the previous value of b , hence the feasible outcome produced for the
ini
highesttestedb . Sincetheresultmaystillbenon-exhaustive,asthefinalstep,weselectaffordable
ini
candidateswiththehighestvotecountuntilnofurthercandidatecanbeadded[6].
3 Limitations of the Method of Equal Shares
Inthissection,wepresentconcretecasestudieswhichindicatethatusingtheMethodofEqualSharesinits
basicformmayleadtointuitivelysuboptimalsolutions.
3.1 Helenka Paradox
TheinstancethatfollowscomesfromthePBelectionsheldin2020inthePolishcityofZabrze,indistrict
Helenka.2 Twoprojectswereproposedinthisdistrict,namelyanexpansionandmodernisationofsports
facilities(tobecalledProjectA),andaplantsculpture(ProjectB).Theircostsandnumberofsupporters
areasfollows:
cost 403voters 11voters
ProjectA $310k ¸
ProjectB $6k ¸
Thebudgetisb = $310,000andassumecostutilities. Thesecondgroupof11votersshouldintuitively
be entitled to $(11/414 · 310,000) ≈ $8,000. In fact, any rule that satisfies EJR must select Project B
andsodoesEqualShares. However,selectingProjectBprecludestheinclusionofProjectAwithinthe
budgetconstraint. Thisishighlycounterintuitivesinceitleavesagreatmajorityofvoters(over97%ofthe
electorate)emptyhanded,despitethefactthattheycommonlyapproveanaffordableproject. Thus,the
HelenkaParadoxservesnotonlyasacritiqueoftheMethodofEqualShares,butalsooftheprominent
axiomofEJRitself.
Inordertosolvetheindicatedproblem,additionalstrategiescouldbeemployed. Citiesmaycompare
theoutcomesreturnedbytheMethodofEqualSharesandbythestandardUtilitarianMethod. Ifballots
2https://pabulib.org/?search=Poland%20Zabrze%202021%20Helenka
5indicatethatmorevotersprefertheoutcomeofthestandardUtilitarianMethod,thenitcouldbeselected.
An alternative solution is to put an upper bound on the initial cost of the projects. Interestingly, while
workingontheexperimentalpartofourwork,weobservednoevidentparadoxeslikethediscussedone
indatafromelectionswherethecostoftheprojectsdidnotexceed30%ofthebudget. Whilethesetwo
solutionscanworkwellinpractice,neitherisperfect. Therunoffapproachmightpotentiallyresultina
utilitariansolutionwheresomegroupsofvotersareunderrepresented. Inturn,imposinganupperlimiton
projectcostsmightexcludesomeworthwhileandhighlypopularideas,especiallyinsmall-scaleelections.
3.2 Tail Utilities
Considerthefollowingelectionwithm = 2candidates,andn = 100voterscastingballotsviarangevoting,
asfollows:
cost 99voters 1voter
ProjectA $1 100 1
ProjectB $1 2 2
Assumethatthebudgetisb = $1. UndertheMethodofEqualShares,allvotershavetopayalltheir
virtualmoneytocoverthecostoftheoneprojectthatwillbeselected. Asaresult,ifProjectAisselected,
99 voters will pay $0.0001 per unit of utility and 1 voter will pay $0.01 per unit of utility. In turn, for
ProjectB,allvoterswillpay$0.005perunitofutility. Thus,ProjectAis1/100-affordablewhileProjectBis
1/200-affordable. andtheruleselectsProjectB,eventhough99%ofvotersconsiderProjectAasamuch
betteroption. ThisisbecausetheMethodofEqualSharesisinsomesenseegalitarian: whenassessing
thequalityofacandidate,itessentiallyconsiderstheutilityassignedtothecandidatebytheleastsatisfied
voteramongthosecoveringitscost.
Notethatthepresentedproblemdoesnotappearinapprovalelections. Weobservedthisissuewhen
applyingEqualSharestocertainrangevotingcommitteeelections.
4 Fractional Equal Shares
TodevelopintuitionsrequiredfortheintroductionofBOSEqualShares,wefirstpresentFractionalEqual
Shares(FrES)—anadaptationofEqualSharestofractionalPB,whereprojectscanbepartiallyfunded.
Theideaissimple: afractionαofacandidateccanbeboughtforthecorrespondingfractionofitscost:
α·cost(c). Ifsuchapurchaseismade,eachvoterv ∈ V receivestheutilityofα·u(c).
i i
Letusstartbyextendingthenotionofρ-affordabilitytoprojectfractions. Forα ∈ (0,1],wesaythata
candidatecis(α,ρ)-affordableifitsαfractioncanbeboughtwithratioρ:
α·cost(c) = (cid:80) min(b,α·u(c)·ρ).
vi∈V i i
Ifsuchaρdoesnotexist,weassumeρ = +∞.
FractionalEqualShares Letb
i
bethevirtualbudgetofvoterv i,initiallysettob
i
:= b/n. Ineachround,
themethodselectsthecandidatecwhichis(α,ρ)-affordableforthelowestpossiblevalueofρand
buys the largest possible fraction α for which the candidate remains (α,ρ)-affordable. Then, the
accountsofthesupportersofcareupdatedaccordingly: b := b −min(b,α·u(c)·ρ). Themethod
i i i i
stopsiftherearenomoneyleft.
Letusexplainthismethodinmoredetail. ConsiderapartiallyfundedcandidatecandletS betheset
ofitssupporterswhostillhavemoney. Notethatasαincreases,theratioρcannotdecrease,meaningthe
6Input: APB-election(C,V,b)W ← 0foreachc ∈C
c
b
i
← b/nforeachv
i
∈ V
S ← V
whileexistscs.t. W (cid:44) 1and(cid:80) u(c) > 0do
c (cid:16) vi∈ (cid:80)S i (cid:17)
c ← argmin cost(c)/ u(c)
c∈C (cid:80):Wc(cid:44)1 vi∈S i
ρ ← cost(c)/ u(c)
vi∈S i
α ← min(1−W ,min b/(ρ·u(c)))
c vi∈S i i
W ← W +α
c c
forv ∈ S do
i
b ← b −α·ρ·u(c)
i i i
if b = 0then
i
S ← S \{v}
i
(cid:80)
bΣ ← vi∈Vb
i
whileexistscs.t. W
c
(cid:44) 1andbΣ > 0do
(cid:16) (cid:80) (cid:17)
c ← argmin cost(c)/ u(c)
c∈C:Wc(cid:44)1 vi∈V i
α ← min(1−W c,bΣ/cost(c))
W ← W +α
c c
bΣ ← bΣ−α·cost(c)
returnW
Algorithm1:Pseudo-codeofFractionalEqualShares.
minimumvalueofρoccursatsmallα. Ifαissmallenough,thecandidatecanbefundedwithallvoters
contributingproportionallytotheirutilities,sincenooneexhauststheirfunds. Then:
cost(c)
ρ = (cid:80) .
u(c)
vi∈S i
Hence,FractionalEqualSharesselectstheprojectwiththelowestρvalueandcoversthefractionofthe
candidate’s cost with payments proportional to the voters’ utilities. The method purchases the largest
possiblefractionαforwhichtheprojectis(α,ρ)-affordable. Thisfractionisdeterminedbythefirstmoment
asupporterexhauststheirfundsortheselectedprojectisfullyfunded,whichevercomesfirst. Thus,
(cid:32) (cid:33)
b
α = min 1−W ,min i ,
c vi∈S ρ·u i(c)
where W is the fraction of the project c bought already. Since the payments of voters from V are
c
proportionaltotheirutility,theyareequaltoα·u(c)·ρforeachvoterv ∈ S.
i i
Algorithm 1 contains the pseudo-code of the Fractional Equal Shares (FrES). When voters who still
havemoneyleftsupportonlycandidateswhicharefullybought,allothercandidateshaveρ = +∞. Inthe
pseudo-code,webreaktiesaccordingtothetotalutilityofallvotersdividedbythecostoftheprojectand
buyaslargefractionofthemaspossible.
ContinuationofExample1. Asanillustration,wereviewExample1thistimeapplyingFractionalEqual
Shares. Thetablewithcostsofprojectsandapprovalofvotersisrepeatedforconvenience.
Again,weassumecost-utilitiesforvoters. Notethatinsuchasetting,ineachroundFractionalEqual
Sharesselectstheprojectwiththemostsupporterswhostillhavemoneyleft. Themethodpurchasesthe
largestportionoftheprojectthatcanbecoveredwithequalpaymentsofthesupporters.
Inthefirstround,asintheMethodofEqualShares,projectAischosen. Itisboughtinfull,asitswhole
pricecanbesplitequallybetweensupporters,eachpaying$50k. Voters’remainingfundsappearbelow.
7cost v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
ProjectA $300k ¸ ¸ ¸ ¸ ¸ ¸
ProjectB $400k ¸ ¸ ¸ ¸ ¸
ProjectC $300k ¸ ¸ ¸ ¸ ¸
ProjectD $240k ¸ ¸ ¸ ¸
ProjectE $170k ¸ ¸ ¸ ¸
ProjectF $100k ¸ ¸ ¸
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 50 50 50 50 50 100 100 100 100
i
Inthesecondround,projectsBorCcanbeselected. LetusassumeprojectCisselected. Sincevotersv
2
tov
5
haveonly$50kleft,only5/6isboughtandeachvoterpays$50kasthefollowingtableindicates.
A B C D E F
ρ – 1/ 5 1/ 5 1/ 4 1/ 4 1/ 3
α 1 5/6
Thefollowingtabledepictstheremainingamountofmoneyofeachvoter.
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 0 0 0 0 50 100 100 100 50
i
Sincevotersv tov runoutofmoney,inthethirdroundprojectBhasonlyonevoteandprojectEhas3
2 5
votesinsteadof4. Hence,projectDwith4votesisselected.
A B C D E F
ρ – 1/ 1 – 1/ 4 1/ 3 1/ 2
α 1 5/6 5/ 6
For buying project D all voters pay the maximal equal price: $50k and their remaining budget appears
below:
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 0 0 0 0 50 50 50 50 0
i
Inthefourthround,projectDlostonevoteasv runoutofmoney,butstillhasthehighestnumberof
10
votes(exaequowithprojectE).Hence,FractionalEqualSharesbuystheremaining1/6ofprojectDasking
votersv tov topay$13.3¯ each.
7 9
A B C D E F
ρ – 1/ 1 – 1/ 3 1/ 3 1/ 2
α 1 5/6 1
Afterthepurchase,theremainingfundsareasfollows.
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 0 0 0 0 50 36.6¯ 36.6¯ 36.6¯ 0
i
Sincethefourthrounddidnotchangethenumbersofsupportersasnonewvotersranoutofbudget,a
fractionof11/17ofprojectEisboughtnext.
8A B C D E F
ρ – 1/ 1 – – 1/ 3 1/ 2
α 1 5/6 1 11/ 17
Regardingvoters’currentlyavailablebudget,onlyv andv haveapositiveamount,eachstillhaving$50k.
1 6
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 0 0 0 0 50 0 0 0 0
i
Asaresult,projectsBandFhaveonesupportereachwhosemoneycanbeusedtobuyaportionofoneof
theseprojects. Assume1/2ofprojectFisboughtandv
6
paysforit.
A B C D E F
ρ – 1/ 1 – – – 1/ 1
α 1 5/6 1 11/ 17 1/ 2
Finally,voterv isleftwith$50k.
1
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 0 0 0 0 0 0 0 0 0
i
However, theonlyprojectthatv supportshasalreadybeenboughtandρ = +∞forallprojects. When
1
choosingtheprojectaccordingtothetotalutilitypercost,themethodbuyseither1/8ofprojectBor1/6of
projectC,astheyreceivedthehighestnumberofvotes. Assumingtheformer,thefractionalsolutionW
producedbythemethodis:
candidatec A B C D E F
W c 1 1/8 5/6 1 11/ 17 1/ 2
Asaresult,thediscussedexecutionofFrESallocated$600ktoprojectsA–C,comparedtothe$300k
allocatedbytheMethodofEqualShares,and$400ktoprojectsD–F,comparedto$410kbytheMethodof
EqualShares,whilespendingthewholeavailablebudget. ⌟
In the discrete model, it is established that, unless P = NP, no election rule computable in (strongly)
polynomialtimecansatisfyEJR.Thishardnessresultstemsfromareductionfromtheknapsackproblem,
asshownin[10],andholdsevenforinstancesofasinglevoter. Obviously,thisnegativeresultdoesnot
extendtothefractionalsettingasasimplepolynomial-timegreedyalgorithmcansolveknapsackoptimally.
This discussion opens the possibility that a polynomial-time rule, like FrES, could indeed satisfy the
(fractional)analogofEJR.Thetheoremthatcomesnextconfirmsthishypothesis.
Before stating the main result of the section, we note that the similarities to the knapsack problem
extendfurther. Applyingthemethodtoaninstancewithasinglevoterperformsanalogouslytothegreedy
algorithm for knapsack that prioritizes items with a low cost-utility ratio. Consequently, the solution
returnedbyFrESisalsooptimalintermsofsocialwelfare(i.e. totalutility)forthesimplistic—andthus
not particularly insightful in the PB context—case of one voter. Speaking of a single voter, converting
afractionalsolutionreturnedbyFrEStoanintegraloneisstraightforward. Thiscanbedonebysimply
neglecting the project decided to be fractionally funded, which can only be the last one selected by the
algorithm. ThisapproachresultsinsatisfyingEJR-up-to-oneproject,aconceptknowntobesatisfiableby
theMethodofEqualSharesingeneralparticipatorybudgeting(PB)instances[10]. However,itisimportant
tonotethatthisapproachnolongerworkstowardsaccommodatingmultiplevoters. Deepermodifications
areneeded,asexploredindetailinSection5.
9Definition1(FractionalEJR). AgroupofvotersS ⊆ V is(T,β,γ)-cohesiveforT ⊆C,β :C → [0,1],
andγ :C → R ⩾0 if
1. (cid:80) cost(c)·β(c) ⩽ b·(|S|/n),and
c∈T
2. u(c)·β(c) ⩾ γ(c)forallc ∈ T andv ∈ S.
i i
AfractionaloutcomeW satisfiesFractionalEJRifforevery(T,β,γ)-cohesivegroupofvotersS thereisa
voterv ∈ S forwhich(cid:80) u(c)·W ⩾ (cid:80) γ(c). ⌟
i c∈C i c c∈T
Byfixingβ = 1andallowingonlyforw(c) ∈ {0,1}inDefinition1,wegetthestandarddefinitionofEJR
fortheintegralPBmodelandgeneralutilities[10]. Ifwealsofixγ = 1andu(c) ∈ {0,1}foreachvoterv
i i
andcandidatec,wegettheclassicdefinitionofEJRfortheapprovalbasedcommitteevotingsetting[1].
Additionally, if applied to approval ballots with cost utilities, Definition 1 is equivalent to Cake EJR
proposedbyBeietal.[2]. FractionalEqualSharesunderapprovalballotswithcostutilitiesisequivalentto
GeneralizedMethodofEqualSharesintroducedbyLuetal.[9],whoshowedthatitsatisfiesCakeEJRin
suchsetting. Inthefollowingtheorem,wegeneralizethisresultandshowthatFrESsatisfiesFractional
EJRunderarbitraryadditiveutilities.
Theorem1. FrESsatisfiesFractionalEJR.
Proof. SaythatS isa(T,β,γ)−cohesivesetofvoters,accordingtothedefinitionofFractionalEJR.We
will prove that there exists a voterin S for which the outcome ofFrES produces satisfaction of at least
γ˜ = (cid:80) min u(c)β(c) ⩾ (cid:80) γ(c). Withoutlossofgenerality,letusassumethatγ(c) > 0forevery
c∈T vi∈S i c∈T
c ∈ T. AkintotheproofforEJR(up-to-one)byMESfrom[10],weexaminerunsofthefollowingvariants
ofFrES:
(A) FrESintheoriginalinstanceandformulatedasinAlgorithm1.
(B) FrESwherevotersfromS cangowiththeirmoneyb belowzerowhenpayingforprojectsinT (so
i
theydonothaveabudgetconstraintwhentheypayfortheseprojects,buttheydohavewhenpaying
fortherest)andeachprojectc ∈ T canbeboughtuptoanamountofβ(c).
(C) FrES in the instance with only voters from S and projects from T, with utilities of every voter v
i
foreveryprojectcsettou(c) = min u (c),whereeveryvoterfromS cangowiththeirmoneyb
i j∈S j i
belowzeroandeachprojectc ∈ T canbeboughtuptoanamountofβ(c).
ForeachvariantanditerationtofthealgorithmandeachvariablefromAlgorithm1,wewillputvariant
letterandttothesuperscriptofthevariabletodenoteitsvalueafterthisiterationinthisvariant,e.g.,bA,t or
i
WB,t. Wewillputt = 0fortheinitialvaluesandnoiterationnumberforthefinalvalues.
c
Observe that in (B) and (C) the utility of all voters from S towards projects in T is strictly positive
and no voters from S have budget constraint for these projects so at the end of those procedures each
projectcfromT willbeboughtuptoβ(c). Ifattheendof(B)novoterv fromS hasnegativeb,thenthe
i i
solutionof(B)coincideswiththesolutionof(A).Thus,insuchacase,foreveryprojectcfromT,inWA
atleastβ(c)ofitwillbeboughtaswell. Therefore,everyvoterv inS hasatotalsatisfactionofatleast
i
(cid:80) u(c)β(c) ⩾ (cid:80) min u(c)β(c) = γ˜.
c∈T i c∈T i∈S i
Hence,intheremainderoftheproof,wewillconsiderthecaseinwhichavoterfromS overspentin(B)
anddenotethefirstsuchvoterbyv.
i
Let f (x)bethetotalamountofmoneyspentbyv duringtheexecutionofvariant(A)atthepointwhen
A i
v hasexactlytheutilityof x. Formally,forevery x ∈ (0,u(WA)],
i i
f (x) = (b/n−bA,t−1)+ρA,t(x−u(WA,t−1)), wheretissuchthat x ∈ (u(WA,t−1),u(WA,t)].
A i i i i
10Here,(b/n−bA,t−1)isthemoneyspentinthefirstt−1roundsandρA,t(x−u(WA,t−1))isthemoneyspent
i i
inthet-throundjusttothepointofobtainingutility x. Letusanalogouslydefine f (x)and f (x). Inwhat
B C
followswewillprovethat(1) f (γ˜) ⩽ b/n,(2) f (x) ⩽ f (x)forevery x ⩽ γ˜,and(3) f (x) = f (x)for x
C B C B A
suchthat f (x) = b/n. Together,thesethreestatementswillimplythethesis.
B
(1)Sincein(C)thevotersdonothavebudgetconstraintswebuyallcandidates,sothecandidatesfrom
T,uptothelevelofβinincreasingorderofρ. Ineveryiterationt ∈ [|T|],wehavethat
cost(cC,t) cost(cC,t)
ρC,t = (cid:80) = .
min u (c) |S|min u (c)
vj∈S vj∈S j vj∈S j
Aswebuyβ(cC,t)fractionofthiscandidate,wehave
cost(cC,t)
bC,t −bC,t−1 = β(cC,t)·minu (c)·ρ = β(cC,t)· .
i i vj∈S j |S|
Summingthisupforallt ∈ [|T|],wehave
1 (cid:88)
bC,|T|−bC,0 = β(c)·cost(c),
i i |S|
c∈T
whichbythefirstassumptionofDefinition1,isnotgreaterthanb/n. Sinceattheendofiteration|T|in(C),
theutilityofvoterv isexacltyγ˜,wehavethatindeed, f (γ˜) ⩽ b/n.
i C
(2) To show that f (x) ⩽ f (x) for every x ⩽ γ˜, we will show that the left derivative of f (x) is not
B C B
greater than that of f (x), for every such x. Intuitively, this means that under (B) the money of voter v
C i
isspentatleastaseffectivelyasunder(C).Observethattheleftderivativeof f (x)isjustρB,t fortsuch
B
that x ∈ (u(WB,t−1),u(WB,t)]andanalogouslyfor f (x). Thus, foracontradiction, assumethatthereis
i i C
x ⩽ γ˜,t, and t′ such that x ∈ (u(WB,t−1),u(WB,t)], x ∈ (u(WC,t′−1),u(WC,t′ )], and ρB,t > ρC,t′ . Observe
i i i i
thatforeachcandidatec ∈ T,itsρinvariant(B)isnotgreaterthaninvariant(C)asutilitiesforcofvoters
inS canonlybelargerthanin(C)andadditionally,othervoterscanalsopayforit. Thus,sinceρB,t > ρC,t′ ,
this means that at iteration t in (B) candidate
cC,t′
is already bought up to
β(cC,t′
) (otherwise we should
buycandidatecC,t′ asithasbetterρ). Moreover, foreveryt′′ < t′ wehavethatρB,t > ρC,t′ > ρC,t′′ , thus
candidatecC,t′′ isalsoalreadyboughtuptoβ(cC,t′′
)atthestartoftheiterationtin(B).However,thisallows
ustoboundtheutilityofv initerationtin(B)asfollows
i
(cid:88) (cid:88)
x > β(cC,t′′ )·u(cC,t′′ ) ⩾ β(cC,t′′ )·minu (cC,t′′ ) ⩾ x,
i j
t′′∈[t′] t′′∈[t′]
vj∈S
wherethelastinequalityholdsasv obtainsutility xduringiterationt′ in(C).Butthisisacontradiction.
i
(3)Finally,lettbethefirstiterationinwhichthemoneyofvoterv crossed0,andlet p ∈ T beaproject
i
that was selected in this iteration. Observe that in all iterations up to t, the executions of (A) and (B)
coincided.
Moreover,unlessbB,t−1
isexactlyzero,initerationtproject pwasalsoselectedby(A)asitsρ
i
andρsofallotherprojectswerethesame. Thedifferenceisthatin(A)thesmallerfractionof pwasbought
so as to leave v with exactly zero money. Thus, f (x) = f (x) for x such that f (x) = b/n. Moreover,
i B A B
if such x would be smaller than γ˜, then from the fact that f is strictly increasing we would have that
B
f (x) < f (γ˜) ⩽ f (γ˜) ⩽ b/n,whichisacontradiction. Thereofre,theutilityofv attheendofiterationtin
B B C i
(A)isatleastγ˜ andattheendofthealgorithmitcannotbesmaller,whichconcludestheproof. □
FrES,apartfrombeinganinterestingruleonitsownforthedivisiblesetting,italsogivesintuitionfor
BOSmethod,presentedinSection5. BeforemovingtoadiscussiononBOS,wehighlightanimportant
propertyofthefractionalsettingconsideredinthissection. Fainetal.[5]workedmainlyonthenotionof
coreforasimilarsetting,whereprojectsdonothavecostsandanyamountofmoneycanbespentonthem,
onlyupperboundedbytheglobalbudgetb. Theyanalyzedafamilyofutilityfunctionsandmoreprecisely,
11theyfocusedontwosubclassesofit,namelyNon-SatiatingandSaturating. ForNon-Satiating,theyproved
thatasolutioninthecorenotonlyalwaysexistsbutcanalsobefoundinpolynomialtime. ForSaturating
utilitiestheyshowedthatasolutionthatapproximatesacoresolutioncanbefound. Saturatingutilities
correspondtotheutilitiesconsideredinthefractionalsettinginourwork. Interestingly,insharpcontrastto
Non-Satiatingutilities,coremightbeemptyforSaturatingutilities,and,consequently,forourfractional
settingaswell. Toprovethestatementwesimplyadapttheexamplefrom[10]thatprovestheanalogous
resultfortheintegralsetting.
Proposition2. Thecoremightbeemptyeveninthefractionalsetting.
Proof. Say that b = 3 and that there are 6 voters, v ,v ,...,v and 6 unit cost candidates, c ,c ,...,c
1 2 6 1 2 6
satisfyingthefollowingrelationsregardingutilities:
u (c ) > u (c ) > 0,u (c ) > u (c ) > 0,u (c ) > u (c ) > 0,
1 1 1 2 2 2 2 3 3 3 3 1
u (c ) > u (c ) > 0,u (c ) > u (c ) > 0,u (c ) > u (c ) > 0,
4 4 4 5 5 5 5 6 6 6 6 4
andallotherutilitiesaresetto0. Consideranarbitraryfeasiblesolution. Atmost3candidatescanbefully
purchased. Withoutlossofgenerality,saythatatmost1candidatefromthesetofthefirstthreecandidates
isfullybought(ifnot,itwillbeatmostoneboughtfrom{c ,c ,c }),sayc . Butthen,votersv andv ,
4 5 6 1 2 3
forminga 1 oftheelectorate,wouldprefertobuyabitmoreofc ,sotheconsideredsolutionisn’tinthe
3 3
core. □
5 Method of Equal Shares with Bounded Overspending
InthissectionwebuildupontheconceptofFractionalEqualSharesinordertodesignanewmethodfor
thestandard(integral)modelofPB.TheMethodofEqualShareswithBoundedOverspending,inshort,
BoundedOverspending(BOS)canbeviewedasadependentroundingprocedureforFrES,butalsoasa
variantofEqualShares,wherevotersmayoccasionallyspendmorethantheirinitialentitlement.
Underthefractionalrule, anα-fractionofacandidatecanbepurchasedforacorrespondingfraction
ofitscost;theneachvoterreceivesaproportionalfractionoftheutility. However,intheintegralmodel,
fractional purchases are not possible. In BOS, we simulate buying an α-fraction of a candidate, still
assumingthevotersgainfractionsofutilities. However,thevotersarenowrequiredtocoverthefullcost.
Thedistributionofthepaymentsisproportionaltotheonecomputedfortheα-fraction. Specifically,forρ
satisfying:
(cid:88)
α·cost(c) = min(b,α·u(c)·ρ),
i i
vi∈V
a voter v supporting c has to pay p(c) = min(b,α·u(c)·ρ)/α. Assuming α·u(c) is the utility from
i i i i i
candidatec,thehighestpaymentperunitofutilityequalsρ/α.
BOSEqualShares Letb
i
bethevirtualbudgetofvoterv i,initiallysettob
i
:= b/n. Eachround,among
allcandidatesthatfitwithintheremainingbudget,BOSbuysthe(α,ρ)-affordablecandidatecwith
the lowest possible value of ρ/α. The accounts of the supporters of c are updated accordingly:
b := max(0,b −u(c)·ρ). Themethodstopsifnoremainingcandidatefitswithinthebudget.
i i i
Notethatvoterswithoutmoney,includingthesethatoverspentbefore,donothaveanimpactonthefurther
decisions. Ifonlyprojectswithρ = +∞remain,whichhappensonlyifthesupportersoftheremaining
projectshavenomoneyleft,arbitraryprojectsthatfitinthebudgetareadded.
Weprovideapseudo-codeofBoundedOverspendinginAlgorithm2andwewillnowdiscussitinthe
contextofelectionsfromSection3.
12Input: APBelection(C,V,b)W ←∅.
b
i
←b/nforeachv
i
∈V
whileexistsc∈C\W s.t. cost(c)⩽b−cost(W)do
(α∗,ρ∗,c∗)←(1,+∞,c)
forc∈C\W s.t. cost(c)⩽b−cost(W)do
ρ′ ←ρsatisfyingcost(c)=(cid:80)n min(b,u(c)·ρ)
i=1 i i
forρ∈{b/u(c):v ∈V,b >0,u(c)>0}∪{ρ′}do
α←mi ini ((cid:16)(cid:80)n i min(bi ,u(c)·i ρ)(cid:17)
/cost(c),1)
i=1 i i
if ρ/α<ρ∗/α∗then
(α∗,ρ∗,c∗)←(α,ρ,c)
W ←W∪{c∗}
forv ∈V s.t. b >0andu(c∗)>0do
i i i
b ←max(0,b −u(c∗)·ρ∗)
i i i
returnW
Algorithm2:Pseudo-codeofBoundedOverspending.
Example2: BOSonHelenkaParadox.ConsiderthefirststepofBOSforanarbitraryapproval-based
electionwithcost-utilities. FixsomecandidatecandletS bethesetofitssupporters. Wecancomputethe
proportionofthecostoftheprojectthatcanbecoveredbyitssupportersasfollows:
(cid:32) (cid:33)
α = min 1,
|S|·b/n
.
cost(c)
Here,|S|·b/nistheamountofmoneythesupportershave. Now,anα(orasmaller)fractionoftheproject
couldtheoreticallybeboughtwithequalpayments,thusgiving:
cost(c) 1
ρ = (cid:80) = .
u(c) |S|
vi∈V i
Hence, the project is (α,1/|S|)-affordable. It is also (α′,1/|S|)-affordable for α′ ∈ (0,α) and (α′,+∞)-
affordableforα′ ∈ (α,1]. Hence,theminimalρ/αratioequals1/(|S|·α). Thisvaluecanbeinterpretedas
theinverseofthenumberofvoteswhereeachvoteismultipliedbythefractionofthecostoftheproject
thatitssupporterscanjointlycover.
ConsidernowProjectAfromtheHelenkaParadoxelectioninstancepresentedinSection3. Theinitial
endowmentis$(310,000/414) ≈ $750. ForProjectAwehaveα = 403/414andρ = 1/403,givingρ/α = 414/4032.
Inturn,forProjectBwehaveα = 1andρ = 1/6 = ρ/α. Hence,BOS,incontrasttotheMethodofEqual
Shares,wouldselectProjectA. ⌟
Example3: BOSonTailUtilities.ConsidertheTailUtilitiesinstancefromSection3. Allvotershavethe
sameutilityfromProjectB,hence,everyfractionαoftheprojectcanbeboughtwithequalpaymentsand
ρ = cost(c)/(cid:80) vi∈Vu i(c) = 1/200. Thus,wegettheminimalratioρ/α = 1/200,forα = 1.
LetusfocusnowonProjectA.Iftheprojectisboughtinfull,thelastvoterwouldhavetopay$0.01
per unit of utility, giving ρ = 1/100. However, it is also possible to simulate the purchase of the fraction
oftheprojectthatensuresthepaymentsareproportionaltoutilities. Thishappensif99voterspay$0.01
and1voterpays$0.0001. Thisway, voterspayforafractionofα = 9901/10000oftheproject, achieving
amuchbetterratio: ρ = cost(c)/(cid:80) vi∈Vu i(c) = 1/9901. Thus,wegetρ/α = 10000/99012,andsoBOSwould
selectProjectA. ⌟
AswesawinExamples2and3,itisenoughtofocusononlyafewvaluesofα. Infact,itcanbeshown
thatitisoptimaltoeitherconsiderα = 1orafractionαthat,forsomevoter,isthesmallestamountfor
whichsherunsoutofmoney,assumingproportionalpayments,i.e.,inwhichb = u(c)·ρforsomevoter
i i
v ∈ V. Insuchacase,itholdsthatρ = b/u(c). Sincethereareatmostnsuchvalues,theoutcomeofBOS
i i i
canbecomputedinpolynomialtime.
13Theorem3. BOSrunsinpolynomialtime.
Proof. Itisenoughtoarguethatineachround,thenextprojectcanbeselectedinpolynomialtime. Wedo
thisbyshowingthatforeveryproject,wecanfindparametersρandαthatminimizeρ/αinpolynomial
time.
ConsidersomeroundofBOS,andassumeeachvoterhasabudgetb. LetS bethesetofvoterswho
i
stillhavemoneyleft. Fixsomenot-yet-electedcandidatecthathassomesupportersinS (otherwise,itsρ
valueequals+∞regardlessoftheα). IftheprojectcanbefullyfundedbyvotersfromS withpayments
proportionaltotheirutilities,thenclearly,theoptimalαequals1,andρ = cost(c)/(cid:80) u(c).
vi∈S i
Assumeotherwise. Considerasequence(v ,...,v )ofsupportersofcwhostillhavemoneyleft,sorted
i1 iℓ
inascendingorderbyb/u(c). Notethatifwegraduallyincreasethefractionαoftheprojectthatwefund,
i i
thefirstvotertorunoutofmoneywouldbev ,thesecond(orpossiblyex-aequofirst)wouldbev ,andso
i1 i2
on. Letα bethefractionoftheprojectforwhichvoterv runsoutofmoney(orα = 1iftheydonot).
j ij j
Assumeα
0
= 0andconsiderbuyingafractionα ∈ (α j,α j+1)oftheprojectforsome j ∈ {0,...,ℓ−1}. We
arguethatαequaltoα j orα j+1 minimizestheratioρ/α.
For α ∈ (α j,α j+1), we know that each voter v
i
∈ {v i1,...,v ij} would pay b i, and each voter v
i
∈
{v ,...,v }wouldpayα·u(c)·ρ. Hence,wehave:
ij+1 iℓ i
(cid:88)j (cid:88)ℓ
α·cost(c) = b + α·u (c)·ρ,
ih h
h=1 h=j+1
whichimplies
α·cost(c)−(cid:80)j
b
ρ/α = h=1 ih.
α2·(cid:80)ℓ
u (c)
h=j+1 h
Takingthederivativewithrespecttoα,wegetthat
2(cid:80)j
b −αcost(c)
(ρ/α)′ = h=1 ih .
α3(cid:80)ℓ
u (c)
h=j+1 h
Sincecost(c) > 0,thisfunctionhasonlyonezeroatα∗ = 2(cid:80)j b /cost(c),anditispositiveforα < α∗
h=1 ih
andnegativeforα > α∗. Thisimpliesthatρ/αisincreasingforα < α∗ anddecreasingforα > α∗. Hence,
foranyintervaltheminimumvalueisatoneofitsendsandρ/αisminimalforα ∈ {α j,α j+1}. Notethat
for the interval (α ,α ) all payments are proportional to their utilities, hence ρ is a constant and ρ/α is
0 1
maximizedforα = α .
1
Thisshowsthatthefractionαthatminimizesρ/αbelongstotheset{α ,...,α }∪{1}. Ifα = α < 1for
1 ℓ j
somei ∈ {1,...,ℓ},thenwegetρ = b /u (c). Ontheotherhand,ifα = 1,thenρcanbecomputedasin
j ij ij
theMethodofEqualShares. □
ContinuationofExample1. Finally,letusnowbrieflydiscusshowBOSworksonourrunningexample
depictedinTable1. Thetablewithprojectsandvotersisrepeatedforconvenience.
cost v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
ProjectA $300k ¸ ¸ ¸ ¸ ¸ ¸
ProjectB $400k ¸ ¸ ¸ ¸ ¸
ProjectC $300k ¸ ¸ ¸ ¸ ¸
ProjectD $240k ¸ ¸ ¸ ¸
ProjectE $170k ¸ ¸ ¸ ¸
ProjectF $100k ¸ ¸ ¸
Considerthefirstround. Atthebeginning,eachvoterhasthesameamountofmoney:
14v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 100 100 100 100 100 100 100 100 100 100
i
Notethatthecostofeveryprojectcanbecoveredbyitssupporters. AsobservedinExample2,forevery
project,α = 1isoptimal,whichcorrespondstobuyingtheprojectinfull.
A B C D E F
α = 1,ρ 1/ 6 1/ 5 1/ 5 1/ 4 1/ 4 1/ 3
Hence,BOS,astheMethodofEqualShares,selectsProjectA,beingtheonewiththehighestnumberof
votesandequallydistributesitscostamongthesupporters. Afterthepurchase,votershavethefollowing
amountofmoney:
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b 50 50 50 50 50 50 100 100 100 100
i
Inthesecondroundtheremainingbudgetis$700k. Reasonablevaluesofαandthecorrespondingρare
asfollows:
A B C D E F
α = 1,ρ – – 1/ 3 1/ 4 1/ 4 1/ 3
α = 5/6,ρ – – 1/ 5 1/ 4 1/ 4 1/ 3
α = 5/8,ρ – 1/ 5 1/ 5 1/ 4 1/ 4 1/ 3
Sincevotersv tov haveonly$50keach,projectBcannotbepurchasedinfull. However,itssupporters
1 6
cancoverα = 250/400 = 5/8ofitscost. Thiscostwouldbeequallyspreadamongfivevoters,soρ = 1/5and
theratio(ρscaledbyα)equalsρ/α = 8/25.
Now,letusconsiderprojectC.Thisprojectcanbeboughtinfull,butonlyifvoterv
10
paysρ = 1/3ofthe
cost. TheMethodofEqualSharesrejectsthisoptionasimbalancedandselectsaprojectwithasmallerρ
parameter. Inturn,BoundedOverspendingconsidersalsobuyingafractionoftheprojectwithbalanced
payments. Specifically,tomaintainequalpayments,α = 5/6oftheprojectcanbebought. Thiswouldresult
inρ = 1/5andratioρ/α = 6/25. SincethisratioissmallerthantheratioofprojectBandtheratioofprojects
D,EandFwhichremainunchanged,BoundedOverspendingselectsprojectCwithα = 5/6. Tocover5/6of
itscost,itssupporterswouldhavetopay$50keach. Hence,inBoundedOverspending,eachvoterpays
6/5·$50k = $60k(ortheirwholebudget).
v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b i 50 0 (−10) 0 (−10) 0 (−10) 0 (−10) 50 100 100 100 40
Inthethirdround,theremainingbudgetis$400k. Considerdifferentαandcorrespondingρvalues:
A B C D E F
α = 1,ρ – – – 5/ 18 1/ 3 1/ 3
α = 2/3,ρ – – – 1/ 4 1/ 3 1/ 3
α = 1/8,ρ – 1/ 1 – 1/ 4 1/ 3 1/ 3
Notethatonly1/8oftheprojectBcanbebought(withρ = 1). ProjectEandFcanstillbeboughinfull,but
sincevoterv
2
runoutofmoney,ρforprojectEdroppedto1/3. Now,projectDcaneitherbeboughtinfull
(withunequalpayments(66.6¯,66.6¯,66.6¯,40)andρ = 66.6¯/240 = 5 )orinpart: forα = 2/3withequal
18
payments(40,40,40,40)andρ = 1. Sincetheratioρ/αfortheformeroptionisloweranditisalsolower
4
thantheratioforotherprojects,BoundedOverspendingselectsprojectDwithunequalpayments.
15v v v v v v v v v v
1 2 3 4 5 6 7 8 9 10
b i 50 0 (−10) 0 (−10) 0 (−10) 0 (−10) 50 33.3¯ 33.3¯ 33.3¯ 0
Inthefifthround,theremainingbudgetis$160k. Wehavethefollowingreasonablevaluesofαandρ:
A B C D E F
α = 1,ρ – – – – – –
α = 5/6,ρ – – – – – 3/ 5
α = 2/3,ρ – – – – – 1/ 2
Hence,onlyprojectFcanbeboughtwhichisdoneforα = 5/6,ρ = 3/5(voterv
6
pays50outof83.3¯ that
supporters can cover) and ratio ρ/α = 18. As a result, the remaining budget is $60k, no project can be
25
addedandBOSterminates. ⌟
Asalreadynoted,ExtendedJustifiedRepresentation(EJR)isawellestablishedaxiomofproportionality
forPB.Weshowed(inExample2)thatBOSdoesnotsatisfyEJRinthePBsetting,undercostutilities.
EvenifBOScannotguaranteetogroupsofvotersexactlywhattheydeserveaccordingtotheaxiom, it
holdsthatBOSnotonlyachievesstrongproportionalitypropertiesinpractice(seeSection6),but,aswe
willnowprove,italsotheoreticallysatisfiesanapproximationofEJRfortheaforementionedsetting.
InlinewiththedefinitionofEJR,undercostutilities,foragroupofvotersS andasetofprojectsT,we
saythatS deservesasatisfactionofcost(T)if|S| ⩾ cost(T)n andallvotersinS approveallprojectsin
b
T. Aswearefocusingonthecaseofnotnecessarilyunitcosts,andassumingcostutilities,wewillpay
particularattentiontothefollowingapproximatenotionofEJR-up-to-oneproject—theaxiomknowntobe
satisfiablebytheMethodofEqualSharesinthesamesetting[10].
Definition2. Assumingcostutilities,wesaythatarulesatisfiesEJRuptot,ifforeveryelection(C,V,b),
andW beingtheoutcomeoftherulethefollowingholds: Foreachpair(S,T) ⊆ V×C suchthatS deserves
asatisfactionofcost(T),eitherthereisavoterisuchthatu(W) > cost(T)−cost(c),forsomec ∈ T \W,
i
orthereisavoterisuchthatu(W) ⩾ cost(T)−t.
i
Thefollowingtheoremisthemaintheoreticalcontributionofthesection.
Theorem4. Assumingcostutilities,BOSsatisfiesEJRupto n−|S| ·c∗,wherec∗ := max cost(c).
2|S| c∈C
Proof. Fix an arbitrary pair (S,T) ∈ V ×C such that S deserves cost(T) and, towards a contradiction,
say that EJR up to n−|S| · c∗, isn’t satisfied, or in other words that there is no voter i ∈ S such that
2|S|
u(W) > cost(T)−cost(c),forsomec ∈ T \W,andthereisnovoterisuchthatu(W) ⩾ cost(T)− n−|S| ·c∗.
i i 2|S|
Claim5. Ifthereisnovoteri ∈ S suchthatu(W) > cost(T)−cost(c),forsomec ∈ T \W,then,inevery
i
stepoftheexecutionofBOS,itholds ρ ⩽ 1 .
α |S|
Proof. Towardsacontradiction,supposethatintheconsideredstepacandidatecwasselectedfor ρ > 1 ,
α |S|
andwithoutlossofgeneralitysaythatthisisthefirststepthatthisishappening. Sincecisthefirstcandidate
forwhich ρ > 1 ,allpreviouscandidateswereboughtwith ρ ⩽ 1 . Consideranotyetpurchasedcandidate
α |S| α |S|
cˆ. Itissafetoassumethat,atthetimecisbeingbought,thereisavoterfromS,sayiwhohasspentstrictly
morethan b − cost(cˆ),orotherwisethevotersfromS wouldaltogetherhaveatleast|S|costcˆ) left,socˆ could
n |S| |S|
havebeenboughtforα = 1andρ = 1 ,sofor ρ = 1 . Wenowcomputethesatisfactionofvoteriwith
|S| α |S|
respecttoW. Bythefactthatanypurchasepriortocwasdoneforρ ⩽ 1 ,whichisduetothefactthat
|S|
αisupperboundedby1,wehavethatthesatisfactionofiwheneverpaying pwasincreasingby|S|· p.
Therefore,thesatisfactionofiattheconsideredstep,andhenceu(W) > |S|(b − cost(cˆ)) ⩾ cost(T)−cost(cˆ),
i n |S|
whichcontradictsthefactthattherearenosuchvoters. □
16Claim6. InthecasethatsomevotersareselectedtooverspendinaroundofBOS,thenthenumberof
votersthatwilloverspendisstrictlylargerthanhalfofthesizeofthegroupofvoterswhoareinvolvedin
thepurchaseofthatround.
Proof. Consider an arbitrary group S that consists of ν voters and we focus on a purchase of a single
candidate c that will be bought by voters in S. The voters from N can be partitioned in two groups:
thosewhoareeitheroverspendingorspendingalltheiravailablemoneyforbuyingc(i.e.,theywillnot
overspendinthefuture),andtheremainingvoters—thosewhowillhavemoneytospendinfuturerounds.
Supposethatthevotersofthefirstgroupofthepartitionareν manyandthoseofthesecondareν ,where
− +
|S| = ν +ν . Additionally,wedenotebyδthe(positive)totalamountofmoneythatvotersinS,meaning
− +
theν voters,willoverspendtowardsbuyingc. Thenalsosaythat pisthemaximumamountofmoneythat
−
avoterfromS willpayintheconsideredround,usedforthecomputationofthevalueρ. Computingαand
ρvaluesweget:
δ p ρ cost(c)p
α = 1− , ρ = , = .
cost(c) αcost(c) α (cost(c)−δ)2
Wenowconsideranotherwayofpurchasingcandidatec. Saythatunderthisway,thetotaloverspending,
tobedenotedbyδ′,oftheν votersisstrictlylessthanδ. Moreover,saythateachonefromtheν voters
− +
will pay exactly β more than before. The fact that they need to pay more than before follows from the
factthattheν votersneedtopaymorethanbeforeinordertocoverthecostofc. Again,wecall p′ the
+
maximumamountofmoneythatavoterfromS willpayintheconsideredroundtowardspurchasingc
undertheconsiderednewwayofpurchasingthecandidate. Wenowget:
δ′ p′ ρ cost(c)p′
α = 1− , ρ = , = .
cost(c) αcost(c) α (cost(c)−δ′)2
Usingthecomputedquantities,thefollowingsimplyholdsbythechoicemadebyBOS:
cost(c)p cost(c)p′ p p′ p+β
⩽ ⇔ ⩽ = ,
(cost(c)−δ)2 (cost(c)−δ′)2 (cost(c)−δ)2 (cost(c)−δ′)2 (cost(c)−δ+βν )2
+
wheretheequalityfollowsfromthefactsthat p′ = p+βandδ′ = δ−βν . Afterrearrangementweget:
+
β
p(cost(c)−δ+βν )2 ⩽ (cost(c)−δ)2(p+β) ⇔ (cost(c)−δ+βν )2 ⩽ (cost(c)−δ)2(1+ ).
+ +
p
But p ⩾ cost(c)−δ,astheactualcostofvotersinS willbeexactlycost(c)−δandwillbesplitamongtheν
ν
membersoftheset. Then, β +1 ⩽ νβ+cost(c)−δ ,sowehave
p cost(c)−δ
(cost(c)−δ+βν )2 ⩽ (cost(c)−δ)(νβ+cost(c)−δ) ⇔
+
(cost(c)−δ)2+2(cost(c)−δ)βν +β2ν2 ⩽ (cost(c)−δ)(νβ+cost(c)−δ).
+ +
By the fact that cost(c)−δ ⩾ 0, which holds as the overspending cannot be more than the cost of the
candidate,wealsohave
β2ν2
cost(c)−δ+2βν + + ⩽ νβ+cost(c)−δ ⇔
+ cost(c)−δ
βν2 βν2
2ν + + ⩽ ν ⇔ + ⩽ ν−2ν = 2ν −ν,
+ cost(c)−δ cost(c)−δ + −
wheretheequalitysimplycomesbythefactthatν = ν−ν whichholdsbydefinition. Sincetheleft-hand
+ −
side is non-negative we get that ν > ν, or ν = 0. In both cases, more than half of those in S are
− 2 +
overspending,andthiscompletestheproof. □
17Claim7. Ifthereisnovoteri ∈ S suchthatu(W) > cost(T)−cost(c),forsomec ∈ T \W,then,thetotal
i
voters’overspendingisatmost(n−|S|) c∗ .
2|S|
Proof. Saythatforeveryvoteri ∈ S itholdsthatu(W) ⩽ cost(T)−cost(c),forsomec ∈ T \W. Then,
i
we will show that the total overspending is at most (n − |S|)
c∗
. We begin by computing the average
2|S|
overspending of voters in the electorate, i.e. of voters in V \ S, as voters in S will never overspend
becausetheydohaveremainingmoneyattheendoftheprocedure,sinceforeachsuchavoteriitholds
u(W) < cost(T). Forthat,weconsideranysubsetofνvotersfromV\S thatareparticipatinginapurchase
i
atsomeiterationofBOSandwecalculatethemaximumtotaloverspendingthatthosevoterswilldo. As
ρ
discussedintheproofofClaim6andusingthenotationpresentedthere,thevalueof shouldbeequalto
α
cost(c)p ,while p ⩾ cost(c)−δ. Usingalsothefactthat ρ ⩽ 1 ,whichholdsduetoClaim5,thefollowing
(cost(c)−δ)2 ν α |S|
holdsbysubstitutionandrearrangement:
|S|
δ ⩽ cost(c)(1− ).
ν
Asaresult,votersinV \S willaltogetheroverspendatmostcost(c)(1− |S| ) ⩽ c∗(1− |S| ). ByClaim6,
ν ν
theaverageoverspendingisatmost:
ν−|S| ·c∗ 2c∗(ν−|S|) c∗
ν = ⩽ ,
ν ν2 2|S|
2
wheretheinequalityfollowssimplybythefactthatν2−4|S|ν+4|S|2 ⩾ 0. □
Initially,groupS hadatotalbudgetof
b|S|
. Afteraccountingforthemaximumpossibleoverspendingby
n
thevotersinV \S,theremainingamountthatgroupS hastospendontheirapprovedcandidatesisatleast:
b|S| (n−|S|)c∗ (n−|S|)c∗
− ⩾ cost(T)− .
n 2|S| 2|S|
Therefore,theutilityofeveryvoterinS isatleastcost(T)−
(n−|S|)c∗
,contradictingtheinitialassumption
2|S|
andconcludingtheproofofthetheorem. □
WecomplementTheorem4withtheresultthatfollows,showingthatinorderforagroupofvotersto
receiveasatisfactoryapproximationofwhattheydeserve,theyshouldbeofsignificantlylargesize.
√
Proposition8. UnderBOS,agroupofsize 5−1n,i.e.,approximately62%oftheelectorate,thatapproves
2
acandidatecsuchthatcost(c) = b,isabletocontroltheentirebudget,regardlessofthepreferencesofthe
remainingvoters.
√
Proof. Consider an instance where a group S of size 5−1n approves a common candidate c such that
2
cost(c) = b, and only this. Those voters can altogether spend |S|b. A fraction α of the cost of c can be
n
coveredbytheircontribution:
|S|b |S|
α = n = .
b n
SinceallvotersinS wouldideallypayequally,ρ = 1 ,wecancomputetheratio ρ forbuyingcasfollows:
|S| α
ρ n 2
= = √ .
α |S|2 (3− 5)n
SupposenowthatasetS′oftheremainingvotersarewillingtopurchaseacommonlyapprovedcandidate.
√ √
Itholdsthat|S′| ⩽ n−|S| = n−( 5−1)n = (3− 5)n. Computingtheρvalueforthecommonlyapproved
2 2
18candidatewehaveρ ⩾ 1 . Supposethatanαfractionofthecandidateisbeingconsidered. Since 1 ⩾ 1
n−|S| α
thefollowingholds:
ρ 1 2
⩾ ⩾ √ .
α n−|S| (3− 5)n
Therefore,underasuitabletie-breakingrule,BOSwillprioritizecoveranyothercandidate,whichwill
resultinexhaustingtheentirebudget. Thisleavesnoguaranteethattheremainingn−|S|voterswillbe
satisfiedwithrespecttoatleastonecandidateintheoutcomeofBOS,regardlessoftheirpreferences. □
Motivated by Proposition 8, we aim to guarantee good proportionality in the absence of very large
projects. A natural framework where this is the case is the setting of approval committee elections.
Therefore,concludingthissection,wewillfocusonthisparticularlysignificantcase. There,wesaythat
agroupofvotersS deservesℓrepresentatives,ℓ ∈ N,if|S| ⩾ ℓ· n andifthevotersfromS unanimously
b
approve at least ℓ common candidates. An election rule having W as an outcome satisfies EJR in the
committee election setting if, for every group S deserving ℓ representatives, there is at least one voter
v ∈ S with|W ∩A| ⩾ ℓ. InanalogytoDefinition2,wesaythatarulesatisfiesEJRuptotcandidatesif
i i
foreveryelection(C,V,b),andW beingtheoutcomeoftherule,thefollowingholds: ForeverygroupS
thatdeservesℓrepresentativesthereisatleastonevoteri ∈ S with|W ∩A| ⩾ ℓ−t. Onthenegativeside,
i
andstrengtheningtheresultfromExample2,wewillfirstprovethatnotonlythefailureofEJRcanhappen
evenincommitteeelectionswithapprovalutilities,butBOScanfailtosatisfyEJRevenuptoℓcandidates.
Theorem9. Foranyℓ,BOSfailsEJRuptoℓcandidates,meaningthatthereexistsaninstanceonwhich
BOSreturnsasolutionthatincurssatisfactionof0toallvotersfromasetdeservingℓcandidates,andthis
holdsevenforcommitteeelectionsandapprovalutilities.
Proof. Fixanℓ ⩾ 1andconsiderthefollowinginstanceofcommitteeelectionsandapprovalutilitieswith
|V| = 4ℓ2+ℓvotersand|C| = 4ℓ2+2ℓcandidates(denotedasc ,c ,...,c ),whereb = 4ℓ2+ℓ.
1 2 4ℓ2+2ℓ
• The first ℓ voters, referred to as group V , approve the first ℓ candidates forming the set C =
1 1
{c ,c ,...,c }.
1 2 ℓ
• Theremaining4ℓ2 voters,referredtoasgroupV ,allapprove4ℓ2−ℓcommoncandidates,forming
2
thesetC
2
= {c ℓ+1,c ℓ+2,...,c 4ℓ2}. Moreover,these4ℓ2 votersarefurtherdividedinto2ℓsubgroups,
V(1),V(2),...,V(2ℓ),eachconsistingof2ℓvoterswhoeachapproveoneoftheremaining2ℓcandidates,
2 2 2
formingthesetC = {c ,c ,...,c }.
3 4ℓ2+1 4ℓ2+2 4ℓ2+2ℓ
According to the EJR, the voters in V are entitled to ℓ candidates, since they all approve the same set
1
of ℓ candidates and |V | ⩾ ℓ· |V| = ℓ. However, we will demonstrate that the outcome of BOS will not
1 b
includeanycandidatesfromC = ∪ A. UnderBOS,eachvoterstartswithaunitbudgetinthisinstance.
1 vi∈V1 i
PurchasingacandidatefromC requiresρ = 1 andα = 1. Conversely,purchasingacandidatefromC
1 ℓ 2
requiresρ = 1 andα = 1. Finally,purchasingacandidatefromC requiresρ = 1 andα = 1.
4ℓ2 3 2ℓ
Iterativelyselectingall4ℓ2−ℓcandidatesfromC leaveseachvoterinV witharemainingbudgetof
2 2
1−(4ℓ2−ℓ)· 1 = 1. Atthisstage,purchasingacandidatefromC stillrequiresρ = 1 andα = 1,whereas
4ℓ2 4ℓ 1 ℓ
purchasingacandidatefromC requiresρ = 1 andα = 1,whichinbothcasesresultsin ρ = 1. Therefore,
3 2ℓ 2 α ℓ
BOSmaychooseanycandidatefromC orC . BreakingtiesinfavorofC ,ultimately,BOSwillselect
1 3 3
allcandidatesfromC andC beforeexhaustingthebudgetbwhichequals|C |+|C |. Consequently,the
2 3 2 3
solutionwillbeC\C ,provingthestatement. □
1
Onthepositiveside,theresultfromTheorem4immediatelygivesasignificantguaranteeregardingthe
proportionalityoftheruleinthecommitteeelectionssetting,asthefollowingcorrolaryindicates. Asan
√
example,accordingtoitsapproximation,ifagroupdeserves brepresentatives,thenBOScanguarantee
√
them b/2candidates. Whenthesizeofthegroupincreases,theguaranteebecomesevenbetter.
19(cid:108) (cid:109)
Corollary10. BOSsatisfiesEJRupto b−ℓ candidates,intheapprovalcommitteeelectionssetting.
2ℓ
WeconcludethesectionnotingthatdespitethefactthattheresultofCorollary10mayappearlooseor
ignoranttopreferencesofsmallergroupsofvoters,itis(almost)tight. AsacorollaryofTheorem9wecan
getthatitisnotpossibletoguaranteeanythingbetterthanamultiplicativefactorof2awayoftheclaimed
bound,i.e.,betterthanEJRupto 1b−ℓ candidates.
2 2ℓ
Observation11. IfagroupS deservesℓcandidatesinthecommitteeelectionssetting,itisnotpossibleto
guaranteethattherewillbeavoterinS havingasatisfactionofmorethanℓ− 1b−ℓ fromtheoutcomeof
2 2ℓ
BOS.
Proof. Supposethatwecouldguaranteemorethanℓ− 1b−ℓ foragroupdeservingℓ. Thenconsiderthe
2 2ℓ
instance from the proof of Theorem 9. In that, the voters from V deserve ℓ and b = 4ℓ2 + ℓ. Then
1
ℓ− 1b−ℓ = ℓ− 14ℓ2+ℓ−ℓ = 0 and indeed they receive exactly 0 under BOS. So, as claimed, one cannot
2 2ℓ 2 2ℓ
proveaguaranteeofmorethanℓ− 1b−ℓ. □
2 2ℓ
5.1 Bounded Overspending Plus
WhileBOSsolvesmultipleproblemsofEqualShares,onecanstillarguethatitisnotalwaysevidentthatit
producesthemostdesirableoutcome.
Example4: SelectingUnpopularProjects.Consideranelectionwithm = 310unit-costcandidates,and
n = 1000voters. Thebudgetisb = $10. Votersv ,...,v approvetenprojectsA toA ,andeachvoter
1 700 1 10
fromv tov approvesasingleprojectfromB toB ; eachsuchprojectisapprovedbyonlyone
701 1000 1 300
voter:
cost v ... v v ... v
1 700 701 1000
ProjectA $1 ¸ ¸ ¸
1
... $1 ¸ ¸ ¸
ProjectA $1 ¸ ¸ ¸
10
ProjectB $1 ¸
1
... $1 ¸
ProjectB $1 ¸
300
ConsiderhowBOSoperatesonthisinstance. First,itwouldbuysevenA-projects. Afterthat,votersv to
1
v wouldnothaveanymoneyleft,soBOSwouldadditionallybuythreeB-projects. Inturn,theMethod
700
ofEqualShareswouldbuyonlysevenA-projects,butitsAdd1UvariantwouldselectalltenA-projects: it
wouldreturntheoutcomeobtainedfortheinitialendowmentequaltob = $(1−ε). ⌟
ini
MotivatedbythisobservationweintroducearulecombiningthekeyideasofBOSandtheAdd1UEqual
Shares.
BoundedOverspendingPlus(BOS+) Ineachroundwefirstfindthe(α,ρ)-affordablecandidatecthat
minimisesρ/α,asinstandardBOS.However,ifbuyingcandidatecrequiresoverspending,wedo
not buy it, but look for a better candidate that would not overspend more. Specifically, given the
maximaloverspendingofbuyingcis
(cid:32) (cid:33)
min(b,α·ρ·u(c))
∆b = max i i −b ,
i
vi∈V α
wetemporarilysetb := b +∆bandpickthe(1,ρ)-affordableprojectthatfitswithinthebudgetand
i i
minimisesρ. Wechargethevoters’,revokethetemporaryincreaseoftheirentitlements,andproceed.
201.40 1.00
1.30 0.95
1.20 0.90
1.10 0.85
1.00 0.80
1–8 9–16 17–28 29+ 1–8 9–16 17–28 29+
numberofprojects numberofprojects
0.30
101
0.25 100
10−1
0.20
10−2
0.15 10−3
10−4
0.10
1–8 9–16 17–28 29+ 1–8 9–16 17–28 29+
numberofprojects numberofprojects
Figure1:Averagerunningtimeinseconds(top-left),exclusionratio(top-right),scoresatisfaction(bottom-
left),andcostsatisfaction(bottom-right)oftheoutputsoftheconsideredrulesbasedonPabulib
data by the number projects in an instance. Cost and cardinality satisfactions are reported
as fractions of the respective satisfaction under utilitarian rule. Thin vertical lines mark 90%
confidenceintervals.
ObservethatBOS+wouldselecttenA-projects: everyattempttobuyprojectBwouldincreaseinitial
endowmentsofvotersv –v andallowthemtobuyyetanotherA-project. Notealsothatthisexample
1 700
highlightsthefactthattheoptimaloutcomemaydependonaspecificsituationitisusedin. Indicatively,if
theelectionmethodisusedforselectingvalidatorsinablockchainprotocol,thereisparticularconcern
aboutnotover-representinggroupsofvotersorgivingthemtoomuchvotingpower[4]. Hence,BOSseems
bettersuitedforsuchapplications. However,iftheinstancewasfromparticipatorybudgetingelections
conducted by municipalities, the outcome produced by BOS+ appears to be much more aligned with
expectations.
6 Empirical Analysis
Finally,westudyourrulesempiricallyonreal-worldparticipatorybudgetingdatafromPabulib[6]andon
syntheticEuclideanelections.
6.1 Pabulib Instances
WecomputedtheoutcomesoftheUtilitarian,EqualShares(withAdd1Ucompletion),FrES,BOS,and
BOS+acrossall991PBinstancesinPabulib. Tocompareperformance,weanalyzedfourstatistics: core
satisfaction,costsatisfaction,exclusionratio,andEJR+violations. Forthefirstthree,weobservedthat
thebehaviorlargelydependsontheinstancesize,definedasthenumberofprojects. Thus,wedividedthe
instancesintofoursizeranges, aimingforrangeswithan(almost)equalnumberofinstances. Figure1
showstheaverageofeachmetricbyruleandsizerange.
21
.taserocs
.ler
oitarnoisulcxe
.tastsoc
.ler
).s(emitgninnurScoreandCostSatisfactions. Thesemetricsassessthetotalutilityfromtheselectedprojectsbased
on score and cost utility measures. In Figure 1, the values are normalised against the Utilitarian Rule.
For score satisfaction, in medium and large instances, Equal Shares, BOS, and BOS+ yield similar
and significantly higher results than FrES and Utilitarian; for small instances, the performance of all is
comparable. Regardingcostsatisfaction,Utilitarianconsistentlyoutperformsallothersacrossallinstances.
Indeed, it can be considered a greedy method maximising cost satisfaction objective. Yet, importantly,
BOS,BOS+,andFrESoutperformEqualSharesinsmallandmediuminstances. Notably,BOS+performs
asgoodasBOSandFrESforthesmallerinstancesandsurpassesthemforthelarger.
ExclusionRatio. Thismetricrepresentsthefractionofvoterswhodonotsupportanyoftheselected
projects. Formediumandlargeinstances,BOSandBOS+performsimilarlyandtheutilitarianapproach
excludessignificantlymorevotersonaverage. Interestingly,forthesmallestinstances,itisEqualShares
that performs considerably worse than the others. This is due to small instances often resembling the
HelenkaParadox(seeSection3). ForFrES,theexclusionratioisalwayszero,sowedonotincludeit.
EJR+Violations. EJR+isoneofthestrongestsatisfiableproportionalityaxioms,strictlystrongerthan
EJR[3]. Itssatisfactioncanbeefficientlyverified,makingitasuitablemetricforempiricalcomparisonof
theproportionalityofdifferentrules. Unfortunately,todate,itisdefinedonlyforapprovalballots,thus
welimitouranalysistosuchinstances. Onahighlevel,foreachunselectedcandidateinanelection,we
saythatitviolatesEJR+uptoone(weactuallycountviolationsofthisestablishedrelaxation[3]),ifitis
approvedbyasufficientlylargegroupofvoterseachofwhomisinadequatelysatisfiedbytheoutputofa
rule. ForEqualShares, itisknownthatitsoutcomecannothaveanyviolations. Incontrast, Utilitarian
averages0.933violationsperinstance, settingitapartfromBOSandBOS+, averagingonly0.046and
0.051,respectively. Thisindicatesthatalthoughourrules,intheory,donotguaranteeEJR+uptoone,they
almostalwaysyieldproportionalsolutionsaccordingtothisstrongaxiom.
In Table 2, we report the mean values of statistics presented in Figure 1 in Section 6 together with
standarddeviationsandfivequantiles. Inthesametable,wealsopresentthe p-valuesforthesignificance
ofthedifferencesbetweentheaveragevaluesofstatisticsforeachpairofrules. Wenotethattheyarevery
small,rarelyexceeding0.05,whichmeansthatalmostalltheobserveddifferencesbetweenthebehaviorof
therulesarestatisticallysignificant.
Finally,inFigure1wepresentalsotheaveragerunningtimes. Notethatthey-axisisinalogarithmic
scale. The plot shows that BOS and BOS+ are an order of magnitude faster than Equal Shares. This
isbecauseEqualShareswithAdd1Ucompletion, requirescomputingtheoutcomemultipletimesuntil
thefinalvalueofvoterendowmentsisestablished,whichisnotneededfortheotherrules. Therunning
timeforFrESgrowsmuchmoresharplywiththeinstancesizeincreasethanfortheotherrules. Thiscan
beexplainedbythefactthatFrESinvolvesmakingmultipledecisionsaboutfractionalpurchasesrather
thanselectingwholeprojects. TherunningtimesreportedherearebasedoncomputationinPythonona
MacBookAirlaptopwithanAppleM3processorand16GBofRAM.
6.2 Euclidean Instances
Tofurtherillustratethedifferencesbetweentheexaminedrules,weanalyzethemusingsyntheticEuclidean
elections,asdepictedinFigure2. ThisexperimentagainhighlightsthatBOSoffersmoredesirableresults
thanEqualShares.
Intheexaminedsetting,eachvoterandcandidateisrepresentedasapointina2Dspace. Theutilityof
voterv forcandidatecisdefinedasu(c) = (dist(v,c)+λ)−1,wheredist(v,c)istheEuclideandistance
i i i i
between them, and the denominator is shifted by the constant of λ to bound the maximal utility. We
presenttheresultsforλ = 1, butwealsocheckedothervaluesandtheyleadtosimilarconclusion. For
22Statistics Scoresatisfaction Costsatisfaction Exclusionratio
No. projects 1–8 9–16 17–28 29+ 1–8 9–16 17–28 29+ 1–8 9–16 17–28 29+
mean 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000 0.234 0.229 0.165 0.193
std 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.208 0.220 0.175 0.164
q10 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000 0.000 0.013 0.005 0.046
Util. q25 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000 0.038 0.052 0.043 0.086
q50 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000 0.193 0.160 0.109 0.146
q75 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000 0.386 0.357 0.222 0.236
q90 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000 0.546 0.592 0.394 0.375
mean 0.985 1.119 1.221 1.342 0.821 0.839 0.844 0.857 0.262 0.216 0.130 0.133
std 0.212 0.562 0.464 0.685 0.306 0.234 0.168 0.113 0.233 0.218 0.156 0.158
q10 0.805 0.957 0.997 1.036 0.261 0.429 0.620 0.713 0.000 0.005 0.001 0.019
MES q25 1.000 1.000 1.000 1.101 0.778 0.761 0.771 0.824 0.032 0.046 0.021 0.044
q50 1.000 1.000 1.113 1.254 1.000 0.968 0.895 0.887 0.213 0.137 0.071 0.076
q75 1.000 1.074 1.275 1.448 1.000 1.000 0.971 0.930 0.456 0.323 0.170 0.154
q90 1.039 1.336 1.540 1.652 1.000 1.000 1.000 0.960 0.594 0.584 0.381 0.285
mean 1.025 1.132 1.206 1.302 0.936 0.917 0.880 0.874 0.229 0.201 0.120 0.124
std 0.157 0.542 0.435 0.683 0.173 0.152 0.147 0.089 0.207 0.204 0.149 0.157
q10 0.994 0.987 1.000 1.000 0.787 0.716 0.683 0.764 0.000 0.004 0.001 0.017
BOS q25 1.000 1.000 1.000 1.078 1.000 0.882 0.831 0.820 0.028 0.042 0.022 0.034
q50 1.000 1.000 1.088 1.211 1.000 1.000 0.924 0.887 0.187 0.129 0.070 0.067
q75 1.000 1.037 1.261 1.385 1.000 1.000 0.993 0.944 0.388 0.305 0.147 0.147
q90 1.000 1.332 1.497 1.596 1.000 1.000 1.000 0.977 0.533 0.486 0.349 0.262
mean 1.026 1.134 1.213 1.307 0.937 0.921 0.892 0.910 0.230 0.202 0.125 0.140
std 0.156 0.547 0.439 0.591 0.173 0.151 0.145 0.083 0.206 0.204 0.150 0.155
q10 1.000 1.000 1.000 1.006 0.787 0.716 0.708 0.809 0.000 0.005 0.001 0.025
BOS+ q25 1.000 1.000 1.000 1.083 1.000 0.885 0.848 0.874 0.037 0.038 0.023 0.047
q50 1.000 1.000 1.099 1.218 1.000 1.000 0.950 0.925 0.187 0.131 0.071 0.088
q75 1.000 1.037 1.260 1.392 1.000 1.000 1.000 0.964 0.388 0.305 0.161 0.168
q90 1.000 1.332 1.508 1.600 1.000 1.000 1.000 0.995 0.533 0.486 0.349 0.306
mean 1.011 1.010 1.001 1.027 0.953 0.923 0.904 0.860 0.000 0.000 0.000 0.000
std 0.236 0.438 0.335 0.405 0.147 0.159 0.138 0.100 0.000 0.000 0.000 0.000
q10 0.777 0.780 0.762 0.763 0.768 0.693 0.772 0.725 0.000 0.000 0.000 0.000
FrES q25 0.927 0.859 0.872 0.893 0.896 0.844 0.847 0.825 0.000 0.000 0.000 0.000
q50 1.000 0.958 0.959 1.002 0.977 0.953 0.920 0.880 0.000 0.000 0.000 0.000
q75 1.053 1.020 1.057 1.119 1.000 1.009 0.976 0.934 0.000 0.000 0.000 0.000
q90 1.160 1.212 1.245 1.255 1.098 1.074 1.009 0.960 0.000 0.000 0.000 0.000
Util. vs. MES 0.124 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.017 0.000 0.000
Util. vs. BOS 0.005 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.061 0.000 0.000 0.000
Util. vs. BOS+ 0.003 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.110 0.000 0.000 0.000
Util. vs. FrES 0.221 0.355 0.475 0.148 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
MESvs. BOS 0.000 0.062 0.005 0.000 0.000 0.000 0.000 0.003 0.000 0.000 0.000 0.000
MESvs. BOS+ 0.000 0.029 0.086 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.008 0.000
MESvs. FrES 0.035 0.000 0.000 0.000 0.000 0.000 0.000 0.269 0.000 0.000 0.000 0.000
BOSvs. BOS+ 0.014 0.021 0.000 0.239 0.094 0.013 0.000 0.000 0.024 0.001 0.000 0.000
BOSvs. FrES 0.123 0.000 0.000 0.000 0.119 0.330 0.013 0.043 0.000 0.000 0.000 0.000
BOS+vs. FrES 0.105 0.000 0.000 0.000 0.131 0.436 0.135 0.000 0.000 0.000 0.000 0.000
Table2:DetailedvaluesofstatisticsfromrunningourrulesoninstancesfromPabulib. Inthefirst35rows,
foreachrule,statistic,andsizerange,weprovidetheaverage,standarddeviation,median,1stand
3rdquartile,aswellas10thand90thcentileoftheobservedvaluesofthestatistic. Inthelast10
rows,wepresent p-valuesforthesignificanceofthedifferencebetweentheaverageoutputofa
givenpairofrules.
23Voters Utilitarian EqualShares BOS BOS+ FrES
Figure2:ResultsonEuclideanelections. Thefirstcolumnpresentsthesuperimposedpositionsofvoters
inallgeneratedelectionsandthefollowingshowpositionsofcandidatesselectedbyrespective
rules(forFrES,theopacityofapointisproportionaltotheselectedfractionofthecandidate).
each election, we randomly placed 150 candidates in a unit square and considered three different voter
distributions. Inthefirst,100votersweredrawnuniformlyfromtherectangle(0.05,0.05)−(0.4,0.95)and
50from(0.6,0.05)−(0.95,0.95). ThesecondandthirdusedGaussiandistributionsfor x-coordinates: 100
voterscenteredat0.25and50centeredat0.75. Intheseconddistribution,y-coordinatesweredrawnfrom
aGaussiancenteredat0.5,whileinthethird,theyweredrawnfromabetadistributionwitha = 1.5and
b = 3,pushingmorevoterstothebottomofthesquare. Thecostpercandidatewassetto1,andthebudget
to10. Wesampled1000electionsperdistributionandwereportthefindingsforUtilitarian,EqualShares,
BOS,BOS+,andFrESmethods.
The Utilitarian Method selects only candidates from the left side of the square. Equal Shares, BOS,
BOS+, and FrES also select candidates from the right side but less than 1/3 of the total, which is the
proportionofthevotersthere. Thisisbecauseright-sidevotersgainsomeutilityfromleft-sidecandidates,
thusspendingpartoftheirbudgetonthem. Inthethirddistribution,EqualSharesselectscandidatesfrom
thetop-rightpartofthesquare,whichhasfewervoters,whileBOSandBOS+choosecandidatesfromthe
bottom-right,wherethereisgreateroverallsupport. BOS+andBOSgenerallyoutputverysimilarsetsof
candidates,withBOS+givingabitmoreconcentratedoutputs. FrES’sselectioncloselymirrorsthatof
BOS,particularlyinthelasttwodistributions,reinforcingtheviewthatBOSisaroundingofFrES.
7 Conclusion
WehaveintroducedtheMethodofEqualShareswithBoundedOverspending(BOS),arobustvariantof
theMethodofEqualShares,alongwithitsrefinedversion,BOS+. Wehaveidentifiedinefficienciesinthe
originalmethod,illustratedbysimplewell-structuredexamplesandsupportedbytheanalysisofreal-life
data. Specifically,wehaveshownthatEqualSharesunderperformsinsmallPBinstances. BOSeffectively
handlesalltypesofinstances,inparticularsolvingtheproblematicissuesofEqualShares. Ournewrule
maintainsstrongfairnessproperties,whichwehaveconfirmedboththeoreticallyandinexperiments. Inthe
processofdevelopingBOS,wehavealsointroducedFrES,afractionalvariantofEqualSharesforthePB
modelwithadditiveutilities. Futureresearchwillfocusonprovingtheoreticalproportionalityguarantees
forBOS+andrefiningournearlytightguaranteesforBOS.
24Acknowledgements
T.Wa˛swaspartiallysupportedbyEPSRCundergrantEP/X038548/. Therestoftheauthorswerepartiallysupported
bytheEuropeanUnion(ERC,PRO-DEMOCRATIC,101076570). Viewsandopinionsexpressedarehoweverthose
oftheauthorsonlyanddonotnecessarilyreflectthoseoftheEuropeanUnionortheEuropeanResearchCouncil.
NeithertheEuropeanUnionnorthegrantingauthoritycanbeheldresponsibleforthem.
References
[1] Aziz,H.,Brill,M.,Conitzer,V.,Elkind,E.,Freeman,R.,andWalsh,T.(2017). Justifiedrepresentation
inapproval-basedcommitteevoting. SocialChoiceandWelfare,48(2):461–485.
[2] Bei,X.,Lu,X.,andSuksompong,W.(2024). Truthfulcakesharing. SocialChoiceandWelfare,pages
1–35.
[3] Brill,M.andPeters,J.(2018). Robustandverifiableproportionalityaxiomsformultiwinnervoting. In
Proceedingsofthe24thACMConferenceonEconomicsandComputation(EC-2023),page301.
[4] Cevallos, A. and Stewart, A. (2020). A verifiably secure and proportional committee election rule.
TechnicalReportarXiv:2004.12990[cs.DS].
[5] Fain,B.,Goel,A.,andMunagala,K.(2016). Thecoreoftheparticipatorybudgetingproblem. InWeb
andInternetEconomics: 12thInternationalConference,WINE2016,Montreal,Canada,December
11-14,2016,Proceedings12,pages384–399.Springer.
[6] Faliszewski,P.,Flis,J.,Peters,D.,Pierczynski,G.,Skowron,P.,Stolicki,D.,Szufa,S.,andTalmon,
N.(2023). Participatorybudgeting: Data,toolsandanalysis. InProceedingsofthe32ndInternational
JointConferenceonArtificialIntelligence(IJCAI-2023),pages2667–2674.
[7] Faliszewski,P.,Skowron,P.,Slinko,A.,andTalmon,N.(2017). Multiwinnervoting: Anewchallenge
forsocialchoicetheory. InEndriss,U.,editor,TrendsinComputationalSocialChoice.AIAccess.
[8] Lackner,M.andSkowron,P.(2023). Multi-WinnerVotingwithApprovalPreferences. SpringerBriefs
inIntelligentSystems.Springer.
[9] Lu,X.,Peters,J.,Aziz,H.,Bei,X.,andSuksompong,W.(2024). Approval-basedvotingwithmixed
goods. SocialChoiceandWelfare,pages1–35.
[10] Peters, D., Pierczyn´ski, G., and Skowron, P. (2021). Proportional participatory budgeting with
additive utilities. In Proceedings of the Thirty-fifth Conference on Neural Information Processing
Systems(NeurIPS-2021),pages12726–12737.
[11] Peters, D. and Skowron, P. (2020). Proportionality and the limits of welfarism. In Proceedings
of the 2020 ACM Conference on Economics and Computation, pages 793–794. Extended version
arXiv:1911.11747.
[12] Rey, S. and Maly, J. (2023). The (computational) social choice take on indivisible participatory
budgeting. TechnicalReportarXiv:2303.00621.
25