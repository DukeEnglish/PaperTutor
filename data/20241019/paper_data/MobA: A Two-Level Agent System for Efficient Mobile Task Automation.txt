O MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation
M B
A
ZICHENZHU∗,HAOTANG†,YANSILI†,KUNYAOLAN,YIXUANJIANG,HAOZHOU,YIXIAO
WANG,SITUOZHA获取 N观测 G,手 L动修正 IANGTAISUN,LUCHEN‡,andKAIYU‡,
ShanghaiJiaoTongUniversity,
China 接收反馈 请求介入
界面捕捉 本地决策 自动学习
云端决策
指令执行 辅助决策
终终端端模模型型 云端模型
① Memory
⑤ Module App Memory ⑥
1 2 3 4 5 User Memory
User Global Plan Task Memory
Expert
Agent 3-1 3-2 3-3 5-1 5-2 Module
Reflect
Reflection Plan
Reflect Module ②
Execution
O
④
M B Local Action
TTS ③
GUI Agent Module
A Interface
ASR
Fig.1. TheIllustrationofSystemOverviewofMobA.(1)TheUsergiveacommandandreceivetheresponsefromMobAiffurther
instructionsarerequiredorthetaskiscompleted.(2)TheGlobalAgent(GA)actsastheuser’sinterpreter,whichcomprehendsthe
user’scommandanddecomposesthetaskintoseveraleasierandclearersub-tasksthroughthePlanModule.(3)TheLocalAgent
(LA)actsasthecontrollerofthescreen,decidesandexecutestheactionwiththeActionModule.(4)TheReflectionModuleverifies
whetherthesub-taskiscompletedbypreviousexecution,anditalsoreflectswhetherthesub-goalcanbecompletedafterplanned
andbeforeexecutedbyLA.(5)TheMemoryModuleprovidesandupdatesin-contextinformation,suchastherelevanthistorical
experienceofpreviouscommandsandknowledgeabouttheuserandinstalledapplications.(6)TheoptionalExpertisahumanthat
initializesseveralbasicmemoriesforthewarmstartup.
CurrentsmartassistantsonmobilephonesareoftenlimitedbydependenceonAPIsofsystemandthird-partyapplications.Atthe
sametime,model-basedscreenagentsstrugglewithdiverseinterfacesandcomplexcommands,duetorestrictedunderstandingand
decision-makingabilities.Toaddressthesechallenges,weproposeMO ABMobA,anovelMobile-phoneAgentempoweredbymultimodal
largelanguagemodelsthatenhancescomprehensionandplanningcapabilitiesthroughasophisticatedtwo-levelagentarchitecture.
获取观测 手动修正
Thehigh-levelGlobalAgent(GA)interpretsusercommands,manageshistory,andplanstasks,whilethelow-levelLocalAgent
(LA)executespreciseactionsasfunctioncallsbasedonsub-tasksandm指界 令面 执捕 行捉 e接收 m反 终终馈 端端模模型型本地决 o策 云端 r决请 策求介 i入 云端模e型s自 辅动 助学 决习 策fromGA.Byincorporatingadouble-reflection
mechanism,MobAefficientlyhandlestasks,eventhosepreviouslyunseen.MobAdemonstratessignificantimprovementsintask
executionefficiencyandcompletionrateinreal-lifeevaluations,underscoringthepotentialofMLLM-empoweredmobileassistants.
∗ProjectLeader.
†Corecontributors.
‡Corresponingauthors.
Authors’address:ZichenZhu,JamesZhutheThird@sjtu.edu.cn;HaoTang,tangh55@sjtu.edu.cn;YansiLi,yansi_li@sjtu.edu.cn;KunyaoLan,lankunyao@
sjtu.edu.cn;YixuanJiang,1270645409@sjtu.edu.cn;HaoZhou,wewea00@sjtu.edu.cn;YixiaoWang,sjtuwangyx@sjtu.edu.cn;SituoZhang,situozhang@
sjtu.edu.cn;LiangtaiSun,slt19990817@sjtu.edu.cn;LuChen,chenlusz@sjtu.edu.cn;KaiYu,kai.yu@sjtu.edu.cn,ShanghaiJiaoTongUniversity,Minhang
District,Shanghai,China.
1
4202
tcO
71
]AM.sc[
1v75731.0142:viXra2 Zhuetal.
CCSConcepts:•Computingmethodologies→Mobileagents;Multi-agentsystems;Planningfordeterministicactions;•Human-
centeredcomputing→Interactiontechniques;Usabilitytesting.
AdditionalKeyWordsandPhrases:Agent,MultimodalLargeLanguageModel,GraphicUserInterface,MobileDeviceAssistant
1 INTRODUCTION
Multimodallargelanguagemodels(MLLMs)haveexperiencedrapiddevelopmentinrecentyears,drivenbytheir
trainingonvastamountsofmultimodaldata.Thesemodels[4,5,7,12,24,25,32,41,43,60–62,69]arenotonlyhighly
alignedwithhumanpreferencesinunderstandingandgeneratingcontentbutalsodemonstrateemergentabilities
suchasChain-of-Thought(CoT)reasoning[51]andIn-ContextLearning(ICL)[3].Consequently,MLLMshavebeen
widelyadoptedinvarioustasks,includingstructuredrich-contentunderstandingandreasoning[49,50],multimodal
recognitionandcontentcreation[6,10,26,33,53],andnumerousindustryapplications[17,35,37].
TheriseofMLLMshasalsorevolutionizedthedevelopmentofagentsystems.Comparedtotraditionaldialogueor
controlsystems[19,21],MLLM-basedagentspossesssignificantlyenhancedcapabilitiesforenvironmentobservation,
taskdecomposition,andactiondecision-making.Theseagentsarebecomingincreasinglyprevalentacrossembodied
robotsandvirtualenvironmentmanipulations.Amongthese,mobilephoneassistantsrepresentatypicalandwidely
usedtypeofagentsystem.However,unlikeagentsoperatinginvirtualorartificiallyconstructedtestenvironments,
mobileassistantsmusthandleoperationsinhighlydynamicandunpredictablereal-worldGraphicUserInterface(GUI)
environments,interpretingcomplexuserinstructions,whichpresentsseveraluniquechallenges.
Firstly,mobileinterfacesareoftenclutteredwithinformationthatvariesacrossdifferentoperatingsystems,applica-
tions,andevenwithtime.Moreover,theseinterfacesfrequentlycontaintask-irrelevantdistractionssuchaspop-up
notificationsorads.Secondly,similartasksmayrequiredifferentexecutionmethods(e.g.,settinganalarmmight
involvescrollingtoselectordirectlyenteringnumbers).Thirdly,userinstructionscanbeambiguousorcolloquial
(e.g.,"DoIneedtobringanumbrellatomorrow?"ratherthan"Checktherainprobabilityoftomorrowintheweather
application."),makingitharderfortheassistanttointerprettheuser’sintentaccurately.
Traditionalmobileassistants,whichrelyonslot-fillingtechniquesandAPIcalls,oftenfailtohandlethesecomplex
scenarioseffectively.End-to-endpre-trainedmodels[40,63,70],whilecapableinsomepre-trainedcases,cannot
adaptandlearnfromnewenvironmentsdynamically.Bothmethodologiesstruggletohandlecomplexscenariosand
lackversatilityacrossdiverseapplicationsandtasks.Incontrast,MLLMs,withstrongcapabilitiesinunderstanding,
reasoning,decision-making,andself-reflection,presentapromisingdirectionforservingaseffectivemobileassistants.
RecentresearcheffortshaveintroducedseveralMLLM-basedagentsystemsthatutilizetheCoTcapabilitiesofMLLMs
toplantasks,simulateactionssuchasscreenclicks,anddeterminenextstepsbasedonexecutionresults[27,31,46,47,
64,65].Thesesystemscanoperateonphysicalmobiledevicesandhaveshownpromisingresultsoneverydaytasks,
demonstratingthepowerfulreasoningabilityandrobustgeneralizationofMLLMs.However,severallimitations[31,56]
existinthesesystems:(1)Agentsoftensuccessfullycompletetheoveralltaskbutoverlookorincorrectlyexecutefiner
details(e.g.,settinga7:30PMsilentalarmbutforgettingtomutetheringtone).(2)Agentsmaymissexecutingnecessary
butunstatedactionsbasedoncommonsense(e.g.,forgettingtoclick"Save"aftersettinganalarm).(3)Agentsmay
reflectthatataskhasnotbeensuccessfullyexecutedbutcontinuetorepeatthesameactionsafterward,ultimately
gettingstuckinaloop,insteadofconsideringalternativeapproachestoresolvetheissue.(4)Agentsmaynotbeableto
extractandutilizeinformation(e.g.,checkingtheweatherforatriprequiresfirstretrievingthedestinationanddates
fromthecalendar,whichtheagentmayforgetorevenskipit).MO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 3
A
Toaddressthesechallenges,weproposeMobA,anMLLM-empoweredmobilephoneagentsystemdesignedto
获取观测 手动修正
enhancetaskexecutioncapabilitiesincomplexanddynamicenvironments.Ourapproachintroducesseveralelements:
•
Two-L界面e捕捉v接收 e反馈 l本A地决策ge请求 n介入
tSt自动r学习ucture:Inspiredbythehumanbrain’sworkingmechanism,weadoptatwo-levelagent
云端决策
指令执行 终终端端模模型型 云端模型 辅助决策
architecture,withthe"cerebrum"handlingabstraction,planning,andreasoning,andthe"cerebellum"focusing
onexecution.OurarchitectureconsistsofaGlobalAgentandaLocalAgent.TheGlobalAgentisresponsible
forhigh-leveltaskplanninganddecomposition,whiletheLocalAgentconcentratesonselectingtargetactions
foreachsub-task.Thisdivisionofresponsibilitiesfacilitatesbettertaskmanagement,reducesthecomplexityof
decision-makingprocesses,andenhancesoverallsystemefficiency.
• TaskPlanningandExecutionPipeline:Wedeveloparobusttaskplanningpipelinethatincludestask
decomposition,feasibilityassessment,actiongeneration,andresultvalidation.Thispipelineleveragesboththe
GlobalandLocalAgentstobreakdowncomplextasksintomanageablesub-tasks,generateappropriateactions,
andverifythesuccessofeachstep.Theuseofadouble-reflectionmechanismnotonlyallowsthesystemto
correcterrorsquicklybutalsohelpspreventineffectiveoperationsbeforeexecution.
• Multi-aspectMemory:WeincorporateaMemoryModulethatlearnsfromhistoricalexperiencestoenhance
theagent’sadaptabilityandreduceredundancy.Thismodulestorestaskexecutiontraces,userpreferences,
applicationinformationandobservation,andcontextualinformation,whichcanberetrievedtoinformfuture
decisions.Bylearningfrompastsuccessesandfailures,theagentcancorrectandoptimizeitsbehaviorover
time,improvingitsperformanceinhandlingcomplextasks.
WeconductathoroughevaluationonMobBench,atestsetwith50real-lifetasksacrossavarietyofapplicationsand
difficultylevels.MobAachievesthehighestmilestonescorerateof66.2%,surpassingthesecond-highestbaselineagent
systembyover17%.Thissetsanewstandardformobileassistantsbyeffectivelyintegratingmultimodalcapabilities,
taskplanning,reflection,andmemorymechanisms.
2 RELATEDWORK
2.1 LLMAgents
The development of intelligent agents has been significantly influenced by the advancements in large language
models(LLMs)andmultimodallargelanguagemodels(MLLMs).LLM-basedagentsleveragetheautonomy,reactivity,
proactiveness,andsocialabilityofthesemodelstoperceiveexternalenvironmentsandmakedecisions[55].Emerging
abilities,suchaschain-of-thought(CoT)reasoning[48,51,68]andin-contextlearning(ICL)[3,30].Recentstudies
haveexploredLLM-basedapproachesforreflection[28,39,57,59],planning[13,36,42],andmemorymechanisms[15,
23,29,66,67].
Atthesametime,theagentsthatutilizeM/LLMstointeractwiththeenvironmentsarequicklydeveloped.These
agentspossesssignificantlyenhancedcapabilitiesforenvironmentobservation,taskdecomposition,andactiondecision-
making,whichenableM/LLMstosolvecomplextasksacrosssocialsimulations[1,14,15,34],embodiedrobots[54],
softwaredevelopment[35,37]andvirtualassistants[45].
2.2 GUIAgents
2.2.1 TraditionalGUIAgents. Controllinggraphicaluserinterface(GUI)screensbasedonusercommandsisacomplex
taskthatinvolvesbothGUIunderstandingandcommandinterpretation.EarlyapproachestoGUIagentsfocusedon
embeddingandmodularsystems.Forexample,severalagents[19,21]combinednaturallanguageandprogramming4 Zhuetal.
demonstrations,allowinguserstodefinetasksviadescriptionsanddemonstrations.Thismethodreliedontextand
imagematchingforscript-basedcontroloftheinterface.TraditionalGUIagentswerelargelylimitedbytheirrelianceon
pre-definedrulesandmanualprogramming.Theseagentswereeffectivewithincontrolledenvironmentsbutstruggled
withdynamic,real-worldGUIcontextsduetotheirlackofflexibilityandadaptability.Theyrequiredspecificscriptsor
rulesforeachtask,makingthemlessrobustwhenhandlingthediverseandevolvingnatureofreal-worldapplications.
2.2.2 AdvancementswithMultimodalPretrainModels. Theadventofmultimodalpretrainingmodels[2,8,11,18,20,22,
44]forGUIunderstandingmarkedasignificantshiftinthedevelopmentofGUIagents.Pretrainedagents[40,63,70]
integratedmultimodalinformation,suchasdialoguehistory,screenshots,andactionhistory,throughpretraining.
Unlikeearliermethodsthatreliedonrigidscripts,theseend-to-endmodelsadoptedamorehuman-likeapproachto
interactingwithinterfaces,enhancingtheirefficiencyininformationretrievalandtaskexecutionbymappingvisual
observationsandtextcommandsdirectlyintoactions.
2.2.3 MLLM-EmpoweredGUIAgents. TheintegrationofMLLMsinGUIagentshasintroducednewopportunities
tofurtherenhancetheircapabilities.Withtheriseoflargerscalemodels,GUIagents[16,64,65]begantoleverage
advancedreasoninganddecision-makingprocesses.Thesemodelsutilizedstructuralinformationprovidedintheview
hierarchy(VH)toannotateandlocateUIelements,guidingasequenceofatomicactionstoachievespecificgoals.
VH-onlyagents[52]dependonthestructuralinformationtoreasonandmakedecisions,whichgreatlylowersthe
costofinferencemakingitsuitablefordeploymentonthedevice.Image-onlyagents[9,46,47,58],whichemploys
opticalcharacterrecognition(OCR),CLIP[38]module,andobjectdetectionmethodstoidentifyoperationtargets.
Thisimage-onlyapproachisparticularlyeffectivewhentheviewhierarchyisinaccessibleornoisy,butitmayalso
encounterchallenges,e.g.openingatargetapplicationbyclickingwhennamesarehidden,orlogosvaryacrossscreens.
3 THEMOBASYSTEM
Task Assignan App Memory
Uncompleted Task Task Mem Re-Split & Retry User Memory
this Task Task Memory
Re-Split this Step Task Decomposition SubtSaSusSubkSubt Sub1atSubastSubkastSubkas tS2ubkas t2u bkas t2 bkas t2 kas tS2 kas u2 ks 2b k 2 t 2 a sk N Memory
Module
Assess Task Feasibility CanComplete = False Observation
O Thb ose ur gv ha ttion ST uh bo gu og ah lst MoP dl ua ln
e
S um Tm hoa ur gy
h
tand Reflection FAILS Eu DbG oal_Status =
CanComplete
Subgoal_Status
A Mc et si so an ge ReflA ecc tt ii oo nn CanComplete = True Action Execution G Reo fa lel_ cS tit oa ntus Re Mfle oc dti uo ln
e
SUCS Cu Eb SG Soal_Status = SUCG Co Ea Sl S_Status =
Action = Target Application Goal_Status =
Open_App(description) Selection FAILED
User Mem App Mem Action Module End
Task Mem Continue Next Task
Fig.2. TheIllustrationofSystemWorkflowofMobA.Thesedashedlinesindicatehowataskiscompletedbydecomposedinto
multiplesub-tasks.
The systemoverviewof MobA is shown inFigure1, and a detailed workflow is shown in Figure2. TheUser
givesthecommandandreceivesaresponsefromMobAiffurtherinstructionsarerequiredorthetaskiscompleted.
MobAcomprisesseveralfunctionalmodulesandthecorepartisadualagentstructure.TheGlobalAgent(GA)acts
astheuser’sinterpreter,whichcomprehendstheuser’scommand,retrievesrelevantexperiencefromtheMemory
Module,andresolvesthetaskintoseveraleasierandclearersub-tasksthroughthePlanModule.TheLocalAgentMO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 5
A
(LA)actsasthecon获取t观测rolle手动修r正 ofthescreen,whichreceivesthedecomposedsub-tasksandmemoriesfromGA,decidesthe
targetactionbasedonthecurrentscreeninformationandhistorymemories,andexecutestheactionwiththeAction
Module.Wea界l面捕s捉o接收反 a馈 d本地 d决策 a云端决请 策R求介入 efle自动学c习tionModuletoverifywhethersub-goalcanbecompletedbeforebeingexecutedbyLA,
指令执行 终终端端模模型型 云端模型 辅助决策
andtoconfirmwhetheritistrulycompletedafterward.ItiscalledthePlanModulewhenamorefine-grainedtask
planningisneeded.
Theoverallprocessisalsooutlinedinalgorithm1.Thisframeworkallowsforefficienttaskdecomposition,action
generation,andgoalvalidation,whicharecriticalformanagingcomplex,dynamicenvironments.
Input:GlobalAgent𝐺𝐴,LocalAgent𝐿𝐴,Controller𝐶𝑡𝑟𝑙
Output:Completionoftask
𝑡𝑎𝑠𝑘_𝑐𝑜𝑚𝑝𝑙𝑒𝑡𝑒 ←false;
whilenot𝑡𝑎𝑠𝑘_𝑐𝑜𝑚𝑝𝑙𝑒𝑡𝑒do
𝑐𝑢𝑟_𝑡𝑎𝑠𝑘 ←𝐺𝐴.𝑔𝑒𝑡𝐶𝑢𝑟𝐺𝑜𝑎𝑙();
// Validate complete possibility of current goal and generate target action
𝑐𝑎𝑛_𝑑𝑜,𝑐𝑢𝑟_𝑎𝑐𝑡𝑖𝑜𝑛←𝐿𝐴.𝑎𝑐𝑡(𝑐𝑢𝑟_𝑡𝑎𝑠𝑘)
// Validate goal status and generate reflection
if𝑐𝑎𝑛_𝑑𝑜then
𝐶𝑡𝑟𝑙.𝑒𝑥𝑒𝑐𝑢𝑡𝑒(𝑐𝑢𝑟_𝑎𝑐𝑡𝑖𝑜𝑛);
𝑐𝑢𝑟_𝑡𝑎𝑠𝑘_𝑐𝑜𝑚𝑝𝑙𝑒𝑡𝑒 ←𝐺𝐴.𝑟𝑒𝑓𝑙𝑒𝑐𝑡()
end
// Decompose the current task into sub-tasks
ifnot𝑐𝑎𝑛_𝑑𝑜ornot𝑐𝑢𝑟_𝑡𝑎𝑠𝑘_𝑐𝑜𝑚𝑝𝑙𝑒𝑡𝑒then
𝐺𝐴.𝑝𝑙𝑎𝑛()
end
𝐺𝐴.𝑢𝑝𝑑𝑎𝑡𝑒𝑀𝑒𝑚𝑜𝑟𝑦();
𝑡𝑎𝑠𝑘_𝑐𝑜𝑚𝑝𝑙𝑒𝑡𝑒 ←𝐺𝐴.𝑔𝑒𝑡𝑆𝑡𝑎𝑡𝑢𝑠();
end
Algorithm1:TheLogicofTaskExecutionProcessof MobA
3.1 GlobalAgent
3.1.1 PlanModule. ThePlanModuleisthecorecomponentoftheGlobalAgent,responsiblefordecomposingthe
currentproblemintoasequenceofsub-tasksuntilitcanbehandledonebyonewithasingleactionexecutionbythe
LocalAgent.
Formally,ourgoalistodecomposethelong-termtask𝑡intoasequenceofsub-tasks𝑆𝑇 𝑡 = [𝑡 1,...,𝑡 𝑘],eachofwhich
canbecompletedbytheActionModuleinasinglestep.Eachtasknode𝑡 𝑖 isinitializedbasedonthegoaldescription.
Theinputsincludethetask𝑡,theenvironment𝑒,theretrievedmemory𝑀𝑃 𝑡,andthesetofexecutableactionsA.Given
themodel𝑀𝐿𝐿𝑀 𝑝,thesetofsub-taskscanbedeterminedasfollows:
𝑆𝑇 𝑡 =𝑀𝐿𝐿𝑀 𝑝(𝑡,𝑒,𝑀𝑃 𝑡,A) (1)6 Zhuetal.
The retrieved memory 𝑀𝑃 𝑡 contains routes from the Route History that describe similar tasks, consisting of
successfullyexecutedActionNodes.Therouteprovidesapathwayforhandlingsimilartasksandoffersguidance
ontaskdecomposition.Furthermore,thesenodesreflecttheActionModule’sproblem-solvingcapabilities,allowing
themodeltodecomposetaskswithanappropriatelevelofgranularity.Detailsoftheretrievalmethodsandmemory
structureareprovidedin§3.3.
Thetraceofeachsub-taskwillbeaddedtotheTaskHistory,formingatree-structuredmemory.Comparedtomost
worksthatgeneratethenextactionbasedoniteration,thetaskdecompositionmethodimprovesmemoryefficiency,
helpsLAunderstandtaskprogress,optimizescollaborationbetweentheagents,andreducesactionAPIcalls.Detailed
explanationsareprovidedinthecasestudiesin§5.
3.1.2 ReflectionModule. IntheReflectionModule,theobjectiveistoassessthetask’sexecutionstatus𝑠 𝑡 basedonthe
task𝑡,previousaction𝑎 𝑡,environment𝑒,theenvironmentafterexecutingtheaction𝑒′,andtheretrievedmemory𝑀𝑉 𝑡.
Themodelusedatthisstageis𝑀𝐿𝐿𝑀 𝑟,formulatedas:
𝑠 𝑡 =𝑀𝐿𝐿𝑀 𝑟(𝑡,𝑎 𝑡,𝑒,𝑒′,𝑀𝑉 𝑡) (2)
Ifthetaskexecutionfails,𝑀𝐿𝐿𝑀 𝑟 alsogeneratesaExecutionReflectiononthecurrenttaskexecution.Theretrieved
memoryincludestheLA’sobservationsandthoughtsfromthispreviousattempt,aiding𝑀𝐿𝐿𝑀 𝑝 inanalyzingthe
reasonsforthefailure.ThecompletionstatusandreflectionsarestoredintheActionNodeoftheTaskMemory,which
canberetrievedlaterbyqueryingtheActionNode.
Additionally,fortasksdeemedtoocomplextobeexecuteddirectlywithintheActionModule,theThoughtgenerated
bytheActionModuleisalsostoredinMemoryasPlanReflection.Thisreflectionprocessiscombinedwiththetarget
actionselectionprocess,astheyarehighlyrelatedandforefficiencyconsideration.
3.2 LocalAgent
3.2.1 ActionModule. TheActionModuleisdesignedfortwofunctions,first,itdetectswhetherthistaskcanbe
completedwithoneaction,andlateritprovidesthetargetactionandinvokesthecontrollertoexecutethespecific
actionifitisfeasible,otherwise,theGlobalAgentiscalledupontofurtherdecomposethetask.
Formally,intheActionModule,weneedtogeneratetheCanCompleteflag𝑓
𝑡
∈{𝑇,𝐹}anditscorrespondingaction
𝑎 𝑡 ∈Abasedonthecurrenttask𝑡,environment𝑡,retrievedmemoryintheActionmodule𝑀𝐴 𝑡,andtheprovidedset
ofexecutableactionsA.Ifnosuchcommandexists,themodelwillreturnanegativeflagindicatingthatthetaskistoo
complexandrequiresfurtherdecomposition.Letthemodelusedatthecurrentstagebe𝑀𝐿𝐿𝑀 𝑎,thenthegenerationof
theinstructioncanbeexpressedas:
𝑓 𝑡,𝑎 𝑡 =𝑀𝐿𝐿𝑀 𝑎(𝑡,𝑒,𝑀𝐴 𝑡,A) (3)
Atthisstage,varioushistoricalinformationcanbeincorporatedasprompts.Relation-basedretrievalelementslike
thelastfailednodehelpminimizerepeatederrors,whilethelastsuccessfulnodeandtheparentnodeenhancetask
comprehension.Content-basedretrievalfromTaskMemory,UserMemory,andAppMemoryprovidestheagentwith
insightsfrompastsimilartasks.
Function𝑀𝐿𝐿𝑀
𝑎
alsorequiresgeneratingObservation,Thought,andMessageifthetaskincludesuserrequests
thatneedtobeansweredinnaturallanguage.ThisinformationisincorporatedintotheAppMemoryandTaskMemory
toenhancesubsequentdecision-makingprocessesof MobA.MO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 7
A
Additionally,ift获取h观测eta手动r修正getactionistoopenaspecificapplication,anotherroundofthetargetapplicationselection
processwillbeconductedwithexternalknowledgeofinstalledapplicationsfromAppMemory.
界面捕捉 接收反馈 本地决策 请求介入 自动学习
云端决策
3.2.2 ActionL指令执i行st.终终端端W模模型型 epre云端模s型en辅助t决策thesetofexecutableactionsusedinexperimentsinTable1.Theactionsarecategorized
intosingle,combination,andsystemactions.WepromptLAtoprioritizeusingcombinationandsystemactions,to
improveefficiencyincaseslikesearchingitemswiththesearchbaroravoidingclickingtheiconinthelauncherwhen
openinganapplication.Allactionsaredesignedintheformatoffunctioncalls,whichcanaccommodateadditional
operationsorAPIs.
Action Type Usage Description
Thisfunctionclicksthecenterofthe
Click single Click(element_index:int) UIelementwiththespecifiedelement
index.
Thisfunctionsimulatesaclickatthe
Clickby Click_by_Coordinate(x:double,y:
single specifiedxandycoordinatesonthe
Coordinate double)
screen.
Thisfunctiondoubleclicksthecenter
DoubleClick single Double_Click(element_index:int) oftheUIelementwiththespecified
elementindex.
Thisfunctionlong-pressesthecenter
LongPress single Long_Press(element_index:int) oftheUIelementwiththespecified
elementindex.
Thisfunctionswipesfromthecenterof
Scroll(element_index:int,direction:str,
Scroll single theUIelementwiththespecified
distance:strorint)
elementindex.
Thisfunctionswipesfromthecenterof
Swipe single Swipe(direction:str,distance:str)
thescreen.
Thisfunctioninputstextonthe
Type single Type(text:str)
currentinputbox.
Thisfunctionpressesthebackkeyto
Back single Back()
returntothepreviousscreenorstatus.
Thisfunctionclickstheinputbox,
BoxInput combination Box_Input(element_index:int,text:str)
inputsgiventext,andconfirmsit.
Thisfunctionlocatesandopensanapp
OpenApp system Open_App(description:Optional[str])
withashortdescription.
Close_App(package_name: Thisfunctionclosesthespecifiedapp
CloseApp system
Optional[str]) byitspackagename.
Thisfunctionindicatesthatthetask
Error system Failed()
cannotbecompleted.
Thisfunctionindicatesthatthetaskis
Finish system Finish()
completed.
Table1. AvailableActionsandDescriptions8 Zhuetal.
3.3 MemoryModule
WecategorizeMemoryintothreetypesbasedonthehistoricaldatageneratedbyagentsduringtaskexecution:(1)Task
Memory,generatedfromthehistoryoftaskexecution.(2)UserMemory,derivedfromthehistoryofinteractionswith
users.(3)AppMemory,learnedfromthehistoryobservationsandthoughtsofinterfaces.Allkindsofmemoriescanbe
initializedbyhumanexpertforawarmstartup.Integratingthesememorytypesintotheexecutionofeachmodule
helpsenhancetheefficiencyandsuccessrateoftaskexecution.
TaskMemorycapturesdetailedinformationabouteachtask,includingitsexecutionstatus,environmentalcontext,
andassociatedsub-tasks.ThedesignofthememoryisinformedbytheICEStrategy[36],organizingtasksandsub-tasks
inahierarchicaltreeformat.TaskMemoryincludesthefollowingdatatypes:
• TaskNode:Tasksarestoredinatreestructure.Inthe𝑖-throundoftheagent’sexecution,aTaskNode𝑇 𝑖 is
createdwiththegoal𝑡 𝑖,where𝑡 1istheuser’sinitialrequirement.Ifthenodeexecutesacommand,itbecomes
anActionNode𝐴 𝑖.Incaseswhere𝑡 𝑖 cannotbeachieved,childnodesaregeneratedforthenextiteration.
Otherwise,thenodedoesnotsplitfurtherandbecomesaleafnode.
• Route:Theexecutionpathofatask.Oncethetaskoftherootnodeiscompleted,foreachnon-leafnode𝑡 𝑖,a
route𝑟 𝑖 = [𝐴 𝑖,1,𝐴 𝑖,2,...,𝐴 𝑖,𝑛]isgenerated,where𝐴 𝑖,𝑥 representsthe𝑥-thsuccessfullyexecutedActionNode
amongallsub-tasksof𝑡 𝑖.
• RouteHistory:Theroutesofallsub-tasksineachcompletedtaskarestoredintheRouteHistory.
• ActionHistory:SuccessHistorystoresthecollectionofallsuccessfullyexecutedActionNodes.FailureHistory
storesthecollectionofallunsuccessfullyexecutedActionNodeswithreflections.
• Miscellaneous:IncludesReflectionHistoryonfailednodes,ThoughtHistoryduringtaskexecution,andResponse
Historytorequests(ifthegoalinvolvesprovidinganswers).
UserMemorystoreshistoricalinteractionsbetweentheuserandMobA.IthelpsMobAtobettergrasptheuser’s
needsandinferimplicitinformationthatmaynotbeexplicitlystatedinthecurrenttask.
AppMemorymaintainsinformationabouteachapplication.Itincludesbothanoveralldescriptionoffunctions
anddetailedobservationsofpreviouslyvisitedpagesandexplorationsonthesepages.ThiscomponentaidsMobAin
comprehendingsimilarpagesbyleveragingpastexperiencesaswellaslocatingtargetapplications.
Theretrievalofmemoryinformationincludesbothrelation-basedandcontent-basedmethods.Relation-based
retrievalencompassesrelationallycloseinformation.Specifically,thelastActionNodeandthetaskdescriptionof
theparentnodewillberetrievedintheActionModule,whichhelpstheagenttobetterunderstandthecurrenttask
anditsstage.Content-basedretrievalemployscosinesimilarityofkeys,selectingmemorieswithhighsimilarity.
Forexample,theTaskHistoryisretrievedbasedonthecosinesimilarityofthetaskdescriptionsinthePlanModule,
providingtheagentwithexperiencesfromsimilarhistoricaltasks.Thetwoapproachescanalsobecombinedthrough
weightedretrievalbysettingrelationdistanceandcontentdistance,alongwiththeircorrespondingweights.Finally,
theresultsarerankedbasedontheaggregatedoutcome.
3.4 GUIInterface
Wealsobuildaninstallableapplicationtoprovideauser-friendlyexperience.AnASRmodulewilltranscripttheuser’s
voicecommandsintotext,andaTTSmodulewillreadouttheresponsefromMobA.WiththewirelessADB,theuseris
notrequiredtotypethecommandinthecomputerterminaldirectlynorconnecttothecomputerthroughaUSBcable.MO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 9
A
4 EXPERIMENTS
获取观测 手动修正
TogetathoroughcomparisonbetweenMobAandotherGUIagentsaboutthecapabilitytohandlecomplexuser
界面捕捉 接收反馈 本地决策 请求介入 自动学习
instructionsan 指令执d
行
e 终终x 端端模模型型ecu云端t决策e 云端G 模型UI辅助决i策nteractionsonmobiledevices,weconducttheevaluationonareal-lifescenariotestset
namingMobBench.
4.1 TheMobBenchTestset
TheMobBenchcomprisesadiversetestsetof50tasksdesignedtoevaluatetheperformanceof MobAinreal-world
mobileapplicationscenarios.Thetestsetincludes10applicationswidelyusedinChina,eachwithfourtasksofvarying
difficulty:Easy,Medium,Hard,andIndirectComprehension,totaling40tasks.Easy,Medium,andHardtasksare
categorizedbythecomplexityandstepsrequiredtocomplete.IndirectComprehensionisdesignedforcommoncases
wheretheusergivesavagueinstructionwithoutdetailingwhichapplicationorspecificstepsarerequired.Theagent
isexpectedtodecidetargetapplicationandfindaneffectiveapproach.Additionally,thereare10Cross-Application
tasks,whichinvolveinteractingwithtwoapplicationsandaremoreclosetoHardlevelindifficulty.Thesetasksfocus
onevaluatingtheabilityofinformationextractionandretrieval,aswellastheawarenessofsub-goalcompletionand
applicationswitching.
Comparedwithseveralsimilartasksetsmentionedinotherpapers[16,46,47,64,65],whichonlygetascorewhen
itfinishesthetaskcompletely,weassignseveralmilestonescoresforsub-tasksinMobBench.Thisallowsforamore
preciseprocessassessment,inthecaseswherethetaskispartiallyfinished.Wealsoincludeadetailedpreparation
instructionfortaskswhenamorejusticeandstablestartisneeded.
Threehumanoperatorsmanuallyperformedthesetasksonthreedifferentmobilephones,recordingtheirexecution
steps.Theactionsconsideredasastepincludeinteractionssuchasclicks,swipes,openingorclosinganapp,dismissing
non-skippableads,typingtext,orreplyingtotheuser.Theaveragenumberofstepsisconsideredasthehumanexpert
baseline.
Table2providesfiveexamplesofthetasksincludedinMobBench.
4.2 Metrics
ThreemetricsaredesignedtobettercomparethecapabilityofGUIagentsthoroughly.
• MilestoneScore(MS):Scoringmilestonesareassignedtoseveralsub-tasks,evenlydistributedduringthetask
completionprocess.Sinceeachtaskcontains1to6milestones,theagentwillgetascoreasitreacheseach
milestone.Wesumupallmilestonescoresof50tasksastheprimarymetric.
• CompleteRate(CR):Iftheagentgetsallmilestonescoresinonetask,itisconsideredastaskcomplete.Thisis
themostcommonandstraightforwardmetricforGUIagentevaluation.
• ExecutionEfficiency(EE):Werecordtheeffectivenumberofstepsforeachtaskandthecorrespondingmilestone
scores,thatis,thetotalnumberofstepsexecutedatthetimeofgettingthelasteffectivemilestonescore,and
calculatetheaveragenumberofstepsrequiredtoobtaineacheffectivemilestonescore.Thelowerthisnumber,
themoreefficienttheexecution;thehigheritis,themoreitincludesineffectiveactions.
TheaveragemilestonescoresandexecutionstepsforeachtasktypearesummarizedinTable3.10 Zhuetal.
Table2. SeveralexampletasksinMobBench.ThecontentistranslatedfromChinese.ThecompletetablecanbefoundinAppendixA.
Type Application Task Preparation ScoringMilestones Steps
SwitchthelanguageoftheMcDonald’s
Easy McDonald’s SwitchtoChinese. 1.Taskcompletion. 6.7
apptoEnglish.
ChecktheschedulefortrainG104from 1.Enterthetimetable
12306 ShanghaitoBeijingtomorrow,andfind screen,
Medium - 11.7
(ChinaRailway) outwhattimeitisexpectedtoarrivein 2.Correcttrainnumber,
Nanjing. 3.Taskcompletion.
Searchforthemovie"TheShawshank 1.Correctmovie,
Removetheprevious
Redemption"onDouban,markitas 2.Correctmark,
Hard Douban mark,rating,and 9.7
"watched",rateitfivestars,andleavea 3.Correctrating,
reviewofthismovie.
positivereview. 4.Positivereview.
IfI’moutofmobiledata,whatvideos Downloadseveral 1.OpenBiliBili,
Indirect BiliBili 3.3
canIstillwatchonthephone? videosinadvance. 2.Checkdownloads.
Sharetheproductlinkofthemost 1.Entertheorderlist,
JD.com, recentJD.comorderwithaWeChat Thereisanexisting 2.Correctorder,
Cross-APP 10.3
WeChat friend,andwritearecommendation order. 3.Suitablemessage,
message. 4.Taskcompletion.
Table3. AveragescoresandexpertexecutionstepsfordifferenttasktypesofMobBench.
TaskType #Tasks Avg.MS Avg.StepsperTask Avg.StepsperMS(EE)
Easy 10 1.0 4.3 4.30
Medium 10 2.2 7.3 3.32
Hard 10 4.1 15.2 3.71
Indirect 10 2.8 9.4 3.36
Cross-App 10 3.1 10.8 3.48
Overall 50 2.7 9.4 3.56
4.3 Setups
Toprovideacomprehensiveevaluation,MobAiscomparedagainstseveralbaselinesthatillustrateaspectrumof
capabilities,frombasicmanualoperationstoseveralsophisticatedagent-basedautomation.
HumanBaselineasmentionedin§4.1areconsideredastheoptimalsolutionforeachtask.
GPT-4o+HumanBaselineutilizesaniterativeprocesswheretheGPTmodel[32]providesguidanceformanualtask
executionusingscreenshots.Eachtaskinvolvespresentingataskandascreenshottothemodel,whichthensuggests
thetargetactions.Humanoperatorsinterpretthesuggestionsandexecutetheseactionsonthedevice,continuinguntil
thetaskiscompletedorastoppingcriterionismet.
AppAgent[65]usesbothviewhierarchyandscreenshotforplanningandchoosingtargetactions.Allinteractive
elementsaremarkedwithboundingboxesandauniqueindexforbettergroundingperformance.
MobileAgent(v2)[46,47]usesonlyvisualinformationfromscreenshotswhenmakingdecisions.Targetelements
areselectedwiththeguidanceofOCRandCLIP[38]modules.
MobA is evaluated under several settings by disabling the Memory Module or/and Plan Module to assess its
performanceandtheimpactofthesetwomodules.WedisablethePlanModulebyreplacingtheGlobalAgentwithaMO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 11
A
plainagent,andno获取观测sub手-动修t正asksareprovidedtotheactionandReflectionModule.WedisabletheMemoryModuleby
removingallin-contextexamplesandhistoricalexperienceinformation(includingobservations,thoughts,previous
actions,andth界面捕e捉i接 r收反馈 e本 x地决策 ec云端决u请 策求介 t入 ion自动s学习tatus),focusingonassessingthecorecapabilityinreal-timezero-shottaskexecution
指令执行 终终端端模模型型 云端模型 辅助决策
withoutrelyingonhistoricaldata.
Allexperimentsareconductedwithgpt-4o-2024-05-13modelversiontoensureconsistentmodelcapabilities
acrosstests.Theprimaryevaluationmetricisthefirstattemptcompleterate,directlymeasuringtheeffectivenessof
eachsystemincompletingtasksonthefirsttrywithoutretries.
4.4 ResultsandAnalysis
TheoverallexperimentresultsareaslistedinTable4.Andformoredetailedresultscategorizedbytasktypeplease
refertoFigure3.
Table4. OverallPerformanceonMobBench.
Model CR MS EE
Human 50/50 133 3.56
GPT-4o+Human 49/50 130(97.7%) 3.82(107.2%)
AppAgent[65] 6/50 35(28.6%) 4.43(124.4%)
MobileAgent(v2)[46] 17/50 63(48.9%) 4.84(136.0%)
MobAw/oMemoryandPlan 13/50 52(39.1%) 4.42(124.2%)
MobAw/oPlan 15/50 65(48.9%) 4.17(117.1%)
MobAw/oMemory 22/50 72(54.1%) 3.81(106.9%)
MobA 28/50 88(66.2%) 3.44(96.7%)
Human AppAgent MobA w/o Memory and Plan MobA w/o Memory
GPT-4o + Human MobileAgent MobA w/o Plan MobA
10 1.0 8
7
8 0.8
6
6 0.6 5
4
4 0.4 3
2
2 0.2
1
0 0.0 0
Easy Medium Hard IndirectCross-APP Easy Medium Hard IndirectCross-APP Easy Medium Hard IndirectCross-APP
(a) Completed Tasks Number (b) Milestone Score Ratio (c) Execution Efficiency
Fig.3. PerformanceonMobBenchCategorizedbyTaskType.Whiletheperformanceofallmodelsisrelativelysimilaronsimpler
tasks,MobAdemonstratessuperiorresultsinmorechallengingtasks,outperformingothermodelsexceptforHumanandGPT-4o+
Human.ThissuggeststhatMobAismoreefficientinhandlingcomplexcases.Additionally,theincorporationofboththeMemory
ModuleandPlanModuleenhancesperformance,highlightingtheirrespectivecontributionstothesystem’soverallcapability.
sksaT
detelpmoC
oitaR
erocS
enotseliM
ycneiciffE
noitucexE12 Zhuetal.
TheupperpartofTable4showstheperformanceoffourbaselines.Duetothecomplexityofmobileinterfacesand
thetechnicallimitationsencounteredduringtaskexecution,theoveralltaskcompletionrates(CompleteRate,CR)are
relativelylowforallagents.Consequently,theMilestoneScore(MS)servesasafinermetrictomoreaccuratelyreflect
theperformanceofeachagentbyconsideringpartialtaskcompletion.
WhiletherearenotabledifferencesinMilestoneScoresamongthebaselinemodels,thegapinExecutionEfficiency
(EE)islesssignificant.Thisisbecausemostagentscansmoothlycompletesimplersub-goals,whereasformorecomplex
sub-goals,theagentseithercompletethemorfailentirely,resultingincloserperformanceregardingexecutionefficiency.
4.4.1 Humanismoreadaptiveandrobusttoscreeninteractions. Whilethehumanbaselineisconsideredtheoptimal
solutionforeachtask,theGPT-4o+Humanmethodachievesperformanceveryclosetothatofhumanoperatorsonall
metrics.IntheevaluationofGPT-4o+Human,theagentonlyprovidestextualtaskdescriptionsandaninitialscreenshot,
andtheGPT-4ogeneratesdetailedstep-by-stepinstructions,whicharethenexecutedmanuallybyahumanoperator.
Theeye-catchingperformanceofGPT-4o+Humancanbeattributedtoseveralfactors:(1)arelativelylenientstandard
intaskexecution,allowinghumanoperatorstointerpretGPT-4o’sgeneralinstructionsflexibly;(2)humanoperators
automaticallycompletingtaskssuchasOCR,targetdetection,andlocalization,ensuringmorepreciseactions;(3)
GPT-4oprovidesaglobalplan,avoidingredundantormissedsteps;(4)technicalissues(e.g.,inabilitytoretrieveXML
filesormissinginformationinthefiles)donotaffecttaskcompletion.
4.4.2 Performance Comparison. The performance of MobileAgent is notably higher than that of AppAgent. This
improvementismainlyduetotheinclusionofbothMemoryandReflectionmodulesinMobileAgent,whichenhance
reasoningcapacityandutilizemorecomputationalresources,suchastokens.Additionally,MobileAgentkeepsarecord
ofallhistoricalactions,allowingittolearnfromtheentiresequenceofoperations,whereasAppAgentcanonlytrack
themostrecentaction.Furthermore,MobileAgentreliesonOCRandCLIPmodulesfortargetlocalization,offering
greaterflexibilityandavoidingthetechnicallimitationsthatAppAgentfaceswhendependentonXMLfiles.
Byadoptingatwice-reflectionstrategy,theineffectiveexecutionstepsareslightlyreduced,wherethesub-tasksthat
arenotabletobecompletedwithasingleactionaredecomposedfinerbeforeexecuted.Thisgivesclearerguidancefor
theLocalAgenttodecidethetargetactions.
4.4.3 AblationStudy. ThelowerpartofTable4presentstheresultsoftheablationstudy,whereweexperimentedwith
fourdifferentconfigurationsbyselectivelyenablingordisablingtheMemoryandPlanmodules.Theresultsindicate
thatincorporatingbothMemoryandPlanmodulessignificantlyenhancestheagent’soverallperformance.
ThePlanmodulealoneshowsamuchstrongereffectthantheMemorymodulealone,validatingoneofthecore
contributionsofthispaper—theeffectivenessoftaskdecompositionplanning.Bydecomposingtasksintomanageable
sub-tasks,MobAcanperformglobalplanning,avoidredundantactions,andminimizeoverlookeddetails,effectively
managingitshistoricalactions(sinceinatree-structuredtask,previouslycompletedsub-tasksareinherentlytracked).
UnlikeMobileAgent,whichfocusessolelyonthenextspecificaction,MobAfirstdeterminesthenextabstracttaskand
thenplansthespecificexecutionsteps,closelymirroringhumanreasoningpatternsandprovidingamorestructured
approach.
WhentheMemorymoduleisintroduced,MobA’sperformancefurtherimproves,particularlyincross-application
tasks(seeFigure3(b)).ThisenhancementisduetotheMemorymodule’sabilitytoretaincrucialinformationover
longerperiods,suchas"the day I am traveling to Shenzhen",allowingittoreferencepreviousscreens’keyMO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 13
A
content.Incontras获t取观,测wit手动h修正outtheMemorymodule,theagentislimitedtoshort-termmemoryofonlythecurrentand
theimmediatelyprecedingsteps,resultinginlesseffectivetaskexecution.
界面捕捉 接收反馈 本地决策 请求介入 自动学习
云端决策
4.4.4 Take-ho指令m执行 e终终M端端模模型型essag云端e模型s.辅助决策
• CombiningMLLM-drivenplanningwithhumanflexibilityandadaptivedecision-makingandtarget-locating
canbridgegapsincurrentMLLMcapabilities,leadingtonear-optimalperformanceincomplex,dynamictasks.
• Integratingcomprehensiveplanning,memory,andreflectioncapabilitiesintask-orientedagentssignificantly
enhancestheirabilitytohandlecomplextasksbyoptimizingdecision-makingprocessesandlearningfrompast
actions.
• Effectivetaskdecompositionandplanningstrategiesarecrucialforimprovingagentperformance,asthey
enablestructuredexecutionandminimizeredundantactions.
• Cooperatinglong-termmemorycapabilitiesfurtherstrengthenstheagent’sabilitytomanagecomplex,cross-
applicationtasksbyretainingcriticalcontextualinformation.
• Combiningreflectionsbeforeandafteractionexecutionhelpsreduceineffectivemoves.
5 CASESTUDY
Inthissection,wepresenttwocasestudiestoshowcaseseveralkeyfeaturesof MobA.
5.1 CaseStudyA
MobAdemonstratesexceptionalproficiencyinhandlingtasksthatinvolveintricatedetailsandmultiplesequential
steps.Thiscasestudyfocusesonarepresentativescenarioinvolvingaclockapplication,asshowninFigure4.The
objectiveistoCreate a 6:30 PM alarm with the title ‘Work’ and use vibration alerts from each Monday
to Thursday.
TheprocessbeginswithMobA(1)assessingthetaskfeasibility,i.e.whetheritcanbecompletedinasinglestep,
asindicatedbytheCanCompletestatus.Ifthetaskcannotbeaccomplishedinonestep,MobA(2)decomposesitinto
smaller,manageablesub-tasksinthePlanModule,aslistedinSubgoals.Thissystematicdecompositionensuresthat
eachpartoftheoriginalcommandisexecutedwithprecision.Followingthis,MobA(3)carriesoutthefirstaction
tosolveitsfirstsub-taskand(4)reviewsandreflectsthetaskcompletionstatusindicatedbySubgoal_Statusand
Goal_Status.Onceasub-taskiscompleted,astheoutputSubgoal_StatusissettoTrue,indicatingsuccessfulsub-task
progress,andMobAwillmovetothefollowingsub-taskifthesub-tasksequenceisnotempty.
Forsub-task2MobAfurtherdividesitintotwodistinctstepsofadjustingthehournumberandminutenumber
separately.Thesetwonewsub-tasksarealsoaddedtothesub-tasksequence.Formostagents,thiswayofthinking
mightbetoocumbersomefortheymayjustadoptasimplerapproach:adjustingonlythehournumberto18while
ignoringtheminute.Bybreakingdownthetask,weadoptaChain-of-Thought(CoT)-likeapproachthatexplicitly
structuresthereasoningprocessof MobA.Forinstance,sub-task2.2canbefurtherdecomposedintoseveraltimesof
clickingifrequired.
In sub-task 4, MobA mis-comprehended the description and selected only Monday and Thursday. During the
reflectionprocess,itdetectsthatsub-task4hasnotbeencompleted.ThereforethePlanModulewillbeinvokedtoadd
twomoresub-tasks—selectTuesdayandselectWednesday.
Inconclusion,thetaskdecompositionapproachinvokedbytheassessmentbeforeactionexecutionandreflection
afterensurestheaccurateexecutionofaseriesofdetailedsteps.Thetree-structuredtaskdecompositionstrategynot14 Zhuetal.
Task Begins Task: 创建一个晚上六点半的闹钟，标题为"工作"，在每周一至四 Subtask 1: Click the '+' button to add a new alarm
使用振动提醒。(Create a 6:30 PM alarm with the title 'Work' and use
vibration alerts from each Monday to Thursday.)
Assess Task Feasibility
Assess Task Feasibility Observation Thought: The goal of clicking the '+' button to add a new
alarm can be achieved using only one action, specifically the Click action on
Observation Thought CanComplete: False Action: None element index 11. CanComplete: True Action: Click(11) Message
Message: The task cannot be completed with a single action.
Task Decomposition Action Execution Click(element_id: int = 11)
Observation
Thought: ……I need to first click the "+" button to add a new alarm. Summary and Reflection
Then, I will set the time, title, repeat days, and ringtone accordingly. Thought
Subgoals: ["Click the '+' button to add a new alarm", "Set the Subgoal_Status: SUCCESS
alarm time to 6:30 PM", "Set the alarm title to '工作' ", "Set the Goal_Status: FAILED
alarm to repeat every Monday to Thursday", "Disable ringtone", "Save Reflection: The action of clicking the '+' button to add a new alarm was
the new alarm"] successful……The next steps should involve ……
Subtask 2: Set the alarm time to 6:30 PM S au lab rmta ts itk le 3 t: o S 'e 工t t 作he ' Set the alarm to repS eu ab t t ea ves rk y 4 M: onday to Thursday SSuubbttaasskks 5 …
Assess Task Feasibility
Task Decomposition Assess Task Feasibility CanComplete: True Summary and Reflection Task
CanComplete: False Action: Box_Input(15, "工作") Subgoal_Status: FAILED Decomposition
Reflection: The alarm is from
AdjuS su t b thta e s hk o 2 u. r1 t: o 18 AdjusS t u thb et a msk in 2 u. t2 e: to 30 Action Execution M ono Mnd oa ny d t ao y T ah nu dr Tsd ha uy r, s n do at y .just EExA xeA ec cc ct uti uo tio tin oin o n n
Goal_Status:
SUCCESS
Task Complete
Fig.4. TheFirstExampleCaseofMobA.MobAdecomposethetaskintoseveralsub-tasksandsolvetheminsequence.Please
notethatseveralunimportantstagesduringtheexecutionofasub-taskareomittedforclarity.Thekeyfeaturesforeachpartare
asfollows.Task:Decomposetask.Sub-task1:Executeasub-taskandreflect.Sub-task2:Re-splitsub-taskinvokedbyfeasibility
assessment.Sub-task3:Executeasub-task.Sub-task4:Re-splitsub-taskinvokedbyresultreflection.
onlyallowsforsequentialandorderlycompletionofthetaskbutalsominimizestheriskofoverlookingcriticaldetails
andineffectiveattempts.
5.2 CaseStudyB
Figure5demonstrateshowthereflectionandMemoryModulessupporttaskexecutioninMobA.ThecommandisHelp
me check when will I reach the travel destination tomorrow.MobAcanaccuratelyinterpretuserintent
fromthiscommandandgivedecomposedsub-tasks.
Forsub-task1,MobAretrievesrelevantdetailsfromUserMemory(e.g.,frequentuseofGoogleCalendar),extracts
keyinformation(trainscheduleanddestination),andstoresitinTaskMemory.Leveragingtheinformationstoredin
AppMemory,MobAisabletolocatethenextapplication(ChinaRailway),duetoitshighrelevancetotraintravel.
When encountering failures, MobA uses historical experiences to reflect and adapt. During sub-task 3, when
MobAinitiallyfailedtoinputthetrainnumberusingtheBox_Inputfunction,itreflectsonitspreviousoperationsand
employsacharacter-by-characterinputmethod,successfullycompletingthetask.MO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation Action Execution 15
A
获取观测 手动修正
Task Begins Task: 帮我查询明天旅行多久到目的地。 Subtask 1: Check travel plan from the calendar
(Help me check when will I reach the travel destination tomorrow.)
界面捕捉 接收反馈 本地决策 请求介入 自动学习 : There are Assess Task Feasibility
Task Decompo指令s执行itio 终n 终端端模模型型 云端决策 云端模型 辅助决策 Memory tw io n c sta ale lln ed da .rs Open_AppA (c "ct oio mn .: g oogle. use: I G u os ou ga ll el y
App Memory android.calendar") Calendar.
Observation
Thought:I need to know the detailed information of User Memory
Action Execution
this travel plan, and then I can search for arrival time. Task Memory
Subgoals: ['Check travel plan from the calendar', …]
Summary and Reflection
Thought
Subgoal_Status: SUCCESS
Subtask 3: Enter the train number G104 in the search bar G Reo fa lel_ cS tit oa ntu : Ts: h F eA uIL sE eD r will take train G104 to Nanjing.
Assess Task Feasibility
CanComplete: True Summary and Reflection Task
Action: Box_Input(5, "G104") S Ru eb flg eo cta il o_ nS :t a Tt hu es : p F rA evIL ioE uD s action did Decomposition : The date is Sep. 13th, and the destination is '南京' (Nanjing)
not input 'G104' but bringed up the AAccttioionn
Action Execution keyboard … The next step should be … EExxeeccuuttioionn
Subtask 9:
Select the date of
the train.
Subtask 1: Open the 12306 APP Subtask 14: Look
for the answer
Assess Task Feasibility Goal_Status:
Observation Thought: The goal of opening the 12306 app can be achieved SUCCESS
using only one action, specifically the Click action on element index 11.
CanComplete: True Action: Click(11) Message
Task Complete You will arrive
Nanjing at 8:30 am.
Action Execution Click(element_id: int = 11)
Summary and Reflection
Thought Fig.5. TheSecondExampleCaseofMobA.Pleasenotethatseveralunimportantstagesduringtheexecutionofasub-taskare
Subgoal_Status: SUCCESS omittedforclarity.Thekeyfeaturesforeachpartareasfollows.Task:MobAsupportscross-applicationtasksandcaninterpret
Goal_Status: FAILED
Reflection: The action of opening the 12306 app was successful……The next indirectcommands.Sub-task1:Memoriesareretrievedtoselecttargetapplicationsandupdatedtotrackthetrace.Sub-task3:
steps should involve ……
MobAwillreflectandtryotherapproachesiftheattemptisfailed.Sub-task9andsub-task13:Memoriesareusedtochoosecorrect
actions.
Additionally,memoryretrievaliscrucialforhandlingcontextualtasks.Insub-tasks9and13,althoughtheuser
Summary and Reflection
Thought doesn’texplicitlyspecifythetraveldateordestinationinthetaskrequest.MobAcanrelyonpreviouslystoredTask
Subgoal_Status: FAILED
Goal_Status: FAILED Memorydatatoprovideanaccurateresponse.
Reflection: The previous action … successful in
bringing up the keyboard … The next step should Inconclusion,byintegratingreflection,memoryretrieval,andseamlesscross-appinteraction,theagentefficiently
be …
handlescomplextasks,enhancinguserexperienceandbroadeningitspotentialapplications.
6 LIMITATIONSANDFUTUREWORK
Task Decomposition and Failure Handling. The effectiveness of MobA largely depends on accurate initial task
Tried to type 'G104' decomposition.Incorrectdecomposition,suchascreatingsub-tasksthatcannotbecompleted,leadsdirectlytotask
directly but Failed
Task Decomposition failure.Currently,whileweinvoketaskdecompositionuponfailure,thereisnomechanismforautomaticallycorrecting
Observation
Thought: …… theinitialtaskplan.Ifasub-taskcannotbefurtherdecomposedorcompleted,itmayleadtoacyclicalfailure.Moreover,
Subgoals: ['Click the search bar to activate it',
'Enter the train number G104 using the on-screen sub-tasksoftendependoneachother;forexample,subsequentactionsonscreenBcanonlybeexecutedaftercompleting
keyboard', 'Click the search button to initiate the
search'] EExA xeA ec cc ct uti uo tio tin oin o n n informationretrievalonscreenA.Iftheinitialplanwronglyordersthetasksas[B,A],thetaskswillnotbecompleted
successfully.Althoughrareinpracticaltests,suchdecompositionerrorsposesignificantchallenges.
DependenceonView-HierarchyInformation. MobAreliesviewhierarchy(VH)informationfromXMLfilestounder-
standmobileinterfacesandlocatetargetelements,whichassumestheaccuracyofthesefiles.However,discrepancies16 Zhuetal.
betweenXMLcontentandactualscreenelementscanoccur,suchasunclickableitemsbeingmislabeledasclickable.
WhileMobAprefersrelyingonVHovervisualreasoning,technicallimitations(e.g.thepagehaschangingbannersor
videos)sometimespreventretrievingXMLfiles,forcingrelianceonvisualinformationlikeOCRandobjectdetection.
Toaddressthis,integratingafine-tunedsidemodelwithrobustOCRandtargetlocalizationcapabilitiesasalocalagent
couldenhanceflexibilityintaskexecution.
ExecutionModelEfficiency. Theplan-assess-action-reflectionexecutionpipeline,whilethorough,oftennecessitates
frequentcallstoMLLMs,increasingbothtimecostsandtokenconsumption.Tooptimizethisprocess,employing
finely-tunedsidemodelsforspecificactionsorutilizinganexperiencereplaymechanismtoreusesuccessfulexecution
trajectoriescouldreduceredundantcomputationsandimproveoverallefficiency.
Toovercometheselimitations,futureworkcouldfocuson:
• Developingadaptivetaskdecompositionalgorithmsthatcandynamicallyadjustplansbasedonreal-time
feedbackandtaskprogress.
• EnhancingtherobustnessofthesystemagainstXMLinaccuraciesbyintegratingmoreadvancedvisualreasoning
capabilities.
• Reducingdependenceonlargemodelsbyincorporatingmoreefficientlocalprocessingunitsorlightweight
modelsthatcanhandlespecificsub-tasks.
• ExploringmachinelearningtechniquessuchasreinforcementlearningtoenableMobAtolearnfrompast
successesandfailuresinherentlyandimproveovertime.
TheseenhancementswillaimtomakeMobAmorereliable,efficient,andcapableofhandlingabroaderrangeoftasks
withhighercomplexityandvariability.
7 CONCLUSION
ThispaperpresentedMobA,aninnovativeMobilephoneAssistantsystemempoweredbyMLLMs.Utilizingatwo-
levelagentstructure,comprisingaGlobalAgentandaLocalAgent,MobAeffectivelyunderstandsusercommands,
planstasks,andexecutesactions.ThecombinationofMemoryandPlanModulesenhancesitsabilitytolearnfrom
previousinteractions,improvingefficiencyandaccuracy.OurevaluationsdemonstratedthatMobAsurpassesexisting
mobileassistantsinhandlingcomplextasks,leveragingmulti-levelmemory,taskdecomposition,andaction-validation
mechanisms.Thesefeaturesenableprecisetaskexecutionevenwithintricateorindirectcommands.
Futureworkwillfocusonimprovingtheperformanceonimage-onlyscenarioswheretheviewhierarchyisunattain-
able,deployinganend-sidemodelonmobilephonesforfasterresponseandsecuredprivacy.WehopeMobAillustrates
thepotentialofMLLMs-empoweredmobileassistantsandprovidesvaluableinsightsforfutureworks.MO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 17
A
REFERENCES
获取观测 手动修正
[1] GatiAher,RosaI.Arriaga,andAdamTaumanKalai.2023. Usinglargelanguagemodelstosimulatemultiplehumansandreplicatehuman
subjectstudi界面e捕捉s.接 I收 n反馈 P本地r决o策ce请 e求介 d入
ings自动o学习fthe40thInternationalConferenceonMachineLearning(Honolulu,Hawaii,USA)(ICML’23).JMLR.org,Article
云端决策
17,35pages.指令执行 终终端端模模型型 云端模型 辅助决策
[2] ChongyangBai,XiaoxueZang,YingXu,SrinivasSunkara,AbhinavRastogi,JindongChen,andBlaiseAguerayArcas.2021.UIBert:Learning
GenericMultimodalRepresentationsforUIUnderstanding. arXiv:2107.13731[cs.CV] https://arxiv.org/abs/2107.13731
[3] TomBrown,BenjaminMann,NickRyder,MelanieSubbiah,JaredDKaplan,PrafullaDhariwal,ArvindNeelakantan,PranavShyam,Girish
Sastry,AmandaAskell,SandhiniAgarwal,ArielHerbert-Voss,GretchenKrueger,TomHenighan,RewonChild,AdityaRamesh,DanielZiegler,
JeffreyWu,ClemensWinter,ChrisHesse,MarkChen,EricSigler,MateuszLitwin,ScottGray,BenjaminChess,JackClark,ChristopherBerner,
SamMcCandlish,AlecRadford,IlyaSutskever,andDarioAmodei.2020. LanguageModelsareFew-ShotLearners.InAdvancesinNeural
InformationProcessingSystems,H.Larochelle,M.Ranzato,R.Hadsell,M.F.Balcan,andH.Lin(Eds.),Vol.33.CurranAssociates,Inc.,1877–1901.
https://proceedings.neurips.cc/paper_files/paper/2020/file/1457c0d6bfcb4967418bfb8ac142f64a-Paper.pdf
[4] JunChen,DeyaoZhu,XiaoqianShen,XiangLi,ZechunLiu,PengchuanZhang,RaghuramanKrishnamoorthi,VikasChandra,YunyangXiong,and
MohamedElhoseiny.2023.MiniGPT-v2:largelanguagemodelasaunifiedinterfaceforvision-languagemulti-tasklearning.arXiv:2310.09478[cs.CV]
https://arxiv.org/abs/2310.09478
[5] ZheChen,JiannanWu,WenhaiWang,WeijieSu,GuoChen,SenXing,MuyanZhong,QinglongZhang,XizhouZhu,LeweiLu,BinLi,Ping
Luo,TongLu,YuQiao,andJifengDai.2024.InternVL:ScalingupVisionFoundationModelsandAligningforGenericVisual-LinguisticTasks.
arXiv:2312.14238[cs.CV] https://arxiv.org/abs/2312.14238
[6] ZhanpengChen,ChengjinXu,YiyanQi,andJianGuo.2024.MLLMIsaStrongReranker:AdvancingMultimodalRetrieval-augmentedGeneration
viaKnowledge-enhancedRerankingandNoise-injectedTraining. arXiv:2407.21439[cs.AI] https://arxiv.org/abs/2407.21439
[7] WenliangDai,JunnanLi,DONGXULI,AnthonyTiong,JunqiZhao,WeishengWang,BoyangLi,PascaleNFung,andStevenHoi.2023.InstructBLIP:
TowardsGeneral-purposeVision-LanguageModelswithInstructionTuning.InAdvancesinNeuralInformationProcessingSystems,A.Oh,
T.Naumann,A.Globerson,K.Saenko,M.Hardt,andS.Levine(Eds.),Vol.36.CurranAssociates,Inc.,49250–49267. https://proceedings.neurips.cc/
paper_files/paper/2023/file/9a6a435e75419a836fe47ab6793623e6-Paper-Conference.pdf
[8] JingwenFu,XiaoyiZhang,YuwangWang,WenjunZeng,andNanningZheng.2024.UnderstandingmobileGUI:Frompixel-wordstoscreen-sentences.
Neurocomputing601(2024),128200.
[9] DifeiGao,LeiJi,ZechenBai,MingyuOuyang,PeiranLi,DongxingMao,QinchenWu,WeichenZhang,PeiyiWang,XiangwuGuo,etal.2024.
AssistGUI:Task-OrientedPCGraphicalUserInterfaceAutomation.InProceedingsoftheIEEE/CVFConferenceonComputerVisionandPattern
Recognition.13289–13298.
[10] YuyingGe,SijieZhao,ChenLi,YixiaoGe,andYingShan.2024.SEED-Data-EditTechnicalReport:AHybridDatasetforInstructionalImageEditing.
arXiv:2405.04007[cs.CV] https://arxiv.org/abs/2405.04007
[11] ZechengHe,SrinivasSunkara,XiaoxueZang,YingXu,LijuanLiu,NevanWichers,GabrielSchubiner,RubyLee,andJindongChen.2021.Actionbert:
Leveraginguseractionsforsemanticunderstandingofuserinterfaces.InProceedingsoftheAAAIConferenceonArtificialIntelligence,Vol.35.
5931–5938.
[12] JinyiHu,YuanYao,ChongyiWang,SHANWANG,YinxuPan,QianyuChen,TianyuYu,HanghaoWu,YueZhao,HaoyeZhang,XuHan,Yankai
Lin,JiaoXue,dahaili,ZhiyuanLiu,andMaosongSun.2024.LargeMultilingualModelsPivotZero-ShotMultimodalLearningacrossLanguages.In
TheTwelfthInternationalConferenceonLearningRepresentations. https://openreview.net/forum?id=Kuh5qgCGCp
[13] XuHuang,WeiwenLiu,XiaolongChen,XingmeiWang,HaoWang,DefuLian,YashengWang,RuimingTang,andEnhongChen.2024.Understanding
theplanningofLLMagents:Asurvey. arXiv:2402.02716[cs.AI] https://arxiv.org/abs/2402.02716
[14] EunkyungJo,DanielA.Epstein,HyunhoonJung,andYoung-HoKim.2023.UnderstandingtheBenefitsandChallengesofDeployingConversational
AILeveragingLargeLanguageModelsforPublicHealthIntervention.InProceedingsofthe2023CHIConferenceonHumanFactorsinComputing
Systems(Hamburg,Germany)(CHI’23).AssociationforComputingMachinery,NewYork,NY,USA,Article18,16pages. https://doi.org/10.1145/
3544548.3581503
[15] KunyaoLan,BinguiJin,ZichenZhu,SiyuanChen,ShuZhang,KennyQ.Zhu,andMengyueWu.2024.DepressionDiagnosisDialogueSimulation:
Self-improvingPsychiatristwithTertiaryMemory. arXiv:2409.15084[cs.CL] https://arxiv.org/abs/2409.15084
[16] SunjaeLee,JunyoungChoi,JungjaeLee,MunimHasanWasi,HojunChoi,StevenY.Ko,SangeunOh,andInsikShin.2024.Explore,Select,Derive,
andRecall:AugmentingLLMwithHuman-likeMemoryforMobileTaskAutomation. arXiv:2312.03003[cs.HC] https://arxiv.org/abs/2312.03003
[17] UnggiLee,MinjiJeon,YunseoLee,GyuriByun,YoorimSon,JaeyoonShin,HongkyuKo,andHyeoncheolKim.2024.LLaVA-Docent:Instruction
TuningwithMultimodalLargeLanguageModeltoSupportArtAppreciationEducation. arXiv:2402.06264[cs.AI] https://arxiv.org/abs/2402.06264
[18] GangLiandYangLi.2023. Spotlight:MobileUIUnderstandingusingVision-LanguageModelswithaFocus.InTheEleventhInternational
ConferenceonLearningRepresentations.
[19] TobyJia-JunLi,AmosAzaria,andBradA.Myers.2017.SUGILITE:CreatingMultimodalSmartphoneAutomationbyDemonstration.InProceedings
ofthe2017CHIConferenceonHumanFactorsinComputingSystems(Denver,Colorado,USA)(CHI’17).AssociationforComputingMachinery,
NewYork,NY,USA,6038–6049. https://doi.org/10.1145/3025453.302548318 Zhuetal.
[20] TobyJia-JunLi,LindsayPopowski,TomMitchell,andBradAMyers.2021.Screen2vec:Semanticembeddingofguiscreensandguicomponents.In
Proceedingsofthe2021CHIConferenceonHumanFactorsinComputingSystems.1–15.
[21] TobyJia-JunLi,MarissaRadensky,JustinJia,KirielleSingarajah,TomMMitchell,andBradAMyers.2019.Pumice:Amulti-modalagentthat
learnsconceptsandconditionalsfromnaturallanguageanddemonstrations.InProceedingsofthe32ndannualACMsymposiumonuserinterface
softwareandtechnology.577–589.
[22] YangLi,GangLi,XinZhou,MostafaDehghani,andAlexeyGritsenko.2021. VUT:VersatileUITransformerforMulti-ModalMulti-TaskUser
InterfaceModeling. arXiv:2112.05692[cs.CV] https://arxiv.org/abs/2112.05692
[23] YangLi,YangyangYu,HaohangLi,ZhiChen,andKhaldounKhashanah.2023.TradingGPT:Multi-AgentSystemwithLayeredMemoryandDistinct
CharactersforEnhancedFinancialTradingPerformance. arXiv:2309.03736[q-fin.PM] https://arxiv.org/abs/2309.03736
[24] HaotianLiu,ChunyuanLi,YuhengLi,andYongJaeLee.2024.ImprovedBaselineswithVisualInstructionTuning.InProceedingsoftheIEEE/CVF
ConferenceonComputerVisionandPatternRecognition(CVPR).26296–26306.
[25] HaotianLiu,ChunyuanLi,QingyangWu,andYongJaeLee.2023. VisualInstructionTuning.InAdvancesinNeuralInformationProcessing
Systems,A.Oh,T.Naumann,A.Globerson,K.Saenko,M.Hardt,andS.Levine(Eds.),Vol.36.CurranAssociates,Inc.,34892–34916. https:
//proceedings.neurips.cc/paper_files/paper/2023/file/6dcf277ea32ce3288914faf369fe6de0-Paper-Conference.pdf
[26] XinyuLiu,YingqingHe,LanqingGuo,XiangLi,BuJin,PengLi,YanLi,Chi-MinChan,QifengChen,WeiXue,WenhanLuo,QifengLiu,and
YikeGuo.2024. HiPrompt:Tuning-freeHigher-ResolutionGenerationwithHierarchicalMLLMPrompts. arXiv:2409.02919[cs.CV] https:
//arxiv.org/abs/2409.02919
[27] XinbeiMa,ZhuoshengZhang,andHaiZhao.2024.CoCo-Agent:AComprehensiveCognitiveMLLMAgentforSmartphoneGUIAutomation.
InFindingsoftheAssociationforComputationalLinguisticsACL2024,Lun-WeiKu,AndreMartins,andVivekSrikumar(Eds.).Associationfor
ComputationalLinguistics,Bangkok,Thailandandvirtualmeeting,9097–9110. https://aclanthology.org/2024.findings-acl.539
[28] AmanMadaan,NiketTandon,PrakharGupta,SkylerHallinan,LuyuGao,SarahWiegreffe,UriAlon,NouhaDziri,ShrimaiPrabhumoye,Yiming
Yang,SeanWelleck,BodhisattwaPrasadMajumder,ShashankGupta,AmirYazdanbakhsh,andPeterClark.2023.Self-Refine:IterativeRefinement
withSelf-Feedback. arXiv:2303.17651[cs.CL]
[29] AdyashaMaharana,Dong-HoLee,SergeyTulyakov,MohitBansal,FrancescoBarbieri,andYuweiFang.2024. EvaluatingVeryLong-Term
ConversationalMemoryofLLMAgents. arXiv:2402.17753[cs.CL] https://arxiv.org/abs/2402.17753
[30] SewonMin,XinxiLyu,AriHoltzman,MikelArtetxe,MikeLewis,HannanehHajishirzi,andLukeZettlemoyer.2022. RethinkingtheRoleof
Demonstrations:WhatMakesIn-ContextLearningWork?.InProceedingsofthe2022ConferenceonEmpiricalMethodsinNaturalLanguage
Processing,YoavGoldberg,ZornitsaKozareva,andYueZhang(Eds.).AssociationforComputationalLinguistics,AbuDhabi,UnitedArabEmirates,
11048–11064. https://doi.org/10.18653/v1/2022.emnlp-main.759
[31] SongqinNong,JialiZhu,RuiWu,JiongchaoJin,ShuoShan,XiutianHuang,andWenhaoXu.2024.MobileFlow:AMultimodalLLMForMobileGUI
Agent. arXiv:2407.04346[cs.CV] https://arxiv.org/abs/2407.04346
[32] OpenAI.2023.Gpt-4v(ision)SystemCard.https://openai.com/research/gpt-4v-system-card.
[33] XichenPan,LiDong,ShaohanHuang,ZhiliangPeng,WenhuChen,andFuruWei.2024.Kosmos-G:GeneratingImagesinContextwithMultimodal
LargeLanguageModels.InTheTwelfthInternationalConferenceonLearningRepresentations. https://openreview.net/forum?id=he6mX9LTyE
[34] JoonSungPark,JosephO’Brien,CarrieJunCai,MeredithRingelMorris,PercyLiang,andMichaelS.Bernstein.2023.GenerativeAgents:Interactive
SimulacraofHumanBehavior.InProceedingsofthe36thAnnualACMSymposiumonUserInterfaceSoftwareandTechnology(SanFrancisco,
CA,USA)(UIST’23).AssociationforComputingMachinery,NewYork,NY,USA,Article2,22pages. https://doi.org/10.1145/3586183.3606763
[35] ChenQian,YufanDang,JiahaoLi,WeiLiu,ZihaoXie,YiFeiWang,WeizeChen,ChengYang,XinCong,XiaoyinChe,ZhiyuanLiu,andMaosongSun.
2024.ExperientialCo-LearningofSoftware-DevelopingAgents.InProceedingsofthe62ndAnnualMeetingoftheAssociationforComputational
Linguistics(Volume1:LongPapers),Lun-WeiKu,AndreMartins,andVivekSrikumar(Eds.).AssociationforComputationalLinguistics,Bangkok,
Thailand,5628–5640. https://aclanthology.org/2024.acl-long.305
[36] ChengQian,ShihaoLiang,YujiaQin,YiningYe,XinCong,YankaiLin,YesaiWu,ZhiyuanLiu,andMaosongSun.2024.Investigate-Consolidate-
Exploit:AGeneralStrategyforInter-TaskAgentSelf-Evolution. arXiv:2401.13996[cs.CL] https://arxiv.org/abs/2401.13996
[37] ChenQian,WeiLiu,HongzhangLiu,NuoChen,YufanDang,JiahaoLi,ChengYang,WeizeChen,YushengSu,XinCong,JuyuanXu,DahaiLi,
ZhiyuanLiu,andMaosongSun.2024.ChatDev:CommunicativeAgentsforSoftwareDevelopment.InProceedingsofthe62ndAnnualMeetingof
theAssociationforComputationalLinguistics(Volume1:LongPapers),Lun-WeiKu,AndreMartins,andVivekSrikumar(Eds.).Associationfor
ComputationalLinguistics,Bangkok,Thailand,15174–15186. https://aclanthology.org/2024.acl-long.810
[38] AlecRadford,JongWookKim,ChrisHallacy,AdityaRamesh,GabrielGoh,SandhiniAgarwal,GirishSastry,AmandaAskell,PamelaMishkin,Jack
Clark,GretchenKrueger,andIlyaSutskever.2021.LearningTransferableVisualModelsFromNaturalLanguageSupervision.InProceedingsofthe
38thInternationalConferenceonMachineLearning(ProceedingsofMachineLearningResearch,Vol.139),MarinaMeilaandTongZhang(Eds.).
PMLR,8748–8763. https://proceedings.mlr.press/v139/radford21a.html
[39] NoahShinn,FedericoCassano,AshwinGopinath,KarthikNarasimhan,andShunyuYao.2023.Reflexion:languageagentswithverbalreinforcement
learning.InAdvancesinNeuralInformationProcessingSystems,A.Oh,T.Naumann,A.Globerson,K.Saenko,M.Hardt,andS.Levine(Eds.),
Vol.36.CurranAssociates,Inc.,8634–8652. https://proceedings.neurips.cc/paper_files/paper/2023/file/1b44b878bb782e6954cd888628510e90-Paper-
Conference.pdfMO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 19
A
[40] LiangtaiSun,Xingy获取观u测Che手动n修正,LuChen,TianleDai,ZichenZhu,andKaiYu.2022.META-GUI:TowardsMulti-modalConversationalAgentsonMobile
GUI.InProceedingsofthe2022ConferenceonEmpiricalMethodsinNaturalLanguageProcessing,YoavGoldberg,ZornitsaKozareva,andYue
Zhang(Eds.) 界面. 捕捉As接收s反馈oc本地i决a策tio请n求介入forC 自动o 学习mputationalLinguistics,AbuDhabi,UnitedArabEmirates,6699–6712. https://doi.org/10.18653/v1/2022.emnlp-
main.449 指令执行 终终端端模模型型 云端决策 云端模型 辅助决策
[41] QuanSun,YufengCui,XiaosongZhang,FanZhang,QiyingYu,ZhengxiongLuo,YuezeWang,YongmingRao,JingjingLiu,TiejunHuang,and
XinlongWang.2024.GenerativeMultimodalModelsareIn-ContextLearners. arXiv:2312.13286[cs.CV] https://arxiv.org/abs/2312.13286
[42] SimengSun,YangLiu,ShuohangWang,DanIter,ChenguangZhu,andMohitIyyer.2024.PEARL:PromptingLargeLanguageModelstoPlan
andExecuteActionsOverLongDocuments.InProceedingsofthe18thConferenceoftheEuropeanChapteroftheAssociationforComputational
Linguistics(Volume1:LongPapers),YvetteGrahamandMatthewPurver(Eds.).AssociationforComputationalLinguistics,St.Julian’s,Malta,
469–486. https://aclanthology.org/2024.eacl-long.29
[43] GeminiTeam.2024.Gemini:AFamilyofHighlyCapableMultimodalModels. arXiv:2312.11805[cs.CL] https://arxiv.org/abs/2312.11805
[44] BryanWang,GangLi,XinZhou,ZhourongChen,ToviGrossman,andYangLi.2021. Screen2Words:AutomaticMobileUISummarization
withMultimodalLearning.InThe34thAnnualACMSymposiumonUserInterfaceSoftwareandTechnology(VirtualEvent,USA)(UIST’21).
AssociationforComputingMachinery,NewYork,NY,USA,498–510. https://doi.org/10.1145/3472749.3474765
[45] GuanzhiWang,YuqiXie,YunfanJiang,AjayMandlekar,ChaoweiXiao,YukeZhu,LinxiFan,andAnimaAnandkumar.2023. Voyager:An
Open-EndedEmbodiedAgentwithLargeLanguageModels. arXiv:2305.16291[cs.AI] https://arxiv.org/abs/2305.16291
[46] JunyangWang,HaiyangXu,HaitaoJia,XiZhang,MingYan,WeizhouShen,JiZhang,FeiHuang,andJitaoSang.2024.Mobile-Agent-v2:MobileDevice
OperationAssistantwithEffectiveNavigationviaMulti-AgentCollaboration.(2024).arXiv:2406.01014[cs.CL] https://arxiv.org/abs/2406.01014
[47] JunyangWang,HaiyangXu,JiaboYe,MingYan,WeizhouShen,JiZhang,FeiHuang,andJitaoSang.2024.Mobile-Agent:AutonomousMulti-Modal
MobileDeviceAgentwithVisualPerception. arXiv:2401.16158[cs.CL] https://arxiv.org/abs/2401.16158
[48] XuezhiWang,JasonWei,DaleSchuurmans,QuocVLe,EdH.Chi,SharanNarang,AakankshaChowdhery,andDennyZhou.2023. Self-
ConsistencyImprovesChainofThoughtReasoninginLanguageModels.InTheEleventhInternationalConferenceonLearningRepresentations.
https://openreview.net/forum?id=1PL1NIMMrw
[49] YiqiWang,WentaoChen,XiaotianHan,XudongLin,HaitengZhao,YongfeiLiu,BohanZhai,JianboYuan,QuanzengYou,andHongxiaYang.2024.
ExploringtheReasoningAbilitiesofMultimodalLargeLanguageModels(MLLMs):AComprehensiveSurveyonEmergingTrendsinMultimodal
Reasoning. arXiv:2401.06805[cs.CL] https://arxiv.org/abs/2401.06805
[50] YuqingWangandYunZhao.2023.GeminiinReasoning:UnveilingCommonsenseinMultimodalLargeLanguageModels. arXiv:2312.17661[cs.CL]
https://arxiv.org/abs/2312.17661
[51] JasonWei,XuezhiWang,DaleSchuurmans,MaartenBosma,brianichter,FeiXia,EdChi,QuocVLe,andDennyZhou.2022.Chain-of-Thought
PromptingElicitsReasoninginLargeLanguageModels.InAdvancesinNeuralInformationProcessingSystems,S.Koyejo,S.Mohamed,A.Agarwal,
D.Belgrave,K.Cho,andA.Oh(Eds.),Vol.35.CurranAssociates,Inc.,24824–24837. https://proceedings.neurips.cc/paper_files/paper/2022/file/
9d5609613524ecf4f15af0f7b31abca4-Paper-Conference.pdf
[52] HaoWen,YuanchunLi,GuohongLiu,ShanhuiZhao,TaoYu,TobyJia-JunLi,ShiqiJiang,YunhaoLiu,YaqinZhang,andYunxinLiu.2024.
AutoDroid:LLM-poweredTaskAutomationinAndroid.InProceedingsofthe30thAnnualInternationalConferenceonMobileComputingand
Networking(WashingtonD.C.,DC,USA)(ACMMobiCom’24).AssociationforComputingMachinery,NewYork,NY,USA,543–557. https:
//doi.org/10.1145/3636534.3649379
[53] JiannanWu,MuyanZhong,SenXing,ZeqiangLai,ZhaoyangLiu,WenhaiWang,ZheChen,XizhouZhu,LeweiLu,TongLu,PingLuo,YuQiao,
andJifengDai.2024. VisionLLMv2:AnEnd-to-EndGeneralistMultimodalLargeLanguageModelforHundredsofVision-LanguageTasks.
arXiv:2406.08394[cs.CV] https://arxiv.org/abs/2406.08394
[54] ZhenyuWu,ZiweiWang,XiuweiXu,JiwenLu,andHaibinYan.2023.EmbodiedTaskPlanningwithLargeLanguageModels.arXiv:2307.01848[cs.CV]
https://arxiv.org/abs/2307.01848
[55] ZhihengXi,WenxiangChen,XinGuo,WeiHe,YiwenDing,BoyangHong,MingZhang,JunzheWang,SenjieJin,EnyuZhou,RuiZheng,Xiaoran
Fan,XiaoWang,LimaoXiong,YuhaoZhou,WeiranWang,ChanghaoJiang,YichengZou,XiangyangLiu,ZhangyueYin,ShihanDou,Rongxiang
Weng,WensenCheng,QiZhang,WenjuanQin,YongyanZheng,XipengQiu,XuanjingHuang,andTaoGui.2023.TheRiseandPotentialofLarge
LanguageModelBasedAgents:ASurvey. arXiv:2309.07864[cs.AI] https://arxiv.org/abs/2309.07864
[56] MingzheXing,RongkaiZhang,HuiXue,QiChen,FanYang,andZhenXiao.2024. UnderstandingtheWeaknessofLargeLanguageModel
AgentswithinaComplexAndroidEnvironment.InProceedingsofthe30thACMSIGKDDConferenceonKnowledgeDiscoveryandDataMining
(Barcelona,Spain)(KDD’24).AssociationforComputingMachinery,NewYork,NY,USA,6061–6072. https://doi.org/10.1145/3637528.3671650
[57] HongshenXu,ZichenZhu,SituoZhang,DaMa,ShuaiFan,LuChen,andKaiYu.2024.RejectionImprovesReliability:TrainingLLMstoRefuse
UnknownQuestionsUsingRLfromKnowledgeFeedback. arXiv:2403.18349[cs.CL] https://arxiv.org/abs/2403.18349
[58] AnYan,ZhengyuanYang,WanrongZhu,KevinLin,LinjieLi,JianfengWang,JianweiYang,YiwuZhong,JulianMcAuley,JianfengGao,ZichengLiu,
andLijuanWang.2023.GPT-4VinWonderland:LargeMultimodalModelsforZero-ShotSmartphoneGUINavigation. arXiv:2311.07562[cs.CV]
https://arxiv.org/abs/2311.07562
[59] ShunyuYao,JeffreyZhao,DianYu,NanDu,IzhakShafran,KarthikRNarasimhan,andYuanCao.2023.ReAct:SynergizingReasoningandActing
inLanguageModels.InTheEleventhInternationalConferenceonLearningRepresentations. https://openreview.net/forum?id=WE_vluYUL-X20 Zhuetal.
[60] YuanYao,TianyuYu,AoZhang,ChongyiWang,JunboCui,HongjiZhu,TianchiCai,HaoyuLi,WeilinZhao,ZhihuiHe,QianyuChen,Huarong
Zhou,ZhenshengZou,HaoyeZhang,ShengdingHu,ZhiZheng,JieZhou,JieCai,XuHan,GuoyangZeng,DahaiLi,ZhiyuanLiu,andMaosong
Sun.2024.MiniCPM-V:AGPT-4VLevelMLLMonYourPhone. arXiv:2408.01800[cs.CV] https://arxiv.org/abs/2408.01800
[61] QinghaoYe,HaiyangXu,GuohaiXu,JiaboYe,MingYan,YiyangZhou,JunyangWang,AnwenHu,PengchengShi,YayaShi,ChenliangLi,Yuanhong
Xu,HehongChen,JunfengTian,QiQian,JiZhang,FeiHuang,andJingrenZhou.2024.mPLUG-Owl:ModularizationEmpowersLargeLanguage
ModelswithMultimodality. arXiv:2304.14178[cs.CL] https://arxiv.org/abs/2304.14178
[62] QinghaoYe,HaiyangXu,JiaboYe,MingYan,AnwenHu,HaoweiLiu,QiQian,JiZhang,FeiHuang,andJingrenZhou.2023. mPLUG-Owl2:
RevolutionizingMulti-modalLargeLanguageModelwithModalityCollaboration. arXiv:2311.04257[cs.CL] https://arxiv.org/abs/2311.04257
[63] ZhuoshengZhanandAstonZhang.2023.YouOnlyLookatScreens:MultimodalChain-of-ActionAgents.arXivpreprintarXiv:2309.11436(2023).
[64] ChaoyunZhang,LiqunLi,ShilinHe,XuZhang,BoQiao,SiQin,MinghuaMa,YuKang,QingweiLin,SaravanRajmohan,DongmeiZhang,andQi
Zhang.2024.UFO:AUI-FocusedAgentforWindowsOSInteraction. arXiv:2402.07939[cs.HC] https://arxiv.org/abs/2402.07939
[65] ChiZhang,ZhaoYang,JiaxuanLiu,YuchengHan,XinChen,ZebiaoHuang,BinFu,andGangYu.2023. AppAgent:MultimodalAgentsas
SmartphoneUsers. arXiv:2312.13771[cs.CV] https://arxiv.org/abs/2312.13771
[66] ShaokunZhang,JieyuZhang,JialeLiu,LinxinSong,ChiWang,RanjayKrishna,andQingyunWu.2024.TrainingLanguageModelAgentswithout
ModifyingLanguageModels.ICML’24(2024).
[67] ZeyuZhang,XiaoheBo,ChenMa,RuiLi,XuChen,QuanyuDai,JiemingZhu,ZhenhuaDong,andJi-RongWen.2024.ASurveyontheMemory
MechanismofLargeLanguageModelbasedAgents. arXiv:2404.13501[cs.AI] https://arxiv.org/abs/2404.13501
[68] ZhuoshengZhang,AstonZhang,MuLi,andAlexSmola.2023.AutomaticChainofThoughtPromptinginLargeLanguageModels.InTheEleventh
InternationalConferenceonLearningRepresentations. https://openreview.net/forum?id=5NTt8GFjUHkr
[69] DeyaoZhu,JunChen,XiaoqianShen,XiangLi,andMohamedElhoseiny.2024. MiniGPT-4:EnhancingVision-LanguageUnderstandingwith
AdvancedLargeLanguageModels.InTheTwelfthInternationalConferenceonLearningRepresentations. https://openreview.net/forum?id=
1tZbq88f27
[70] ZichenZhu,LiangtaiSun,JingkaiYang,YifanPeng,WeilinZou,ZiyuanLi,WutaoLi,LuChen,YingziMa,DanyangZhang,etal.2023.CAM-GUI:
AConversationalAssistantonMobileGUI.InNationalConferenceonMan-MachineSpeechCommunication.Springer,302–315.MO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 21
A
A MOBBENCH
获取观测 手动修正
Weprovidethecompletedetailsof50tasksasshowninTable5.Pleasenotethatwegivecommandstoagentsin
界面捕捉 接收反馈 本地决策 请求介入 自动学习
Chineseanda 指l 令执l 行th 终终e 端端模模型型ap云p端决策li 云c 端模型atio辅助决n策 saresettoChinese.
Table5. CompletelistoftasksinMobBench.ThecontentistranslatedfromChinese.
Type Application Task Preparation ScoringMilestones
Gotothe’My’pageinthe12306app,andswitch
12306
Easy theappfromstandardmodetoseniormodeunder Switchtostandardmode. 1.Taskcompletion.
(ChinaRailway)
commonfunctions.
Search’AdvancedMathematics’inBilibiliandplay 1.Taskcompletion.
Easy Bilibili -
thefirstvideo. 2.Skiptheadifapplicable.
Easy Camera Takeaphotousingthecamera’snightmode. - 1.Taskcompletion.
Setandturnonseveral
Easy Clock Turnofftheearliestopenedalarm. 1.Taskcompletion.
alarms.
ChecktheDoubanratingofthemovie’Artificial
Easy Douban - 1.Taskcompletion.
Intelligence’.
CreateanewtaskonGoogleCalendartitled
Easy GoogleCalendar - 1.Taskcompletion.
’ThesisWriting’.
HelpmecheckhowmuchdiscountmyHWorld
Easy HWorld Loggingin. 1.Taskcompletion.
membershiphas.
SearchforanassignedstoreonJDandaddthe
Easy JD.com - 1.Taskcompletion.
firstproducttothecart.
SwitchthelanguageoftheMcDonald’sappto
Easy McDonald’s SwitchtoChinese. 1.Taskcompletion.
English.
Easy Weather Checktomorrow’sweather. - 1.Taskcompletion.
1.Enterthetimetablequery
ChecktheschedulefortrainG104fromShanghai
12306 interface.
Medium toBeijingtomorrow,andfindoutwhattimeitis -
(ChinaRailway) 2.Trainnumbercorrect.
expectedtoarriveinNanjing.
3.Taskcompleted.
1.Entertheleaderboard.
Fromthe"Hot"pageofBilibili,gotothe
2.Playthevideo.
Medium Bilibili leaderboard,playthetop-rankedvideo,followthe Cancelfollowingthisaccount
3.Followtheaccount.
account,andaddthevideotothefavorites.
4.Addtofavorites.
1.Setdelay.
Medium Camera Setthetimerselfiewiththelongestdelay. Switchtothefrontcamera.
2.Switchtothefrontcamera.
ThereisnoHongKongin 1.Entertheadditioninterface.
Medium Clock AddHongKonginWorldClock.
worldtime. 2.Taskcompletion.
Search"DoubanMovieTop250"andlikethetop 1.Enterthelist.
Medium Douban -
commentofthesecond-rankedmovie. 2.Taskcompleted.
1.Correctdate.
Createanewall-dayeventonGoogleCalendarfor
Medium GoogleCalendar - 2.Correcttime.
tomorrowtitled’CompanyAnnualMeeting’.
3.Taskcompletion.
Onthe’HWorld’app,searchforthestartingprice 1.Distanceprioritysorting.
Medium HWorld -
ofthenearestHantingHoteltome. 2.Taskcompletion.
Findthemostrecentproductawaitingreviewon
Thereareordersthathavenot 1.Enterreviewinterface.
Medium JD.com JDapp,giveitafullfive-starrating,writeareview,
beenevaluated. 2.Taskcompletion.
andaddtwophotos.
1.Enterorderinterface.
Thereisanorderandno 2.Selectthefirstorderto
Medium McDonald’s InvoicethemostrecentMcDonald’sorder.
invoicehasbeenissued. invoice.
3.Taskcompletion.
Medium Weather Checkthesunsettimetonight. - 1.Taskcompletion.22 Zhuetal.
Table5. CompletelistoftasksinMobBench.(Cont.)
Type Application Task Preparation ScoringMilestones
1.Correctdate.
Departureandarrivalstations
Buyahigh-speedrailticketfortomorrowfrom 2.Correctstation.
12306 differfromthoseonthe
Hard ShanghaitoBeijing,withdeparturetimebetween 3.Correcttrainselection.
(ChinaRailway) homepage,anddirecttickets
9amand11am. 4.Addpassenger.
mustbeavailable.
5.Completetask.
1.Entertheaccount
SearchinBilibiliandfollowtheassignedaccount, Unfollowtheaccount,and homepage.
Hard BiliBili playthenewestvideoandwriteafriendly disablethe‘auto-playnext 2.Followaccount.
comment. video’setting. 3.Playvideo.
4.Writecomment.
1.Timecorrect.
2.Titlecorrect.
Createanalarmat10o’clocktitled‘Work’with
3.Periodrepetitioniscorrect.
Hard Clock vibrationremindersoneveryMondayto -
4.Turnofftheringtoneand
Thursday.
turnonthevibration.
5.Taskcompleted.
Switchthecameratovideomode,turnonthefill 1.Turnonthefilllight.
Hard Camera light,setthevideoqualityto‘FHD30FPS’,and Switchtonon-videomode. 2.Switchvideoquality.
stoprecordingaftermorethantwentyseconds. 3.Complete20srecording.
1.Enterthemoviedetails
Searchforthemovie‘TheShawshank Removethepreviousmark, interface.
Hard Douban Redemption’onDouban,markitas‘watched’,rate rating,andreviewofthis 2.Successfullymarked.
itfivestars,andleaveapositivereview. movie. 3.Successfullyrated.
4.Leaveareview.
CreatearecurringeventonGoogleCalendartitled
1.Correcttimetitle.
‘ComputerVisionCourse’scheduledforevery
Hard GoogleCalendar - 2.Correctperiodrepetition.
Wednesdayfrom6PMto8PM,startingthisweek
3.Taskcompleted.
andrepeatingeighttimes.
1.Datecorrect.
OntheHWorldapp,bookahotelinChengdufor
2.Citylocationiscorrect.
today’scheck-inandthedayaftertomorrow’s
3.Pricecorrect.
Hard HWorld check-out,nearTianfuSquare.Choosethesecond -
4.Enterorderinterface.
cheapesthotellistedwhensortedbyprice,anduse
5.Submitorder.
WeChattopay.
6.Paymentmethodcorrect.
SearchforassignedstoreonJD.com,findandbuy 1.Enterthestoreinterface.
Hard JD.com thecheapestiteminthestore,choosethe - 2.Correctproductselection.
light-coloredstyle,andbuytwo. 3.Taskcompleted.
1.Findthesetmeal.
Ordera‘1+1Mix&Match’forimmediatein-store
2.Selectthesetmeal.
pickup,chooseMcChickenandMiniChocolate
Hard McDonald’s - 3.Settletheorder.
Sundae,addtocart,placeyourorder,andchoose
4.Paymentmethodcorrect.
Alipaytopay.
5.Taskcompleted.
1.Enterthecitylist.
Add‘Chengdu’intheweatherappandtellmethe EnsurethatChengduisnot
Hard Weather 2.Successfullyadded.
temperaturerangefortomorrow. listedinthecitylist.
3.Taskcompleted.MO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 23
A
Table5. CompletelistoftasksinMobBench.(Cont.)
获取观测 手动修正
Type 界面A 捕捉p接p收反馈lic 本地a 决策tio请n求介入 T 自动学a 习sk Preparation ScoringMilestones
云端决策
指令执行 终终端端模模型型 云端模型 辅助决策 1.Correcttrain.
12306 Bookahigh-speedtrainticketforthedayafter 2.Correctdateselection.
Indirect -
(ChinaRailway) tomorrow,returningtoBeijingbefore6:00PM. 2.Addpassengerdetails.
3.Taskcompletion.
I’moutofmobiledata,whatvideoscanIstill Cachingmultiplevideosin 1.OpenBilibili.
Indirect Bilibili
watchonthephone? advance. 2.Watchsavedvideos.
1.Deletephoto.
Indirect Camera Deletethelastphototakenrecently. -
2.Taskcompletion.
1.Enterthetimerinterface.
Indirect Clock Remindmeintwohours. -
2.Taskcompletion.
Helpmecheckwhichisthemostpopularmovie 1.OpenDouban.
Indirect Douban -
amongtheupcomingreleasesintheaters. 2.Taskcompletion.
1.Enterthecalendarcreation
interface.
RecordthatIhavea‘NaturalLanguageProcessing’ 2.selectthecorrecttime.
Indirect GoogleCalendar -
classfrom10AMto12PMtomorrowatcampus. 3.selectthecorrectlocation
correctly.
4.Taskcompletion.
1.Selectcurrentlocation.
Tellmeaboutthenearestavailablehotelnearby 2.Confirmtheselection.
Indirect HWorld -
andbookitforme. 3.Submitthebooking.
4.Taskcompletion.
1.Selectthecorrectitem.
Askcustomerserviceifthereisanydiscountfor 2.Entercustomerservice
Indirect JD.com -
thetopitemintheshoppingcart. page.
3.Taskcompletion.
1.Findthecombo.
OrderaMcSpicyChickenFiletBurgerCombofor
Indirect McDonald’s - 2.Checkout.
dine-in.
3.Taskcompletion.
Indirect Weather DoIneedtobringanumbrellatomorrow? - 1.Taskcompletion.24 Zhuetal.
Table5. CompletelistoftasksinMobBench.(Cont.)
Type Application Task Preparation ScoringMilestones
Helpmeaddmylatesttrainjourneytothe
12306 1.Enterticketlist.
schedule,titled‘{DepartureStation}——{Train
Cross-APP (ChinaRailway), - 2.Correcttitle.
Number}——{ArrivalStation}’,andsetexacttime
GoogleCalendar 3.Correcttime.
range.
Playthemovierankedthirdinthe"DoubanMovie 1.Correctmovie.
Cross-APP BiliBili,Douban -
Top250"onBilibili. 2.Successfulplay.
Openthecameraandtellmewhatitemisinfront
1.Correctanswer.
ofthelens,searchforthistypeofproducton Pointtherearcameraata
Cross-APP Camera,JD.com 2.Successfullysearch.
JD.com,andselectasimilaritemtoaddtothe commonobject
3.Addtoshoppingcart.
shoppingcart.
1.Takeaphoto.
Takeaphotowithatelephotolensandshareiton LogintoWeChatinadvance, 2.Entersharemenufrom
WeChatMoments,writeafewwordswiththe thecameramustfaceabright gallery.
Cross-APP Camera,WeChat
note‘ThisisanautomaticallypostedMomentsby area,andclicktokeepthe 3.Correctcaption.
MobA’intheend. interfaceunchanged. 4.Successfullysendto
Moments.
Setameetingschedulethat
GoogleCalendar, Whattimeismymeetingtomorrow?Setanalarm 1.Correctanswer.
Cross-APP startsat10a.mtomorrow
Clock fortwohoursbeforethemeetingtoremindme. 2.Successfulalarmaddition.
morning.
Createanewalldayschedule 1.EnterGoogleCalendar.
Checkmycalendarforthescheduleofmytripto
GoogleCalendar, forthedayaftertomorrowin 2.Correctdateretrieval.
Cross-APP Shenzhenandtellmetheweatherforecastforthat
Weather thecalendar,named 3.Enterweather.
day.
‘ShenzhenTour’. 4.Successfulweatherquery.
ChecktheaddressofmymostrecentorderinH Thereisanorder(whichcan 1.Retrieveorder.
Cross-APP HWorld,BiliBili Worldapplicationandsearchfortravelguidesfor beinunpaidorcanceled 2.EnterBilibili.
thatareaonBilibili. paymentstatus). 3.Successfulvideoplay.
1.Enterorderinterface.
SharetheproductlinkofthemostrecentJD.com Thereisanorder(whichcan 2.Selectorder.
Cross-APP JD.com,WeChat orderwithaWeChatfriend,andwritea beinunpaidorcanceled 3.Suitablerecommendation
recommendationmessage. paymentstatus). message.
4.Successfulsharing.
1.Checkweather.
Orderadine-inSpicyMcWingsatMcDonald’s.If
McDonald’s, 2.Selectmeal.
Cross-APP thecurrentweatherisnotsuitableforgoingout, -
Weather 3.Checkout.
orderdeliveryinstead.
4.Correctdiningoption.
1.Successfullyjudge
Ifitrainstomorrow,setanalarmfor10a.m.to
Cross-APP Weather,Clock - tomorrow’sweather.
wakemeup;otherwise,setthealarmfor8a.m.
2.Successfullysetthealarm.
B VIEWHIERARCHYPROCESSING
Giventhat(1)largemodelsstillexhibitlimitationsinprocessingvisualinformationand(2)certainelementsofthe
mobilephoneinterfacecannotbeobtainedthroughvisualmeansalone,theviewhierarchy(VH)playsacrucialrolein
enablingagentstoeffectivelyinterpretthemobileinterface.However,theXMLfilesrepresentingmobileinterfaces
containasubstantialamountofredundantinformation.Thisredundancyincreasestokencountsandcomplicatesthe
agent’staskofidentifyingkeyUIelements.
Toaddressthisissue,wedevelopedanalgorithmdesignedtofilterUIelements.Thealgorithmconsistsoffoursteps:
(1)parsingUIelementsfromtheXMLfile,(2)filteringuser-interactableUIelementsbasedontheirattributes,and
addingtheminascendingorderofsize,unlesstheyexhibitsignificantoverlapwithpreviouslyaddedelements,(3)for
UIelementscontainingtext,mergingthetextcontentwithinteractiveelementsifthetextislargelycontainedwithin
thoseelements,thusenrichingtheinteractiveelementwithexplanatoryinformation,and(4)assigninganindextoMO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 25
A
Input:xmlfileo获取观f测the手动修c正urrentscreen
Output:theannotatedscreen
界面捕捉 接收反馈 本地决策 请求介入 自动学习
云端决策
// First p指令执a行ss终终端端:模模型型 Fil云t端模型er辅助决t策he small elements and all useless attributes
𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠 ←(𝑠𝑜𝑟𝑡(𝑓𝑖𝑙𝑡𝑒𝑟(𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠),𝑘𝑒𝑦=𝑎𝑟𝑒𝑎);
𝑠𝑒𝑙𝑒𝑐𝑡𝑒𝑑_𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠 ←∅;
// Second pass: select elements whose overlapping area with former ones is small
foreach𝑒𝑙𝑒𝑚𝑒𝑛𝑡 in𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠do
if𝑒𝑙𝑒𝑚𝑒𝑛𝑡 isinteractivethen
𝑖𝑠_𝑣𝑎𝑙𝑖𝑑 ←true;
foreach𝑠𝑒𝑙𝑒𝑐𝑡𝑒𝑑_𝑒𝑙𝑒𝑚𝑒𝑛𝑡 in𝑠𝑒𝑙𝑒𝑐𝑡𝑒𝑑_𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠do
if𝑜𝑣𝑒𝑟𝑙𝑎𝑝𝑝𝑖𝑛𝑔_𝑎𝑟𝑒𝑎islargethen
𝑖𝑠_𝑣𝑎𝑙𝑖𝑑 ←false;
end
end
if𝑖𝑠_𝑣𝑎𝑙𝑖𝑑istruethen
𝑠𝑒𝑙𝑒𝑐𝑡𝑒𝑑_𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠 ←𝑠𝑒𝑙𝑒𝑐𝑡𝑒𝑑_𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠+𝑒𝑙𝑒𝑚𝑒𝑛𝑡;
end
end
end
// Third pass: Add the texts and merge the information of text into interactive elements
foreach𝑒𝑙𝑒𝑚𝑒𝑛𝑡 in𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠do
foreach𝑠𝑒𝑙𝑒𝑐𝑡𝑒𝑑_𝑒𝑙𝑒𝑚𝑒𝑛𝑡 in𝑠𝑒𝑙𝑒𝑐𝑡𝑒𝑑_𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠do
if𝑒𝑙𝑒𝑚𝑒𝑛𝑡 iscontainedin𝑠𝑒𝑙𝑒𝑐𝑡𝑒𝑑_𝑒𝑙𝑒𝑚𝑒𝑛𝑡 then
merge(𝑒𝑙𝑒𝑚𝑒𝑛𝑡,𝑠𝑒𝑙𝑒𝑐𝑡𝑒𝑑_𝑒𝑙𝑒𝑚𝑒𝑛𝑡);
end
end
end
// Final pass: Sort the elements from left to right, top to bottom
Sort(𝑒𝑙𝑒𝑚𝑒𝑛𝑡𝑠,key=(y,x));
Plotalltheinteractiveelementswiththeirindex;
Algorithm2:TheLogicofView-HierarchyProcessAlgorithm
eachUIelementaccordingtoitscentralcoordinates,fromlefttorightandtoptobottom,whileplaintextelementsare
assignedanindexof-1.Thisensuresthattheindexorderingalignsmorecloselywiththeuser’snaturalvisualscanning
behavior.
Insummary,thecoreofouralgorithmisthepreservationofkeyinteractiveelementsandtheirassociatedtextual
information,whileminimizingocclusionintheimage.Forexample,inthecaseofthe"planeticket"elementdemonstrated
inFigure6,theUIelementitselfdoesnotcontaintext,andthetextinformationassociatedwiththeplaneticketis
non-clickable.Bymergingthetwo,theagentcaninferthatclickingtheUIelementcorrespondstoselectingtheplane
ticket.26 Zhuetal.
However,limitationsremaininthisapproach.TherearecaseswhereallelementsintheXMLfilearemarkedas
"clickable=false",despitethepresenceofinteractiveelementsinpractice.Additionally,technicallimitationssometimes
preventtheXMLfilefromaccuratelyreflectingthecurrentstateoftheinterface.
Useless: <node index="0" text="" Clickable: <node index="1" text=""
r c t c c f s c s bo"e c el ll h o i ia cs p r lc ce ueso oua k kc ncsu lsc a ak l d= ta ar k b ba ec s" b ba l lb da =e e el lg ln =e e "- = =ee [i d "= =d " " 0== ff f"r " a ,= "" a ao f f 0fc la a" l lai s ]" s sd o l l [el s se e 1sm. "e ew " " 4e " ". 4" e pi M d lf 0n ac oog o ,a sh nce 3b sbe gut 1i w. lc -l s 2F ee k oe 0r dT ea rd ]=i dd "cm =" >==k "te r "fe " u a ffL t aa le"a s ll " sy s e o ee " "u " c c cp f s c s br oe c elhl la oia i cs r lcec c ueouso kck k ncls su aa k la dta a= br ag eb sb b"c e lb dla e =le le= l =e e =n "e- " = "= = [i "=d c fd 4" f" " a"or at t f 9= f lo r arm la s 2" uu sli" el ,sd eee. s 6 "M e. ""e " 0v " " po fe 5 i o le acb n o ]cw [shi a n 9l u se e b. g 4sV wT c -l 7eeii k oce ,dde 7rkw == dd 7e "" =G = 0t ft a "" " r ]r f f u "lo aa s >eu lel ss "p " ee " ""
Text: <node index="0"
text="飞机票" Resource-
id="com.MobileTicket:id/tv_tab"
class="android.widget.TextView"
package="com.MobileTicket"
checkable="false" checked="false"
clickable="false" enabled="true"
focusable="false" focused="false"
scrollable="false" long-
clickable="false" password="false"
selected="false"
bounds="[655,703][784,756]" />
Recognize & Merge &
Extract Clean
<?xml version='1.0' encoding='UTF-8' standalone='yes' ?> Useful: <element index=6 text="飞机票"
<hierarchy rotation="0">
<n <o nd oe d i en id ne dx e= x" =0 "" 0 t "e tx et= xt" =" "r "e rs eo su or uc re c- eid -i= d" =" "c cl oa mss .= M" oan bd ilero Ti id c. kw ei td :ig de /t t. iF cr ka em t_e hL oa myo e_u ct" o n… te> nt_container" ...> resource-id="" class="android.view.ViewGroup"
<n <o nd oe d i en d ine dx e= x" =0 "" 0 t "e tx et= xt" =" "r "e rs eo su or uc re c- eid -i= d" =" "c cl oa mss .= M" oan bd ilero Ti id c. kw ei td :ig de /t m.F ir da dm lee _L ca oy no tu et n" t ". .. .> ..> bounds="[492,605][947,770]"
<< nn oo dd ee ii nn dd ee xx == "" 10 "" tt ee xx tt == ""火 " re车 so票 ur" c r ee -s ido =u "r "c ce l- aid ss= ="c "ao nm d. rM oo idb .vil ie eT wic .Vke iet w:id G/ rt ov_ ut pra " i .n .." > .../> true_attributes="clickable" />
<node index="0" text="飞机票" resource-id="com.MobileTicket:id/tv_tab" .../>
…</node> 102 elements →41elements
Fig.6. AnExampleDiagramofView-HierarchyProcessing.Fromlefttorightaretheoriginalimage,unprocessedimageand
processedimage.Theunderlinedpartsarethepropertiesthatareretainedafterthemerge.
C ETHICSANDBROADERIMPACTSTATEMENT
Crowd-sourcing. Datacollectionandperformanceevaluationaredonebytheauthorsandnothird-partycrowd-
sourcershaveparticipated.
DataPrivacy. Thecontentinvolvinguserprivacyhasbeenprocessedasnecessaryfordisclosureinthepaperand
supplementaryfiles.
IntendedUse. MobAsystemisdesignedtohelpusersefficientlyusemobileapplicationstoperformcomplexoperations
anddifficultcommands.UserssendtheircommandsandfurtherinstructionswitheithervoiceortexttoMobA,which
inturncomprehends,predicts,andexecutesthetargetoperation.Thesystemcansubsequentlybedeployedonsmart
devicesincludingGUIssuchasmobilephones,tablets,computers,andcarstosignificantlyenhancethecapabilityof
smartassistants.
PotentialMisuse. TocontroltheGUIwithusercommandsrequiresMobAtogetahighlevelofoperationalfreedom
andaccesstocontrol,andwillmostlikelyinvolvealargeamountofuserprivacyinformation.Consideringthatdecisions
areoftenmadewithonlineAPIsonremoteservers,aremotehijackingcontroloraserviceprovider’sfailuretofollow
userprivacyprotocolsmayleadtouserprivacyleakage,dataloss,orevendamagetosafety.MO B MobA:ATwo-LevelAgentSystemforEfficientMobileTaskAutomation 27
A
EnvironmentalI获m取观测pac手动t修正. Thereisalargeportionofelderlyandpeoplewithdisabilitiesaroundtheworld.Wehope
thatMobAcanimprovetheiraccessibilitytothefast-evolvingelectronicdevices,lowerthethresholdofusingcomplex
applications,r界e面捕捉du接收反 c馈 e本地决 t策 h云端e决请 策求 i介 r入 fra自g动学习mentationfromthemoderninformationsociety,andfinallypromotesocialequality.
指令执行 终终端端模模型型 云端模型 辅助决策