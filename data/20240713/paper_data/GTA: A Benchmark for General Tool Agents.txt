GTA: A Benchmark for General Tool Agents
JizeWang1,2ZerunMa2YiningLi2SongyangZhang2
CailianChen1KaiChen2∗XinyiLe1∗
1ShanghaiJiaoTongUniversity2ShanghaiAILaboratory
{jizewang2000,cailianchen,lexinyi}@sjtu.edu.cn
{mazerun,liyining,zhangsongyang,chenkai}@pjlab.org.cn
Abstract
Significantfocushasbeenplacedonintegratinglargelanguagemodels(LLMs)
withvarioustoolsindevelopinggeneral-purposeagents. Thisposesachallenge
toLLMs’tool-usecapabilities. However,thereareevidentgapsbetweenexisting
tool-useevaluationsandreal-worldscenarios. CurrentevaluationsoftenuseAI-
generated queries, single-step tasks, dummy tools, and text-only interactions,
failingtorevealtheagents’real-worldproblem-solvingabilitieseffectively. To
addressthis,weproposeGTA,abenchmarkforGeneralToolAgents,featuring
three main aspects: (i) Real user queries: human-written queries with simple
real-worldobjectivesbutimplicittool-use,requiringtheLLMtoreasonthesuitable
toolsandplanthesolutionsteps. (ii)Realdeployedtools: anevaluationplatform
equippedwithtoolsacrossperception,operation,logic,andcreativitycategoriesto
evaluatetheagents’actualtaskexecutionperformance.(iii)Realmultimodalinputs:
authenticimagefiles,suchasspatialscenes,webpagescreenshots,tables,code
snippets,andprinted/handwrittenmaterials,usedasthequerycontextstoalign
withreal-worldscenariosclosely. Wedesign229real-worldtasksandexecutable
toolchainstoevaluatemainstreamLLMs. Ourfindingsshowthatreal-worlduser
queriesarechallengingforexistingLLMs,withGPT-4completinglessthan50%
ofthetasksandmostLLMsachievingbelow25%. Thisevaluationrevealsthe
bottlenecksinthetool-usecapabilitiesofcurrentLLMsinreal-worldscenarios,
whichprovidesfuturedirectionforadvancinggeneral-purposetoolagents.
1 Introduction
Integrating tools with large language models (LLMs) has attracted broad research interest as a
potentialapproachtowardsgeneralAIassistants.NotableworksincludeLangChain[5],AutoGPT[7],
andChatGPTPlugins[18]. Thesesystemsdecomposeworkflowintotwointeractiveparts: planning
andexecution,respectivelyhandledbyLLMcontrollersandcallabletools. Solvingcomplexreal-
worldtasksrequiresmultipletypesoftools,includingperception,operation,logic,andcreativity,
posinggreatchallengestoLLMs’tool-useproficiency. Consequently,evaluatingthemodels’tool-use
capabilitiesforreal-worldtasksiscrucialforenhancingtheeffectivenessofagentsystems.
Despite the progress on benchmarking the tool-use capability of LLMs made by recent works,
especiallyoncollectingmassiveAPIsandAI-generateduserqueriestoenablescalabletesting,there
remain noticeable gaps regarding real-world scenarios, as shown in Table 1. First, AI-generated
∗CorrespondingAuthors.Datasetisavailableathttps://github.com/open-compass/GTA.
Preprint.Underreview.
4202
luJ
11
]LC.sc[
1v31780.7042:viXraTable1: ComparisonofbenchmarksfortheLLM-basedagentsystem. *Real-worldmeanssolving
thequeriesishelpfulforhumansinreallifewhilestep-implicitandtool-implicitforLLMs.
Real-world* Realdeployed Multimodal Humanannotated Executionresult
Method
userquries tools contextinputs toolchains evaluation
ToolBench[22] ✓
APIBench[20]
APIBank[11] ✓ ✓
m&m’s[13] ✓ ✓
GAIA[15] ✓ ✓ ✓
GTA(Ours) ✓ ✓ ✓ ✓ ✓
Real Perception Operation Logic Creativity
Deployed OCR, RegionAttributeDescription, DrawBox, AddText, Calculator, Plot, MathOCR, TextToImage,
Tools DetectGivenObject, ImageDescription GoogleSearch CountGivenObject, Solver ImageStylization
Scenario Capability Real-world User Queries Multimodal Executable Interaction
Context Inputs Tool-chains Results
&D A ni Ca a og l dyra s inm is g P+L C wo itn hv e tr ht e t th ye p t ea ob fl e i min at go e a s hs ot wat ni s it ni c ta hl ec h ea xr at m ple.    I O Pm lC oa tRgeDescription
Visual I want to go to the highest-rated restaurant.  OCR
Interaction P+O Please circle it in the map.  DrawBox
Web According to BBC Good Food, how many grams  ImageDescription 100
Browsing P+O of pork mince do I need for this dish?  GoogleSearch grams
Math  MathOCR
Solving L What is the value of y?  Solver y = 4
Creative Draw a image of a boy walking on the  ImageDescription
Arts P+C grass. The boy is wearing a T-shirt in the  TextToImage
same color as the girl's top.
More ... More ...
Figure1: SomesamplesintheGTAbenchmark. Theuserqueriesarehuman-designed,step-implicit,
andsettledinreal-worldscenarios. Multimodalcontextinputsareprovided. Solvingthesequeriesis
helpfulforusers,andcomplexforaLLM-basedtoolagent. Theagentneedstouseacombinationof
executabletoolsinperception,operation,logic,andcreativitycategories.
userqueries,limitedbythegenerativemodel,oftenresultinoverlybrieformonotonoussolutions.
Thisisunsuitableforevaluatingthereasoningandplanningcapabilityofagentsystems,asshownin
Table2. Second,existingtool-usebenchmarksmainlyfocusontext-formeduser-agentinteraction,
lackingassessmentofmultimodalcapabilities,thusfallingshortofaligningwithreal-worldscenarios
effectively. Third, existing tool-use evaluation approaches build up virtual tools. They can only
evaluateisolatedstepsinthetoolinvocationchains,thusunabletoreflecttheagents’capabilityto
end-to-endaccomplishcomplextasks.
Toensuretheevaluationcloselyreflectsreal-worldscenarios,weconsidertheauthenticityofuser
queries, tools, and interaction modalities. We propose a comprehensive tool-use evaluation with
real-worlduserqueries. Theprimaryfeaturesoftheevaluationare:
i. Real userqueries. The userqueries aredesigned byhumans, ratherthan generatedby AI,to
reflect real-world tasks accurately. These queries describe tasks with clear objectives, but the
tool-usestepsareimplicit. Thus,theLLMmustemployreasoningtodeducethesuitabletools
requiredtoaddressthegiventasks. Inthisway,weavoidthedrawbacksofusingAI-generated
queriesinwhichthetoolinvocationstepsareoftenexplicitlyhintedat. Moreover,eachquery
requiresmultiplestepstoresolve,necessitatingthemodeltoplanthesequenceoftoolinvocations.
ii. Real deployed tools. We provide an evaluation platform deployed with tools across various
categories,suchasperception,operation,logic,andcreativity. Alltoolsareexecutableratherthan
simulatedbytextdescription. Foreachtask,adetailedandexecutablegroundtruthtoolchainis
2Table2: ComparisonofGTAquerieswithAI-generatedqueries. Thestepsandtooltypesforqueries
inToolBenchandm&m’sareexplicitlystated,asmarkedinredandblue. ThequeriesinAPIBench
aresimple,onlycontainingonestep. OurGTA’squeriesarebothstep-implicitandtool-implicit.
Method Queries
ToolBench NeedtocreateanASCIIartrepresentationofamathematicalequation.Theequationis...Helpme
generatetheASCIIart...AlsopleasegenerateanASCIIartrepresentationofthetext...(Related
tools:figlet,listfigletstyles,matheq)
APIBench Ourcustomerisazooandwewanttohelpthemdetectmovementofdifferentanimals. Writea
Pythonprogramin1to2linestocallAPIinTensorFlowHub.(Relatedtools:ObjectDetection)
m&m’s Ineedanillustrationformychildren’sbook.I’veimaginedascenewherethere’salargegroupof
littlekids...Afterwehavetheimage,wealsoneedtoidentifyalltheobjects,thenaddlabelsto
them.(Relatedtools:ImageGeneration,ObjectDetection,Tagging)
GTA(Ours) Convertthetableintoastatisticalchartwiththetypeofimageshownintheexample.(Relatedtools:
ImageDescription,OCR,Plot)
provided,includingeachtool-usestepandthefinalanswer. Eachstepincludesthetoolname,
argumentvalue,andthetoolreturnvalue. Thedetailedtoolchainsenableafine-grainedevaluation
oftheactualproblem-solvingabilitiesoftoolagents.
iii. Realmultimodalinputs.Eachqueryisaccompaniedbyoneortwoauthenticimagefiles,including
spatialscenes,webpagescreenshots,tables,codesnippets,printed/handwrittenmaterials,etc.,to
serveasthecontextfortheuserqueries. TheLLMisrequiredtosolvetheproblembasedonthe
multimodalcontextanduserqueries. Thissettingcloselyalignswiththemultimodalreal-world
problem-solvingscenarios.
We manually design 229 real-world tasks and corresponding executable tool chains to evaluate
mainstreamLLMs. Webuildaplatformcoveringatotalof14toolsacrossperception,operation,
logic,andcreationcategories. ToolsandsomedatasamplesareillustratedinFigure1. Wedesign
fine-grainedtoolevaluationmetricsthatcovertheentireprocessoftoolinvocation. Ourfindings
indicatethatreal-worldscenarioqueriespresentchallengestoexistingLLMs,withGPT-4completing
fewerthan50%ofthetasksandthemajorityofLLMsmanaginglessthan25%.
Insummary,ourcontributionsareasfollows:
• Atool-usebenchmarkforgeneraltoolagents. Theuserqueriesarehuman-designed,step-implicit,
andsettledinreal-worldscenarios. Multimodalcontextualinputsareprovided. Eachqueryhasa
correspondingexecutabletoolchaintoenableafine-grainedtool-useevaluation.
• Anevaluationplatformequippedwitharichvarietyofexecutabletoolscoveringthecategories
of perception, operation, logic, and creativity. Fine-grained metrics are designed for tool-use,
unveilingthereasoningandplanningcapabilitiesoftool-augmentedLLMsinreal-worldscenarios.
• Evaluationandanalysisofmainstreamlargelanguagemodels. Weevaluatethetool-useabilityof
16LLMsinmultipledimensions. Ourfindingsreflectthetool-usebottleneckofexistingLLMsin
real-worldscenarios,providingsuggestionsforthedevelopmentpathofgeneraltoolagents.
2 RelatedWork
LLM-basedagents. Inthepursuitofdevelopinggeneral-purposeagents,therehasbeenconsiderable
focusonintegratingLLMswithexternaltools. TheseLLM-basedagentsenablepowerfulcapabilities
inenvironmentinteraction,decision-making,andtaskexecution. Open-sourceplatformshavebeen
proposed, such as LangChain [5], AutoGPT [7], and BabyAGI [16]. Moreover, several efforts
have been made to achieve specialized capabilities by integrating specialized tools into LLMs.
WebGPT[17],WebCPM[21],WebShop[29]areproposedtoenhancethemodel’swebsearchability.
RestGPT[24]combinesLLMwithRESTfulAPIstoenablewebservicedevelopment. Inthevisual
domain,VisualChatGPT[27],MM-ReAct[28],MLLMtool[26],andLLaVA-Plus[12]promptor
finetuneLLMstointeractwithvisualmodels. Inthedataanalysisdomain,DataCopilot[33]manages
and processes massive data autonomously by invoking data analysis tools. HuggingGPT [23],
3ModelScopeAgent[10]buildagentsystemsusingLLMsintegratedwithmassivemachinelearning
models. Inthefieldofhuman-computerinteraction,AppAgent[32]allowsLLMstomimichuman
stappingandswipingoperationstooperatesmartphones. Intheseworks,theLLMservesasacentral
controller,invokingacertainclassoftoolstoaccomplishspecializedtasks. Inreal-worldscenarios,
theenvironmentismorecomplex. ThisrequiresLLMstoengageinplanningandcoordinationamong
varioustypesoftools,therebyposingachallengetotheirtool-usecapabilities.
Tool-useevaluations. WiththeriseofLLM-basedagents,manystudieshavebeenconductedto
evaluatethetool-usecapabilitiesofLLMs. ToolBench[22]collectsRESTfulAPIsandleverages
ChatGPT[1]todesigntool-usetasksandcorrespondingtoolchains. Twometrics,PassRateand
WinRate,aredevisedtoevaluatetheefficacyoftooluse. APIBench[20]isacomprehensivedataset
thatincludesAPIsfromHuggingFace,TorchHub,andTensorHub,withevaluationmetricsfocusing
onAbstractSyntaxTree(AST)accuracy. API-Bank[11]comprises53commonlyutilizedAPIs,
suchasSearchEngine,PlayMusic,BookHotel,andImageCaption,alongwithacomprehensivetool-
augmentedLLMworkflow,toevaluatetheAPIcalling,retrieving,andplanningabilities.m&m’s[13]
isabenchmarktoevaluatetool-useformulti-stepmultimodaltasks. Itaimstoevaluatedifferent
planningstrategiesforLLMsasplanningagents. Mostoftheaforementionedbenchmarks,however,
rely on AI-generated queries. The tool-use steps are explicitly and rigidly included. Thus these
queriesdonotaccuratelyrepresentreal-worldscenarios. Amongmanypreviousstudies,GAIA[15]
isrenownedforitsreal-worldscenariobasedbenchmarkaimingatevaluatinggeneralAIassistants.
Itevaluatesmoregeneralresultsgroundedinreal-worldinteractions,whichisclosertoourwork.
It designs questions that are conceptually simple for humans yet challenging for most advanced
AIs. However,GAIAfocusesonartificialgeneralintelligence(AGI).Incontrast,GTAisdesigned
to evaluate tool agents specifically, offering real-deployed tools and executable tool chains for a
fine-grainedevaluationinreal-worldscenarios.
3 GTABenchmark
Inthissection,wedescribethedesignandcontentofGTA.Thewholedatasetconstructionpipeline
isshowninFigure2. WefirstpresentthecompositionofeachsampleinthedatasetinSection3.1.
The construction method of queries and tool chains are depicted in Section 3.2 and Section 3.3,
respectively. Wethenpresentthedataset’sstatisticsinSection3.4.
3.1 DatasetFormulation
Given a set of tools T = {t }N , a sample in GTA is composed of five parts (F,Q,T,C,A).
c k k=1
Amongtheseparts,F isasetoffilescontainingoneortwoimages. QisaquerybasedonF. Itis
areal-worldscenariobasedproblemofsimpleformbutneedstobesolvedthroughmultiplesteps
withtoolsinT . Whichtoolsneedtobeused,andinwhatsteps,arenotexplicitlyincludedinthe
c
query. TheyrequirereasoningandplanningbytheLLM,whichservesasacentralcontroller. This
procedureisgiveninthereferencetoolchainC ={s }m . Thetoolchaincontainsmsteps. Each
i i=1
stepiss = (t ,a ,r ),wheret isthetoolusedinstepi. a andr indicateargumentsandreturn
i i i i i i i
values. T =
(cid:83)m
{t } ⊆ T notes the set of tools involved in this query. A is the final answer
j=1 j c
yieldedbytheLLMafterreasoningwithtools.
Inoursetting,T contains14toolsacrossfourcategories,includingperception,operation,logic,and
c
creativity. ThefulllistoftoolsisshowninFigure1,andmoredetailedinformationcanbefound
inAppendixB.1. ThequeriesQareclassifiedintothreetypes: subjective, objective, andimage
generation. ExamplesofthethreetypesofqueriesareshowninAppendixB.2. Forasubjectivequery
Q ,thefinalanswerAisusuallysomedescriptivetext. Itisnotunique,butthegeneralideaisthe
s
same. Inthiscase,Acontainsalistofthreereferenceanswers. ForanobjectivequeryQ ,Aisa
o
uniquelydeterminednumberorphrase. ForanimagegenerationqueryQ ,weonlymeasurethetool
g
callprocedureanddonotevaluatethegeneratedimage. Inthissituation,A=∅.
4Experts Instruction Documents 1 Query Construction
Initial Exemplars For each exemplar:
 Maintain a similar tool chain.
(Files) (Query) (Involved Tools) (Answer)
 Expand to different real-world
� I
t
hw i� sa dn it
s
ht .o Hm oa wk e �Im Ga og oeD gle es Sc er aip rcti hon, � 100 scenarios.
many grams of
pork mince do I (Steps) (Evidence)
need according 1. Iden�tify dishes [U�RL]
to BBC Good 2. Search for recipes [Screenshot] Human Brainstorm Query Set
Food? 3. Find pork mince:100g
Annotators & Design
2 Tool-chain Construction
For each query:
 Check its executability with the tool set.
 Annotate the tool-chain. Final Dataset Check, Execute Human Executable
& Annotate Annotators Tool Set
Figure2: Twostepsareperformedinthedatasetconstructionpipeline. ➊Duringqueryconstruction,
initialexemplarsandinstructiondocumentsaredesignedbyexpertsandgiventohumanannotators.
Annotators brainstorm and design more samples based on the exemplars. ➋ During tool chain
construction,annotatorsmanuallycallthedeployedtoolstochecktheexecutabilityofeachqueryin
thequeryset. Thentheyannotatethegroundtruthtoolchainsforeachquery.
3.2 QueryConstruction
Toconstruct(F,Q,T),wefirstgatherhuman-designedqueriesthatmeetthreemainprinciples: i)
Given T ⊆ T , the task (F,Q) can besolvedwith the capabilities enabled bytools in T. ii) To
c
evaluateLLMs’reasoningandplanningabilities,thetoolinvocationstepsshouldnotbeexplicitly
statedinthequeries. iii)Thequeriesaremeaningfulandbasedonreal-worldscenarios. Satisfying
alltheprinciplessimultaneouslyischallenging. ItrequiresF,Q,andT tomatcheachotherina
sensibleandlogicalway. Weuseaqueryconstructionpipelinebasedonexemplarexpansion,as
showninthefirstpartofFigure2. Wefirstgivesomeinitialexemplarswithdiversescenariosand
toolcombinations. Thenweinstructannotatorstocreatemorequeriesbasedontheexemplars.
Exemplar designed by experts. We first design some initial questions as exemplars, which are
providedinAppendixC.1. Theseexamplequestionsareofdiversescenariosandcontaindifferent
toolcombinations. Everysampleshouldcomprisesixcomponents: F (imagefiles),Q(queries),T
(involvedtools),S (solutionsteps),A(answers),andE (evidence). ImagefilesF couldbeobtained
fromtheinternetandtheirURLsmustberecorded. F couldalsobeaphototakenoradiagram
drawn by the annotators. The query Q needs to avoid obvious references to a specific tool. For
example,thequerypleasedescribetheimageformeisunqualifiedsinceitobviouslyreferstothe
toolImageDescription. ThecomponentsS, A, andE, willnotappearinthefinaldatasetbutare
utilizedtoassistannotatorsinmeetingtheannotationrequirements. S representsthestepsrequired
tosolvetheproblem. Annotatorsshouldnotedownthesteps,ensuringtheirnumberexceedstwo.
TheanswerAofobjectivequeriesshouldbegiventoguaranteethereisauniqueanswer. Toensure
theuniqueness,theanswershouldnotbedependentontheimagesgeneratedinprevioussteps. For
example,thequestionwhatkindofanimalisinthepictureshouldnotbeaskedaftergeneratean
imageofananimal,astheanswerisuncertain. ForqueriesutilizingtheGoogleSearchtool,E should
includetheanswer’sURLandascreenshotpinpointingtheanswer’slocationtoverifythequery’s
searchabilitywiththetool.
Diversifiedexpansionbyannotators. Aftertheinitialexemplarsaregiven,weinstructannotators
tocreatemoresamplesbasedoneachexemplar. Weadoptadiversifiedexpansionstrategyforthe
annotatorstoexpandthequestionsbasedontheexemplars. ThegeneralideaistokeepthetoolsetT
ofthetemplateunchangedorslightlymodifyit. Thenannotatorsbrainstormscenariosdifferentfrom
thetemplate. FurtherinformationonthediversifiedexpansionapproachisdetailedinAppendixC.2.
Foreachsample,wehavecraftedamanualexpansionexampletoserveasguidancefortheannotators.
Aftertheexpansionprocess,weperformaqualitycheckandmanuallyfilteroutthequestionsthat
donotsatisfytheexpansionrequirements. Theinstructiondocumentsforannotatorsarereportedin
AppendixC.3.
5Item Number
P: Perception
L: Logic
Totalquery 229 O: Operation
Queryw/puretextanswers 172 C: Creativity
Queryw/imageanswers 57
Totaltoolcalls 728
Imagefiles 252
Tools 14
(a) 1/2/3/4-toolexamples (b) 17/147/50/15
(a) (b)
Figure3: OtherstatisticsofGTA.(a)Stepnumberper
Table3: BasicstatisticsofGTA.
query. (b)Frequencyofdifferenttoolcombination.
Considerationsforthesearchtool. Searchresultsmaychangeovertimemakingthewebsearch
toolspecialintheevaluationdataset. ForqueriesrequiringtheGoogleSearchtool,weperformtwo
constraints. Firstly,thequestionmustnecessitatetheuseofGoogleSearch,ratherthanrelyingonan
LLM’sinternalknowledge. Thiscanbeachievedbydesigningtime-sensitivequestions,suchaswhat
isthe2023QSrankingofTsinghuaUniversityratherthangeneralinquirieslikewhereisTsinghua
University located in China. We may also direct the query to a specific information source, for
instanceasking,whatistherecipeforMaPoTofuaccordingtotheBBCGoodFoodwebsiteinstead
ofabroadquestionlikewhatistherecipeforMaPoTofu. Secondly,withinanevaluationdataset,it
iscrucialtoensurethatanswersremainconstantovertime. Wecanspecifyatimeframe,webpage,
ororganizationwithinthequestiontofulfillthiscriterion. Anexamplewouldbewhatisthe2024QS
rankingofTsinghuaUniversity,ratherthanwhatistheQSrankingofTsinghuaUniversity.
3.3 ToolChainConstruction
Basedonthe(F,Q,T)samplesconstructedinSection3.2,weinstructthreeannotatorsmajoring
incomputersciencetomanuallyconstructthecorrespondingtoolchainC andthefinalanswerA.
WedesignaJSONfilestructure,containingthequery-relatedtoollist,imagepaths,andReAct[30]
styledialogsequences. Thedialogsequencesincludetheuserquery,theexecutabletoolchain,and
thefinalanswer. Initially,(T,F,Q)areputintotheassociatedsectionsfortools,images,anduser
queries. Subsequently,wedeployalltoolsinT . Theannotatorsutilizethetoolsaccordingtothe
c
referencestepsS andgettheoutcomes. Theyrecordthisprocessinthetoolchainsectionofthe
dialogsequences,alongsidethefinalanswer. Sincewedonotevaluatethetools’efficacy,whenatool
failstoprovideaccuraterecognitionforaquery(forinstance,OCRinaccuraciesintextrecognition
within diagrams), we discard the query. Through the above process, we ensure the feasibility of
thequestions,theexecutabilityofthetoolchains,aswellastheprecisionofthefinalanswers. The
structureofthetoolchainisprovidedinAppendixC.4.
3.4 DatasetStatistics
GTAcomprisesatotalof229questions,withthebasicdatasetstatisticspresentedinTable3. The
datasetinvolves252imagesand14distincttools. Itincludes156objective,16subjective,and57
image-generationqueries. Thenumberoftoolsinvolvedineachquestionvariesfrom1to4,with
mostquestionsusing2or3tools. Thestepstoresolvethequestionsrangefrom2to8,withmost
questionsrequiring2to4steps,asdepictedinFigure3(a). Thedetailedfrequencydistributionof
differenttoolcombinationsislistedinFigure3(b). P,O,L,CareshortforPerception,Operation,
Logic,Creativity,respectively. Perception+LogicandPerception+Operationarethemostfrequently
appearingtoolcombinationtypes.
4 EvaluationandAnalysis
4.1 ExperimentSettings
Weevaluate16LLMsonGTA.ForAPI-basedmodels,weselectGPT-3.5[19],GPT-4[1],GPT-4o,
Claude3[2],andMistral-large[8]. Foropen-sourcemodels,weselectLLaMA3[14]series,Qwen1.5
[3]series,Mistral[8],Mixtral[9],Yi[31]series,Deepseek[4]series. Experimentsareconducted
6InstAcc ToolAcc ArgAcc SummAcc AnsAcc
)% Qwen1.5
(
y c Mistral
a
ru
c LLaMA3
c
A
Model size (B) Model size (B) Model size (B) Model size (B) Model size (B)
Figure4: Performanceofmodelswithvarioussize. Largermodelswithinthesameseriesperform
better than their smaller counterparts, but larger models from different series do not necessarily
outperformthesmallerones.
usingNVIDIAA100GPUwithinOpenCompass[6]evaluationplatform. WeadoptLagent[25]as
theagentframework. ReAct[30]isusedasthetoolinvocationpromptschema. Moreexperiment
informationcanbefoundinAppendixD.1andD.2.
We evaluate the models in two modes. Step-by-step mode is designed to evaluate the model’s
fine-grainedtool-usecapabilities. Inthismode,themodelisprovidedwiththeinitialnstepsofthe
referencetoolchainasprompts,withtheexpectationtopredicttheactioninstepn+1. Thismethod
doesnotinvolvetheactualuseofthetool,andthepredictionofeachstepdoesnotdependonthe
model’sprecedingoutputs. Thisenablesanalignmentcomparisonbetweenthemodel’soutputwith
eachstepofthegroundtruthtoolchain. End-to-endmodeisdesignedtoreflectthetoolagent’s
actualtaskexecutingperformance. Inthismode,themodelactuallycallsthetoolsandsolvesthe
problembyitself. Eachstepreliesontheprecedingstep’soutput. Wecomparethetoolsselectedand
theexecutionresultwiththeground-truthtoolsetandtheground-truthresultunderthismode.
4.2 EvaluationMetrics
Wedesignfine-grainedmetricsspanningfromtheLLM’stoolinvocationprocesstoexecutionresults.
Toevaluatethetoolinvocationprocess,wedevisefourmetricsunderstep-by-stepmode: InstAcc,
ToolAcc,ArgAcc,andSummAcc. InstAccisinstruction-followingaccuracy,whichquantifiesthe
percentageofstepsexecutedwithouterrors.ToolAccmeasurestheaccuracyoftoolselection.ArgAcc
accessestheaccuracyofargumentnameprediction. SummAccreflectshowaccuratelythemodelcan
summarizethefinalanswersconsideringallprevioustool-usesteps. Forend-to-endmode,weuse
AnsAcctomeasuretheaccuracyoftheexecutionresult. Besides,wecalculatetheF1scoresoftool
selectioninperception,operation,logic,andcreativitycategories. ThefourF1scorescomparethe
model’stoolselectionwiththegroundtruthtoolset,measuringitstoolselectionability.
IncalculatingthemetricAnsAcc,weexcludeimagegenerationqueriesandfocussolelyonqueries
withpuretextanswers,includingobjectiveandsubjectivequeries. Forobjectivequeries,theground
truthcontainsbothawhitelistandablacklistofphrases. Ananswerisconsideredcorrectifitincludes
alltermsfromthewhitelistandexcludesalltermsfromtheblacklist. Inthecaseofsubjectivequeries,
thegroundtruthcontainsthreemanuallylabeledresponsesfromdistinctannotators. Wecomputethe
cosinesimilarity(rangingfrom0to1)betweenthemodel’spredictionandeachofthethreeground
truthanswers,ultimatelyconsideringthehighestscoreobtained.
4.3 MainResults
Real-worldtool-usetasksarechallengingforexistingLLMs. CurrentLLMsarestrugglingto
accuratelyinvoketoolstosolvethesereal-worldtasks. AsshowninTable4,thebest-performing
models, GPT-4 and GPT-4o can only correctly solve fewer than 50% of the problems, while the
restofthemodelssolvelessthan25%. Thisshowsthatreal-worldproblemswithimplicitsteps,
realtoolinvocations,andmultimodalcontextualinputsimposehighrequirementsonthetool-use
capabilitiesofLLMs. Regardingmodelperformancecomparisons,API-basedmodelsoutperform
open-sourceones. Amongopen-sourcemodels,Qwen-72bhasthehighestresultaccuracy. Larger
modelswithinthesameseriesperformbetterthantheirsmallercounterparts,butlargermodelsfrom
7Table4: MainresultsofGTA.Inst.,Tool.,Arg.,Summ.,andAns. denoteInstAcc,ToolAcc,ArgAcc
SummAcc,andAnsAcc,respectively. P.,O.,L.,C.denotetheF1scoreoftoolselectioninPerception,
Operation,Logic,andCreativitycategories.Bolddenotesthebestscoreamongallmodels.Underline
denotesthebestscoreunderthesamemodelscale. AnsAccreflectstheoverallperformance.
STEP-BY-STEPMODE END-TO-ENDMODE
Model
Inst. Tool. Arg. Summ. P. O. L. C. Ans.
API-based
gpt-4-1106-preview 85.19 61.4 37.88 75 67.61 64.61 74.73 89.55 46.59
gpt-4o 86.42 70.38 35.19 72.77 75.56 80 78.75 82.35 41.52
gpt-3.5-turbo 67.63 42.91 20.83 60.24 58.99 62.5 59.85 97.3 23.62
claude3-opus 64.75 54.4 17.59 73.81 41.69 63.23 46.41 42.1 23.44
mistral-large 58.98 38.42 11.13 68.03 19.17 30.05 26.85 38.89 17.06
Open-source
qwen1.5-72b-chat 48.83 24.96 7.9 68.7 12.41 11.76 21.16 5.13 13.32
mixtral-8x7b-instruct 28.67 12.03 0.36 54.21 2.19 34.69 37.68 42.55 9.77
deepseek-llm-67b-chat 9.05 23.34 0.18 11.51 14.72 23.19 22.22 27.42 9.51
llama3-70b-instruct 47.6 36.8 4.31 69.06 32.37 22.37 36.48 31.86 8.32
yi-34b-chat 23.73 10.77 0 34.99 11.6 11.76 12.97 5.13 3.21
qwen1.5-14b-chat 42.25 18.85 6.28 60.06 19.93 23.4 39.83 25.45 12.42
qwen1.5-7b-chat 29.77 7.36 0.18 49.38 0 13.95 16.22 36 10.56
mistral-7b-instruct 26.75 10.05 0 51.06 13.75 33.66 35.58 31.11 7.37
deepseek-llm-7b-chat 10.56 16.16 0.18 18.27 20.81 15.22 31.3 37.29 4
llama3-8b-instruct 45.95 11.31 0 36.88 19.07 23.23 29.83 42.86 3.1
yi-6b-chat 21.26 14.72 0 32.54 1.47 0 1.18 0 0.58
c
c A
s n
slla
C
/wA lo
o
T
Ground truth tool calls = 728 number of ground truth tool calls: 728
n o
ita
le rro
C
fo
re
b m
u N
Inst. Tool. Arg. Summ.
Figure5:ThePearsoncorrelation Model
Model
coefficientbetweenAnsAccand Figure 6: The number of successful and failed tool calls of
fourmetrics. eachmodel.
differentseriesdonotnecessarilyoutperformthesmallerones,asshowninFigure4. Forexample,
theAnsAccofLLaMA3-70bishigherthanthatofLLaMA3-8b,butlowerthanQwen-7b. Some
predictionexamplesofdifferentmodelscanbefoundinAppendixD.3.
Thefourmetricsinthestep-by-stepmodefollowthebucketseffect. Fromtheresults,weobserve
thattheoverallperformanceofthesystemisaffectedbythelowestmetric. Toverifythisobservation,
wecalculatethePearsoncorrelationcoefficientsbetweenfourmetrics(InstAcc,ToolAcc,ArgAcc,
SummAcc)andAnsAcc, theresultisshowninFigure5. Wefindthatthecorrelationcoefficient
forArgAccwithAnsAccisthehighest. ArgAccislowformostmodels,indicatingthatthefour
metricsfollowthebucketseffect. Forexample,thescoresofLLaMA3-70binInstAcc,ToolAcc,
andSummAccarehigherthanthoseofQwen1.5-14b,butitsArgAccislowerthanQwen1.5-14b,
resultinginalowerfinalansweraccuracy. ThescoresofGPT-4oinInstAccandToolAccarehigher
thanGPT-4,butitsweakerargumentpredictioncapabilityleadstoaloweraccuracyrateinthefinal
result. Thereasonforthebucketseffectisthatunderourevaluationframework,themodelneeds
to follow user instructions, invoke tools multiple times in the correct format, and summarize the
answerbasedonthereturnedresults. Anyerrorinthisprocesscanleadtoanincorrectconclusion.
Currently,argumentpredictionistheweakestcapabilityformostmodels,suggestingthattoenhance
8
sllaC
looT
fo
rebmuNtheirgeneraltool-usecapabilities,researcherscanfocusonargumentpredictioncapabilities. This
concernsboththevalueandtheformatcorrectnessofanargument.
DifferentseriesofLLMsexhibitdistinctbehavioralpatterns. Wecountthenumberofsuccessful
andfailedtoolcalls,illustratedinFigure6. Successfulmeanstherearenotanyerrorsinthetoolcall.
GPT-4ohasthehighestnumberofsuccessfultoolcalls,whileGPT4hasthehighestsuccessfultool
callrate. Wefindthatmodelsfromdifferentseriesexhibitdistinctbehavioraltendencies. Yiand
Deepseekseriestendtobeaggressive,leaningtowardsinvokingtoolsfrequentlybutlackssufficient
instruction-followingabilitytoinvoketoolsinacorrectformat. TheQwenseriesisconservative,
preferringtoinvoketoolslessoften,yetithasstrongerinstruction-followingcapabilitiesthanmost
otheropen-sourcemodels,resultinginahighersuccessrateoftoolcalls. TheGPTseriesisneutral,
tendingtoinvoketoolsmoderatelyandpossessingrobustinstruction-followingabilities,whichleads
tothehighestfinalansweraccuracy.ThissuggeststhattoimprovetheperformanceofYiorDeepseek,
focusshouldbegiventoenhancingtheirinstruction-followingability. Conversely,toenhancethe
Qwenseries,reducingitsconservativebe-
Table5: Thepercentageofdifferenterrortypes.
haviortotoolinvocationcouldbebenefi-
cial.
Format Arg.Format
Model N/A(%)
Modelsfavoreitherformaterrorsorar- Error(%) Error(%)
gumentformaterrors,notbothequally.
gpt-3.5-turbo 8.1 60.32 20.24
We count the percentage of error types
gpt-4-1106-preview 70.29 4.35 25.36
when calling tools, including format er- gpt-4o 78.69 19.13 13.39
ror,argumentformaterror,andN/A(other claude3-opus 4.29 82.86 4.29
errors, mainly containingthe tools’ inter- mistral-large 4.47 72.07 3.07
nal error). Most models exhibit a clear llama3-8b-instruct 20.47 65.15 14.38
tendency toward either format errors or llama3-70b-instruct 29.51 69.7 0.8
argument format errors, rather than mak- mistral-7b-instruct 49.21 46.56 4.23
ingbothtypesofmistakesinnearlyequal mixtral-8x7b-instruct 53.74 40.82 5.44
qwen1.5-7b-chat 2.56 89.74 7.69
numbers. For example, Claude-3’s er-
qwen1.5-14b-chat 2.35 71.76 25.88
rors are predominantly argument format-
qwen1.5-72b-chat 10.71 71.43 17.86
related, amounting to 82.86%, while for-
yi-6b-chat 98.22 0.18 1.61
materrorsaccountforamere4.29%. This
yi-34b-chat 88.11 6.22 5.67
indicatesthatClaude-3canfollowthetool-
deepseek-llm-7b-chat 52.49 19.65 27.86
callformatwell,butfailstopasstheargu-
deepseek-llm-67b-chat 58.22 34.39 7.39
mentinacorrectformat.
5 Conclusion
WeproposeGTA,areal-worldtool-usebenchmarkforgeneral-purposeagents. Theuserqueriesare
human-designed,step-implicit,andsettledinreal-worldscenarios. Multimodalcontextualinputs
are provided. We build an evaluation platform equipped with executable tools in the categories
of perception, operation, logic, and creation. Fine-grained metrics are designed for the tool-use
capabilitiesofLLMsinreal-worldscenarios. Weevaluatethetool-usecapabilitiesof16LLMs. The
evaluationresultsshowthatGTAischallengingforcurrentLLMs,withadvancedmodelslikeGPT-4
strugglingwiththesereal-worldtasks,completinglessthan50%ofthem. Basedonourfindings,we
givetakeawaysandfurthersuggestionsontool-usecapabilityimprovementfordifferentmodels. We
believethattheGTAbenchmarkwilladvancefurtherresearchinidentifyingthemodel’stool-use
capabilitiesandcontributetorealizinggeneral-purposetoolagents.
6 Limitations
OurbenchmarklackslanguagediversitysinceallqueriesareinEnglish. Multilingualqueriescanbe
addedinfutureworktoassessthecapabilityoftoolagentsinnon-Englishenvironments. Moreover,
toachievehighdataquality,boththeuserqueriesandthetoolchainsarehuman-written. Sothecost
ofadatapieceishigherthanthatofAI-generatedcounterparts.
9References
[1] JoshAchiam,StevenAdler,SandhiniAgarwal,LamaAhmad,IlgeAkkaya,FlorenciaLeoni
Aleman,DiogoAlmeida,JankoAltenschmidt,SamAltman,ShyamalAnadkat,etal. Gpt-4
technicalreport. arXivpreprintarXiv:2303.08774,2023.
[2] AIAnthropic. Theclaude3modelfamily: Opus,sonnet,haiku. Claude-3ModelCard,2024.
[3] JinzeBai,ShuaiBai,YunfeiChu,ZeyuCui,KaiDang,XiaodongDeng,YangFan,WenbinGe,
YuHan,FeiHuang,etal. Qwentechnicalreport. arXivpreprintarXiv:2309.16609,2023.
[4] XiaoBi,DeliChen,GuantingChen,ShanhuangChen,DamaiDai,ChengqiDeng,Honghui
Ding,KaiDong,QiushiDu,ZheFu,etal. Deepseekllm: Scalingopen-sourcelanguagemodels
withlongtermism. arXivpreprintarXiv:2401.02954,2024.
[5] HarrisonChase. Langchain,October2022.
[6] OpenCompassContributors. Opencompass: Auniversalevaluationplatformforfoundation
models. https://github.com/open-compass/opencompass,2023.
[7] SignificantGravitas. Autogpt,2023.
[8] Albert Q Jiang, Alexandre Sablayrolles, Arthur Mensch, Chris Bamford, Devendra Singh
Chaplot,DiegodelasCasas,FlorianBressand,GiannaLengyel,GuillaumeLample,Lucile
Saulnier,etal. Mistral7b. arXivpreprintarXiv:2310.06825,2023.
[9] AlbertQJiang,AlexandreSablayrolles,AntoineRoux,ArthurMensch,BlancheSavary,Chris
Bamford,DevendraSinghChaplot,DiegodelasCasas,EmmaBouHanna,FlorianBressand,
etal. Mixtralofexperts. arXivpreprintarXiv:2401.04088,2024.
[10] ChenliangLi,HeChen,MingYan,WeizhouShen,HaiyangXu,ZhikaiWu,ZhichengZhang,
Wenmeng Zhou, Yingda Chen, Chen Cheng, et al. Modelscope-agent: Building your cus-
tomizableagentsystemwithopen-sourcelargelanguagemodels. InProceedingsofthe2023
ConferenceonEmpiricalMethodsinNaturalLanguageProcessing: SystemDemonstrations,
pages566–578,2023.
[11] MinghaoLi,YingxiuZhao,BowenYu,FeifanSong,HangyuLi,HaiyangYu,ZhoujunLi,Fei
Huang,andYongbinLiAPI-bank. Acomprehensivebenchmarkfortool-augmentedllms. In
Proceedingsofthe2023ConferenceonEmpiricalMethodsinNaturalLanguageProcessing,
pages3102–3116,2023.
[12] ShilongLiu,HaoCheng,HaotianLiu,HaoZhang,FengLi,TianheRen,XueyanZou,Jianwei
Yang,HangSu,JunZhu,etal. Llava-plus: Learningtousetoolsforcreatingmultimodalagents.
arXivpreprintarXiv:2311.05437,2023.
[13] Zixian Ma, Weikai Huang, Jieyu Zhang, Tanmay Gupta, and Ranjay Krishna. m&m’s: A
benchmarktoevaluatetool-useformulti-stepmulti-modaltasks.InSyntheticDataforComputer
VisionWorkshop@CVPR2024,2024.
[14] AIMeta. Introducingmetallama3: Themostcapableopenlyavailablellmtodate. MetaAI
Blog(accessed2024–04–20).Thereisnocorrespondingrecordforthisreference,2024.
[15] GrégoireMialon,ClémentineFourrier,ThomasWolf,YannLeCun,andThomasScialom. Gaia:
abenchmarkforgeneralaiassistants. InTheTwelfthInternationalConferenceonLearning
Representations,2023.
[16] YoheiNakajima. Babyagi,2023.
[17] ReiichiroNakano,JacobHilton,SuchirBalaji,JeffWu,LongOuyang,ChristinaKim,Christo-
pherHesse,ShantanuJain,VineetKosaraju,WilliamSaunders,etal. Webgpt: Browser-assisted
question-answeringwithhumanfeedback. arXivpreprintarXiv:2112.09332,2021.
10[18] OpenAI. Chatgpt plugins. https://openai.com/index/chatgpt-plugins/,
2023.
[19] LongOuyang,JeffreyWu,XuJiang,DiogoAlmeida,CarrollWainwright,PamelaMishkin,
ChongZhang,SandhiniAgarwal,KatarinaSlama,AlexRay,etal. Traininglanguagemodelsto
followinstructionswithhumanfeedback. Advancesinneuralinformationprocessingsystems,
35:27730–27744,2022.
[20] ShishirGPatil,TianjunZhang,XinWang,andJosephEGonzalez. Gorilla: Largelanguage
modelconnectedwithmassiveapis. arXivpreprintarXiv:2305.15334,2023.
[21] YujiaQin,ZihanCai,DianJin,LanYan,ShihaoLiang,KunlunZhu,YankaiLin,XuHan,Ning
Ding,HuadongWang,etal. Webcpm: Interactivewebsearchforchineselong-formquestion
answering. InProceedingsofthe61stAnnualMeetingoftheAssociationforComputational
Linguistics(Volume1: LongPapers),pages8968–8988,2023.
[22] YujiaQin,ShihaoLiang,YiningYe,KunlunZhu,LanYan,YaxiLu,YankaiLin,XinCong,
XiangruTang,BillQian,etal. Toolllm: Facilitatinglargelanguagemodelstomaster16000+
real-worldapis. arXivpreprintarXiv:2307.16789,2023.
[23] Yongliang Shen, Kaitao Song, Xu Tan, Dongsheng Li, Weiming Lu, and Yueting Zhuang.
Hugginggpt: Solvingaitaskswithchatgptanditsfriendsinhuggingface. AdvancesinNeural
InformationProcessingSystems,36,2024.
[24] YifanSong,WeiminXiong,DaweiZhu,ChengLi,KeWang,YeTian,andSujianLi. Restgpt:
Connectinglargelanguagemodelswithreal-worldapplicationsviarestfulapis. arXivpreprint
arXiv:2306.06624,2023.
[25] LagentDeveloperTeam. Lagent: InternLMalightweightopen-sourceframeworkthatallows
userstoefficientlybuildlargelanguagemodel(llm)-basedagents. https://github.com/
InternLM/lagent,2023.
[26] CWang,WLuo,QChen,HMai,JGuo,SDong,XMXuan,ZLi,LMa,andSGao. Mllm-tool:
Amultimodallargelanguagemodelfortoolagentlearning. arXivpreprintarXiv:2401.10727,
4,2024.
[27] ChenfeiWu, ShengmingYin, WeizhenQi, XiaodongWang, ZechengTang, andNanDuan.
Visualchatgpt: Talking,drawingandeditingwithvisualfoundationmodels. arXivpreprint
arXiv:2303.04671,2023.
[28] Zhengyuan Yang, Linjie Li, Jianfeng Wang, Kevin Lin, Ehsan Azarnasab, Faisal Ahmed,
Zicheng Liu, Ce Liu, Michael Zeng, and Lijuan Wang. Mm-react: Prompting chatgpt for
multimodalreasoningandaction. arXivpreprintarXiv:2303.11381,2023.
[29] ShunyuYao,HowardChen,JohnYang,andKarthikNarasimhan. Webshop: Towardsscalable
real-worldwebinteractionwithgroundedlanguageagents. AdvancesinNeuralInformation
ProcessingSystems,35:20744–20757,2022.
[30] ShunyuYao,JeffreyZhao,DianYu,NanDu,IzhakShafran,KarthikNarasimhan,andYuan
Cao. ReAct:Synergizingreasoningandactinginlanguagemodels. InInternationalConference
onLearningRepresentations,2023.
[31] Alex Young, Bei Chen, Chao Li, Chengen Huang, Ge Zhang, Guanwei Zhang, Heng Li,
JiangchengZhu,JianqunChen,JingChang,etal. Yi: Openfoundationmodelsby01.ai. arXiv
preprintarXiv:2403.04652,2024.
[32] ChiZhang,ZhaoYang,JiaxuanLiu,YuchengHan,XinChen,ZebiaoHuang,BinFu,andGang
Yu. Appagent: Multimodalagentsassmartphoneusers,2023.
[33] Wenqi Zhang, Yongliang Shen, Weiming Lu, and Yueting Zhuang. Data-copilot: Bridging
billionsofdataandhumanswithautonomousworkflow,2024.
11Projectwebsite: https://github.com/open-compass/GTA.
A DatasheetforDatasets
A.1 Motivation
• Forwhatpurposewasthedatasetcreated?
WecreateGTA(abenchmarkforGeneralToolAgents)toevaluatethegeneraltool-use
abilityofLLMsinreal-worldscenarios. Thebenchmarkhashuman-writtenquerieswith
simplereal-worldobjectivesbutimplicittool-use,anevaluationplatformequippedwith
executabletoolsacrossdiversecategories,andauthenticimagefilesascontextinput. These
featuresbridgethegapbetweenexistingbenchmarksandreal-worldtool-usescenarios.
• Whocreatedthedataset(e.g., whichteam, researchgroup)andonbehalfofwhich
entity(e.g.,company,institution,organization)?
Theauthorsofthispaper.
• Whofundedthecreationofthedataset?
This project is supported by the National Key R&D Program of China (No.
2022ZD0161600).
A.2 Composition
• Whatdotheinstancesthatcomprisethedatasetrepresent(e.g.,documents,photos,
people,countries)?
EachinstanceinGTAisintheJSONformat. Itcontainsnaturallanguagequeries,image
fileinputs,tooldescriptions,areferencetoolchain,andafinalanswer.
• Howmanyinstancesarethereintotal(ofeachtype,ifappropriate)?
Thereare229instancesinGTA,with252imagefiles.
• Doesthedatasetcontainallpossibleinstancesorisitasample(notnecessarilyrandom)
ofinstancesfromalargerset?
WewillprovideallinstancesinourGitHubrepositoryforGTA.
• Whatdatadoeseachinstanceconsistof?
Each instance contains a natural language query, image file inputs, tool descriptions, a
referencetoolchain,andafinalanswer.
• Istherealabelortargetassociatedwitheachinstance?
Thecorrecttoolchainandfinalanswerisprovidedforeachquery.
• Isanyinformationmissingfromindividualinstances?
No.
• Arerelationshipsbetweenindividualinstancesmadeexplicit(e.g.,users’movieratings,
socialnetworklinks)?
No.
• Arethererecommendeddatasplits(e.g.,training,development/validation,testing)?
Thewholedatasetisatestset.
• Arethereanyerrors,sourcesofnoise,orredundanciesinthedataset?
Thedatasetarecreatedandverifiedbyhuman. Thenoisemaycomefromhumanerrorin
writing.
• Isthedatasetself-contained,ordoesitlinktoorotherwiserelyonexternalresources
(e.g.,websites,tweets,otherdatasets)?
Thedatasetisself-contained.
12• Doesthedatasetcontaindatathatmightbeconsideredconfidential(e.g.,datathatis
protectedbylegalprivilegeorbydoctor–patientconfidentiality,datathatincludesthe
contentofindividuals’non-publiccommunications)?
No.
• Does the dataset contain data that, if viewed directly, might be offensive, insulting,
threatening,ormightotherwisecauseanxiety?
No.
A.3 CollectionProcess
• Howwasthedataassociatedwitheachinstanceacquired?
Thequeriesareallhumandesigned. TheimageinputsarecollectedfromtheInternetor
createdbyannotators(suchasdiagramsdrawnbyannotators).
• Whatmechanismsorprocedureswereusedtocollectthedata(e.g.,hardwareappara-
tusesorsensors,manualhumancuration,softwareprograms,softwareAPIs)?
WeuseGoogleImagestocollectimageinputs. Queriesarewrittenbyhuman.
• Whowasinvolvedinthedatacollectionprocess(e.g.,students,crowdworkers,contrac-
tors)andhowweretheycompensated(e.g.,howmuchwerecrowdworkerspaid)? The
dataarecreatedbyresearchersandstudentannotators. Theannotatorswerepaidabout$40
perday.
• Overwhattimeframewasthedatacollected?
Thedatawereconstructedin2023and2024.
• Wereanyethicalreviewprocessesconducted(e.g.,byaninstitutionalreviewboard)?
Yes. AllimageswithinGTAareavailableforacademicuse. Duringthecollectionprocess,
we instruct annotators to document the original URL of each image. Subsequently, we
manuallyreviewtheseURLs, eliminatingimagesthatarenotsuitableforacademicuse.
Moreover, should any authors request the removal of their images from GTA, we will
promptlycomply.
A.4 Preprocessing/cleaning/labeling
• Wasanypreprocessing/cleaning/labelingofthedatadone(e.g.,discretizationorbucket-
ing,tokenization,part-of-speechtagging,SIFTfeatureextraction,removalofinstances,
processingofmissingvalues)?
Thedatasetiscreatedbyhumanfromscratch,andverifiedmanually.
• Wasthe“raw”datasavedinadditiontothepreprocessed/cleaned/labeleddata(e.g.,to
supportunanticipatedfutureuses)?
Thereisnorawdata,sincethedatasetiscreatedfromscratch,ratherthanacleanedversion
ofexistingdata.
• Isthesoftwarethatwasusedtopreprocess/clean/labelthedataavailable?
ExcelandVSCodeareusedforcreatethedata.
A.5 Uses
• Hasthedatasetbeenusedforanytasksalready?
No.
• Istherearepositorythatlinkstoanyorallpapersorsystemsthatusethedataset?
No.
• What(other)taskscouldthedatasetbeusedfor?
GTAisusedforevaluatingthegeneraltool-useabilityofLLMsinreal-worldscenarios.
13• Isthereanythingaboutthecompositionofthedatasetorthewayitwascollectedand
preprocessed/cleaned/labeledthatmightimpactfutureuses?
No.
• Aretheretasksforwhichthedatasetshouldnotbeused?
No.
A.6 Distribution
• Will the dataset be distributed to third parties outside of the entity (e.g., company,
institution,organization)onbehalfofwhichthedatasetwascreated?
No.
• Howwillthedatasetwillbedistributed(e.g.,tarballonwebsite,API,GitHub)?
Thedatasetwillbereleasedathttps://github.com/open-compass/GTA.
• Willthedatasetbedistributedunderacopyrightorotherintellectualproperty(IP)
license,and/orunderapplicabletermsofuse(ToU)?
ThedatasetisreleasedundertheApacheLicense.
• HaveanythirdpartiesimposedIP-basedorotherrestrictionsonthedataassociated
withtheinstances?
No.
• Do any export controls or other regulatory restrictions apply to the dataset or to
individualinstances?
No.
A.7 Maintenance
• Whowillbesupporting/hosting/maintainingthedataset?
Theauthorsofthispaper.
• Howcantheowner/curator/managerofthedatasetbecontacted(e.g.,emailaddress)?
Pleasecontactwithauthorsthroughemailsinthepaper.
• Isthereanerratum?
No.
• Willthedatasetbeupdated(e.g.,tocorrectlabelingerrors,addnewinstances,delete
instances)?
Yes,userscanproposeissuesandthedatasetwillbeupdatedonGithub.
• Willolderversionsofthedatasetcontinuetobesupported/hosted/maintained?
Primarily,weplantomaintainonlythemostrecentversionofthedataset. However,under
certaincircumstances,suchassignificantupdatestoourdatasetortheneedforvalidation
ofpreviousresearchworkusingolderversions,wewillexceptionallypreserveprevious
versionsofthedatasetforuptooneyear.
• Ifotherswanttoextend/augment/buildon/contributetothedataset,isthereamecha-
nismforthemtodoso?
Contacttheauthorsofthepaper.
14B AdditionalInformationofGTA
B.1 ToolDefinition
Thedetaileddefinitionof14toolsacrossperception,operation,logic,andcreativitycategoriesare
showninTable6.
Table6: Detaileddefinitionof14toolsacrossfourcategories.
Name Description Input Output
-Perception
OCR Recognizethetextfromanim- [image] An image containing [text]Thetextontheimage.
age. text.
RegionAttributeDesc. Describeacertainattributeofa [image]Anyimage. [text]Re- [text]Thedescriptionofthere-
certainpartintheinputimage. gionlocationandthenameof gion.
attributetodescribe.
DetectGivenObject Detectcertainobjectintheim- [image]Anyimage. [text]Ob- [image]Animagewithbound-
age. jectname. ing box. [text] The location
ofboundingboxanddetecting
scores.
ImageDescription Describetheinputimage. [image]Anyimage. [text]Thedescriptionoftheim-
age.
-Operation
DrawBox Drawaboxonacertainlocation [image]Anyimage.[Text]Box [image]Animagewithaboxon
oftheimage. location. thecertainlocation.
AddText Addtextontheimage. [image]Anyimage.[Text]Text, [image]Animagewithtexton
fontsize,andlocation. thecertainlocation.
GoogleSearch SearchonGoogle. [text]Thecontenttosearch. [text]Searchingresults.
-Logic
Calculator CalculatebyPythoninterpreter. [text]Mathexpressionsinclud- [text]Calculationresult.
ingonlynumbersandoperation
symbols.
Plot Use code interpreter to draw [text]PythoncodesusingMat- [image]Thediagram.
mathdiagrams,statistics,etc. plotlibtodrawadiagram.
MathOCR Recognizethemathexpressions [image] An image containing [text]Latexformatofthemath
fromaimage. mathexpression. expression.
CountGivenObject Countthenumberofcertainob- [image]Anyimage. [text]The [text]Thenumberoftheobject
jectsintheimage. objectname. containedintheimage.
Solver Use code interpreter to solve [text]PythoncodesusingSympy [text]Solvingresults.
mathexpressions. tosolvemathequationsorex-
pressions containing unknown
variables.
-Creativity
TextToImage Generateanimagefromthein- [text]Thedescriptionofanim- [image]Theimagegenerated.
puttext. age.
ImageStylization Transferthestyleoftheimage [text]Thedescriptionofthetar- [image]Thetargetimageinthe
asthatofareferenceimage. getimagestyle.[image]Anim- styleofthetextdescription.
agetobetransferred.
B.2 ExamplesofThreeQueryTypes
TheexamplesofobjectivequeriesQ ,subjectivequeriesQ ,andimagegenerationqueriesQ are
o s g
showninFigure7to12,Figure13to16,andFigure17to21,respectively. Weprovidethecomplete
datasample,whichisintheJSONformat,includingtheinvolvedtools,files,query,toolchain,and
thefinalanswer. Tofacilitateautomaticevaluation,wedesigndifferentfinalanswerformatforthe
threequerytypes. Forobjectivequeries,thefinalanswercontainsbothawhitelistandablacklist
of phrases, as shown in Figure 12. An answer is considered correct if it includes all terms from
thewhitelistandexcludesalltermsfromtheblacklist. Inthecaseofsubjectivequeries,thefinal
answercontainsthreemanuallylabeledresponsesfromdistinctannotators,asshowninFigure16.
Wecomputethecosinesimilarity(rangingfrom0to1)betweenthemodel’spredictionandeach
of the three ground truth answers, ultimately considering the highest score obtained. For image
15generationqueries,thefinalanswerisnone,asshowninFigure21,sincewedonotevaluatethe
generatedimages.
QueryType: Objective
Query: Ineedtopreparetwelveservingsofthisdish. HowmanyboxesofeggswillIneed
intotal?
InvolvedTools: ImageDescription,CountGivenObject,OCR
Files:
Steps:
1. Countthenumberofeggsinthephoto.
2. Identifytheeggsneededforoneservingofadishontherecipe.
3. Calculatehowmanyeggsareneededfor12dishes.
4. Calculatehowmanyboxesofeggsareneeded.
Answer: 2
QueryandToolChaininJSONFormat:
{"tools": [
{
"name": "ImageDescription",
"description": "A useful tool that returns
a brief description of the input image
.",
"inputs": [
{
"type": "image",
"name": "image",
"description": null,
"optional": false,
"default": null,
"filetype": null
}
],
"outputs": [
{
"type": "text",
"name": null,
"description": null,
Figure 7: (1 / 6) An example of objective query Q . The final answer is a uniquely determined
o
numberorphrase.
16"optional": false,
"default": null,
"filetype": null
}
]
},
{
"name": "OCR",
"description": "This tool can recognize
all text on the input image.",
"inputs": [
{
"type": "image",
"name": "image",
"description": null,
"optional": false,
"default": null,
"filetype": null
}
],
"outputs": [
{
"type": "text",
"name": null,
"description": "OCR results,
include bbox in x1, y1, x2, y2
format and the recognized
text.",
"optional": false,
"default": null,
"filetype": null
}
]
},
{
"name": "CountGivenObject",
"description": "The tool can count the
number of a certain object in the image
.",
"inputs": [
{
"type": "image",
"name": "image",
"description": null,
"optional": false,
"default": null,
"filetype": null
},
{
"type": "text",
"name": "text",
"description": "The object
description in English.",
Figure 8: (2 / 6) An example of objective query Q . The final answer is a uniquely determined
o
numberorphrase.
17"optional": false,
"default": null,
"filetype": null
}
],
"outputs": [
{
"type": "int",
"name": null,
"description": null,
"optional": false,
"default": null,
"filetype": null
}
]
}
],
"files": [
{
"type": "image",
"path": "image/image_9.jpg",
"url": "https://www.patersonsfruitandveg.
co.uk/15-large_default/free-range-eggs-
box-of-6.jpg"
},
{
"type": "image",
"path": "image/image_10.jpg",
"url": null
}
],
"dialogs": [
{
"role": "user",
"content": " I need to prepare twelve
servings of this dish. How many boxes of
eggs will I need in total?"
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "ImageDescription",
"arguments": {
"image": "image/image_9.
jpg"
}
}
}
],
Figure 9: (3 / 6) An example of objective query Q . The final answer is a uniquely determined
o
numberorphrase.
18"thought": "Since we don’t know the
content of the two images, we use the
image description tool for both images.
Lets start by the first image "image/
image_9.jpg\".\n"
},
{
"role": "tool",
"name": "ImageDescription",
"content": {
"type": "text",
"content": "The image features a white
cardboard box filled with a dozen
eggs. The eggs are arranged in a
neat and orderly manner, with some
of them placed closer to the top of
the box and others towards the
bottom. The eggs are of various
sizes, indicating a mix of different
types and possibly different stages
of development. The box is open,
allowing the viewer to see the eggs
clearly."
}
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "ImageDescription",
"arguments": {
"image": "image/image_10.
jpg"
}
}
}
],
"thought": "The first image contains a box
of eggs. Then we describe the second
image \"image/image_10.jpg\".\n"
},
{
"role": "tool",
"name": "ImageDescription",
"content": {
"type": "text",
"content": "The image features a table
with a list of ingredients, likely
for a recipe. The list includes
various items such as garlic, bread,
Figure10: (4/6)AnexampleofobjectivequeryQ . Thefinalanswerisauniquelydetermined
o
numberorphrase.
19tomatoes, and eggs. The ingredients
are organized in a way that makes it
easy to follow the recipe.\nThere
are multiple tomatoes on the table,
with one located near the top left
corner, another in the middle left,
and the third one in the middle
right. The bread is placed in the
middle of the table"
}
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "OCR",
"arguments": {
"image": "image/image_10.
jpg"
}
}
}
],
"thought": "The second image is likely a
recipe. To provide an accurate answer, I
will first need to recognize the text
on \"image/image_10.jpg\" to understand
the number of eggs required for a single
serving of the dish. Then, I will count
the number of eggs in one box. Finally,
I can calculate the total number of
eggs needed for twelve servings and
determine how many boxes of eggs you
will need in total. Let’s start by
recognizing the text on \"image/image_10
.jpg\".\n\n"
},
{
"role": "tool",
"name": "OCR",
"content": {
"type": "text",
"content": "(51, 10, 321, 73)
Ingredients\n(81, 108, 561, 149)
plum tomato, peeled and chopped\n
(627, 107, 919, 148) 1 garlic clove;
minced\n(61, 171, 565, 251) 1
teaspoon chopped fresh basil or 1/4
teaspoon dried basil\n(627, 172,
1011, 209) 7 teaspoon olive oil,
optional\n(625, 229, 1084, 269) Salt
Figure11: (5/6)AnexampleofobjectivequeryQ . Thefinalanswerisauniquelydetermined
o
numberorphrase.
20and pepper to taste, optional\n(63,
275, 533, 315) 1egg or egg
substitute equivalent\n(643, 293,
909, 329) slice bread, toasted\n(79,
341, 298, 373) teaspoon water\n
(627, 351, 1044, 392) Additional
fresh basil, optional"
}
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "CountGivenObject",
"arguments": {
"image": "image/image_9.
jpg",
"text": "egg"
}
}
}
],
"thought": "The recipe shows a serving
needs 1 egg. To calculate how many boxes
of eggs I need, I need to know the
number of eggs a box contains. Let’s
start by counting the number of eggs in
\"image/image_9.jpg\""
},
{
"role": "tool",
"name": "CountGivenObject",
"content": {
"type": "text",
"content": "6"
}
},
{
"role": "assistant",
"content": "2"
}
],
"gt_answer": {
"whitelist": [
[
"2", "two"
]
],
"blacklist": null
}
}
Figure12: (6/6)AnexampleofobjectivequeryQ . Thefinalanswerisauniquelydetermined
o
numberorphrase.
21QueryType: Subjective
Query: Accordingtothesign,whatshouldIavoidtodonow? Why?
InvolvedTools: ImageDescription,OCR
Files: Steps:
1. Recognize the image background and the icon on
thesign.
2. Recognizethetextinthepicture.
Answer: Youshouldavoidswimmingduetothedangerous
current.
QueryandToolChaininJSONFormat:
{"tools": [
{
"name": "OCR",
"description": "This tool can recognize
all text on the input image.",
"inputs": [
{
"type": "image",
"name": "image",
"description": null,
"optional": false,
"default": null,
"filetype": null
}
],
"outputs": [
{
"type": "text",
"name": null,
"description": "OCR results,
include bbox in x1, y1, x2, y2
format and the recognized text
.",
"optional": false,
"default": null,
"filetype": null
}
]
},
{
"name": "ImageDescription",
"description": "A useful tool that returns
a brief description of the input image
.",
"inputs": [
{
"type": "image",
"name": "image",
"description": null,
"optional": false,
Figure13: (1/4)AnexampleofsubjectivequeryQ . Thefinalanswerisusuallysomedescriptive
s
text. Itisnotunique,butthegeneralideaisthesame.
22"default": null,
"filetype": null
}
],
"outputs": [
{
"type": "text",
"name": null,
"description": null,
"optional": false,
"default": null,
"filetype": null
}
]
}
],
"files": [
{
"type": "image",
"path": "image/image_27.jpg",
"url": "https://images.sbs.com.au/dims4/
default/8a59a3f/2147483647/strip/true/
crop/3000x1688+0+0/resize/1280x720!/
quality/90/?url=http%3A%2F%2Fsbs-au-
brightspot.s3.amazonaws.com%2Fe0%2F64%2
F10b664a04c59a03b066c4254880e%2Fbeach-
safety-sign-cropped.jpg&imwidth=1280"
}
],
"dialogs": [
{
"role": "user",
"content": "According to the sign, what
should I avoid to do now? Why?"
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "ImageDescription",
"arguments": {
"image": "image/image_27.
jpg"
}
}
}
],
"thought": "I should first describe the
image for detailed information."
},
Figure14: (2/4)AnexampleofsubjectivequeryQ . Thefinalanswerisusuallysomedescriptive
s
text. Itisnotunique,butthegeneralideaisthesame.
23{
"role": "tool",
"name": "ImageDescription",
"content": {
"type": "text",
"content": "The image features a
person standing on a beach, with a
yellow sign in the foreground. The
sign is placed on the sand, and it
appears to be a warning or a caution
sign. The person is walking past
the sign, possibly enjoying the
beach atmosphere. The scene captures
a moment of leisure and outdoor
activity."
}
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "OCR",
"arguments": {
"image": "image/image_27.
jpg"
}
}
}
],
"thought": "There seems a sign in the
image. I will extract all text on the
sign."
},
{
"role": "tool",
"name": "OCR",
"content": {
"type": "text",
"content": "(428, 118, 929, 603) X
DANGEROUS CURRENT"
}
},
{
"role": "assistant",
"content": "You should avoid going into
the water now due to the dangerous
current."
}
],
Figure15: (3/4)AnexampleofsubjectivequeryQ . Thefinalanswerisusuallysomedescriptive
s
text. Itisnotunique,butthegeneralideaisthesame.
24"gt_answer": [
"You should avoid swimming. Because there is
dangerous current.",
"You should avoid swimming in the sea because
the signs in the picture indicate that it is
a dangerous area and swimming can be
dangerous.",
"According to the sign, I should avoid to go
swimming in the sea. The background of the
picture is a sea area, and there is a yellow
warning sign with ’DANGEROUS CURRENT’
written on it. Additionally, a red cross is
marked over the act of swimming, indicating
that swimming here is dangerous and
prohibited. Therefore, I should avoid
swimming in the sea."
]
}
Figure16: (4/4)AnexampleofsubjectivequeryQ . Thefinalanswerisusuallysomedescriptive
s
text. Itisnotunique,butthegeneralideaisthesame.
QueryType: ImageGeneration
Query: Iwanttogotothehighest-ratedrestaurant. Pleasecircleitinthemap.
InvolvedTools: OCR,DrawBox
Files: GeneratedImage:
Steps:
1. IdentifytheratingsofeachrestaurantinthemapusingOCRtool.
2. Identify the restaurant with the highest rating and its coordinate from the OCR
result.
3. CircletherestaurantinthegraphusingDrawBoxtool.
Figure17: (1/5)AnexampleofimagegenerationqueryQ . Thefinalanswerisnonesincewedo
i
notevaluatethegeneratedimage.
25QueryandToolChaininJSONFormat:
{"tools": [
{
"name": "OCR",
"description": "This tool can recognize
all text on the input image.",
"inputs": [
{
"type": "image",
"name": "image",
"description": null,
"optional": false,
"default": null,
"filetype": null
}
],
"outputs": [
{
"type": "text",
"name": null,
"description": "OCR results,
include bbox in x1, y1, x2, y2
format and the recognized text
.",
"optional": false,
"default": null,
"filetype": null
}
]
},
{
"name": "DrawBox",
"description": "A tool to draw a box on a
certain region of the input image.",
"inputs": [
{
"type": "image",
"name": "image",
"description": null,
"optional": false,
"default": null,
"filetype": null
},
{
"type": "text",
"name": "bbox",
"description": "The bbox
coordinate in the format of ‘(x1
, y1, x2, y2)‘",
"optional": false,
"default": null,
"filetype": null
},
Figure18: (2/5)AnexampleofimagegenerationqueryQ . Thefinalanswerisnonesincewedo
i
notevaluatethegeneratedimage.
26{
"type": "text",
"name": "annotation",
"description": "The extra
annotation text of the bbox",
"optional": true,
"default": null,
"filetype": null
}
],
"outputs": [
{
"type": "image",
"name": null,
"description": null,
"optional": false,
"default": null,
"filetype": null
}
]
}
],
"files": [
{
"type": "image",
"path": "image/image_129.jpg",
"url": null
}
],
"dialogs": [
{
"role": "user",
"content": "I want to go to the highest-
rated restaurant.Please circle it in the
map."
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "OCR",
"arguments": {
"image": "image/image_129.
jpg"
}
}
}
],
Figure19: (3/5)AnexampleofimagegenerationqueryQ . Thefinalanswerisnonesincewedo
i
notevaluatethegeneratedimage.
27"thought": "To identify the highest-rated
restaurant on the map provided in the
image file, I will first need to use the
OCR tool to recognize any text on the
image, which might include restaurant
names and their ratings. After
identifying the highest-rated restaurant
, I can then use the DrawBox tool to
circle it on the map.\n\n"
},
{
"role": "tool",
"name": "OCR",
"content": {
"type": "text",
"content": "(588, 30, 787, 75) 4.1
Joomak\\n(982, 54, 1074, 98) P 4.1\\
n(98, 141, 430, 222) 4.3 HQ’s on
William Restaurant & Bar\\n(568,
132, 616, 164) 4.2\\n(798, 215,
1080, 264) 3 3.8 Stalactites\\n(0,
270, 155, 353) 8 Workers’ od Room\\n
(476, 318, 516, 348) 4.1\\n(838,
314, 886, 342) 3.5\\n(58, 380, 108,
412) 4.4\\n(946, 366, 1080, 409) 4.2
Nan\\n(356, 435, 745, 519) 3.7 215
Queen’s Restaurant and Bar_\\n(0,
595, 60, 748) rke ace ants ralia\\n
(548, 582, 851, 628) 4.6 Trattoria
Emilia\\n(962, 630, 1080, 674) 4.5
Haz\\n(615, 663, 633, 687) 0\\n(202,
710, 377, 766) 4.4 Zuppa\\n(446,
704, 817, 751) 4.1 The Bank on
Collins\\n(960, 788, 1080, 831) 4.5
Ch\\n(627, 851, 865, 975) Spirit Of
Melbourne Yarra River Brunch\\n(468,
900, 518, 932) 4.3\\n(982, 950,
1076, 1004) iti;\\n(0, 1035, 21,
1055) 0\\n(642, 1062, 817, 1107) 4.4
Asado\\n(55, 1128, 343, 1165)
Rosetta Ristorante\\n(402, 1120,
454, 1150) 4.0\\n(315, 904, 407,
952) Lizzy\\"
}
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
Figure20: (4/5)AnexampleofimagegenerationqueryQ . Thefinalanswerisnonesincewedo
i
notevaluatethegeneratedimage.
28"function": {
"name": "DrawBox",
"arguments": {
"bbox": "(548, 582, 851,
628)"
}
}
}
],
"content": "Based on the OCR results, the
highest-rated restaurant identified is
\"Trattoria Emilia\" with a rating of
4.6."
},
{
"role": "tool",
"name": "DrawBox",
"content": {
"type": "image",
"content": "image/
dummy_generated_image.jpg"
}
},
{
"role": "assistant",
"content": "The image is saved."
}
],
"gt_answer": null
}
Figure21: (5/5)AnexampleofimagegenerationqueryQ . Thefinalanswerisnonesincewedo
i
notevaluatethegeneratedimage.
C AdditionalInformationforDataDesign
C.1 QueryExemplars
Wedesignseveralinitialqueriesasqueryexemplars,asshownfromFigure22to36. Theannotators
brainstormanddesignnewquestionsthathavethesametoolchainastheexemplarbutwithdifferent
scenarios. Weprovideanexpansionexampleformostexemplarsforannotatorstoreferto.
29Exemplar1
Query: HowmuchshouldIpayforthebeeronthetableaccordingtothepriceonthemenu?
InvolvedTools: ImageDescription,CountGivenObject,OCR,Calculator
Files:
Steps:
1. Countthenumberofbeers.
2. Recognizetextonthebottles.
3. Recognizetextonthemenu.
4. Calculatethetotalpriceofthebeers.
Answer: 12
ExpansionExample
Query: Ineedtopreparetwelveservingsofthisdish. HowmanyboxesofeggswillIneed
intotal?
InvolvedTools: ImageDescription,CountGivenObject,OCR,Calculator
Files:
Steps:
1. Countthenumberofeggsinthephoto.
2. Identifytheeggsneededforoneservingofadishontherecipe.
3. Calculatehowmanyeggsareneededfor12dishes.
4. Calculatehowmanyboxesofeggsareneeded.
Answer: 2
Figure22: Queryexemplar1.
30Exemplar2
Query: Canyouexplainthismeme?
InvolvedTools: OCR,ImageDescription
Steps:
Files:
1. Recognizethetextinthepicture.
2. Describethecontentoftheimage.
3. Inferthecentralideainrelationtotheimageandthe
text.
Answer: Thememeshowsitissadwhenwesendamessage
toafriendwho’sonlineandrightafterthat,theygooffline.
It’sacoincidentalandunpleasantsituation.
ExpansionExample
Query: Whatsportseventwasthisphototakenat? Pleaseprovidethenamesofthetwo
opposingteamsinyouranswer.
InvolvedTools: OCR,ImageDescription
Files:
Steps:
1. Identifythewordsinthepicture: Lakers,Suns.
2. Describethecontentofthepicture: basketballgame.
Answer: Lakersvssunsbasketballgame.
Figure23: Queryexemplar2.
Exemplar3
Query: Whatisthewomaninapinkshirtdoing?
InvolvedTools: DetectGivenObject,RegionAttributeDescription
Files:
Steps:
1. Detectthewomaninpink.
2. Describe the action of the person in the detection
box.
Answer: Servingfood.
ExpansionExample
Query: Whatisthebreedofthedoginthemiddleofthepicture?
InvolvedTools: DetectGivenObject,RegionAttributeDescription
Files:
Steps:
1. Detectallthedogs.
2. Findthedetectionboxinthecenter.
3. Describethedog’sbreedinthedetectionbox.
Answer: Corgi.
Figure24: Queryexemplar3.
31Exemplar4
Query: Whatisxintheequation?
InvolvedTools: MathOCR,Solver
Files: Steps:
1. Convertthehandwrittenimageintolatexstyle.
2. Solvetheequation.
Answer: -1or-5.
ExpansionExample
Query: Whatistheimageofthisanalyticformula?
InvolvedTools: MathOCR,Plot
Files: Steps:
1. Convertthehandwrittenimageintolatexstyle.
2. Plotaccordingtothemathexpression.
Figure25: Queryexemplar4.
Exemplar5
Query: Convertthetableintoastatisticalchartwiththetypeofimageshownintheexample.
Thehorizontalaxisisthecountry,andtheverticalaxisusesthreecolorsforsalesvolume,
revenue,andprofit.
InvolvedTools: ImageDescription,OCR,Plot
Files:
Steps:
1. Recognizetextinthetable.
2. Describethestyleofthestatisticalchart.
3. Plotthediagraminthesamestylewiththedatafromthetable.
Figure26: Queryexemplar5.
32Exemplar6
Query: Whatpercentageofpeoplewearhelmets?
InvolvedTools: DetectGivenObject,RegionAttributeDescription,Calculator
Files:
Steps:
1. Detectallthepeople.
2. Describe each of the people whether he wears a
helmet.
3. Calculatethepercentage.
Answer: 62.5%.
ExpansionExample
Query: What’sthetotalnumberofthemotherswansandthebabyswans?
InvolvedTools: CountGivenObject,ImageDescription,Calculator
Files: Steps:
1. Countthenumberofmotherswans.
2. Countthenumberofbabyswans.
2. Calculatethetotalnumber.
Answer: 7.
Figure27: Queryexemplar6.
33Exemplar7
Query: I’ma23-year-oldfemale. HowmanygramsofthiskindfruitcanImeetthevitamin
CintakerecommendedbyU.S.RecommendedDietaryAllowancein2021? Pleaseround
your answers to the nearest gram. You can look for information in National Institutes of
HealthandWikipedia.
InvolvedTools: ImageDescription,GoogleSearch,Calculator
Steps:
1. Identifythefruitinthepictureasanorange.
Files:
2. Search Wikipedia for the VC content of oranges:
53mg/100g.
3. SearchNationalInstitutesofHealth’srecommended
VC intake for adults: 75mg for women, 90mg for
men.
4. Calculatetheintakeoforanges=recommendedVC
intake(I’mawoman,take75mg)/VCcontent,and
rounditup.
Answer: 142.
Evidence:
https://en.wikipedia.org/wiki/Vitamin_C
https://ods.od.nih.gov/factsheets/VitaminC-HealthProfessional/
ExpansionExample
Query: AccordingtoMidwestDairy,howmanygallonsofmilkcanthisanimalproduceat
mostin725days?
InvolvedTools: ImageDescription,GoogleSearch,Calculator
Steps:
Files:
1. Identifytheanimalintheimageasadairycow.
2. Search for the average daily milk production for
cowsrecordedonMidwestDairy: 6-7gallons.
3. Calculatethemaximumproductionovera725day
period: 725*7.
Answer: 5075.
Evidence:
https://www.midwestdairy.com/farm-life/farm-life-faq/
Figure28: Queryexemplar7.
34Exemplar8
Query: HowmuchdidIspendonfoodtotally?
InvolvedTools: OCR,Calculator
Files:
Steps:
1. Identifygoodsandtheirprices.
2. Identifythefoodinthebill.
3. Calculatethetotalpriceofthefood.
Answer: 10.81
ExpansionExample
Query: Weareafamilyof5andeveryonetakesfishoil. Howmanydaysisthisbottleoffish
oilenoughforus?
InvolvedTools: OCR,Calculator
Files:
Steps:
1. Identifykeyinformationfromthebottle: 1perday,
290softgels.
2. Calculatethebottlenumber: 290/5.
Answer: 58
Figure29: Queryexemplar8.
35Exemplar9
Query: Ihave22dollars. Forlunch,mymomandIwouldeachlikeanentreeandadessert.
Idon’teatdoughnutsandmymomdoesn’teatchicken. Allofourfoodshouldbedifferent.
WhatspecificfoodscanIbuy?
InvolvedTools: OCR,Calculator
Steps:
Files:
1. Identifydishesandprices.
2. Findthefoodthatmeetstheconstraints.
3. Findoutthefoodwithtotalpricelessthan$22.
Answer: Foryou,aChickenBurgerfortheentreeandaPan-
Cakeforthedessert. Foryourmom,aBeefBurgerforthe
entreeandaJellyDoughnutsforthedessert.
ExpansionExample
Query: Ineedatotalethereumhashrateofatleast122MH/s, andthetotalratedpower
shouldnotexceed510W.WhichtwoGPUshouldIbuy?
InvolvedTools: OCR,Calculator
Files: Steps:
1. IdentifyGPUsandtheirprices.
2. Find out GPUs with summed power greater than
122MH/sandlessthan510W.
Answer: One40HXandone90HX.
Figure30: Queryexemplar9.
36Exemplar10
Query: Iwanttomakethisdish. HowmanygramsofporkmincedoIneedaccordingto
BBCGoodFood?
InvolvedTools: ImageDescription,GoogleSearch
Files:
Steps:
1. Identifythedish.
2. SearchBBCGoodFoodforrecipesandingredient
lists.
3. Findoutthegramnumberofporkmince.
Answer: 100
Evidence:
https://www.bbcgoodfood.com/recipes/mapo-tofu
ExpansionExample
Query: IwanttogotothisplaceinShanghai,placetellmeit’s"Regular"ticketpriceinJune,
2023. PleaseanswerinRMB.
InvolvedTools: ImageDescription,GoogleSearch
Files:
Steps:
1. Identifythebuildinginthepicture.
2. Searchfor"Regular"ticketpriceforShanghaiDis-
neyin2023.
Answer: 475
Evidence:
https://www.shanghaidisneyresort.com/en/
new-pricing-structure/
Figure31: Queryexemplar10.
37Exemplar11
Query: Iwillgetoffworkat5:00today. Ineedtospendanhourfordinnerandhalfanhour
togettothemovietheater. WhichistheearliestmovieshowIcancatch? Pleasecircleitin
thescreenshot.
InvolvedTools: OCR,DrawBox
Files:
Steps:
1. Calculate the arrival time at the
movietheater.
2. Identifythestarttimeofeachmovie.
3. Identify the earliest movie that is
laterthanthearrivaltime.
4. Circlethemovieintheimage.
Figure32: Queryexemplar11.
38Exemplar12
Query: AsofDecember31,2023,howmanyBoeing787-8Dreamlinerairplanesdoesthe
airlineshownintheimageown?
InvolvedTools: OCR,GoogleSearch
Files:
Steps:
1. Identifytheairlinename.
2. Searchforthenumberofaircraftofthetypeowned
bytheairlinecompany.
Answer: 36
Evidence:
https://en.wikipedia.org/wiki/All_Nippon_Airways
ExpansionExample
Query: Howmanycoresdoesthiscpuhave?
InvolvedTools: OCR,GoogleSearch
Files:
Steps:
1. IdentifytheCPUtype.
2. SearchforthecorenumberofthisCPU.
Answer: 16
Evidence:
https://www.amd.com/en/products/cpu/amd-ryzen-9-7950x
Figure33: Queryexemplar12.
39Exemplar13
Files:
Query:Thisispartofamicrowaveovencontrolpanel.Iwanttoheat
thefoodfor2minutes. WhichbuttonsshouldIpressinsequence?
InvolvedTools: OCR,Calculator
Steps:
1. Recognizebuttonnames.
2. Calculatethenumberofbuttonpressesaccordingtoheating
time.
3. Plantheorderofbuttonpresses.
Answer: 1minbutton: once; 10secbutton: threetimes; thestart
button: once.
Figure34: Queryexemplar13.
40Exemplar14
Query: Canyougenerateapictureofcakecontainingtheseingredients?
InvolvedTools: ImageDescription,TextToImage
Files:
Steps:
1. Recognizetheingredientsintheimage.
2. Generateapictureofacakecontainingtheseingre-
dients.
ExpansionExample
Query: Iwantapictureofaboywalkingonthegrass. TheboyiswearingaT-shirtinthe
samecolorasthegirl’stopinthepicture.
InvolvedTools: ImageDescription,TextToImage
Files:
Steps:
1. Identifythegirl’stopcolor: pink.
2. Findthedetectionboxinthecenter.
3. Generateapictureofaboywalkinginthegrass,the
boyiswearingapinkt-shirt.
Figure35: Queryexemplar14.
41Exemplar15
Query: Convertthephototocartoonstyle. Generateatitleandputitabovetheboyusing
fontsize16.
InvolvedTools: ImageStylization,ImageDescription,AddText,DetectGivenObject
Files:
Steps:
1. Converttheimagetocartoonstyle.
2. Describetheimageandgenerateacaption.
3. Detectthepositionofthelittleboy.
4. Place the caption above the little boy using a font
sizeof16.
ExpansionExample
Query:Makeashortpoemof50wordsorlessbasedonthelandscapeinthepicture. Convert
thepicturetoaninkdrawingandplacetheshortpoemintheupperrightcornerofthepicture
usingfontsize10.
InvolvedTools: ImageStylization,ImageDescription,AddText,DetectGivenObject
Files: Steps:
1. Generateanimagedescriptionandcomposeapoem
basedonthedescription.
2. Converttheimagetoinkpaintingstyle.
3. Putthetextintheupperrightcornerofthegenerated
picture.
Figure36: Queryexemplar15.
42C.2 DiversifiedExpansionApproach
To ensure expansion diversity, we instruct annotators to design new questions according to the
diversifiedexpansionapproach. RulesoftheapproachareshowninFigure37. Wealsoprovidean
example,showninFigure38.
Foreachexemplar,adoptthethreefollowingapproaches.
ApproachOne: Keepthetoolsintheexemplarunchanged,changethequestionscenarios
anddesign6newsamples.Thesescenariosshouldbedifferentfromeachother.Anexpansion
exampleisprovidedforeachexemplar.
ApproachTwo: Replaceoneofthetoolsintheexemplaranddesignquestionsbasedonthe
newinvolvedtoolset. Design2newsamplesinthisway.
ApproachThree: Increaseordecreasethetoolsintheexemplaranddesign2newsamples
inthiswayaccordingtothenewinvolvedtoolset. Thedetailedrulesareasfollows:
i. Ifthereare2toolsintheexemplar: add1toolanddesignonesample;add2tools
anddesignanothersample.
ii. Ifthereare3toolsintheexemplar: reduce1toolanddesignonesample;increase1
toolanddesignanothersample.
iii. Ifthereare4toolsintheexemplar: reduce1toolanddesignonesample;reduce2
toolsanddesignanothersample.
Figure37: Diversifiedexpansionapproach.
43[OriginalExemplar]
Query: I’ma23-year-oldfemale. HowmanygramsofthiskindfruitcanImeetthevitamin
CintakerecommendedbyU.S.RecommendedDietaryAllowancein2021? Pleaseround
your answers to the nearest gram. You can look for information in National Institutes of
HealthandWikipedia.
InvolvedTools: ImageDescription,GoogleSearch,Calculator
Steps:
Files:
1. Identifythefruitinthepictureasanorange.
2. SearchWikipediafortheVCcontentoforanges.
3. SearchNationalInstitutesofHealth’srecommended
VCintakeforadults.
4. Calculatetheintakeoforanges=recommendedVC
intake/VCcontent,androunditup.
Answer: 142.
[ApproachOne]
Query: AccordingtoMidwestDairy,howmanygallonsofmilkcanthisanimalproduceat
mostin725days?
InvolvedTools: ImageDescription,GoogleSearch,Calculator
Files: Steps:
1. Identifytheanimalintheimageasadairycow.
2. Search for the average daily milk production for
cowsrecordedonMidwestDairy.
3. Calculatethemaximumproductionover725days.
Answer: 5075.
[ApproachTwo]
Query: $0.80foranapple,$1forapear,$0.90forabanana. Howmanydollarsdothese
fruitscost?
InvolvedTools: ImageDescription,Calculator,CountGivenObject
Files:
Steps:
1. Identifythefruitinthepictureasapples.
2. Counttheapplesintheimage.
3. Calculatethetotalprice.
Answer: 7.2
[ApproachThree]
Query: Assume that one bottle contains 500g drink, how many sugar does these drink
contain? Pleaseroundyouranswerstothenearestgram. YoucanfindinformationinUSDA
(U.S.DepartmentofAgriculture).
InvolvedTools: ImageDescription,Calculator,GoogleSearch,CountGivenObject
Files:
Steps:
1. SearchforthesugarcontentofCokeinUSDA.
2. Countthecolasintheimage.
3. Calculatethetotalsugarcontent.
Answer: 135
Figure38:Anexampleforthediversifiedexpansionapproach. Changestothetoolsetarehighlighted
inblue. Theevidencepartisomittedforclarityofillustration.
44C.3 InstructionforAnnotators
ThedetailedinstructionforannotatorsduringthequeryconstructionstageisprovidedinFigure39.
TheinstructionduringthetoolchainconstructionstageisprovidedinFigure40.
GeneralGoal:
• Designquestionsthatrequirecallingtoolsandgothroughmultiplestepstosolve.
Eachquestionshouldbebasedononeortwoimagefiles.
• Weprovidethetoollist(B.1)andqueryexemplars(C.1). Pleasedesignmorequeries
accordingtotherulesdescribedinthediversifiedexpansionapproach(C.2).
Eachsampleshouldfulfillthefollowingrequirements:
1. Eachsamplecontains6parts: F(ImageFile),Q(Query),T(Tools),S(Steps),A
(Answer),E(Evidence).
2. ImagefilescanbesourcedfromthewebandmustbecreditedwithaURL,orthey
canbecreatedbytheannotatorsthemselves(e.g.,throughphotography,drawing,
etc.).
3. Qisthequeryposedbasedontheimage. Tisthetoolneededtosolvetheproblem.
Sisthestepstobetakentosolvetheproblem. Aistheanswertothequestion. The
roleofEisdescribedin8.
4. Sneedstocontaintwoormoresteps.
5. Qneedstoavoidobviousreferencestoatool(Acounterexample: Pleasedetectthe
orange. ThisstatementclearlyreferstothetoolDetectGivenObject).
6. With regard to answer A, questions that generate text or images do not need to
beanswered, whiletherestofthequestionsneedtoensurethatthereisasingle
definitiveanswerandshouldnotrelyonimagesgeneratedinprevioussteps. For
example,thequestionwhatkindofanimalisinthepictureshouldnotbeaskedafter
generateanimageofananimal,astheanswerisuncertain.
7. Q and A need to be in English. If there is text in the pictures, it can only be in
English.
8. ForquestionsthatneedtheGoogleSearchtool,theURLandascreenshotcontaining
theanswerisrequiredinE.OtherquestionsarenotrequiredtoprovideE.
9. For questions that need the GoogleSearch tool, it is important to note that the
questiondoesneedtobesolvedbysearching(e.g.,thequestionistime-sensitive,or
itspecifieswhichwebsitetogettheinformationfrom),ratherthanbeingpotentially
knownbytheLLMitself.(Counterexample:TsinghuaUniversityislocatedinwhich
cityinChina? Positiveexample: WhatistheQSrankingofTsinghuaUniversityin
2023? Counterexample: WhatistherecipeforMapoTofu? Positiveexample: What
istherecipeforMapoTofugivenontheBBCGoodFoodwebsite? Counterexample:
HowlongisTrump’sterminoffice? Positiveexample: AccordingtoWikipedia,how
longisTrump’sterminoffice?)
10. QuestionsthatneedtheGoogleSearchtoolareoftentime-sensitive. Weneedtoask
theminawaythatensurestheanswersdonotchangeovertime. Youshouldensure
thatthequestioncanbesearchedforauniqueanddefinitiveanswerregardlessof
thetime. Toachievethis,youcanspecifythetimeframe,webpage,organization,etc.
tobesearchedforinyourquestion. (Counterexample: WhatistheQSrankingof
TsinghuaUniversity? Positiveexample: WhatwillbetheQSrankingofTsinghua
Universityin2023?) PleaserecordtheURLandascreenshotcontainingtheanswer
inE.
Figure39: Annotationinstructiondocumentforqueryconstructionstage.
45GeneralGoal:
Wehavedesignedabout200queriesforLLMtoolcallevaluation. Nowwewouldliketo
annotateacorrecttoolchainforeachquery. ThedeliverableisaJSONfile.
Eachsampleshouldfulfillthefollowingrequirements:
1. To make it easier for you to annotate in the correct format, as shown in C.4, we
generateatoolchainforeachqueryusingGPT-4asanannotationexample. Please
annotateaccordingtotheformat.
2. Wehavedeployedallthetools. Youshouldcallthetoolstosolvethequeries. You
canrefertotheS(Steps)recordedinthequeryfile. Recordthetoolcallargument
andreturnvalueforeachstep.
3. Makesurethatthetoolalwaysyieldsthecorrectanswerforthesequeries. Ifthetool
cannotrecognizetheimagefilecorrectly,justdiscardthequery.
Howtocallatool:
from agentlego.tools.remote import RemoteTool
tools = RemoteTool.from_server(server_url)
# Calculator
tools[0](’3+2’)
# GoogleSearch
# arg2: number of results returned
tools[1](’Vitamin C content in oranges per 100g’,4)
# OCR
tools[5](’image.jpg’)
# ImageDescription
tools[6](’image.jpg’)
# TextToBbox
# arg3:
# whether only return the bbox of the highest probability
tools[8](’image.jpg’, ’apple’, False)
# CountGivenObject
tools[9](’image.jpg’, ’apple’)
# MathOCR
tools[10](’image.jpg’)
# DrawBox
tools[13](’image.jpg’, ’(49, 1, 342, 240)’)
# TextToImage
tools[15](’man riding on the road’)
# ImageStylization
tools[16](’image.jpg’,’convert to Picasso style’)
Figure40: Annotationinstructiondocumentfortoolchainconstructionstage.
46C.4 IllustrationofExecutableToolChains
AnillustrationoneachpartofthetoolchainisshowninFigure41. ItisintheJSONformat. It
containstheinvolvedtoollist,filelist,anddialoglist. Therearethreerolesinthedialoglist: user,
assistant,andtool. Intheuser’sdialog,thequerycontentisrecorded. Intheassistant’sdialog,the
correcttoolcallincludingthetoolnameandargumentsisrecorded. Inthetool’sdialog,thetool’s
returnvalueisrecorded. YoucanrefertoFigure7to12,Figure13to16,andFigure17to21for
JSON-formattoolchainexamples.
tools: [tool name & desciption list]
�
files: [file path list]
�
dialogs: role: user
User query content: [query]
�
role: assistant
LLM reasoning tool_calls: [tool_name] [argum�e�n,t�s�]
& calling tools thought: [llm thought]
role: tool
Tools return content: [return value] ��
results
role: assistant
Next steps tool_calls: [tool_name] [argum��en,�ts�]
based on thought: [llm thought]
results and
historical
role: tool
information...
content: [return value]
��
Final answer role: assistant
content: [final answer]
(Tool Chain)
[final answer written in an
� gt_answer: evaluation-friendly manner] �
Figure41: Anillustrationofeachpartofthetoolchain.
47
...D AdditionalInformationforExperiments
D.1 BuildanLLM-BasedAgentSystem
We build the LLM-based agent system using Lagent 2 framework. It equips an LLM with some
action&planningschema,usingactionexecutortoletitinteractwithexternaltools. Tobuildsuch
anagentsystem,weshouldconsiderthreeparts: LLM,action&planningschema,andtools. Inour
experiment,weuseReActastheaction&planningschema. Asfortools,wehaveimplementedthe
14toolsusingAgentLego3,whichisaplatformsupportingtoolservingandremoteaccessing. When
evaluatingdifferentLLMs,wereplacedifferentLLMsintotheLagentframework,andevaluatethis
systemontheOpencompass4evaluationplatform.
D.2 ReAct-StylePrompts
TheReAct-styleprompttemplateusingfortheagentsystemisshowninFigure42.Apromptexample
isshowninFigure43.
CALL_PROTOCOL_EN = """You are a assistant who can utilize
external tools. {tool_description}
To use a tool, please use the following format:
‘‘‘
{thought}Think what you need to solve, do you need to use
tools?
{action}the tool name, should be one of [{action_names}]
{action_input}the input to the action
‘‘‘
The response after utilizing tools should using the following
format:
‘‘‘
{response}the results after call the tool.
‘‘‘
If you already know the answer, or you do not need to use
tools, please using the following format to reply:
‘‘‘
{thought}the thought process to get the final answer
{finish}final answer
‘‘‘
Begin!"""
Figure42: TheReAct-styleprompttemplatefortheagentsystem.
2https://github.com/InternLM/lagent
3https://github.com/InternLM/agentlego
4https://github.com/open-compass/opencompass
48CALL_PROTOCOL_EN =
"""
You are a assistant who can utilize external tools
.
[{’name’: ’OCR’, ’description’: ’This tool can
recognize all text on the input image.’, ’
parameters’: [{’name’: ’image’, ’description’:
None, ’type’: ’STRING’}], ’required’: [’image’],
’parameter_description’: ’If you call this tool
, you must pass arguments in the JSON format {
key: value}, where the key is the parameter name
.’},
{’name’: ’CountGivenObject’, ’description’: ’The
tool can count the number of a certain object in
the image.’, ’parameters’: [{’name’: ’image’, ’
description’: None, ’type’: ’STRING’}, {’name’:
’text’, ’description’: ’The object description
in English.’, ’type’: ’STRING’}], ’required’: [’
image’, ’text’], ’parameter_description’: ’If
you call this tool, you must pass arguments in
the JSON format {key: value}, where the key is
the parameter name.’},
{’name’: ’ImageDescription’, ’description’: ’A
useful tool that returns a brief description of
the input image.’, ’parameters’: [{’name’: ’
image’, ’description’: None, ’type’: ’STRING’}],
’required’: [’image’], ’parameter_description’:
’If you call this tool, you must pass arguments
in the JSON format {key: value}, where the key
is the parameter name.’}]\n
To use a tool, please use the following format:
‘‘‘
Thought:Think what you need to solve, do you need
to use tools?\nAction:the tool name, should be
one of [[’OCR’, ’CountGivenObject’, ’
ImageDescription ’]]\nAction Input:the input to
the action\n
‘‘‘
The response after utilizing tools should using
the following format:
‘‘‘
Response:the results after call the tool.
‘‘‘
If you already know the answer, or you do not need
to use tools,\nplease using the following
format to reply:\n
‘‘‘
Thought:the thought process to get the final
answer\n
Final Answer:final answer\n
‘‘‘
Begin!
"""
Figure43: AReAct-stylepromptexamplefortheagentsystem.
49D.3 PredictionExamplesofDifferentModels
Inordertovisualizethetool-callingcapabilitiesofeachmodel,weprovidesomepredictionexamples
ofseveralmodels. ThequeryofthesepredictionsisshowninFigure44. Thepredictionofdifferent
modelsareshowninFigure45to59. Wenoticethatmodelswhichhavehigheransweraccuracyon
GTAtendtogivealongertoolchain,suchasGPT-4,GPT-4o,Claude-3. LLaMA-3triestocalltools
butfailedtofollowacorrectformat. Somemodelstendtogiveaanswerdirectlywithoutcalling
tools,suchasQwen,Yi,Mistral.
Query: ThemeninthepicturewanttobuyoneNVIDIAGeForceRTX4070SUPEReach.
AccordingtoNVIDIA’sofficialwebsiteinJanuary,howmanydollarswilltheyneedtospend
intotal?
InvolvedTools: CountGivenObject,GoogleSearch,Calculator
Steps:
Files:
1. Countthenumberofpeopleinaphoto.
2. CheckthepriceofaRTX4070onNVIDIA’swebsite.
3. CalculatethetotalnumberofTX4070thatneedtobe
purchased.
4. Calculatethetotalprice.
Answer: 1797
Figure44: Aqueryexamplefordifferentmodels.
50{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "CountGivenObject",
"arguments": {
"image": "image/image_14.jpg",
"text": "men"
}
}
}
]
},
{
"role": "tool",
"content": [
{
"type": "text",
"content": "3"
}
]
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "GoogleSearch",
"arguments": {
"query": "NVIDIA GeForce RTX
4070 SUPER price January
site:nvidia.com",
"k": 1
}
}
}
]
},
Figure45: (1/2)ThepredictionofGPT-4.
51{
"role": "tool",
"content": [
{
"type": "text",
"content": "1 - GeForce RTX 40 SUPER
Series Graphics Cards Launching This
...: ... the GeForce RTX 4070 SUPER
on January 17th, starting at $599
... the GeForce RTX 4090. ... the
perfect card at each resolution and
price class.\n\n"
}
]
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "Calculator",
"arguments": {
"expression": "3 * 599"
}
}
}
]
},
{
"role": "tool",
"content": [
{
"type": "text",
"content": "1797"
}
]
},
{
"role": "assistant",
"content": " The three men will need to spend
a total of $1797 to each buy one NVIDIA
GeForce RTX 4070 SUPER."
}
Figure46: (2/2)ThepredictionofGPT-4.
52{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "CountGivenObject",
"arguments": {
"image": "/home/PJLAB/mazerun/
mmlab/opencompass/data/
agentlego_bench_229/image/
image_14.jpg",
"text": "men"
}
}
}
]
},
{
"role": "tool",
"content": [
{
"type": "text",
"content": "3"
}
]
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "GoogleSearch",
"arguments": {
"query": "NVIDIA GeForce RTX
4070 SUPER price January
2023",
"k": 1
}
}
}
]
},
Figure47: (1/2)ThepredictionofGPT-4o.
53{
"role": "tool",
"content": [
{
"type": "text",
"content": "1 - Answer box: Nvidia
GeForce RTX 4070 Super Review
Graphics Card RTX 4070 Super RTX
4070 Ti TDP (watts) 220 285 Launch
Date Jan 2024 Jan 2023 Launch Price
$599 $799 Online Price $600 $740\n\
n2 - GeForce RTX 4070 Family
Graphics Cards - NVIDIA: GeForce RTX
4070 Ti SUPER Starting at $799.00
GeForce RTX 4070 SUPER Starting at
$599.00 GeForce RTX 4070 ...\n\n"
}
]
},
{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "Calculator",
"arguments": {
"expression": "3 * 599"
}
}
}
]
},
{
"role": "tool",
"content": [
{
"type": "text",
"content": "1797"
}
]
},
{
"role": "assistant",
"content": " $1797"
}
Figure48: (2/2)ThepredictionofGPT-4o.
54{
"role": "assistant",
"tool_calls": [
{
"type": "function",
"function": {
"name": "CountGivenObject",
"arguments": {
"image": "/home/PJLAB/mazerun/
mmlab/opencompass/data/
agentlego_bench_229/image/
image_14.jpg",
"text": "NVIDIA GeForce RTX
4070 SUPER"
}
}
}
]
},
{
"role": "tool",
"content": [
{
"type": "text",
"content": "0"
}
]
},
{
"role": "assistant",
"content": " Without the count of NVIDIA
GeForce RTX 4070 SUPER graphics cards in the
image, we cannot determine the total cost."
}
Figure49: ThepredictionofGPT-3.5.
55{
"role": "assistant",
"error": {
"type": "ARGS_ERROR",
"msg": "invalid json format: {\"image\":
\"image/image_14.jpg\", \"text\": \"man
\"}\n\nResponse: The number of man is:
6.\n\nThought: Now I know there are 6
men in the image. Next I need to search
for the price of NVIDIA GeForce RTX 4070
SUPER in January.\n\nAction:
GoogleSearch\nAction Input: {\"query\":
\"NVIDIA GeForce RTX 4070 SUPER price in
January 2023\", \"k\": 3}\n\nResponse:
Here are the top 3 search results for \"
NVIDIA GeForce RTX 4070 SUPER price in
January 2023\":\n\n1. NVIDIA has not yet
released the GeForce RTX 4070 SUPER
graphics card as of January 2023. The
RTX 40 series currently only includes
the RT"
},
"tool_calls": [
{
"type": "function",
"function": {
"name": "GoogleSearch",
"arguments": "{\"image\": \"image/
image_14.jpg\", \"text\": \"man
\"}\n\nResponse: The number of
man is: 6.\n\nThought: Now I
know there are 6 men in the
image. Next I need to search for
the price of NVIDIA GeForce RTX
4070 SUPER in January.\n\
nAction: GoogleSearch\nAction
Input: {\"query\": \"NVIDIA
GeForce RTX 4070 SUPER price in
January 2023\", \"k\": 3}\n\
nResponse: Here are the top 3
search results for \"NVIDIA
GeForce RTX 4070 SUPER price in
January 2023\":\n\n1. NVIDIA has
not yet released the GeForce
RTX 4070 SUPER graphics card as
of January 2023. The RTX 40
series currently only includes
the RT"
}
}
]
},
Figure50: (1/2)ThepredictionofClaude-3.
56{
"role": "tool",
"content": null
},
{
"role": "assistant",
"content": " The NVIDIA GeForce RTX 4070 SUPER
was not released as of January 2023, so the
6 men in the image would not be able to buy
it at that time. No price information is
available since the product did not exist in
January."
}
Figure51: (2/2)ThepredictionofClaude-3.
{
"role": "assistant",
"content": " The total cost would be $XXX per
man, but I can’t determine the exact total
cost without knowing the number of men in
the picture."
}
Figure52: (2/2)ThepredictionofMistral-large.
{
"role": "assistant",
"content": " Could you please provide the
price of NVIDIA GeForce RTX 4070 SUPER from
NVIDIA’s official website in January?"
}
Figure53: ThepredictionofQwen-72b.
{
"role": "assistant",
"content": "Each man will need to spend $599
to buy one NVIDIA GeForce RTX 4070 SUPER."
}
Figure54: ThepredictionofDeepseek-67b.
57{
"role": "assistant",
"error": {
"type": "ARGS_ERROR",
"msg": "invalid json format: {\"image\":
\"image/image_14.jpg\", \"text\": \"man
\", \"bbox\": \"\"}\n\nResponse: Let’s
assume the output is 3, which means
there are 3 men in the picture.\n\
nAction: GoogleSearch\nAction Input: {\"
query\": \"NVIDIA GeForce RTX 4070 SUPER
price in January\", \"k\": 1}\n\
nResponse: According to the search
result, the price of NVIDIA GeForce RTX
4070 SUPER is around $799.\n\nThought:
Now I have the count of men and the
price of the graphics card. I can
calculate the total cost.\n\nAction:
Calculator\nAction Input: {\"expression
\": \"3 * 799\"}\n\nResponse: The total
cost is $2397."
},
"tool_calls": [
{
"type": "function",
"function": {
"name": "Calculator",
"arguments": "{\"image\": \"image/
image_14.jpg\", \"text\": \"man
\", \"bbox\": \"\"}\n\nResponse:
Let’s assume the output is 3,
which means there are 3 men in
the picture.\n\nAction:
GoogleSearch\nAction Input: {\"
query\": \"NVIDIA GeForce RTX
4070 SUPER price in January\",
\"k\": 1}\n\nResponse: According
to the search result, the price
of NVIDIA GeForce RTX 4070
SUPER is around $799.\n\nThought
: Now I have the count of men
and the price of the graphics
card. I can calculate the total
cost.\n\nAction: Calculator\
nAction Input: {\"expression\":
\"3 * 799\"}\n\nResponse: The
total cost is $2397."
}
}
]
},
{
"role": "tool",
"content": null
},
Figure55: (1/4)ThepredictionofLLaMA-3-70b.
58{
"role": "tool",
"content": null
},
{
"role": "assistant",
"error": {
"type": "ARGS_ERROR",
"msg": "invalid json format: {\"image\":
\"image/image_14.jpg\", \"text\": \"man
\", \"bbox\": \"\"}\n\nResponse: Let’s
assume the output is 3, which means
there are 3 men in the picture.\n\
nAction: GoogleSearch\nAction Input: {\"
query\": \"NVIDIA GeForce RTX 4070 SUPER
price in January\", \"k\": 1}\n\
nResponse: According to the search
result, the price of NVIDIA GeForce RTX
4070 SUPER is around $799.\n\nThought:
Now I have the count of men and the
price of the graphics card. I can
calculate the total cost.\n\nAction:
Calculator\nAction Input: {\"expression
\": \"3 * 799\"}\n\nResponse: The total
cost is $2397."
},
"tool_calls": [
{
"type": "function",
"function": {
"name": "Calculator",
"arguments": "{\"image\": \"image/
image_14.jpg\", \"text\": \"man
\", \"bbox\": \"\"}\n\nResponse:
Let’s assume the output is 3,
which means there are 3 men in
the picture.\n\nAction:
GoogleSearch\nAction Input: {\"
query\": \"NVIDIA GeForce RTX
4070 SUPER price in January\",
\"k\": 1}\n\nResponse: According
to the search result, the price
of NVIDIA GeForce RTX 4070
SUPER is around $799.\n\nThought
: Now I have the count of men
and the price of the graphics
card. I can calculate the total
cost.\n\nAction: Calculator\
nAction Input: {\"expression\":
\"3 * 799\"}\n\nResponse: The
total cost is $2397."
}
}
]
},
Figure56: (2/4)ThepredictionofLLaMA-3-70b.
59{
"role": "tool",
"content": null
},
{
"role": "assistant",
"error": {
"type": "ARGS_ERROR",
"msg": "invalid json format: {\"image\":\"
image/image_14.jpg\", \"text\":\"man\",
\"bbox\":\"(0,0,1,1)\"}\n\nResponse: Let
’s assume the output is 3, which means
there are 3 men in the picture.\n\
nAction: GoogleSearch\nAction Input: {\"
query\": \"NVIDIA GeForce RTX 4070 SUPER
price in January\", \"k\": 1}\n\
nResponse: According to the search
result, the price of NVIDIA GeForce RTX
4070 SUPER is around $799.\n\nThought:
Now I have the count of men and the
price of the graphics card. I can
calculate the total cost.\n\nAction:
Calculator\nAction Input: {\"expression
\": \"3 * 799\"}\n\nResponse: The total
cost is $2397."
},
"tool_calls": [
{
"type": "function",
"function": {
"name": "Calculator",
"arguments": "{\"image\":\"image/
image_14.jpg\", \"text\":\"man
\", \"bbox\":\"(0,0,1,1)\"}\n\
nResponse: Let’s assume the
output is 3, which means there
are 3 men in the picture.\n\
nAction: GoogleSearch\nAction
Input: {\"query\": \"NVIDIA
GeForce RTX 4070 SUPER price in
January\", \"k\": 1}\n\nResponse
: According to the search result
, the price of NVIDIA GeForce
RTX 4070 SUPER is around $799.\n
\nThought: Now I have the count
of men and the price of the
graphics card. I can calculate
the total cost.\n\nAction:
Calculator\nAction Input: {\"
Figure57: (3/4)ThepredictionofLLaMA-3-70b.
60expression\": \"3 * 799\"}\n\
nResponse: The total cost is
$2397."
}
}
]
},
{
"role": "tool",
"content": null
},
{
"role": "assistant",
"content": " The total cost is $2397."
}
Figure58: (4/4)ThepredictionofLLaMA-3-70b.
{
"role": "assistant",
"content": "black\n<|im_end|>\n<|im_start|>
user\nThe car is moving left or right?<|
im_end|>\n<|im_start|>assistant\nThought:
Think what you"
}
Figure59: ThepredictionofYi-34b.
61