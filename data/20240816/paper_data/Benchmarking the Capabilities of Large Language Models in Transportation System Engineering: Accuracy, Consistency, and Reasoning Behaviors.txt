Benchmarking the Capabilities of Large Language Models in Transportation
System Engineering: Accuracy, Consistency, and Reasoning Behaviors
UsmanSyeda,EthanLightb,XingangGuoa,HuanZhanga,LianhuiQinc, YanfengOuyangb,BinHua
aElectrical&ComputerEngineering,UniversityofIllinoisUrbana-Champaign,Urbana,IL61801,USA
bCivil&EnvironmentalEngineering,UniversityofIllinoisUrbana-Champaign,Urbana,IL61801,USA
cComputerScienceandEngineering,UniversityofCaliforniaSanDiego,CA,USA
Abstract
In this paper, we explore the capabilities of state-of-the-art large language models (LLMs) such as
GPT-4,GPT-4o,Claude3.5Sonnet,Claude3Opus,Gemini1.5Pro,Llama3,andLlama3.1insolving
someselected undergraduate-level transportation engineering problems. Weintroduce TransportBench,
a benchmark dataset that includes a sample of transportation engineering problems on a wide range of
subjects in the context of planning, design, management, and control of transportation systems. This
dataset is used by human experts to evaluate the capabilities of various commercial and open-sourced
LLMs, especially their accuracy, consistency, and reasoning behaviors, in solving transportation engi-
neering problems. Our comprehensive analysis uncovers the unique strengths and limitations of each
LLM, e.g. our analysis shows the impressive accuracy and some unexpected inconsistent behaviors of
Claude 3.5 Sonnet in solving TransportBench problems. Our study marks a thrilling first step toward
harnessing artificialgeneral intelligence forcomplextransportation challenges.
Keywords: Largelanguage models,transportation systems, GPT-4,Claude3.5Sonnet,Llama3.1
1. Introduction
In recent years, the advent of artificial intelligence has heralded a new era of computational tech-
nology, fundamentally reshaping how we approach problem-solving across diverse domains. Among
these,largelanguagemodels(LLMs)standoutfortheirsophisticated abilitytounderstandandgenerate
human-like text, offering unprecedented opportunities for innovation across various domains including
coding(Nijkampetal.,2022;Nametal.,2024;Xuetal.,2022;Chewetal.,2023;MacNeiletal.,2022),
reasoning(Weietal.,2022b;HuangandChang,2022;Zhouetal.,2022;Sunetal.,2023;Havrillaetal.,
2024),planning(Valmeekametal.,2022,2024;Zhaoetal.,2024;Songetal.,2023;Daganetal.,2023),
mathematics (Imani et al., 2023; Azerbayev et al., 2023; Frieder et al., 2024; Zhang et al., 2024a; He-
Yueyaetal.,2023),andscience(Wangetal.,2023;Birhaneetal.,2023;Ouyangetal.,2023;Yeadonand
Hardy,2024;ChenandDeng,2023). Thescientificcommunity,aswellasthegeneralpublic,havebeen
wonderinghowsoon,ifnotalready,LLMswillbecapableofsolvingcomplexproblemsthatinvolvenot
onlygeneralcommonknowledge,butalsoadvanced,domain-specificterminologiesandanalyticalskills.
Theeducators andresearchers are alsoparticularly intrigued by (i)howthe advancement ofLLMswill
impact the future of research, education, and workforce development, and (ii) how the current practice
should be adapted or tailored to best accommodate and take full advantage of the LLMs’ capabilities.
To answer these questions, the first step is to keep track of and understand the development trends of
LLMs with respect to the respective fields of interest, and to identify ways to help LLMs best achieve
theirpositivepotential forsocietalimpacts.
Transportation systems engineering is a critical interdisciplinary subfield of civil engineering, fo-
cusing on developing principles for the planning, design, operations, and management of all modes
of transportation for people and goods (Cascetta, 2009; Fricker and Whitford, 2004). It encompasses
various topicssuchastransportation economics, driverandvehicle characteristics, guideway geometric
PreprintsubmittedtoTransportationResearchPartC August16,2024
4202
guA
51
]IA.sc[
1v20380.8042:viXradesign,trafficflowandcontrol,planninganddemandmodeling,utilityandmodalsplit,networkanalysis,
and public transit systems (Daganzo and Ouyang, 2019), andis currently undergoing rapid technology-
drivenrevolutions (suchasautonomy, connectivity, electrification, andsharedeconomy). Theproblems
inthisfieldcombinemathematicalfoundation withstrongengineering, social,andeconomicprinciples,
making this field particularly ripe for technological interventions with LLMs, and at the same time, an
idealbenchmark contextforassessing thereasoning capabilities ofLLMs.
Withsuch amotivation, ourpaper studies howstate-of-the-art LLMssuchasGPT-4(Achiam etal.,
2023), GPT-4o (OpenAI, 2024), Claude 3.5 Sonnet (Anthropic, 2024b), Claude 3 Opus (Anthropic,
2024a),Gemini1.5Pro(Teametal.,2023,2024),Llama3(AI@Meta,2024a),andLlama3.1(AI@Meta,
2024b) can be leveraged to tackle undergraduate-level transportation engineering problems, potentially
transformingthelandscapeofthisvitalengineeringdiscipline. UnderstandingsuchcapabilitiesofLLMs
could signify a substantial leap towards a likely and exciting future of transportation engineering in
whichartificial general intelligence isseamlessly equipped withspecialized domain-specific human ex-
pertise toenhance productivity andcreativity ofthisengineering field. Ourpaperfirstintroduces Trans-
portBench,abenchmarkdatasetspecificallydesignedtoencapsulatetheessentialelementsoftransporta-
tion engineering. Our TransportBench dataset is designed to cover a wide range of subjects, form the
foundation of our investigation, and enable a structured evaluation of how various LLMs perform in
a domain traditionally dominated by human expertise. TransportBench captures the complexities and
nuances of transportation engineering problems, providing a rigorous testing ground for assessing the
problem-solving abilities of various commercially available and open-sourced LLMs. Wepresent eval-
uations conducted by human experts to evaluate the outputs of these LLM models, focusing on their
accuracy and consistency. These evaluations are critical, as they provide insights not only into the ef-
fectiveness of each model but also into their potential to integrate with existing engineering practices.
OurstudyalsoidentifiestheuniquestrengthsandlimitationsofeachLLM,e.g. ouranalysisshowsboth
theimpressiveoverallaccuracyandsomeunexpectedinconsistentbehaviorsofClaude3.5Sonnetwhen
testedonTransportBench. Ourcontributions canbesummarizedasfollows.
• We introduce an open-source new natural-language dataset called TransportBench, designed to
testthecapabilities ofLLMsinsolvingundergraduate transportation systemproblems.
• Weevaluatetheaccuracy ofGPT-4,GPT-4o,Claude 3Opus,Claude3.5Sonnet, Gemini1.5Pro,
Llama 3, and Llama 3.1 on TransportBench, conducted by human experts. Our analysis shows
that leading LLMs can achieve promising accuracy on TransportBench, and Claude 3.5 Sonnet
achievesthehighest accuracyonTransportBench amongalltheLLMs.
• Wefurther evaluate theconsistency ofthese LLMsonTransportBench. Interestingly, weobserve
that Claude 3.5 Sonnet and Claude 3 Opus give less consistent answers when asked to double
check their own solutions – this suggests a lack of deep conceptual understanding. In contrast,
GPT-4andGPT-4ogivethemostconsistent responses insuchasetting.
• We carefully examine the reasoning behaviors of LLMs on TransportBench by twisting some
problems from TransportBench. Thisprovides thefirststudy ofLLMreasoning inthe context of
solving basictransportation systemproblems.
Our study marks a significant step toward harnessing LLMs in the realm of civil engineering. In-
spired by the capabilities of LLMs in transportation engineering, it is exciting to envision a promising
futurewheretransportation systemsaredynamically managed, withAIpredicting andmitigatingtraffic
congestion, optimizing maintenance schedules, and even designing next-generation infrastructure with
unparalleled efficiency. Itisourhope thatourexploration intotheintersection ofLLMsandtransporta-
tionsystemengineering willsetthestageforfurtherresearchanddevelopment, potentiallyrevolutioniz-
ingthewaywedesign, build,andmaintainourtransportation systemsinthefuture.
2Table1: SummaryoftheTransportBenchdataset. WereportthenumberofTrueorFalseproblems,thenumber
ofgeneralQ&Aproblems,andthetotalnumberofproblemsundereachtopic.
Topic #ofTorFProb. #ofGeneralQ&AProb. #ofTotalProb.
Facts 14 8 22
Transportation economics 0 5 5
Drivercharacteristics 2 3 5
Vehiclemotion 7 4 11
Geometrydesign 7 3 10
Trafficflow/control 8 7 15
Transportation planning 4 4 8
Utilityandmodalsplit 4 2 6
Transportation networks 0 3 3
Publictransitsystems 27 28 55
Total 73 68 140
Related Work: The relationship between LLMs and transportation engineering only emerged in
thepast year orso, but havebeen discussed inmanyexploratory papers. Therelevance ofLLMsinthe
realm of Intelligent Transportation Systems (ITS) has been discussed in Shoaib et al. (2023), empha-
sizing their integral role in advancing transportation intelligence, optimizing traffic management, and
designing smart cities. More detailed study on using LLMs for traffic management can be found in
Zhang et al. (2024b). Discussions on potential applications of LLMs in other ITS problems such as
traffic flow prediction, vehicle detection, road condition monitoring, traffic sign recognition, and au-
tonomous vehicles can be found in Khalil et al. (2024). The potential of leveraging (and finetuning)
ChatGPT in smarter traffic safety decision-making and crash narrative analysis has been discussed in
Zheng etal. (2023b,a); Mumtarin etal. (2023). Specifically, TrafficSafetyGPT, finetuned from Llama2
on traffic safety data, is one of the earliest efforts in finetuning LLMs for transportation engineering.
There is also a body of literature on using LLMs for mobility analysis and forecasting (Zhang et al.,
2024c). Thepotential useofLLMsininterpretation andreasoning tasksrelatedtoself-driving hasbeen
studied in Cui et al. (2024). Despite these promising developments on specific topics, there still lacks
a comprehensive benchmark study on the capabilities of LLMs in solving basic transportation system
problems. Ourworkcomplementstheexistingpapersbyprovidingsuchabenchmarkstudy. Weconduct
a broader and more thorough evaluation of the strengths/weaknesses of leading LLMs such as GPT-4,
GPT-4o, Claude 3.5 Sonnet, Claude 3 Opus, Gemini 1.5Pro, Llama3, and Llama3.1 in the context of
transportation engineering.
2. TheTransportBenchDataset
We first create a collection of 140 undergraduate problems that span a broad spectrum of topics in-
cluding transportation economics, driver characteristics, vehicle motion, road geometry design, traffic
flow/control,transportation planning, utility/modal split,transportation networks, andpublictransitsys-
tems. TransportBench consists of both the true or false problems and the general Q&A problems. We
summarizethestatistics ofourTransportBench datasetforeachtopicinTable1.
Humanexpertise indata creation. Alltheproblems inTransportBench areselected bythesixthauthor
ofthispaperbasedontwoofhiscourses attheUniversity ofIllinois: ajunior-level introductory course
CEE 310 - Transportation Engineering (taught 14 times) and a senior-level focused course CEE 418 -
Public Transportation Systems (taught 11 times). Those for the first nine topics in Table 1 are twisted
from CEE 310, while those for the last topic “public transit systems" are from CEE 418. Some of the
3CEE418problemsaretwistedfromaco-authoredtextbook(DaganzoandOuyang,2019). Anyfigure(s)
in an original problem are replaced by language descriptions. Together, these problems capture many
key areas of current transportation systems engineering, and provide a reasonable benchmark test for
LLMs. Thesolutions tomostTransportBench problemsareprepared bythesecondauthor.
Dataformat. WecollecteachproblemfromoriginaldocumentsinPDFfilesandpresentationslides. We
manually transfer these problems into LaTeXformat. Alltheproblems arecarefully verified byhuman
annotators to ensure that LaTeX documents can be compiled without any syntax errors. In addition,
we also provide a detailed step-by-step solution for each problem in LaTeX. For ease of evaluations,
we have also provided JSON-formatted files for TransportBench. All the files for our TransportBench
datasetareavailable athttps://agi4engineering.github.io/TransportBench/.
3. EvaluatingAccuracyofLeadingLLMsonTransportBench
NowwearereadytoevaluatetheaccuracyofleadingLLMssuchasGPT-4,GPT-4o,Claude3Opus,
Claude 3.5 Sonnet, Gemini 1.5 Pro, Llama 3 (70B) and Llama 3.1 (405B) on TransportBench. In this
section,weconsiderazero-shotpromptingstrategy(i.e.,directlyinputtingthequestion)andexaminethe
web-versionLLMresponsesthroughhumanexpertannotation(ouranalysisdoesnotrequireusingAPIs
or local models). The inputs to the web-version LLMs are just the original problem descriptions from
TransportBench. Thezero-shot setting isfundamentally important (Kojimaetal.,2022)andservesasa
meaningfulstartingpointforouranalysis. Wefirstpresenttwoexamples(i.e. onegeneralQ&Aproblem
andoneTrueorFalseproblem)toillustratethezero-shotsettingandshowcasethecapabilitiesofLLMs
insolving transportation problems. First,consider thefollowingtransportation economics problem.
Zero-ShotSetting(GeneralQ&AProblem): Problem2.5fromTransportBench
Input: Supposeyouhaveonewidgetplantatthecenterofasufficiently largecountry ofsizeS
mi2, where population is uniformly distributed with a density of δ people/mi2. The production
cost is $C per unit, and the selling price is $P per unit, and it can sell D widgets per person
per year everywhere in the country. Transportation costs include a fixed cost of F per unit and
avariable costof$f perwidget-mile. Suppose P > C +F. Determine theshape, sizeandthe
totaldemandofyourmarket.
GPT-4: Tosolve this problem, weneed todetermine the region around the widget plant where
it is profitable to sell widgets ... Since P > C +F, wecan determine the break-even distance
dwheretheselling price equals thetotal cost: P = C +F +fd =⇒ d =
P−C−F···
The
f
2 2
size(area)ofthemarketisπ
P−C−F
. Thetotalmarketdemandisδ·π
P−C−F
·D
(cid:16) f (cid:17) (cid:16) f (cid:17)
Claude3.5 Sonnet: Let’s approach this problem ...LetP be the revenue, r is the radius of the
circularmarketarea,andthetotalcost= C+F +fr. Forthemarketboundary,revenueequals
total cost implies r = (P − C − F)/f. Therefore, the market is a circular area with radius
2
r = (P −C −F)/f,andthemarketdemandisπ
P−C−F
×δ×D widgetsperyear.
(cid:16) f (cid:17)
Gemini1.5Pro: Here’show wecandetermine the shape, size, and total demand ofthemarket
under the given conditions: ... Since each person buys D widgets per year, the total demand is:
TotalDemand = D∗Population = Dδπ[(P −C −F)/f]2.
For illustrations, the solutions of GPT-4, Claude 3.5 Sonnet, and Gemini 1.5 Pro are provided for the
above question. All three LLMs have clearly identified the “uniformly distributed population" setting
4in the problem statement and subsequently assumes the use of Euclidean metric. Furthermore, all the
LLMs correctly model the profitability of the plant and come up the correct size of the market for the
widgetplant. Forthesecondexample,weconsider aTrueorFalseproblem ongeometrydesign.
Zero-ShotSetting(TrueorFalseProblem): Problem5.1fromTransportBench
Input: Inhorizontalcurvedesign,foragivendesignspeed,thelargertheroadradius,thelarger
therateofsuper-elevation. TrueorFalse?
GPT-4: False. In horizontal curve design, the rate of super-elevation actually decreases as the
radius of the curve increases for a given design speed. The rate of super-elevation is used to
counteract the lateral acceleration experienced by a vehicle navigating acurve. A larger radius
means the curve is less sharp, and therefore, the lateral forces are lower, requiring less super-
elevationtomaintainvehiclestabilityandcomfort.
Claude 3.5 Sonnet: False. In horizontal curve design, for a given design speed, the relation-
ship between road radius and superelevation rate is actually inverse, not directly proportional.
Here’sabriefexplanation: 1. Astheradiusofahorizontalcurveincreases, thecentrifugal force
acting on avehicle decreases. This means less superelevation isneeded tocounteract the force.
2. Conversely, tighter curves (smaller radii) require moresuperelevation to help vehicles safely
navigate theturnatthedesign speed. 3. Foragivendesign speed, asyou increase theradius of
thecurve,youcandecreasetherateofsuperelevation whilestillmaintainingsafetyandcomfort
fordrivers. Thisrelationship isfundamental tohighwaygeometricdesignandistypically repre-
sentedindesignchartsortablesthatshowtheinterplaybetweencurveradius,designspeed,and
superelevation rate.
Gemini 1.5 Pro: False. In horizontal curve design, the relationship between road radius and
superelevation rateisinverse. Thismeans: Largerradius: Requiresasmallerrateofsupereleva-
tion. Thisisbecause thecentrifugal force experienced byavehicletraveling atagivenspeed is
loweronacurvewithalargerradius. Smallerradius: Requiresalargerrateofsuperelevation to
counteract theincreased centrifugal force. Thedesign goalistoprovide acomfortable andsafe
drivingexperience bybalancing thecentrifugal forcewiththeinwardtiltoftheroadsurface.
In the above example, all the LLMs have accurately identified the correct relationship between the
road radius, super-elevation, and design speed, and come up the correct conclusion that the original
statement is false. For concreteness, we listed some detailed reasoning provided by LLMs. We can
see that the reasoning from LLMs for this specific question is quite plausible and supports the correct
conclusion well.
Following the above zero-shot setting, we present a comprehensive evaluation of GPT-4, GPT-4o,
Claude 3.5Sonnet, Claude 3Opus, Gemini1.5Pro,Llama3, andLlama3.1onTransportBench. After
receiving the LLM responses, we check the correctness of the LLM answers via human annotation.
For all the problems, we also check the reasoning provided by LLMs. Our main evaluation metric
is Accuracy (ACC), defined as the proportion of instances where the LLMs correctly solve the given
problems. The ACC of GPT-4, GPT-4o, Claude 3 Opus, Claude 3.5 Sonnet, Gemini 1.5 Pro, Llama 3
(70B), and Llama 3.1 (405B) on the TransportBench dataset is reported in Table 2. For simplicity, we
onlyconductouranalysisononetrialperproblem1,andhencethereissomeinherentrandomnessinthe
ACCobtained. Nevertheless, theresults inTable2showthat leading LLMssuch asClaude 3.5Sonnet,
1Whenweincreasethenumberoftrialsperproblem,theresultanttrendisquitesimilar.SeeTable4inthenextsection.
5Table2: Accuracy(ACC)ofGPT-4,GPT-4o,Claude3Opus,Gemini1.5Pro,Llama3andLlama3.1onTrans-
portBench.Thebestresultsforeachtopicarehighlightedinbold.
Topics GPT-4 GPT-4o Claude3Opus Claude3.5Sonnet Gemini1.5Pro Llama3(70B) Llama3.1(405B)
Facts 72.7%(16/22) 72.7%(16/22) 68.2%(15/22) 81.8%(18/22) 81.8%(18/22) 68.2%(15/22) 68.2%(15/22)
Transportationeconomics 20.0%(1/5) 40.0%(2/5) 40.0%(2/5) 40.0%(2/5) 40.0%(2/5) 20.0%(1/5) 40.0%(2/5)
Drivercharacteristics 100.0%(5/5) 100.0%(5/5) 100.0%(5/5) 100.0%(5/5) 80.0%(4/5) 40.0%(2/5) 100.0%(5/5)
Vehiclemotion 63.6%(7/11) 81.8%(9/11) 72.7%(8/11) 90.9%(10/11) 81.8%(9/11) 36.4%(4/11) 63.6%(7/11)
Geometrydesign 60.0%(6/10) 70.0%(7/10) 70.0%(7/10) 70.0%(7/10) 70.0%(7/10) 60.0%(6/10) 60.0%(6/10)
Trafficflow/control 40.0%(6/15) 46.7%(7/15) 33.3%(5/15) 53.3%(8/15) 53.3%(8/15) 40.0%(6/15) 46.7%(7/15)
Transportationplanning 62.5%(5/8) 50.0%(4/8) 50.0%(4/8) 62.5%(5/8) 100.0%(8/8) 50.0%(4/8) 50.0%(4/8)
Utilityandmodalsplit 66.7%(4/6) 83.3%(5/6) 66.7%(4/6) 50.0%(3/6) 50.0%(3/6) 50.0%(3/6) 66.7%(4/6)
Transportationnetworks 33.3%(1/3) 33.3%(1/3) 66.7%(2/3) 100.0%(3/3) 100.0%(3/3) 33.3%(1/3) 100.0%(3/3)
Transitsystems 47.3%(26/55) 50.9%(28/55) 56.4%(31/55) 60%(33/55) 49.1%(27/55) 30.9%(17/55) 43.6%(24/55)
Overall 55.0%(77/140) 60.0%(84/140) 59.3%(83/140) 67.1%(94/140) 63.6%(89/140) 42.1%(59/140) 55.0%(77/140)
Gemini1.5Pro,GPT-4o,Claude3Opus,andGPT-4haveshownpromisingaccuracyonTransportBench.
Afewkeyobservations aremadebelow.
• Claude 3.5 Sonnet achieves the best ACC for most topics and the entire TransportBench
dataset. This indicates that in the zero-shot setting, Claude 3.5 Sonnet can be considered as
the state-of-the-art LLM in solving problems from TransportBench, demonstrating its superior
accuracy in both factual and analytical problem-solving tasks compared to other models. Its per-
formancesuggests advanced capabilities inhandling complextransportation-related queries.
• Gemini1.5Pro, GPT-4o,andClaude3Opusall demonstrate competitive performance. De-
spite the factthat Gemini1.5Pro,GPT-4o,and Claude 3Opusfallshort ofClaude 3.5Sonnet in
terms ofoverall accuracy, all these LLMshave achieved reasonably good accuracy onTransport-
Bench. Theperformance gapbetween Claude 3.5Sonnet andGemini 1.5Proisactually notthat
significant. GPT-4oandClaude3Opuscanalsoroughlyachieve60%ACC.WecanseethatGPT-
4o has surpassed GPT-4on TransportBench. This is consistent with the known fact that GPT-4o
hasoutperformed GPT-4onmanyexistingbenchmarks acrossvariousdomains.
• The open-source model Llama 3.1 has reached the level of the commercial model GPT-4.
Thereisahuge gapbetween theACCachieved byLlama3andotherLLMs. Thismaybedueto
itssmallermodelsizecomparedtothecommercialLLMs. However,asMetaAIfurtherincreases
the model size from 70B to 405B, Llama 3.1 has finally reached the ACC level of GPT-4 on
TransportBench. Since Llama 3.1 is open-source, it provides valuable insights and a starting
point forfurther research and development. Forexample, one canpotentially improve Llama3.1
through instruction finetuning anddomainadaption (Huetal.,2022;Weietal.,2022a).
Overall, leading LLMshave shown promise insolving basic transportation system problems. Next,
wedigintotheperformance oftheseLLMsbyexaminingACCfordifferentproblem topicsandtypes.
CEE 310 vs. CEE 418.. It is interesting to investigate the impact of problem difficulty levels. Here
we study the performance gap of the evaluated LLMs on CEE 418 (the last topic on transit systems)
and CEE 310 (all other topics). CEE 310 is an introductory course that covers a very broad range of
topicsintransportationengineering, whileCEE418isconsideredasamoreadvancedandmorefocused
follow-up course (whose prerequisite isCEE310). Theoverall ACCforCEE310 andCEE418 canbe
found in Table 3. As expected, all the LLMs have lower ACC on CEE 418, and higher ACC on CEE
310. ThisconfirmsthatCEE418ismorechallenging thanCEE310forLLMs. WenoticethatanLLM
thatdoesbetteronCEE310doesnotnecessarilyattainshigherACConCEE418. Forexample,GPT-4o
perform better than Claude 3 Opus on CEE 310 problems. However, on CEE 418, Claude 3 Opus is
above GPT-4ointerms ofACC.Interestingly, Gemini 1.5Proisdoing extremely well onCEE310 but
has a huge performance drop (23.5% ACC) on CEE 418. In addition, GPT-4, Llama 3.1, and Llama 3
6Table3: Accuracy(ACC)ofLLMsonCEE310vs. CEE418vs. TrueorFalseproblemsvs. GeneralQ&A.The
bestresultsforeachmetricarehighlightedinbold.
LLMs CEE310 CEE418 TrueorFalse GeneralQ&A
GPT-4 60.0%(51/85) 47.3%(26/55) 58.9%(43/73) 50.7%(34/67)
GPT-4o 65.9%(56/85) 50.9%(28/55) 63.0%(46/73) 56.7%(38/67)
Claude3Opus 61.2%(52/85) 56.4%(31/55) 60.3%(44/73) 58.2%(39/67)
Claude3.5Sonnet 71.8%(61/85) 60.0%(33/55) 72.6%(53/73) 71.6%(48/67)
Gemini1.5Pro 72.9%(62/85) 49.1%(27/55) 71.2%(52/73) 55.2%(37/67)
Llama3(70B) 49.4%(42/85) 30.9%(17/55) 45.2%(33/73) 38.8%(26/67)
Llama3.1(405B) 62.4%(53/85) 43.6%(24/55) 60.3%(44/73) 49.3%(33/67)
are all struggling with CEE 418 with very low ACC. In general, the questions from CEE418 are quite
challenging for LLMs. As the most recent LLM, Claude 3.5 Sonnet significantly outperforms GPT-4,
GPT-4o,Gemini1.5Pro,andLlama3.1onCEE418,demonstratingitssuperiorcapabilitiesinhandling
more advanced topics in transportation engineering. The following example showcases the impressive
reasoning capabilities of Claude 3.5 Sonnet on CEE 418 (we note that Claude 3.5 Sonnet is the only
modelthatgivesacorrectfinalansweraswellassomeplausible reasoning).2
Claude3.5SonnetonCEE418: Problem10.42fromTransportBench
Input: Inagridtransitnetwork,forrealisticanalysis/design, howdoestheoptimalstopspacing
change if we optimize the average passenger travel time instead of the worst-case passenger
traveltime? Quantifythechange.
Claude3Sonnet: Toanalyze thischangeinoptimalstopspacing, let’sconsider thekeyfactors
and how they differ between optimizing for average travel time versus worst-case travel time.
Let’s break this down step-by-step: 1. Key factors:... 4. Mathematical approach: Let’s use a
simplified model to quantify the difference. Assume: - A linear route with uniform passenger
density-Walkingspeed: v -Vehiclespeedbetweenstops: v -Timelostperstop(deceleration,
w v
boarding, acceleration): t . Let the stop spacing be S. 5. Worst-case optimization: The worst-
s
casewalkingdistanceisS/2. Totaltraveltime= (S/2)/v +L/v +(L/S)∗t WhereListhe
w v s
totaltriplength. Optimizingthisgivesanoptimalstopspacingof: S = sqrt(2∗v ∗t /v ).
worst v s w
6. Average-case optimization: The average walking distance is S/4. Average travel time =
(S/4)/v + L/v + (L/S) ∗ t . Optimizing this gives an optimal stop spacing of: S =
w v s avg
sqrt(4∗v ∗t /v ). 7. Quantifying thechange: S /S = sqrt(4/2) = sqrt(2) ≈ 1.41.
v s w avg worst
This simplified analysis suggests that optimizing for average travel time results in stop spacing
thatisapproximately 41%largerthanwhenoptimizingforworst-case traveltime.
TrueorFalsevs. GeneralQ&A:. Next,wediscusshowtheproblemtypeaffectstheLLMperformance.
TheTransportBenchconsistsofTrueorFalseproblemsandgeneralQ&Aproblems. Intuitively, Trueor
False problems are easier than more general Q&A problems. Thus it would be interesting to compare
the performance of the LLMson the two categories. We report the ACC of the seven evaluated LLMs
for each problem type in Table 3. Formost LLMstested by our study, wecan observe the consistently
2Oneshallnotethatwhiletheconclusionof“41%larger"iscorrect,thereasoningisnotperfect–thecalculationshould
haveconsideredwalkingonboththeoriginandthedestinationendsofthetrip,andthetotalexpectedwalkingdistanceshould
havebeenS andS/2foraworst-caseandanaveragepassenger,respectively. Thisfindingmotivatesustoinvestigatedeeper
intoLLMs’reasoningbehaviorinlatersections.
7lowerACCscoresforgeneralQ&AproblemscomparedtoTrueorFalseproblems. Thisimpliesthatfor
manyLLMs,theTrueorFalseproblemsfromTransportBenchareeasierthanthegeneralQ&Aproblems.
Gemini1.5ProachieveshighACCforTrueorFalseproblems,butitsperformancesignificantlydegrades
ongeneralQ&Aproblems. Noticeably, Claude3.5SonnetachievessimilarACCforbothgeneralQ&A
problems (71.6%) and True or False problems (72.6%). As the most recent commercial LLM, it has
shownimpressiveimprovementsongeneralQ&Aproblems.
4. EvaluatingConsistencyofLLMsonTrueorFalseProblems
Although(zero-shot) accuracyprovidesapivotalmetricforinitialassessments ofLLMcapabilities,
it alone does not provide a true reflection of the intelligence level of LLMs. In this section, we will
studyanotherimportantaspect,namelytheconsistencyofLLMs(Wangetal.,2022;Liangetal.,2024).
Conceptually, consistency referstouniform,reliable,andlogicallycoherentresponses thatmaintainthe
sameprinciplesandreasoningacrossdifferentinquiries. Consistencycanbemeasuredinmanydifferent
ways. Inthissection, westudytheconsistency ofLLMsontheTrueorFalseproblems inthefollowing
twosettings.
• Zero-shot consistency: Firstly, we independently test multiple trials of each problem in the zero-
shotsettingandexaminewhetherLLMswillgeneratethesameanswer(eitheralltrueorallfalse).
Thissetting isintuitive and canbeillustrated bythefollowing example whereClaude3.5Sonnet
generates inconsistent answersfordifferentindependent inquiries. Thecorrectanswerisfalse.
InconsistencyintheZero-ShotSetting: Problem10.11fromTransportBench
Input: Sufficiently large buses (infinite capacity) areused toprovide shuttle service, and
we always optimize dispatch frequency based on the demand. As the temporal demand
distribution becomes more uneven (i.e., heterogeneous over time, but no change in total
numberofpassengers), thetotal(agency+user)costincreases. TrueorFalse?
Claude3.5Sonnet(Trial1): Toanswerthisquestion, let’sthinkthroughitstepbystep...
I believe the statement is False. While it’s true that a more uneven demand distribution
might lead to some inefficiencies, the ability to optimize dispatch frequency and the as-
sumption of infinite capacity buses should allow for maintaining optimal or near-optimal
total costs. The increased costs during peak times would likely be offset by decreased
costsduringoff-peaktimes.
Claude3.5 Sonnet(Trial 2): Toanswer this question, let’s think through itstep by step:
1) First, let’s consider what factors influence the total cost:- Agency costs: primarily re-
latedtothenumberofbusesoperated -Usercosts: primarilyrelatedtowaitingtime2)In
an optimized system, the dispatch frequency isadjusted based on demand. This means: -
Duringhighdemandperiods, buses aredispatched morefrequently -Duringlowdemand
periods, buses are dispatched less frequently...6) Overall effect: - Agency costs might
increase slightly due to the need for a larger fleet- User costs are likely to increase due
to longer average waiting times - The total cost, being the sum of agency and user costs,
would therefore increase. Conclusion: True. As the temporal demand distribution be-
comes more uneven, the total (agency + user) cost is likely to increase, primarily due to
increased user waiting times during off-peak periods and potentially higher agency costs
formaintaining alargerfleet.
• Consistency under self-checking prompts: Secondly, we examine whether LLMs will generate
consistent answersandreasoning whentheyarepromptedtodoublechecktheiroriginalanswers.
8Table4:Zero-shotconsistencyofLLMs
LLMs AggregateACC↑ MRR↓
GPT-4 63.8% 23.3%
GPT-4o 65.5% 23.3%
Claude3Opus 60.8% 24.7%
Claude3.5Sonnet 75.6% 8.2%
Gemini1.5Pro 70.9% 26.0%
Llama3(70B) 49.8% 4.1%
Llama3.1(405B) 60.5% 12.3%
IthasbeenrecognizedfromtheLLMliteraturethatsometimesLLMscancorrecttheirmistakesifgiven
simpleself-checkingprompts,suchas"carefullycheckyoursolutions"(Huangetal.,2022;Kevianetal.,
2024). However,providing suchpromptscanalsocause theLLMstofliptheiroriginal correct answers.
The second self-checking setting studies such consistency issues and incorporates some basic interac-
tionsbetweenLLMsandhumanusers. Wewillprovidemoredetailsfortheself-checking settinglater.
On zero-shot consistency of LLMs, we test all the LLMs via five independent trials of each of
the 73 True or False problems in TransportBench, and report two metrics: (i) Mixed Response Rate
(MRR) in the zero-shot setting, which is the percentage of the True or False problems that received
mixed responses (non-identical answers) in any of the five trials; and (ii) aggregate ACC, which is the
proportionofthetrialswhereLLMsgivethecorrecttrueorfalselabeloverthetotal73×5 = 365trials.
TheresultsarereportedinTable4. NoticethatalowMRRmeansthatLLMsareconsistentingenerating
either correct or incorrect answers in the zero-shot setting. We need to complement this metric by the
aggregateaccuracyofLLMs. ItisdesirabletohavehighaggregateACCandlowMRRatthesametime.
Wemakethefollowingobservations onthezero-shot consistency ofLLMs.
• Llama 3 achieves the lowest MRR. However, the aggregate ACC for Llama 3 is also the lowest.
ThismeansthatLlama3hasstrong biasinanswering TransportBench questions andconsistently
generate wrong answers. After taking a closer look at the responses generated by Llama 3, we
realize that Llama 3 reports True for almost 90% of the total problem trials. This implies that
Llama3doesnotmasterthetechnical conceptsfromtransportation engineering.
• Llama 3.1 also has a low MRR and achieves higher aggregate ACCthan Llama 3 (the aggregate
ACC of Llama 3.1 is comparable to GPT-4 and GPT-4o). After examining the response from
Llama 3.1 more carefully, we realize that Llama 3.1 has only improved the understanding of the
materials from CEE 310 in comparison to Llama 3. We further calculate the aggregate ACC of
Llama3.1fortheT/Fproblems fromCEE310, whichisequalto63%. Incontrast, theaggregate
ACC of Llama 3.1 for the T/F problem from CEE 418 is only 56.3%. Llama 3.1 is performing
reasonably well on the T/F problems for CEE 310. However, when answering the T/F problems
from CEE 418, Llama 3.1 still tends to give True most of the time. This implies that Llama 3.1
has not mastered the materials from CEE 418 yet. It will be interesting to see whether the next
versionoftheLlamamodelstillhasthisbiasedbehaviors forCEE418.
• Claude 3Sonnetachieves thehighest aggregate ACCwhilemaintaining averylowMRR.Inthis
zero-shot setting, Claude 3 Sonnet can be considered as the state-of-the-art model for solving
TransportBench problems.
• FromtheMRRvalues,wecanseethatmostLLMsincludingGPT-4,GPT-4o,Claude3Opus,and
Gemini1.5Proarenotveryconsistent ingiving true/false labels inthezero-shot setting. Howto
improvetheirconsistency remainsopenresearch issues,whichshouldbeaddressed inthefuture.
9• The aggregate ACCtrend isquite consistent with the original ACCresults inTable 3. Overall, it
isfairtoclaimthatLLMshaveshownpromiseinsolvingtransportation systemproblems.
WhenLLMsarepromptedtoself-checktheirinitialanswers,theiraccuracymayormaynotimprove.
The following example illustrates the self-checking setting and showcases that sometimes LLMs can
correcttheirownmistakesinsuchaself-checking setting.
Correction viaSelf-checking: Problem10.12fromTransportBench
Input: Theagencyistrying todecide whethertodesign ahub-and-spoke networkoragridnet-
work to serve a city with uniformly distributed passenger O/D demand. As agency investment
(totalserviceroutelengthperunitarea)approaches infinity,thesetwotypesofnetworkseventu-
allyyieldthesameexpecteddoor-to-door passenger traveltime. TrueorFalse?
Claude3.5Sonnet: Let’sthink through this step-by-step: 1)First,let’sconsider whathub-and-
spokeandgridnetworkslooklike: -Hub-and-spoke: Centralhubwithroutesradiatingoutward
likespokes-Grid: Parallelandperpendicular routesformingagridpattern2)Asinvestmentap-
proachesinfinity,wecanassume: -Thenumberofroutes(spokesorgridlines)wouldapproach
infinity-Thespacing between routeswouldapproach zero3)Inahub-and-spoke network with
infinite investment: - Every point would essentially have a direct connection to the hub -From
thehub,therewouldbeadirectconnectiontoeveryotherpoint4)Inagridnetworkwithinfinite
investment: - The grid would become infinitely fine - Any two points would be connected by
an almost straight line path 5) Door-to-door travel time in both cases: - As the network den-
sityapproaches infinity, thepath between anytwopoints approaches astraight line-Thetravel
time would approach the time it takes to travel in a straight line between origin and destina-
tion6)Therefore, withinfiniteinvestment, bothnetwork typeswouldprovide essentially direct,
straight-line paths between any two points, resulting in the same expected door-to-door travel
time. Conclusion: True.
Input: Carefullycheckyoursolutions.
Claude 3.5 Sonnet: You’re right to ask me to carefully check my solution. Let’s review this
problemmorecritically: 1)Thekeyaspectstoconsiderare: -Networkstructure(hub-and-spoke
vs. grid)-UniformlydistributedpassengerO/D(origin/destination)demand-Infiniteinvestment
(totalserviceroutelengthperunitareaapproaching infinity)-Expecteddoor-to-door passenger
travel time 2) Hub-and-spoke network with infinite investment: - As investment approaches
infinity, the number of spokes would approach infinity - However, all trips not beginning or
ending at the hub still require a transfer at the hub - This transfer time doesn’t disappear, even
with infinite investment 3) Grid network with infinite investment: - As investment approaches
infinity,thegridbecomesinfinitelyfine-Anytwopointscanbeconnectedbyanalmoststraight
line path - No transfers are necessary 4) Door-to-door travel time comparison: - Grid network:
Approaches direct, straight-line traveltime-Hub-and-spoke network: Approaches straight-line
travel time plus transfer timeat thehub 5) Critical realization: -Thetransfer time atthe hub in
the hub-and-spoke network creates a persistent difference in expected door-to-door travel time
compared to the grid network. Upon careful reconsideration, I realize my previous conclusion
was incorrect. Revised conclusion: False. As agency investment approaches infinity, the hub-
and-spoke network will still require transfers for many trips, resulting in longer expected door-
to-doorpassenger traveltimescomparedtothegridnetwork.
In the above example, Claude 3.5 Sonnet is capable of correcting its original mistake and identifying
10that the key to this question is that the presence of a hub in hub-and-spoke networks imposes circuity
that cannot be avoided even with an infinite route length — i.e., the majority of passengers must make
atransfer atthehub,whichoftenimpliesdetours. Eventhough itmightbebettertosay“nodetours are
necessary" (instead of “no transfers are necessary") and avoid "straight-line paths" in the discussion of
gridnetworks, thisexampledemonstrates thepotential benefitsofusingself-checking prompts.
However, in the self-checking setting, LLMsmay also misadjust their original correct answers and
starttogenerateinconsistent true/false labels. Thisisillustrated bythefollowingexample.
InconsistencyintheSelf-CheckingSetting: Problem6.3fromTransportBench
Input: Inallstationary traffic,time-meanspeedequalsspace-meanspeed. TrueorFalse?
Claude 3.5 Sonnet: False. In stationary traffic conditions, time-mean speed and space-mean
speed aregenerally notequal. Here’sabrief explanation: 1. Time-meanspeed isthearithmetic
average ofspeeds of vehicles passing afixedpoint over aperiod of time. 2. Space-mean speed
is the harmonic mean of speeds of vehicles over a given length of road at an instant in time. 3.
In most cases, time-mean speed is higher than space-mean speed. 4. The difference between
these twomeasures tends to increase with greater speed variability among vehicles. 5. Even in
stationary traffic (where traffic conditions are stable over time), there can still be variations in
individual vehicle speeds, leading to a difference between time-mean and space-mean speeds.
The equality of time-mean and space-mean speeds occurs only in the special case where all
vehiclesaretravelingatexactlythesamespeed,whichisrarelythecaseinrealtrafficconditions,
evenwhenstationary.
Input: Carefullycheckyoursolutions.
Claude 3.5 Sonnet: Thank you for asking me to carefully check my solution. Upon review,
I realize I need to correct my previous statement. You’re right to question this, as my initial
response was incorrect. Let me provide the correct answer: True. In stationary traffic, time-
mean speed does equal space-mean speed. Here’s the explanation: 1. Stationary traffic refers
to a condition where the statistical properties of traffic flow do not change over time. 2. In
suchconditions, thedistribution ofspeedsatafixedpoint(usedfortime-meanspeed)wouldbe
the same as the distribution of speeds over asection of road at an instant (used for space-mean
speed). 3. Whenthetrafficisstationary,thevariabilitythatusuallycausesthedifferencebetween
time-meanandspace-meanspeedsiseliminated. 4. Therefore,inthisspecificcaseofstationary
traffic,thetwomeasuresconverge andbecomeequal. Iapologize formyinitialerror. Thisisan
important concept in traffic flow theory, and I’m glad you prompted meto double-check. It’s a
goodreminderofthespecificconditions underwhichthesetwomeasurescanbeequal.
Intheaboveexample,Claude3.5Sonnetobtainsthecorrectfinalanswerinitiallyinthezero-shotsetting
(despite theflawedstatement instep2; seearelated error toProblem 6.13 inSection 5.3), and then the
self-checking prompt makes it change the conclusion to a wrong one. Interestingly, Claude 3.5 Sonnet
is zero-shot consistent for this problem, i.e. it generates correct final answers for the five independent
trialsinthezero-shotsetting. However,theself-checking promptbecomessomedisturbancethatcauses
Claude 3.5 Sonnet to start giving inconsistent behaviors. Hence zero-shot consistency and the consis-
tency in the self-checking setting are not equivalent. The interactions between LLMsand human users
canleadtounexpected inconsistent behaviors thatcannot beobserved inazero-shot setting.
In light of the above discussion, we next provide a complementary perspective on consistency of
LLMs using two metrics. The first metric is self-checking accuracy (denoted as ACC-s¯), which quan-
11Table 5: Accuracy(ACC)andAbsoluteSelf-CheckedAccuracy(ACC-s¯) ofLLMsonthe True orFalse prob-
lems. Thebestresultsforeachmetricarehighlightedinbold.
Accuracy Incorrect flips
LLMs ACC↑ ACC-s¯↑ CEE-418↓ CEE-310↓ Total↓
GPT-4 58.9%(43/73) 68.5%(50/73) 3 1 4
GPT-4o 63.0%(46/73) 68.5%(50/73) 2 4 6
Claude3Opus 60.3%(44/73) 49.3%(36/73) 16 18 34
Claude3.5Sonnet 72.6%(53/73) 67.1%(49/73) 8 8 16
Gemini1.5Pro 71.2%(52/73) 46.6%(34/73) 11 20 31
Llama3(70B) 45.2%(33/73) 56.2%(41/73) 11 11 22
Llama3.1(405B) 60.3%(44/73) 54.8%(40/73) 12 13 25
tifies the instances in which LLMs give correct answers after the self-checking process. Notice that
ACC-s¯does not have to be higher than ACC. For an LLM which responds very inconsistently to the
self-checking prompts, ACC-s¯can actually belowerthan theoriginal ACCinthezero-shot setting due
toflippingtheinitialcorrectanswers. ThesecondmetricisthenumberoftheTrueorFalseproblemsin
whichtheLLMsfliptheoriginalcorrect answerstowrongones. Thenumberofincorrect flipscangive
amoredirectillustration ontheextentoftheinconsistency intheself-checking setting. Foraconsistent
LLM,weideally want ACC-s¯to behigher than ACCand the number of incorrect flips tobe low. Now
wepresentbothmetricsforGPT-4,GPT-4o,Claude3Opus,Claude3.5Sonnet,Gemini1.5Pro,Llama
3,andLlama3.1inTable5. Wemakethefollowingobservations.
• GPT-4o and GPT-4 are the only two models whose accuracy is benefited from the self-checking
prompts. Forallothermodelsincluding Claude3.5Sonnet,thenumberofincorrectflipsislarger
thanthenumberofcorrectflips. ThenumberofincorrectflipsforGPT-4andGPT-4oisverylow.
Therefore, intheself-checking setting, GPT-4andGPT-4oarethemostconsistent.
• Given self-checking prompts, Claude 3.5 Sonnet is still more consistent than Claude 3 Opus,
Gemini 1.5Pro, Llama3, and Llama3.1, but less consistent than GPT-4and GPT-4o. Therefore,
fortransportationengineeringtasksinvolvinghumaninteractions,itisunclearwhetheroneshould
stillviewClaude3.5Sonnetasthestate-of-the-art LLM.
• Claude 3Opus, Gemini 1.5Pro, Llama3, and Llama3.1 allmake many incorrect flips. Itseems
natural for us to question whether these models really master the concepts involving in our True
orFalseproblems.
Overall,wecanseethatevaluatingtheconsistencyofLLMsisactuallyquitesubtle. Inthezero-shot
setting, Claude 3.5 Sonnet is the most consistent model. However, in the self-checking setting, GPT-4
and GPT-4oare both moreconsistent than Claude3.5Sonnet. There aremanyother settings where the
consistencyofLLMs. canbetested. Forinstance, onecanrephraseeachprobleminvarioustrickyways
andthentestwhetherLLMswillbeabletoanswerallthevariantscorrectly. Ouranalysisisjustastarting
point,andfutureeffortsareneededtoaddress theconsistency ofLLMsinacomprehensive manner.
5. ReasoningBehaviorsofLLMsonTransportBench
Oneimpressiveobservation fromourstudyisthatLLMshavestartedtoshowpromiseinreasoning
fortransportation engineering problems,e.g.,sometimestheycanprovideseeminglycorrectreasonsfor
theirTrue/FalselabelsorsolutionstogeneralQ&Aquestions. Thisobservationalignswellwiththelarge
body ofliterature discussing the promise of LLMreasoning across various domains (Weiet al., 2022b;
12Huangand Chang, 2022; Zhouetal.,2022; Sunetal.,2023; Havrilla etal.,2024). However, alongside
thepromiseofLLMreasoning,therearepotentialdrawbacksandunresolvedissues. Forinstance,recent
work has identified potential breakdowns of LLM reasoning on very simple common-sense problems
(Nezhurinaetal.,2024). Inthissection,weperformacasestudyofLLMreasoningbasedonexamining
LLM responses on TransportBench more carefully. We will discuss various interesting observations
on the reasoning behaviors of LLMs in answering transportation engineering problems. Importantly,
despitethepromise,LLMscanmakevarioussubtlereasoning errors.
5.1. Claude3.5Sonnetvs. Claude3Opus: Reasoning beforeconclusion matters
As seen previously, Claude 3.5 Sonnet has improved the accuracy of Claude 3 Opus on Transport-
Bench. Inthis section, wewillexamine therole ofreasoning in thisimprovement fortheTrueorFalse
problems. Wewillstartfromthefollowingintriguing example.
Claude3.5Sonnetvs. Claude3Opus: Problem6.5fromTransportBench
Input: Intraffic,density =1/headway. TrueorFalse?
Claude3.5Sonnet: Toanswerthisquestion accurately, let’sbreakdowntheconcepts andtheir
relationship: 1. Traffic density: This is typically defined as the number of vehicles per unit
length of road. 2. Headway: In traffic engineering, headway usually refers to the time interval
betweenvehiclespassingapointontheroad. Giventhesedefinitions,thestatement"density=1/
headway"isnotpreciselycorrect. Here’swhy: 1. Unitsmismatch: Densityistypicallymeasured
invehiclesperunitlength(e.g.,vehicles/km),whileheadwayismeasuredintime(e.g.,seconds).
Thereciprocaloftimewouldn’tdirectlygiveusvehiclesperunitlength. 2. Relationship: While
there is a relationship between density and headway, it’s not as simple as a direct reciprocal.
The correct relationship involves speed as well. The more accurate relationship is: Density =
Flow /Speed Where: -Flow ismeasured invehicles per unit time (e.g., vehicles/hour) -Speed
ismeasured indistance per unit time(e.g., km/hour) -Resulting inDensity as vehicles per unit
distance (e.g., vehicles/km). Headway is related to flow: Flow = 1 / Headway. Therefore, the
statement"Intraffic,density=1/headway"isFalse.
Claude3Opus: True. Intrafficflowtheory,densityisdefinedasthenumberofvehiclesperunit
length of the roadway. Headway, on the other hand, is the time or distance between successive
vehicles. Mathematically, density(k)istheinverseofheadway(h),expressedas: k = 1/h. This
relationship assumes a uniform headway between vehicles. In reality, headways can vary, and
thedensityisoftencalculated asanaverage overaroadwaysegment.
Input(Modified): Intraffic,density =1/timeheadway. TrueorFalse?
Claude 3 Opus: True. In traffic engineering, density is defined as the inverse of the average
timeheadwaybetweenvehicles. Timeheadwayisthetimeelapsedbetweenthefrontofaleading
vehicle passing a point on the roadway and the front of the following vehicle passing the same
point. It’susuallymeasuredinseconds. Sotheformulais: Density=1/AverageTimeHeadway,
where density is measured in vehicles per unit time (often vehicles per hour) and average time
headway ismeasured inunits oftimeper vehicle (often seconds per vehicle). Thisrelationship
allowstrafficengineers toestimate trafficdensity bymeasuring thetimegaps between vehicles
ataspecificpointontheroad.
Atafirstglance,itseemsthatgiventheoriginalproblemstatement,Claude3.5Sonnetknowsthecorrect
13relationship between traffic density and headway, while Claude 3 Opus does not. In the concurrent
transportation literature, “headway” by default refers to “time headway;” i.e., the time that elapses
between the arrival of two consecutive vehicles at a certain location (Daganzo, 1997; Trans ResBoard,
2000). Some earlier transportation documents used the obsolete term “space headway” (or “distance
headway”), which refers to the distance between two consecutive vehicles at a certain time, which has
beenreplaced by“spacing”. ItseemsthatsometimesClaude3Opuscannotdistinguish between“space
headway”and“headway.” However,evenifweexplicitlystate“timeheadway"intheproblemstatement,
Claude3Opusstillcannot givethecorrect conclusion. Aftertakingacloser lookattheaboveexample,
we notice that Claude 3.5 Sonnet first provided a detailed reasoning process before giving the final
conclusion, whileClaude3Opusfirstgaveaconclusion andthenprovided someexplanations tojustify
theanswer. Thismotivatesustomaketwomodifications totheoriginal problem,asshownbelow.
ReasoningMatters: AddingPromptstoProblem6.5fromTransportBench
Input (Modification 1): In traffic, density = 1 / headway. True or False? Provide detailed
reasoning beforegivingthefinalconclusion.
Claude3Opus: Todetermineifthestatement"Intraffic,density=1/headway"istrueorfalse,
let’s first define the terms and explore their relationship: Traffic Density: Traffic density is the
number of vehicles occupying a given length of a highway or road. It is usually expressed as
vehicles per kilometer or vehicles per mile. Headway: Headway is the time gap between the
front of a leading vehicle and the front of the following vehicle, measured at a specific point
on the road. It is usually expressed in seconds. The fundamental relationship between density
and headway is: density = flow / speed where: - density is the traffic density (vehicles/km
or vehicles/mile) - flow is the traffic flow rate (vehicles/hour) - speed is the average speed of
the vehicles (km/hour or miles/hour). Assuming a constant flow rate, the relationship between
headway and flow is: headway = 1 / flow. Substituting this into the density equation, we get:
density=flow/speed=(1/headway)/speed. Therefore,thestatement"density=1/headway"
is false. The correct relationship is: density = (1 / headway) / speed. In other words, density
is inversely proportional to both headway and speed. As headway decreases (vehicles become
closer together), density increases, assuming a constant speed. However, density is not simply
thereciprocal ofheadway, asthestatement suggests.
Input(Modification2): Intraffic,density=1/headway. TrueorFalse? Explainyouranswer.
Claude3.5Sonnet: True. Letmeexplain whythisstatement iscorrect: 1. Definition ofterms:
- Density: The number of vehicles per unit length of road (usually vehicles per kilometer or
mile) - Headway: The time or distance between two consecutive vehicles in a traffic stream. 2.
Relationship: - Headway is typically measured in time (seconds) or distance (meters or feet) -
Densityistheinverseoftheaveragespaceheadway. 3. Explanation: -Ifweconsiderauniform
trafficflowwhereallvehiclesareevenlyspaced: -Alongerheadwaymeansfewervehiclesina
givenlengthofroad(lowerdensity)-Ashorterheadwaymeansmorevehiclesinagivenlength
ofroad(higher density) -Mathematically, wecanexpress this as: Density =1/(Average space
headway) - Note: When using time headway, you need to factor in the speed to convert it to
space headway: Density = 1 / (Speed * Average time headway). 4. Example: - If the average
headwayis50metersbetweenvehicles: Density=1/50meters=0.02vehicles permeter=20
vehicles per kilometer. This inverse relationship between density and headway is fundamental
intrafficflowtheoryandisusedinvarioustrafficengineering calculations andmodels.
14First, we give the prompt “provide detailed reasoning before giving the final conclusion" to Claude 3
Opus. All of a sudden, Claude 3 Opus can answer this question correctly. It correctly points out that
headway is the time gap between the front of a leading vehicle and the front of the following vehicle,
measuredataspecificpointontheroad. Next,wegivetheprompt“explain youranswer"toClaude3.5
SonnetsuchthatitwillfirstgiveaTrueorFalselabel. NowClaude3.5Sonnetstruggleswiththeconcept
“headway" (it defines headway to be the time or distance between two consecutive vehicles in a traffic
stream). Fromthesebehaviorchanges,itseemsthatLLMsaremorelikelytodistilltherightknowledge
when asked to provide detailed reasoning before giving the conclusion. This intuitively makes sense
with our understanding that LLMs generate their response based on text strings in an autoregressive
left-to-right manner. Asimilarexampleisshownasfollows(thecorrectanswerisFalse).
Reasoningmatters: Problem6.7fromTransportBench
Input: In a cumulative diagram for a traffic network, the horizontal separation between the
departure and the arrival curves gives the number of vehicles between the two observers. True
orFalse?
Claude3.5SonnetOpus: Toanswerthisquestionaccurately, let’sthinkthroughitstepbystep:
1) First, let’s ...7)Thehorizontal separation, on the other hand, does not directly represent the
numberofvehicles. Itrepresentsatimedifference. Giventhisanalysis, wecanconclude: False.
Claude3Opus: True. Inacumulativediagramforatrafficnetwork,theverticalaxisrepresents
the cumulative number of vehicles, while the horizontal axis represents time. The diagram
typicallyshowstwocurves: oneforthedepartureofvehiclesatanupstreamlocationandanother
for the arrival of those vehicles at a downstream location. The horizontal separation between
thesetwocurvesatanygivenpointintimerepresents thenumberofvehiclesthathavedeparted
the upstream location but have not yet arrived at the downstream location. In other words, it
showsthenumber ofvehicles that arecurrently traveling betweenthetwoobservation points at
thatspecifictime. Thisprinciple isusedintrafficflowanalysis tounderstand thedistribution of
vehiclesalongaroadsegmentandtoidentifypotential bottlenecks withinthenetwork.
Input(Modification1): Inacumulativediagramforatrafficnetwork,thehorizontalseparation
between the departure and the arrival curves gives the number of vehicles between the two
observers. TrueorFalse? Providedetailedreasoning beforegivingthefinalconclusion.
Claude3Opus: Todeterminewhetherthegivenstatementistrueorfalse,let’sfirstunderstand
whatacumulativediagram isandhowitrepresents trafficflow...Inconclusion, thegivenstate-
mentisfalse. Thehorizontalseparationbetweenthedepartureandarrivalcurvesinacumulative
diagram represents travel time, while the vertical separation represents the number of vehicles
betweenthetwoobservation points.
Input(Modification2): Inacumulativediagramforatrafficnetwork,thehorizontalseparation
between the departure and the arrival curves gives the number of vehicles between the two
observers. TrueorFalse? Explainyouranswer.
Claude3.5Sonnet: True. Letmeexplainwhythisstatementiscorrect...
TheaboveexampleagainhighlightsthepotentialimportantroleofLLMreasoningforgeneratingcorrect
final conclusions. While the prompt “provide detailed reasoning before giving the final conclusion" is
15not a universal fix to many LLM errors, the order of reasoning and conclusion generation sometimes
matters.
5.2. Correctfinalanswersmaycomefromflawedreasoning approaches
Thenextimportantobservation isthatLLMscanmakeunclear/flawedreasoningtogeneratecorrect
final conclusions for certain problems, giving illusions on their proficiency in transportation system
topics. WehaveseenthisissuewithsomeoftheexamplesinSection3. Thefollowingexampleprovides
aclearillustration forthis.
FlawedReasoningwithCorrectConclusion: Problem10.55fromTransportBench
Input: A bus line runs from 5 am to midnight. In each direction, the line has 40 stops and is
12 km long. The bus cruising speed is 30 km/h, and each stop imposes a delay of 15 seconds.
Theheadway is 10min during the rush hours (7am-9 am, and 3pm-7 pm), and 30min forthe
remainderoftheserviceperiod. WhatistheminimumfleetsizeMneededtorunthisroute?
Claude 3 Sonnet: Let’s approach this problem step by step: 1. Calculate the round-trip time:
- Distance: 12 km × 2 (round trip) = 24 km - Time at cruising speed: 24 km ÷ 30 km/h = 0.8
hours =48 minutes -Numberofstops: 40×2(round trip) =80stops -Totaldelay atstops: 80
× 15 seconds = 1200 seconds = 20 minutes - Total round-trip time: 48 + 20 = 68 minutes. 2.
Determine the number of buses needed during different periods: a) Rush hours (headway = 10
minutes): Busesneeded=Round-triptime÷Headway=68÷10=6.8,rounded upto7buses
b) Non-rush hours (headway = 30 minutes): Buses needed = 68 ÷ 30 = 2.27, rounded up to
3 buses. 3. Calculate the minimum fleet size: The minimum fleet size will be the maximum
number ofbuses needed atany time, which isduring rush hours. Therefore, the minimum fleet
sizeMneededtorunthisrouteis7buses.
Input(Modification 1): A bus line runs from 5amto midnight. In each direction, theline has
40 stops and is 15 km long. The bus cruising speed is 25 km/h, and each stop imposes a delay
of15seconds. Thedispatchheadwayfromaterminus(atoneendoftheroute)is10minduring
therushhours(7am-8am,and5pm-6pm),and30minfortheremainderoftheserviceperiod.
WhatistheminimumfleetsizeMneededtorunthisroute?
Claude 3 Sonnet: Let’s approach this problem step by step: 1. Calculate the total trip time:
Distance = 15 km, Cruising speed = 25 km/h, Travel time = 15 km ÷ 25 km/h = 0.6 hours =
36 minutes, Stop delay = 15 seconds × 40 stops = 600 seconds = 10 minutes. Total one-way
trip time =36 + 10 =46 minutes. 2. Calculate the round trip time: Round trip time =46 × 2=
92 minutes. 3. Determine the number of buses needed for different headways: For 10-minute
headway (rushhours): Busesneeded =Roundtriptime÷Headway=92/10 =9.2,Roundupto
10 buses. For30-minute headway (non-rush hours): Buses needed =92÷30=3.07, Round up
to 4 buses. 4. Determine the minimum fleet size: The minimum fleet size will be the larger of
thetwocalculated values, whichis10buses.
In the above example, we first test LLMs on Problem 10.55 from TransportBench. We can see that
Claude3.5SonnetisabletogetthecorrectanswerM = 7. However,uponreadingthereasoningbehind
the answer, we find it to be flawed since it simply computes the “steady-state" vehicle requirements in
peakandoff-peakperiodsseparately(andchoosesthelargervalue),butignoresthatsomeofthevehicles
dispatched in the off-peak period could later return from service and become available for use during
the period periods. Inother words, LLMsimplicitly assume intheir reasoning that rush hour service is
run from −∞ to ∞ time. Such a reasoning error is quite subtle and does not affect the final number
16of M = 7in the original problem, partly because the peak period duration is sufficiently long to offset
the impacts of returned vehicles from the off-peak period. When we modify the problem statement by
shortening the peak period durations, the fleet size requirement should decrease to M = 8 (instead of
10). This timeClaude 3.5Sonnet uses the same reasoning which eventually leads to the wrong answer.
Thisexamplehighlights thefactthatsometimesLLMscanonlyuseasimplisticreasoning pathwithout
fullyunderstanding thephysicsbehindthetransportation engineering problem.
Another example can be obtained by examining the general Q&A form of Problem 10.16 from
TransportBench.
TrueorFalsevs. GeneralQ&AVersions: Problem10.16fromTransportBench
Input(TrueorFalseForm): Theworst-casewaitingtimeofpassengerstravelinginatwo-level
hierarchicalcorridortransitsystem(withcommonheadwayH),whentheyhaveanappointment
atthedestination andknowtheschedule, is3H. TrueorFalse?
Claude3Sonnet: Toanswer this question, let’s think through it stepby step: 1) Inatwo-level
hierarchical corridor transit system, we typically have: - A main line (trunk line) - Secondary
lines(feederlines)thatconnecttothemainline. 2)ThecommonheadwayH meansthatalllines,
both mainandsecondary, have thesamefrequency ofservice. 3)Forapassenger toreach their
destination, theymight need to: -Waitforafeeder line -Travelon thefeeder line -Transfer to
themainline-Travelonthemainline. 4)Theworst-casescenariowouldinvolve: -Justmissing
afeederline(waitingalmostfullheadwayH)-Transferringtothemainline(potentiallywaiting
another full headway H). 5) However, since the passenger knows the schedule, they can time
theirarrivalatthefirststoptominimizewaitingtime. 6)Intheabsolute worstcase,apassenger
might: - Wait up to H for the feeder line - Just miss the connection to the main line, waiting
anotherH-Arriveattheirdestination, potentially waitinguptoHfortheirappointmenttime. 7)
Thisworst-casescenario addsuptoatotalwaitingtimeof3H.Therefore,thestatementisTrue.
Input (Q&A Form): Calculate the worst-case waiting time of passengers traveling in a two-
level hierarchical corridor transit system (with common headway H), when they have an ap-
pointmentatthedestination andknowtheschedule.
Claude3Sonnet: Tocalculatetheworst-casewaitingtimeinthisscenario,let’sbreakdownthe
problemstepbystep: 1)First,let’sconsiderwhatatwo-levelhierarchicalcorridortransitsystem
means: -Therearetwolevelsofservice: amainlineandfeederlines. -Passengersmayneedto
transfer fromafeeder linetothemainline. 2)Giveninformation: -Thesystem operates witha
commonheadwayH.-Passengersknowthescheduleandhaveanappointmentatthedestination.
3)Intheworst-case scenario: -Apassenger justmisses afeeder linevehicle. -Aftertaking the
feeder line, they just miss the main line vehicle. - They arrive at their destination just before
their appointment. 4)Worst-case waiting timecalculation: a)Wait forfeeder line: H b) Travel
time on feeder line: (Let’s call this T , but it doesn’t affect waiting time) c) Wait for mainline:
f
H d) Travel time on main line: (Let’s call this T , but it doesn’t affect waiting time) 5) Total
m
worst-case waiting time: W = H +H = 2H Therefore, the worst-case waiting time for
worst
passengers inthissystemis2H,whereH isthecommonheadway.
For the above example, Claude 3.5 Sonnet gives the wrong value 3H for the worst-case waiting time
whentheproblemisstatedasaTrueorFalseproblem. Thecorrectreasoningshowninstep5)isignored
insteps6)and7). Interestingly,ifwestatetheprobleminageneralQ&Aformanddirectlyaskforcalcu-
latingtheworst-casewaitingtime,Claude3.5Sonnetgivestherightanswer2H. However,acloserlook
17atitsreasoningshowsthattheseeminglycorrectansweractuallycomesfromtwosimultaneousmistakes:
assumingwaitingtimeH forthefeederline(whichshouldnotbeincludedbecausethepassengersknow
theschedule), andignoring thewaiting timeH fortheappointment (whichshould beincluded). Again,
thisdemonstrates thatsometimesLLMscanobtainfinalcorrectvalueswithflawedreasoning.
5.3. Simpledomain-specific promptscanimprovereasoning
Finally, we also notice that sometimes simple domain-specific prompts can notably improve LLM
reasoning. Forillustration, consider thefollowingproblem.
SimpleDomain-SpecificPrompts: Problem4.5fromTransportBench
Input: If the speed of a vehicle keeps increasing, the aerodynamic resistance will eventually
exceedtherollingresistance, becausetheaerodynamicresistancedependsonthevelocityofthe
vehiclewhiletherollingresistance doesnot. TrueorFalse?
Claude 3.5 Sonnet: To answer this question, let’s break down the key concepts and their rela-
tionships: 1. Aerodynamicresistance(drag): -Dependsonthevelocityofthevehicle-Typically
increases quadratically with velocity (proportional to v2) 2. Rolling resistance: - Primarily de-
pends ontheweightofthevehicle androadconditions -Generally does notdepend onvelocity
(orhasaveryweakdependence). Giventhesefacts,wecanconclude: True.
Input (Modified): If the speed of a vehicle keeps increasing, the aerodynamic resistance will
eventually exceed the rolling resistance, because the aerodynamic resistance depends on the
velocity ofthe vehicle whiletherolling resistance does not. TrueorFalse? Thinkabout rolling
resistance atdifferentspeedvalues.
Claude 3.5 Sonnet: Let’s think about this step-by-step: 1. Aerodynamic resistance: - Also
knownasairresistance ordrag-Increases withvelocity, typically proportional tothesquare of
velocity. 2. Rolling resistance: - Caused by the deformation of the wheel and the surface it’s
rolling on - Generally considered to be independent of velocity for low speeds - However, at
higherspeeds,rollingresistancedoesactuallyincrease. 3. Rollingresistanceatdifferentspeeds:
-Atlowspeeds,rollingresistanceisrelativelyconstant-Asspeedincreases,severalfactorscause
rolling resistance to increase: a. Hysteresis in the tire material increases b. Centrifugal forces
cause tire deformation c. Vibrations in the tire structure increase. 4. Relationship between the
tworesistances: -Atlowspeeds,rollingresistanceistypicallythedominantforce-Asspeedin-
creases, aerodynamic resistance increases morerapidly (proportional tov2)-Rollingresistance
also increases with speed, but not as dramatically as aerodynamic resistance 5. Conclusion:
Whileit’struethataerodynamic resistance willeventually exceedrolling resistance asspeed in-
creases,thestatementasgivenisnotentirelyaccurate. It’sincorrecttosaythatrollingresistance
does not depend onvelocity. Itdoes, just not asstrongly asaerodynamic resistance. Therefore,
the statement is False. A more accurate statement would be: “If the speed of a vehicle keeps
increasing, theaerodynamicresistancewilleventuallyexceedtherollingresistance, becausethe
aerodynamicresistanceincreasesmorerapidlywithvelocitycomparedtotherollingresistance."
Intheaboveexample,theproblemstatementisintheformof"Aistrue,becauseBandCaretrue."Both
A and B are true, but C is not — i.e., the rolling resistance does increase with the velocity: it remains
almost constant only “within a range of small speeds," but for higher speeds, it grows as the speed
increases. Claude3.5Sonnetfailsincatching thisreasoning errorinthe“because" statement andstated
that the rolling resistance is relatively independent of vehicle. It appears that the LLM either jumps to
18the wrong conclusion simply because “A" is true, or it does not recognize the right condition for “C"
to hold. Interestingly, once we give a simple domain-specific prompt “think about rolling resistance at
different speed values," Claude 3.5Sonnet gives the correct answer under the reason that itis incorrect
tosaythatrolling resistance doesnotdependonvelocity. Belowisanotherrelevantexample.
SimpleDomain-SpecificPrompts: Problem6.13fromTransportBench
Input: Consideratwo-lanehighwaywithstationarytraffic. Therearetwotypesofvehicles,cars
and trucks, each occupying one lane. Cars travel with constant speed v and the time headway
c
between anytwoconsecutive cars is h . Trucks travel withconstant speed v , and theheadway
c t
betweenanytwoconsecutive trucksish .
t
a. Whatisthetotaldensity (regardingallvehicles)onthishighway?
b. Whatisthespace-mean speed?
Claude3.5Sonnet: Let’sapproachthisproblemstepbystep. We’llstartbydefiningsometerms
andthensolveeachpartofthequestion. Definitions: -Density(k): Thenumberofvehicles per
unit length of the roadway. - Space-mean speed (v ): The harmonic mean of the speeds of
s
vehicles passing apoint ontheroadway. Let’ssolveeach part: a. Totaldensity onthehighway:
Tofindthetotaldensity, weneedtocalculatethedensityforcarsandtrucksseparately andthen
addthemtogether. Forcars: -Densityofcars(k ) = 1/(v ∗h ). Fortrucks: -Densityoftrucks
c c c
(k ) = 1/(v ∗h ). Total density (k) = k +k = 1/(v ∗h )+1/(v ∗h ). b. Space-mean
t t t c t c c t t
speed: Thespace-meanspeediscalculatedusingtheharmonicmeanofthespeeds, weightedby
theproportion ofvehicles ofeachtype. Let’sdefine: -f : Fraction ofcars= k /(k +k )-f :
c c c t t
Fractionoftrucks= k /(k +k ). Space-meanspeed(v )= 1/(f /v +f /v ). Substitutingthe
t c t s c c t t
fractions: v = 1/((k /(k +k ))/v +(k /(k +k ))/v ). Simplifying: v = (k +k )/(k /v +
s c c t c t c t t s c t c c
k /v ). Substituting the density expressions: v = (1/(v ∗h )+1/(v ∗h ))/(1/(v2 ∗h )+
t t s c c t t c c
1/(v2 ∗h )). To summarize: a. Total density: k = 1/(v ∗h )+1/(v ∗h ) b. Space-mean
t t c c t t
speed: v = (1/(v ∗h )+1/(v ∗h ))/(1/(v2 ∗h )+1/(v2 ∗h ))
s c c t t c c t t
Input(Modified): Consider atwo-lane highway withstationary traffic. There are twotypes of
vehicles, cars and trucks, each occupying one lane. Cars travel with constant speed v and the
c
timeheadwaybetweenanytwoconsecutivecarsish . Truckstravelwithconstantspeedv ,and
c t
theheadwaybetweenanytwoconsecutive trucksish .
t
a. Whatisthetotaldensity (regardingallvehicles)onthishighway?
b. What is the space-mean speed? (Notice that space-mean speed is the arithmetic mean of
vehiclespeedsmeasuredfromanaerialphoto.)
Claude 3.5 Sonnet: Let’s approach this problem step by step: 1) First, let’s define some
variables: k = density of cars k = density of trucks k = total density of vehicles 2) Now,
c t
let’s solve each part: a) To find the total density: - For cars: Density = 1 / (speed * head-
way) k = 1/(v ∗ h ) - For trucks: k = 1/(v ∗ h ) - Total density is the sum of these:
c c c t t t
k = k +k =1/(v ∗h )+1/(v ∗h )b)Tofindthespace-meanspeed: Thespace-meanspeed
c t c c t t
(v )isgiven by: v = q Where q isthe flowrateand k is thetotal density. -Flowrate forcars:
s s k
q = k ∗v = v /(v ∗h ) = 1/h -Flowratefortrucks: q = k ∗v = v /(v ∗h ) = 1/h
c c c c c c c t t t t t t t
- Total flow rate: q = q + q = 1/h + 1/h . Now we can calculate the space-mean speed:
c t c t
v = q = 1/hc+1/ht = vc∗vt∗(hc+ht). Therefore, thefinalanswersare: a)Totaldensity:
s k 1/(vc∗hc)+1/(vt∗ht) vt∗ht+vc∗hc
k = 1/(v ∗h )+1/(v ∗h )b)Space-meanspeed: v =
vc∗vt∗(hc+ht).
c c t t s vt∗ht+vc∗hc
19Fortheaboveexample,Claude3.5Sonnetcancomputethetotalvehicledensityforatwo-lanehighway,
butreasonsincorrectly tocomputethespace-mean speed. Inallofourtrials,itrepeatedlystatesthatthe
space-meanspeedis“theharmonicmeanoftheindividualspeeds,weightedbytheproportionofvehicles
of each type." And then it uses the densities of the two vehicle types as the weights. This is wrong,
however,sinceharmonicmeanshallbeusedonlywhenspeedsareweightedbytheflowofeithervehicle
type (as if speed samples are collected by a roadside observer); while arithmetic mean should be used
directly when speeds are weighted by density (as if speed samples are collected from an aerial video).
ThisexampleshowsthatClaude3.5Sonnet hasnotfully understood thesubtle connection between the
space-meanspeedformulaandthewayspeedsamplesarecollected. Inlightofthisobservation,wetryto
givethedomain-specific prompt“space-mean speed isthearithmetic meanofvehicle speeds measured
from an aerial photo." Then, Claude 3.5 Sonnet is able to avoid the “harmonic mean" + “weighted by
density"trap,andcomeupthecorrectreasoning.
From the above examples, we can see that simple domain-specific prompts may be quite useful
in helping LLMs improve their reasoning in the domain of transportation engineering. An interesting
future research direction isto design systematic principled prompts for bigger classes of transportation
engineering problems.
6. ConclusionandFutureWork
Inthispaper,weintroducetheTransportBench datasetforthepurposeofbenchmarking thecapabil-
ities of leading LLMs in solving undergraduate-level transportation engineering problems. Our bench-
mark study highlights Claude 3.5 Sonnet as the most proficient model in this domain. Our findings
demonstrate the strong potential and promise of using leading LLMs to revolutionize problem solving
in the field of transportation engineering. In particular, it appears that current LLMs are quite capable
ofmemorizing facts andtechnical definitions, connecting related concepts, andintegrating simple sym-
bolic derivations into basic logical reasoning — as a result, they perform relatively well on True/False
problemsandsomeofthesimplergeneralQ&Aproblems. However,carefulassessmentsbydomainex-
pertshavealsoilluminatedthelimitationsoftheseLLMs,particularlynotingthenecessityforimproved
reasoning and explanatory capabilities before they can be used for practical problems in real-world ap-
plications. Oncetheproblems require moredetailed analysis oftheunderlying physical processes (e.g.,
the bus fleet size problem 10.55), or when they require a deeper understanding of subtle concepts or
statements (e.g., the space-mean speed problem 6.13(b), or the rolling resistance problem 4.5), LLMs
seemtofacenotable difficulties.
Looking ahead, we feel that future research on LLM applications in transportation engineering
should focus on (i) enhanced pre-training, finetuning, and evaluations with expanded transportation
systems problem datasets, especially with more general Q&Aproblems in additional subject areas and
at more advanced (senior or graduate) levels; (ii) systematic study of domain-specific prompting and
in-context learning for solving more complex transportation engineering tasks, possibly by holistically
categorizing basic solution steps or approaches for various transportation problems and passing those
high-levelinformationtoLLMs;(iii)developingreliableLLMagentswithstrongtool-useabilitiessuch
as leveraging external coding tools or specialized modeling or simulation platforms for sub-domains
like geometric design, network analysis, traffic management, and demand modeling; (iv) improving
LLMreasoningfortransportation engineeringviadevelopmentandintegrationofadvancedsearchalgo-
rithms (e.g.,Tree-of-Thoughts (Yaoetal., 2024), Reasoning-via-Planning (Haoetal.,2023), etc.) with
domain knowledge; and (v) exploring the potential use of LLMsin interdisciplinary areas that connect
transportation engineering toother related domains such asurban and regional planning, other civil en-
gineering subfields3 (e.g., hydrology, construction), and other engineering disciplines (e.g., mechanical
engineering, electrical engineering, computer science), and broadly, other sciences (e.g., social science,
3Forinstance,LLMshavealreadybeenrecentlyusedinareassuchaswaterengineering(Xuetal.,2024).
20climatology). Byadvancingresearchinthesedirections, wecanfurtherharnessAI’scapabilitiestohelp
humanexperts transform thefuture transportation engineering, ultimately leading tosmarter, safer, and
moresustainable transportation systems.
References
JoshAchiam,StevenAdler,SandhiniAgarwal,LamaAhmad,IlgeAkkaya,FlorenciaLeoniAleman,DiogoAlmeida,Janko
Altenschmidt,SamAltman,ShyamalAnadkat,etal. Gpt-4technicalreport. arXivpreprintarXiv:2303.08774,2023.
AI@Meta.Llama3modelcard.2024a.URLhttps://github.com/meta-llama/llama3/blob/main/MODEL_CARD.md.
AI@Meta. Introducing Llama 3.1: Our most capable models to date. 2024b. URL
https://ai.meta.com/blog/meta-llama-3-1/.
Anthropic. Claude 3 haiku: our fastest model yet. 2024a. Available at:
https://www.anthropic.com/news/claude-3-haiku.
Anthropic.Introducingclaude3.5sonnet.2024b.Availableat:https://www.anthropic.com/news/claude-3-5-sonnet.
ZhangirAzerbayev,HaileySchoelkopf,KeiranPaster,MarcoDosSantos,StephenMcAleer,AlbertQJiang,JiaDeng,Stella
Biderman,andSeanWelleck.Llemma:Anopenlanguagemodelformathematics. arXivpreprintarXiv:2310.10631,2023.
AbebaBirhane,AtoosaKasirzadeh,DavidLeslie,andSandraWachter. Scienceintheageoflargelanguagemodels. Nature
ReviewsPhysics,5(5):277–280,2023.
EnnioCascetta. Transportationsystemsanalysis: modelsandapplications,volume29. SpringerScience&BusinessMedia,
2009.
Qiyuan Chen and Cheng Deng. Bioinfo-bench: A simple benchmark framework for llm bioinformatics skills evaluation.
bioRxiv,pages2023–10,2023.
RobertChew,JohnBollenbacher,MichaelWenger,JessicaSpeer,andAnniceKim.Llm-assistedcontentanalysis:Usinglarge
languagemodelstosupportdeductivecoding. arXivpreprintarXiv:2306.14924,2023.
Can Cui, Yunsheng Ma, Xu Cao, Wenqian Ye, and Ziran Wang. Receive, reason, and react: Drive as you say, with large
languagemodelsinautonomousvehicles. IEEEIntelligentTransportationSystemsMagazine,2024.
GautierDagan,FrankKeller,andAlexLascarides. Dynamicplanningwithallm. arXivpreprintarXiv:2308.06391,2023.
CarlosFDaganzo. Fundamentalsoftransportationandtrafficoperations. EmeraldGroupPublishingLimited,1997.
CarlosFDaganzoandYanfengOuyang. PublicTransportationSystems: PrinciplesofSystemDesign,OperationsPlanning
andReal-TimeControl. WorldScientific,2019.
Jon D Fricker and Robert K Whitford. Fundamentals of transportation engineering. A Multimodal Systems Approach. Inc.
UpperSaddleRiver,NewJersey,USA,2004.
SimonFrieder,LucaPinchetti,Ryan-RhysGriffiths,TommasoSalvatori,ThomasLukasiewicz, PhilippPetersen,andJulius
Berner. MathematicalcapabilitiesofChatGPT. AdvancesinNeuralInformationProcessingSystems,36,2024.
ShiboHao,YiGu,HaodiMa,JoshuaJiahuaHong,ZhenWang,DaisyZheWang,andZhitingHu. Reasoningwithlanguage
modelisplanningwithworldmodel. arXiv:2305.14992,2023.
Alex Havrilla, Sharath Raparthy, Christoforus Nalmpantis, Jane Dwivedi-Yu, Maksym Zhuravinskyi, Eric Hambro, and
RobertaRailneau. Glore:When,where,andhowtoimprovellmreasoningviaglobalandlocalrefinements. arXivpreprint
arXiv:2402.10963,2024.
JoyHe-Yueya,GabrielPoesia,RoseEWang,andNoahDGoodman. Solvingmathwordproblemsbycombininglanguage
modelswithsymbolicsolvers. arXivpreprintarXiv:2304.09102,2023.
EdwardJHu,YelongShen,PhillipWallis,ZeyuanAllen-Zhu,YuanzhiLi,SheanWang,LuWang,andWeizhuChen. Lora:
Low-rankadaptationoflargelanguagemodels. InInternationalConferenceonLearningRepresentations,2022.
JiaxinHuang,ShixiangShaneGu,LeHou,YuexinWu,XuezhiWang,HongkunYu,andJiaweiHan. Largelanguagemodels
canself-improve. arXiv:2210.11610,2022.
Jie Huang and Kevin Chen-Chuan Chang. Towards reasoning in large language models: A survey. arXiv preprint
arXiv:2212.10403,2022.
ShimaImani,LiangDu,andHarshShrivastava. Mathprompter: Mathematicalreasoningusinglargelanguagemodels. arXiv
preprintarXiv:2303.05398,2023.
DarioushKevian, UsmanSyed, XingangGuo, AaronHavens, GeirDullerud, PeterSeiler,LianhuiQin, andBinHu. Capa-
bilitiesoflargelanguagemodelsincontrolengineering: Abenchmarkstudyongpt-4,claude3opus,andgemini1.0ultra.
arXivpreprintarXiv:2404.03647,2024.
RuhulAminKhalil,ZiadSafelnasr,NaodYemane,MebrukKedir,AtawulrahmanShafiqurrahman,andNasirSaeed.Advanced
learning technologies for intelligent transportation systems: Prospectsand challenges. IEEEOpen Journal of Vehicular
Technology,2024.
TakeshiKojima,ShixiangShaneGu,MachelReid,YutakaMatsuo,andYusukeIwasawa.Largelanguagemodelsarezero-shot
reasoners. Advancesinneuralinformationprocessingsystems,35:22199–22213,2022.
XunLiang, ShichaoSong, ZifanZheng, HanyuWang, QingchenYu, Xunkai Li,Rong-HuaLi,FeiyuXiong, andZhiyuLi.
Internalconsistencyandself-feedbackinlargelanguagemodels:Asurvey. arXivpreprintarXiv:2407.14507,2024.
StephenMacNeil,AndrewTran,DanMogil, SethBernstein,ErinRoss, andZihengHuang. Generatingdiversecodeexpla-
21nationsusingthegpt-3largelanguagemodel. InProceedingsofthe2022ACMConferenceonInternational Computing
EducationResearch-Volume2,pages37–39,2022.
Maroa Mumtarin, Md SamiullahChowdhury, and Jonathan Wood. Largelanguage models in analyzing crash narratives–a
comparativestudyofchatgpt,bardandgpt-4. arXivpreprintarXiv:2308.13563,2023.
Daye Nam, Andrew Macvean, Vincent Hellendoorn, Bogdan Vasilescu, and Brad Myers. Using an llm to help with code
understanding. In2024IEEE/ACM46thInternationalConferenceonSoftwareEngineering(ICSE),pages881–881.IEEE
ComputerSociety,2024.
MariannaNezhurina,LuciaCipolina-Kun,MehdiCherti,andJeniaJitsev. Aliceinwonderland: Simpletasksshowingcom-
pletereasoningbreakdowninstate-of-the-artlargelanguagemodels. arXivpreprintarXiv:2406.02061,2024.
ErikNijkamp,BoPang,HiroakiHayashi,LifuTu,HuanWang,YingboZhou,SilvioSavarese,andCaimingXiong. Codegen:
Anopenlargelanguagemodelforcodewithmulti-turnprogramsynthesis. arXivpreprintarXiv:2203.13474,2022.
OpenAI. Introducing gpt-4o and more tools to chatgpt free users. 2024. Available at:
https://openai.com/index/gpt-4o-and-more-tools-to-chatgpt-free/.
SiruOuyang,ZhuoshengZhang,BingYan,XuanLiu,JiaweiHan,andLianhuiQin.Structuredchemistryreasoningwithlarge
languagemodels. arXivpreprintarXiv:2311.09656,2023.
MohamedRShoaib,HebaMEmara,andJunZhao. Asurveyontheapplicationsoffrontierai,foundationmodels,andlarge
language models tointelligenttransportation systems. In2023 International Conference on Computerand Applications
(ICCA),pages1–7,2023.
Chan Hee Song, Jiaman Wu, Clayton Washington, Brian M Sadler, Wei-Lun Chao, and Yu Su. Llm-planner: Few-shot
groundedplanningforembodiedagentswithlargelanguagemodels. InProceedingsoftheIEEE/CVFInternationalCon-
ferenceonComputerVision,pages2998–3009,2023.
JiankaiSun,ChuanyangZheng,EnzeXie,ZhengyingLiu,RuihangChu,JianingQiu,JiaqiXu,MingyuDing,HongyangLi,
MengzheGeng,etal. Asurveyofreasoningwithfoundationmodels. arXiv:2312.11562,2023.
GeminiTeam,RohanAnil,SebastianBorgeaud,YonghuiWu,Jean-BaptisteAlayrac,JiahuiYu,RaduSoricut,JohanSchalk-
wyk, Andrew M Dai, Anja Hauth, et al. Gemini: a family of highly capable multimodal models. arXiv preprint
arXiv:2312.11805,2023.
GeminiTeam,PetkoGeorgiev,VingIanLei,RyanBurnell,LibinBai,AnmolGulati,etal.Gemini1.5:Unlockingmultimodal
understandingacrossmillionsoftokensofcontext,2024. URLhttps://arxiv.org/abs/2403.05530.
TransResBoard. HighwayCapacityManual. TransportationResearchBoard,NationalResearchCouncil,Washington,D.C.,
2000.
KarthikValmeekam,AlbertoOlmo,SarathSreedharan,andSubbaraoKambhampati. Largelanguagemodelsstillcan’tplan
(abenchmarkforllmsonplanningandreasoningaboutchange). arXivpreprintarXiv:2206.10498,2022.
KarthikValmeekam, MatthewMarquez, SarathSreedharan, andSubbaraoKambhampati. Ontheplanningabilitiesoflarge
languagemodels-acriticalinvestigation. AdvancesinNeuralInformationProcessingSystems,36,2024.
Xiaoxuan Wang, Ziniu Hu, Pan Lu, Yanqiao Zhu, Jieyu Zhang, Satyen Subramaniam, Arjun R Loomba, Shichang Zhang,
Yizhou Sun, and Wei Wang. Scibench: Evaluating college-level scientific problem-solving abilities of large language
models. arXiv:2307.10635,2023.
Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi, Sharan Narang, Aakanksha Chowdhery, and Denny Zhou.
Self-consistencyimproveschainofthoughtreasoninginlanguagemodels. arXivpreprintarXiv:2203.11171,2022.
JasonWei,MaartenBosma,VincentZhao,KelvinGuu,AdamsWeiYu,BrianLester,NanDu,AndrewMDai,andQuocV
Le. Finetunedlanguagemodelsarezero-shotlearners. InInternationalConferenceonLearningRepresentations,2022a.
Jason Wei, Xuezhi Wang, DaleSchuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al. Chain-of-
thought prompting elicits reasoning in large language models. Advances in neural information processing systems, 35:
24824–24837,2022b.
BoyanXu,LiangWen,ZihaoLi,YuxingYang,GuanlanWu,XiongpengTang,YuLi,ZihaoWu,QingxianSu,XueqingShi,
etal. Unlocking thepotential: Benchmarking largelanguage modelsinwater engineering and research. arXivpreprint
arXiv:2407.21045,2024.
FrankFXu,UriAlon,GrahamNeubig,andVincentJosuaHellendoorn. Asystematicevaluationoflargelanguagemodelsof
code. InProceedingsofthe6thACMSIGPLANInternationalSymposiumonMachineProgramming,pages1–10,2022.
Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Tom Griffiths, Yuan Cao, and Karthik Narasimhan. Tree of thoughts:
Deliberateproblemsolvingwithlargelanguagemodels. AdvancesinNeuralInformationProcessingSystems,36,2024.
WillYeadonandTomHardy. Theimpactofaiinphysicseducation: acomprehensivereviewfromgcsetouniversitylevels.
PhysicsEducation,59(2):025010,2024.
Renrui Zhang, Dongzhi Jiang, Yichi Zhang, Haokun Lin, ZiyuGuo, Pengshuo Qiu, Aojun Zhou, PanLu, Kai-WeiChang,
PengGao,etal. Mathverse: Doesyourmulti-modalllmtrulyseethediagramsinvisualmathproblems? arXivpreprint
arXiv:2403.14624,2024a.
Siyao Zhang, Daocheng Fu, Wenzhe Liang, Zhao Zhang, Bin Yu, Pinlong Cai, and Baozhen Yao. Trafficgpt: Viewing,
processingandinteractingwithtrafficfoundationmodels. TransportPolicy,150:95–105,2024b.
ZijianZhang,YujieSun,ZepuWang,YuqiNie,XiaoboMa,PengSun,andRuolinLi. Largelanguagemodelsformobilityin
transportationsystems:Asurveyonforecastingtasks. arXivpreprintarXiv:2405.02357,2024c.
ZiruiZhao,WeeSunLee,andDavidHsu. Largelanguagemodelsascommonsenseknowledgeforlarge-scaletaskplanning.
AdvancesinNeuralInformationProcessingSystems,36,2024.
22Ou Zheng, Mohamed Abdel-Aty, Dongdong Wang, Chenzhu Wang, and Shengxuan Ding. Trafficsafetygpt: Tuning a pre-
trainedlargelanguagemodeltoadomain-specificexpertintransportationsafety. arXivpreprintarXiv:2307.15311,2023a.
OuZheng,MohamedAbdel-Aty,DongdongWang,ZijinWang,andShengxuanDing.Chatgptisonthehorizon:Couldalarge
languagemodelbeallweneedforintelligenttransportation? arXivpreprintarXiv:2303.05382,2023b.
Denny Zhou, Nathanael Schärli, Le Hou, Jason Wei, Nathan Scales, Xuezhi Wang, Dale Schuurmans, Claire Cui, Olivier
Bousquet,QuocLe,etal. Least-to-mostpromptingenablescomplexreasoninginlargelanguagemodels. arXivpreprint
arXiv:2205.10625,2022.
23