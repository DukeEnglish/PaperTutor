Re-evaluation of Face Anti-spoofing Algorithm in Post COVID-19 Era Using
Mask Based Occlusion Attack
VaibhavSundharam AbhijitSarkar
VirginiaPolytechnicInstituteandStateUniversity VirginiaTechTransportationInstitute
vaibhavsundharam@vt.edu ASarkar1@vt.edu
A.LynnAbbott
VirginiaPolytechnicInstituteandStateUniversity
abbott@vt.edu
Abstract 1.Introduction
Face recognition systems are widely used today in
Face anti-spoofing algorithms play a pivotal role in mobile devices, computers, and home and office security
the robust deployment of face recognition systems against systems for biometric identification and authentication.
presentation attacks. Conventionally, full facial images With growing popularity, especially due to their ease
are required by such systems to correctly authenticate of use, different enterprises are working towards the
individuals, but the widespread requirement of masks implementation of such systems in diverse applications.
due to the current COVID-19 pandemic has introduced Theseincludebanking,smartlock,surveillance,andaccess
newchallengesforthesebiometricauthenticationsystems. control. Although face recognition systems have reached
Hence, in this work, we investigate the performance highlevelsofaccuracyinrecognizingindividuals[1],many
of presentation attack detection (PAD) algorithms under of these algorithms are susceptible to presentation attacks.
synthetic facial occlusions using masks and glasses. We By simply presenting a printed photograph or a video
have used five variants of masks to cover the lower part clip of a bonafide individual, an imposter could fool the
of the face with varying coverage areas (low-coverage, face recognition algorithm and gain unauthorized access.
medium-coverage,high-coverage,roundcoverage),and3D Someofthemostcommonpresentationattacksareprintor
cues. We have also used different variants of glasses photoattacks,videoorreplayattacks,and3Dmaskattacks
that cover the upper part of the face. We systematically [2, 3, 4]. In a print attack, a photograph of a bonafide
tested the performance of four PAD algorithms under individual is presented to the input device (e.g. webcam,
these occlusion attacks using a benchmark dataset. front camera of mobile devices). In the replay attack, a
We have specifically looked at four different baseline video clip of a bonafide person is presented . For a 3D
PAD algorithms that focus on, texture, image quality, attack, a subject-specific 3D face mask is presented to the
frame difference/motion, and abstract features through a inputdevice.
convolutionalneuralnetwork(CNN).Additionallywehave
All these Presentation attack instrument (PAI) that are
introduced a new hybrid model that uses CNN and local
used in presentation attacks [5], generate artifacts. The
binarypatterntextures. Ourexperimentshowsthatadding
goalofmostofthelegacyfaceanti-spoofingalgorithmsis
theocclusionssignificantlydegradestheperformanceofall
to identify these artifacts PAIs. This may include, change
ofthePADalgorithms.Ourresultsshowthevulnerabilityof
in texture pattern between the real image and the attacked
faceanti-spoofingalgorithmswithocclusions,whichcould
images, quality degradation during sample recapture [2,
beintheusageofthealgorithmsinthecomingera1.
3, 6], and lack of 3D cues. Therefore, the standard
practice to develop such anti-spoofing algorithms was to
first extract features that can capture such discrepancies
and then run a binary classifier to train a model. Over
the years, Local Binary Patterns (LBP) was widely used
1Note:Thisworkwasdonein2020.Hencetheworkreflectsworkuntil [7,2,8]toperformtexture-basedanomalydetection. Other
thatpoint. notablePADalgorithmsleveragecolor[9],motion[10],or
4202
guA
32
]VC.sc[
1v15231.8042:viXrabiometric algorithms, including face recognition and face
anti-spoofingalgorithms,developedusingthosebenchmark
data are under a scanner. Recently, the work of Ngan et
al.[21]hasdemonstratedthattheadditionofmaskstoface
images significantly affect the performance of pre-COVID
face recognition algorithms. They observed a significant
increase in the False Rejection Rate (FRR) by 20%-50%
on state of the art face recognition algorithms which are
tested with mask occlusions. Their experiments shows
increase in False Acceptance Rate (FAR) in most of the
face recognition algorithms. Their work clearly shows the
vulnerabilityofpre-COVIDfacerecognitionalgorithms.
Figure 1: Example of spoof attacks with mask occlusions. Duetosimilarresearchpracticeinthefaceanti-spoofing
Firstrowdepictspresentationattackimagesandsecondrow oralternativelyPADalgorithmsinthebiometricliteratureit
depictsocclusionattacksbydifferentkindsofmasks. becomesimperativetoperformasimilarsetofexperiments
on these algorithms and re-evaluate their performance in
the wake of this pandemic. Motivated by this, we analyze
subject’s liveness [11] to generate distinctive features for the performance of PAD algorithms in the presence of
PAD algorithms. In recent years, due to the popularity occlusions, that covers different part of the face. We
andsuccessofconvolutionneuralnetworks(CNNs),several have used the mask occlusion, effecting the lower part
PAD algorithms based on CNNs have been proposed [12, of the face, with four different coverage areas (low-
13, 14, 15]. Apart from raw RGB images, some coverage, medium coverage, large coverage, round shaped
researchers have proposed auxiliary supervision, such has coverage), and different level of 3D cues (different in
depth maps [16], rPPG signals [6], pixel-wise binary shades, patterns,and albedo). We have also used different
supervision [17], or a combination of these, to boost the glasses that partially occludes the upper part of the face
performance of the CNN based PAD algorithms and make includingeyes. Examplesofspoofattackswithocclusions
them generalize well. The biggest advantage of a CNN are shown in Figure 1. The first row depicts the images
basedPADalgorithmisthatitdoesnotrequirehandcrafted of presentation attacks whereas the second row depicts
featuresascomparedtopreviousPADalgorithms. Instead, occlusionsappliedtothepresentationattackimages.
featuresarelearnedthroughtrainingataskspecificend-to- We have specifically focused on four different PAD
endCNN. algorithms that were developed based on texture, frame
Now,thedecisionofanyalgorithmsdependsonspecific difference, image quality, and CNN features. We used
image properties that can be retrieved from an image. images and videos from two benchmark datasets, Replay-
Occlusion often plays pivotal role in obscuring some of Attack [2] and OULU-NPU [4], and applied synthetic
the key image features. Zeiler et al [18] has shown that occlusion attacks. In the process, we investigate the
occlusion to a particular part of an object can effect its following:
final classification decision of a network. Even a single
• How the PAD algorithms perform in the presence of
pixeladversarialattackcanfoolaCNN[19]. Priorresearch
differentocclusionattack?
work on occlusion in biometric shows that blocking areas
inthefacedegradesperformanceofPADalgorithms[8]. A
• Doestheamountofthefaceocclusionhaveanimpact
mask or a sun-glass occludes part of the face, hence some
ontheperformanceofthePADalgorithm?
informationislost. Howthatlossofinformationaffectsthe
decisionboundaryofaclassifierisunknown. • Is there any performance difference if masks having
3Dcuesareusedinsteadofaflat2Dmaskocclusion?
1.1.Facebiometricalgorithmsinpostpandemicera
• How PAD algorithms based on hand crafted feature
The coronavirus disease (COVID-19) caused by the such as texture, frame difference, image quality
SARS-CoV-2 virus [20] has put the world in a state of performsincomparisontoCNNbasedPADmodel?
emergency. Governments across the globe have mandated
the use of protective face masks in public places. As The paper is organized as follows. Section (2) presents
most of the benchmark dataset for face recognition and the literature survey of various PAD algorithms used in
face anti-spoofing algorithms do not use occluded face face anti-spoofing along with popular techniques used to
databases in their training, questions are raised in their develop such algorithms. In section (3), we go over the
viability in post pandemic era. As a result, any face experimental set-up, detailing how the occlusion attackswere synthesized, here we introduced the hybrid methods temporal changes in the sample. For example, in [31],
that we developed in order to bridge the gap between the authors have used the blinking pattern of eyes in humans
traditional and CNN methods. In section (4), where we to detect liveliness. Their model is based on the fact
discuss the results of the occlusion attack on the baseline that humans, on average, blink at least once every two-
PAD systems. Finally, in section (5), we present the to-four seconds. Additionally, features such as optical
conclusion as well as possible future work. To the best flow [32, 33] and motion magnification [34, 28] are also
of our knowledge, this is the first work that evaluates pre- usedtoperformfaceanti-spoofing. Thoughthesemethods
COVIDPADalgorithmswithmaskocclusionattack. areeffectiveindetectingprintattacks,theirperformanceis
hamperedwhenthealgorithmisexposedtoreplayattacks.
2.LiteratureSurvey With the advent of deep learning, researchers have started
looking into a fusion of CNNs and temporal features. For
In this section, we first discuss different PAD methods
example, in [35], neural networks were used with optical
commonlyused,followedbyabriefoverviewofocclusion
flow maps to perform binary classification. An LSTM-
attack,includingmask-basedattacksinbiometricliterature.
CNN architecture is deployed in [36], which leverages the
Broadly speaking, most of the PAD algorithms can be
temporal information for PAD detection. Additionally, in
segregated into two categories, i.e. appearance-based, and
Liu et al. [6], authors have used a CNN-RNN architecture
temporal-basedmethods.
that learns to estimate the face depth and rPPG signals for
2.1.Appearance-basedmethods facePADdetection.
Print and video attacks tend to leave some artifacts on 3.Experiment
the image that may trigger a PAD algorithm. Much of
the prior research in this field exploits this fact for spoof In the following section, we discuss in detail the
detection. The use of handcrafted features such as Local databases, synthetic occlusion attacks, and baseline
Binary Pattern (LBP) [2, 7], LBP-Lacunarity [8], color algorithmsusedinthispaper.
space [9], image distortion [22], and image quality [23]
3.1.Databases
alongwithtraditionalclassificationalgorithmslikeSupport
VectorMachines(SVM)andLinearDiscriminantAnalysis In our experiments, we have used two benchmark
(LDA) are extensively studied and documented. With the databases, namely Replay-Attack [2] and the OULU-
success of neural networks, especially in computer vision NPU [4]. These databases consist of a wide variety of
problems, there have been a lot of efforts in developing ground truth videos of bonafide and imposters, trying to
CNN based feature extractors [13, 15, 24, 25]. Moreover, access an authenticating system (mobile device, laptop).
toimprovetheperformanceofsuchalgorithms,researchers Thedatasetsarerecordedundervariouslightingconditions
havestartedintroducingauxiliarysupervisionmethodssuch and background scenes. We chose the Replay-Attack
as depth maps, rPPG signals, binary supervision, infrared, database as many of the legacy face PAD algorithms have
etc. with CNNs. For example, in [16], a two-stream used it to evaluate their performance. OULU-NPU, on
CNNarchitectureisproposed,wherethefirstCNNstream the other hand, is a more recent dataset that is gaining
extracts local features from the image, while the other is popularityamongbiometricresearchersprimarilyduetothe
used to estimate depth maps. A fusion of CNN and LBP inclusionofreal-worldvariationsinthedatasamples. Most
is proposed in [26], where convolution feature maps are oftheCNNbasedalgorithmsusethisdatasettodemonstrate
used to extract color LBP patterns. The extracted features theirgeneralizationcapability.
are used with SVM classifier to differentiate real and fake The Replay-Attack database consists of 1300, 720p
faces. In[17],authorshaveusedpre-trainedDenseNet[27] high-definition video clips of presentation attacks, such as
architecture along with pixel-wise supervision to generate print attack and video attack. There are a total of 50
presentation attack scores for every frame of the attack subjectsthattrytoaccessalaptopeitherthroughabuilt-in
video. In George et al. [15], authors have used multiple webcamdirectlyorbydisplayingaphotoofthemselvesor
channels such as color, depth, and infrared to design a bypresentingashortvideoclipofthemselvestothecamera.
robustPADalgorithmfordetecting2Dand3Dpresentation Eachofthetraininganddevelopmentsetconsistof60real-
attacks. accessand300imposter-accessvideos,whereasthetestset
consists of 80 real-access and 400 imposter-access videos.
2.2.Temporal-basedmethods
TheOULU-NPUdatasetisa1080phigh-definitiondataset
Temporal methods [10, 28, 29, 30] based on eye with990bonafideand3960attackvideos. Itincludesboth
blinking,mouth,andlipmovementwereoneoftheearliest printandvideoattacks. Thefrontcameraofmobiledevices
approaches used to detect print attacks. These methods such as Samsung Galaxy S6 Edge, HTC, etc. was used
usually depend upon a sequence of images to detect to capture the video clips. Additionally, it consists of fourFigure 3: Figure depicting various 2D mask occlusions
applied to the Replay-Attack dataset [2] and OULU-NPU
dataset [4]. Moving from left to right, the first column
depicts a 2D mask with low-coverage (≈ 30%) facial
Figure2: Exampleofthe68faciallandmarkspredictedby
coverage). The mask covers the lower part of the face,
the”dlib”[37]library.
and the nose of a person is visible. The second column
depictsa2Dmaskwithmedium-coverage(≈ 40%−50%
facial coverage) with some portion of the nose occluded.
differentprotocols.Thefirstthreeprotocolscapturevarious
Thethirdcolumndepictsa2Dmaskwithhigh-coverage(≈
conditionswhichincludeunseenenvironmentalconditions
50%−70%facialcoverage). Onecanseethatacomplete
(illumination,backgroundscenes),differentattackdevices,
nose is blocked in this attack. Finally, the fourth column
and input camera variations respectively. The fourth
representsa2Dmaskwithroundcoverage(≈ 30%−40%
protocol consists of all the aforementioned environmental
facialcoverage).
conditions. In this work we have used protocol 1 to
demonstrateocclusionattack.
3.2.Occlusionattack
In this section, we present different types of occlusion
attacksthatareperformedonthebaselinePADalgorithms
and also give a description of how these attacks were
executed. Each of these attacks occludes a portion of the
face in the testing data of the Replay-Attack [2] and the
OULU-NPU [4] dataset by either synthesizing or adding
an artifact to it. To detect the facial key points, we have
used Python’s “dlib” [37] library, which consists of pre-
trained models to detect faces and estimate the location
of key points on the detected faces. An example of the
68 key points estimated by the “dlib” library is shown in
Figure 4: Figure depicting examples of mask occlusions
Figure2. Eachofthevideosinthedatasetsispreprocessed
with3DcuesonReplayAttack[2]datasetandOULU-NPU
inthefollowingmanner.Firstly,weextracteachframefrom
[4]dataset.
the video and feed it to the “dlib” face detection model.
Themodelthenestimatesthelocationofthe68landmarks.
Usingtheselandmarksasreferencepoints,weaddsynthetic
occlusionstotheface.
The 2D masks add a single color artifact on the image.
Also, three different face coverages (low, medium, high)
3.2.1 Maskattacks
are introduced in 2D mask attacks, keeping in mind the
Inspired by the widespread use of medical masks due to variouspreferencesindividualshavewhilewearingmasks.
theCOVID-19pandemic,wepresentfivedifferenttypesof The 3D masks have some 3D cues, such as texture, color-
mask attacks namely 3D mask attack, low-coverage mask patterns, associated with it. In our experiments we have
attack,medium-coveragemaskattack,high-coveragemask used9differenttypesof3Dmaskstoperformtheocclusion.
attack, and round mask attack. Figure 3 and Figure 4 We have also included round masks in our analysis that
present examples of 2D and 3D mask attacks respectively. resembleK95andKN95masks.onLocalBinaryPatterns(LBP-SVM)[2,38]atitscoreto
performtheclassificationtasks. Eachframeextractedfrom
the video is preprocessed by cropping the face from each
oftheframes. Faceswiththesizelessthanasetthreshold
are discarded. After pre-processing, an LBP histogram is
extractedfromeachframe.TheSVMalgorithmisusedwith
RBFkerneltoclassifyeachframeinthevideoasbonafide
orattack[38].
3.3.2 Iamgequalitymeasures
Image Quality Measure (IQM), introduced by [39], is
Figure 5: Figure depicting an example of the glasses knowntoimprovetheperformanceofbiometricrecognition
occlusion attack on Replay Attack (a) [2] dataset and systems by adding liveness assessment to the frameworks.
OULU-NPU(b)[4]dataset. Hence, the second baseline algorithm presented in this
paperusestheImageQualityMeasure(QM-SVM)[40,38,
41] as a feature vector to perform the classification task.
3.2.2 Glassesattack The videos are pre-processed in a similar fashion as done
inthefirstalgorithm. TheIQMfeaturesextractedfromthe
We synthetically add glasses to the faces as shown in
videosarefedtoanSVMclassifier.
Figure 5. The glasses have different shapes, sizes, and
colors and occlude the eye region of the image. Some
of these occlusions are opaque and completely block the 3.3.3 Motionfeatures
eyes while others are translucent. The principal objective
behind selecting glasses as one of the occlusion attacks Opticalflowestimatorsaretypicallyusedformotion-based
was to observe the effect of such occlusion on the False face PAD algorithms but a simpler method for stationary
Acceptance Rate of an algorithm. The motivation stems recognition systems, as pointed out in [10], is to find
from the fact that many of the subjects in the training and correlationbetweenthemovementofthefaceandthescene
developmentsetofboththedatabasesarewearingreading background. Therefore,thethirdbaselinealgorithmusedin
glasses.Sincethesealgorithmsaretrainedonthesedatasets thispaperisbasedonframedifference(Motion+SVM)[10,
(thereby retaining some information about glasses), we 38]. Inthepre-processingstage,framedifferences(FD)are
wanted to evaluate whether the addition of such occlusion computedforbothfacialandbackgroundregions,followed
resultsinthealgorithmacceptinganimposterasabonafide by a feature extraction stage, in which five features are
individual. For evaluating the baseline models, we have extractedfromtheframedifferencesignal. Theseextracted
used12differenttypesofglasses. featuresareusedwiththeSVMalgorithmforclassification.
3.3.Baselinesystems
3.3.4 CNNfeatures
Four reproducible and publicly available face anti-
spoofingalgorithmswereattackedusingvariousocclusions. The ability of neural networks to synthesize features
Each of the chosen algorithms demonstrate a different is a huge advantage over other face PAD algorithms
approach to detect imposter images. In addition to that that use hand-crafted features. To dive deeper into
weintroducedanewhybridmodelthatinterjectstraditional effects of occlusion attack on CNN based face PAD
LBPfeaturesintoaCNNmodelintheanticipationtolearn algorithims, we chose the fourth algorithm based on
additionaltexturalfeatures. DenseNet [27] architecture and pixel-wise auxiliary
supervision [17, 42] (Deep-PiXBiS). This algorithm uses
frame-level information to classify bonafide and imposter
3.3.1 Texturebasedalgorithm
images, which results in faster processing and quicker
Bonafide and spoofed images have some subtle texture authentication. Also, this algorithm shows good general-
differences that may go unnoticed even to the human ization in cross dataset experiments. Face detection and
eyes. But,withpropertranslationtoanappropriatefeature localization are performed on each of the input images,
space, these subtle differences can be realized. LBP is a followed by face alignment and resizing. The DenseNet
popular technique used to capture texture information in model pre-trained on ImageNet dataset [43] is used. The
an image by transforming the feature space. Hence, the decision threshold for carrying out the classification is
firstalgorithmweexperimentonusestexturefeaturesbased basedontheequalerrorratecriterion.3.3.5 HybridCNNNetwork to the model without adding any occlusions. For the
Deep-PiXBiSmodel,wehaveusedthepre-trainedweights
Wealsopresentourhybridalgorithmbasedonconvolution
of the model trained on Protocol 1 of the OULU-NPU
neural networks that leverage the RGB and LBP
dataset to test the performance of the architecture with
information to perform presentation attack detection. We
occludedtestimages. Table2summarizestheperformance
have used 3 x 3 uniform LPB to compute the local binary
oftheCNNbasedalgorithm(Deep-PiXBiS)whenattacked
patterns. Thismethodleveragesbothhandcraftedaswellas
byvariousocclusions.
CNNgeneratedfeaturestocarryouttheclassificationtask.
RGB images, along with their corresponding LBP maps, 4.1.PerformanceofLBP+SVMmodel
arefedtotheneuralnetworkduringtraining. Themodelis
Testing the model without adding any occlusion gives
based on Resnet architecture, pre-trained on the ImageNet
performance with a FAR of 9.4%, FRR of 21.8%, and
dataset. Un-occluded images are used to train the model
an HTER of 15.6%. As we add 2D mask occlusions
whereas, images occluded with 3D masks and glasses are
(low-coverage, medium-coverage, high-coverage, round-
usedwhiletestingtoseetheefficacyofourmodeltowards
coverage) to the test images, the performance of the
theocclusionattacks. Themodelwastrainedfor20epochs
algorithm severely deteriorates. Also, it can be seen
withalearningrateof0.001andabatchsizeof256.
that the model’s performance is the same across all four
3.4.PerformanceMetric aforementionedocclusionsi.e,increasingthepercentageof
the area occluded does not effect the performance when it
For the OULU-NPU [4] dataset, we adopt the newly
comesto2Docclusions.But,inallcases,theFRRincreases
standardized ISO/IEC 30107-3 performance metric for the
from 21.8% to 98.7%. The FAR, on the other hand drops
evaluation of the results, first of which is the APCER,
from9.4%to0.9%. Thisinturnshowsthatwith2Dmasks,
or Attack Presentation Classification Error Rate, that
the algorithm rejects even a real person. Introduction of
definesthefractionofattackpresentationsthatwerefalsely
the 3D cues significantly increases both FAR and FRR
classifiedasbonafidepresentation. Secondly,wehaveused
comparedtowhennoocclusionisappliedtothetestimages.
BPCER,orBonafidePresentationClassificationErrorRate,
Forthe3Dmaskattack,weseeanincreaseof17.5%inthe
thatgivestheerrorinclassifyingbonafideimages. Finally,
FAR whereas, for glasses, we see an increase of 18.1% in
ACER,orAverageClassificationErrorRate,isusedwhich
the FAR. From the observation, it can be concluded that
istheaverageofAPCERandBPCER[44,17].
the additional information imparted by the textures in a
APCER+BPCER 3DmaskattackisabletospooftheLBP+SVMalgorithms
ACER= (1)
intoacceptingmoreimposterimagesasgenuine. Asimilar
2
argumentcanbedrawnfortheincreaseinFARthatwesee
FortheReplayAttackdataset[2],wepresenttheresults
aftertheadditionofglasses.
usingcommonlyadoptedperformancemetricsuchasFRR
orFalseRejectionRate, FARorFalseRejectionRate, and 4.2.PerformanceofQM+SVMmodel
HTER or Half Total Error Rate. HTER is defined as the
meanofFARandFRR.Additionally,EER,orEqualError Testing this PAD algorithm without adding any
Rate computed from the development set, is used as a occlusion to the test images results in the baseline HTER
decisionthreshold. of4.6%withFARandFRRas7.8%and1.3%respectively.
The percentage of the image occluded by the 2D mask
FRR+FAR seemstocorrelatewiththemodel’soverallperformance.As
HTER= (2)
2 thepercentageofareaoccludedbythemaskincreasesfrom
low-coverage to high-coverage the HTER of the system
4.Results
increases from 34.4% to 46.3%, with the HTER of round-
Table 1 depicts the performance metric values of coverage lying in between. Similar to the LBP+SVM
LBP+SVM, QM-SMV and, Motion+SVM face PAD model, the highest increase in the FRR and FAR is seen
algorithms when attacked with mask occlusions. whenmaskswith3Dcuesareappliedtothetestimagesas
LBP+SVM, QM+SVM, and Motion+SVM are trained comparedtowhennoocclusionisapplied. Theadditionof
on the Replay-Attack dataset with unoccluded 300 attack glasses also deteriorates the performance of the algorithm
videosand60realvideos. FortheSVMbasedalgorithms, withtheincreaseintheHTERfrom4.6%to27.6%.
testing is done with occluded images on the “grandtest”
4.3.PerformanceofFrameDifference+SVM
protocol as specified in [2, 17, 38, 41]. It should be noted
that out of all testing video clips in the Replay-Attack For this algorithm, testing with un-occluded images
dataset, the ”dilb” library was unable to detect and predict gives 13.9% as the FAR and 12.5% as the FRR. With
landmarks on 20 videos. Hence, these 20 videos are fed occlusion, weseethatthereisasubstantial increase intheLow Medium High Round
Baseline Metric Noocclusion 3Dmask Glasses
coverage coverage coverage coverage
FAR 9.4% 0.9% 0.9% 0.9% 0.9% 26.9% 27.5%
LBP+SVM[2] FRR 21.8% 98.7% 98.7% 98.7% 98.7% 54.6% 30.3%
HTER 15.6% 49.8% 49.8% 49.8% 49.8% 40.8% 28.9%
FAR 7.8% 0.6% 3.2% 8.9% 3.4% 13.2% 10.9%
QM+SVM[41] FRR 1.3% 68.3% 84.0% 83.8% 84.3% 85.4% 44.4%
HTER 4.6% 34.4% 43.6% 46.3% 43.9% 49.3% 27.6%
FAR 13.9% 47.9% 45.8% 45.7% 45.9% 40.3% 57.3%
FD+SVM[10] FRR 12.5% 7.7% 9.0% 10.0% 9.3% 48.2% 4.3%
HTER 13.2% 27.8% 27.4% 27.8% 27.6% 44.3% 30.8%
FAR 3.8% 0.24% 0.24% 0.24% 0.24% 0.23% 1.67%
HybridCNN(Ours) FRR 0% 94.2% 94.0% 93.8% 92.2% 93.0% 17.05%
HTER 1.9% 47.22% 47.12% 47.06% 46.22% 46.6% 9.36%
Table1:Theresultsofmaskocclusionandglassesocclusionattackonbasedbaselinealgorithms,testedonReplay-Attack[2]
No Low Medium High Round
Baseline Metric 3Dmask Glasses
occlusion coverage coverage coverage coverage
APCER 0.83% 0.42% 2.5% 2.5% 2.5% 2.5% 16.67%
Deep-PiXBiS[17,42] BPCER 0.0% 7.5% 10.0% 11.0% 7.5% 39.17% 12.5%
ACER 0.42% 3.96% 6.25% 6.75% 5% 20.83% 14.58%
Table 2: The results of mask occlusion and glasses occlusion attack on CNN based baseline algorithms tested on OULU-
NPU[4]
FalseAcceptanceRateacrossalltypesofmaskocclusions. 4.5.PerformanceofHybridCNNNetwork
Thisobservationisdifferentascomparedtothealgorithms
On testing this model without any occlusions gives an
discussedabovewhereaddingocclusionsdeterioratesFRR
HTERof1.9%. Thisisthebestresultsforthereplay-attack
more than the FAR. Adding glasses results in an increase
dataset reported in this paper. However, on adding mask
in the FAR from 13.9% to 57.3%. Additionally, the
occlusions, the performance of the system severely drops.
introduction of 3D masks to the test data has the most
ThisisattributedtothefactthattheFRRincreasesfrom0
significant impact on the False Rejection Rate of the
to≈ 93%. Eventhoughaddingocclusionsisdeteriorating
algorithm.
theoverallperformanceofthemodel,weseethatthereisn’t
a significant increase in FAR. Hence, for Replay-Attack
4.4.PerformanceofDeep-PiXBiS dataset, this hybrid CNN based model proves to be more
robusttowardsthefalseacceptanceofimposterimages.
ForthisCNNbasedalgorithm,theAPCERandBPCER
on the test set, without adding any occlusion, is 0.83% 5.Discussion
and 0% respectively [17, 42]. The overall performance
of the system deteriorates as we move from low-coverage Theresultsofthebenchmarkalgorithmsevidentlyshows
occlusion to high-coverage occlusion for the 2D mask thatocclusionsaffecttheperformanceofallthealgorithms.
attack, which is expected. The increase in the APCER is Although, we can find some interesting patterns in the
not significant with the maximum increase of only 1.67%. failure of such methods. First, the CNN based methods
Additionally,theAPCERdoesnotdeterioratemuchonthe seem to be most robust amongst the algorithms. This
additionof3Dmasksbut, thereisasubstantialincreasein reemphasises the importance of CNN in vision based
the BPCER from 0% to 39.1%. Interestingly, the addition research. Second, face coverage areas mostly effects the
ofglassestothetestimagesisincreasingtheAPCERfrom FRRsintexturebasedmodels(LBP+SVMandQM+SVM).
0.83% to 16.67% which roughly translates to a 20 times With higher coverage area, FRR increases. Third, this is
increaseintheAPCER.TheBPCERofthePADsystemis in contrast to the motion based models (FD+SVM) which
alsoaffectedunderthisattackwithanincreasefrom0%to deterioratemostlyinFAR.Fourth,FARofCNNisaffected
12.5%. most by the glass attack. This intuitively indicates itsrecognition algorithms in various smart homes, offices,
and industries to prevent unauthorized access by detecting
presentation attacks such as the print attack or replay
attack. In today’s time, the spread of the Corona Virus
has made wearing a mask a necessity. Hence, it becomes
imperative to re-evaluate the performance of these PAD
algorithms when the bonafide individual or the subject in
the presentation attack is exposed to mask occlusion. In
this paper, we attack four open-source baseline face PAD
algorithms with various types of occlusion attacks which
include 2D and 3D mask attacks. Additionally, we study
the effect of adding glasses to the bonafide and imposter
Figure 6: 3 x 3 “uniform” LBP of various occlusions testvideosaswell.Fromouranalysis,wefoundthatadding
performedonatestimageofReplay-Attack[2]dataset suchocclusionsalwaysdeterioratetheoverallperformance
of the baseline algorithms. In most of the rejection to a
bonafidepersonisseentobeincreased,whichtranslatesto
vulnerabilitytospoofingwhileoccludingupperpartofthe the fact that most of these algorithms will reject any real
face. Fifth, the hybrid method introduced in this paper is person if they appear with a mask, the exact scenario of
mostrobustforFARandfortheglassattack. the post pandemic era. In some cases, especially with 3D
In order to understand the rationale of the failure, we masks, we observed that adding occlusions increased the
investigate one of the classical methods that uses LBP for falseacceptancerate,whichcouldbeaproblemforaPAD
texture cues and then extends the reasoning to a CNN detection algorithm, especially when critical applications
based method. This is demonstrated in Figure 6, where are involved. These behaviors are very much consistent
a 3 × 3 ”uniform” LBP is calculated for an un-occluded through all spectrum of algorithms including hand crafted
and occluded image. It is evident from the figure that a featuresandCNNfeatures.
2D occlusion with a uniform color is creating a texture- Numerousalgorithmseitherhavehandcraftedfeaturesor
lessareasontheimagewhereas,glassesandmaskwith3D a CNN architecture at their core and may be susceptible
cues is adding additional texture in either the mouth and to the addition of such artifacts to the image. Therefore,
noseareaortheareasneareyes. Hence,whileaggregating we have demonstrated that even the best practices in the
the textures in the final feature computation, they differ domain of face PAD could be susceptible to occlusion
significantlyfromanon-occludedimage. Thisanalysiscan attacks. Hence,thereisanurgentneedtorevisitthecurrent
beextendedtotheCNNarchitectureaswell. Asfeaturesin protocols for face anti-spoofing algorithms. An ideal face
aparticularpartofthefacechanges,iteffectstheelements PAD algorithm should be agnostic to any occlusions such
of final feature vector at the end of fully connected layer, as masks and glasses. Therefore, research efforts can be
hence deteriorating in a similar fashion. Adding 3D mask concentrated on developing new datasets having images
occlusion seems to fool algorithms based on handcrafted of subjects occluded with real occlusions like masks,
features,liketheLBP+SVMandFD+SVM,intoaccepting bandana, mufflers, tattoos, etc., so that PAD algorithms
more spoofed images as bonafide as compared to the couldlearnsubtledifferencesbetweenareal-occlusionand
CNN and Image Quality based model. The Deep-PiXBiS aspoofed/synthesizedocclusion.
algorithm depicts robustness against false acceptance as
we did not see a significant change in the APCER when
References
the model was subjected to mask occlusion attack but,
the model suffers from a high BPCER that reduces its
[1] Erik Learned-Miller, Gary Huang, Aruni RoyChowdhury,
overall performance. Even though the CNN based model
Haoxiang Li, and Gang Hua. Labeled Faces in the Wild:
isshowingrobustnessagainstfalseacceptancefor3Dmask ASurvey,pages189–248. 042016.
occlusionattack,theadditionofglassesissomehowfooling
thealgorithmintoaccepting20timesmorespoofedimages [2] I.Chingovska,A.Anjos,andS.Marcel.Ontheeffectiveness
of local binary patterns in face anti-spoofing. In 2012
as compared to when no occlusion is applied which could
BIOSIG - Proceedings of the International Conference of
beapotentialvulnerabilityinthemodel.
Biometrics Special Interest Group (BIOSIG), pages 1–7,
2012.
6.Conclusionandfuturework
[3] N.ErdogmusandS.Marcel. Spoofingfacerecognitionwith
TherearenumerousFacePresentation-AttackDetection 3dmasks. IEEETransactionsonInformationForensicsand
(PAD) systems currently deployed alongside face Security,9(7):1084–1097,2014.[4] Z.Boulkenafet,J.Komulainen,L.Li,X.Feng,andA.Hadid. [18] Matthew D Zeiler and Rob Fergus. Visualizing and
Oulu-npu: Amobilefacepresentationattackdatabasewith understanding convolutional networks. In European
real-world variations. In 2017 12th IEEE International conference on computer vision, pages 818–833. Springer,
Conference on Automatic Face Gesture Recognition (FG 2014.
2017),pages612–618,2017.
[19] JiaweiSu,DaniloVasconcellosVargas,andKouichiSakurai.
[5] JaschaKolberg,MartaGomez-Barrero,SushmaVenkatesh, One pixel attack for fooling deep neural networks. IEEE
Raghavendra Ramachandra, and Christoph Busch. TransactionsonEvolutionaryComputation,23(5):828–841,
Presentation Attack Detection for Finger Recognition, 2019.
pages 435–463. Springer International Publishing, Cham, [20] WorldHealthOrganization.Namingthecoronavirusdisease
2020. (COVID-19)andthevirusthatcausesit.
[6] Y.Liu,A.Jourabloo,andX.Liu. Learningdeepmodelsfor [21] KayeeK.HanaokaMeiL.Ngan,PatrickJ.Grother.Ongoing
faceanti-spoofing: Binaryorauxiliarysupervision. In2018 facerecognitionvendortest(frvt)part6a: Facerecognition
IEEE/CVF Conference on Computer Vision and Pattern accuracywithmasksusingpre-covid-19algorithms,July24,
Recognition,pages389–398,2018. 2020.
[7] J. Ma¨a¨tta¨, A. Hadid, and M. Pietika¨inen. Face spoofing [22] K. Patel, H. Han, and A. K. Jain. Secure face unlock:
detectionfromsingleimagesusingmicro-textureanalysis.In Spoof detection on smartphones. IEEE Transactions
2011InternationalJointConferenceonBiometrics(IJCB), on Information Forensics and Security, 11(10):2268–2283,
pages1–7,2011. 2016.
[23] J. Galbally, S. Marcel, and J. Fierrez. Image quality
[8] AbhijitSarkar. Cardiacsignals: Remotemeasurementand
assessmentforfakebiometricdetection: Applicationtoiris,
applications,2017-08-25.
fingerprint, and face recognition. IEEE Transactions on
[9] Z. Boulkenafet, J. Komulainen, and A. Hadid. Face anti- ImageProcessing,23(2):710–724,2014.
spoofing based on color texture analysis. In 2015 IEEE
[24] L. Li, X. Feng, Z. Boulkenafet, Z. Xia, M. Li, and
InternationalConferenceonImageProcessing(ICIP),pages
A. Hadid. An original face anti-spoofing approach using
2636–2640,2015.
partial convolutional neural network. In 2016 Sixth
[10] A.AnjosandS.Marcel. Counter-measurestophotoattacks InternationalConferenceonImageProcessingTheory,Tools
in face recognition: A public database and a baseline. In andApplications(IPTA),pages1–6,2016.
2011InternationalJointConferenceonBiometrics(IJCB),
[25] Y.A.UrRehman,L.M.Po,andM.Liu. Deeplearningfor
pages1–7,2011.
faceanti-spoofing: Anend-to-endapproach. In2017Signal
[11] G.HeuschandS.Marcel. Remotebloodpulseanalysisfor Processing: Algorithms, Architectures, Arrangements, and
facepresentationattackdetection,pages267–289. 012019. Applications(SPA),pages195–200,2017.
[12] J. Gan, S. Li, Y. Zhai, and C. Liu. 3d convolutional [26] L. Li, X. Feng, X. Jiang, Z. Xia, and A. Hadid. Face
neural network based on face anti-spoofing. In 2017 anti-spoofingviadeeplocalbinarypatterns. In2017IEEE
2nd International Conference on Multimedia and Image InternationalConferenceonImageProcessing(ICIP),pages
Processing(ICMIP),pages1–5,2017. 101–105,2017.
[27] G.Huang,Z.Liu,L.VanDerMaaten,andK.Q.Weinberger.
[13] JianweiYang, ZhenLei, andStanLi. Learnconvolutional
Densely connected convolutional networks. In 2017 IEEE
neuralnetworkforfaceanti-spoofing. 082014.
Conference on Computer Vision and Pattern Recognition
[14] R. Shao, X. Lan, and P. C. Yuen. Deep convolutional (CVPR),pages2261–2269,2017.
dynamic texture learning with adaptive channel-
[28] S. Bharadwaj, T. I. Dhamecha, M. Vatsa, and R. Singh.
discriminability for 3d mask face anti-spoofing. In
Computationally efficient face spoofing detection with
2017 IEEE International Joint Conference on Biometrics
motion magnification. In 2013 IEEE Conference on
(IJCB),pages748–755,2017.
ComputerVisionandPatternRecognitionWorkshops,pages
[15] A. George, Z. Mostaani, D. Geissenbuhler, O. Nikisins, 105–110,2013.
A.Anjos,andS.Marcel. Biometricfacepresentationattack
[29] G. Pan, L. Sun, Z. Wu, and S. Lao. Eyeblink-based anti-
detectionwith multi-channelconvolutional neural network.
spoofing in face recognition from a generic webcamera.
IEEE Transactions on Information Forensics and Security,
In 2007 IEEE 11th International Conference on Computer
15:42–55,2020.
Vision,pages1–8,2007.
[16] Y. Atoum, Y. Liu, A. Jourabloo, and X. Liu. Face anti- [30] K.Kollreider,H.Fronthaler,M.I.Faraj,andJ.Bigun.Real-
spoofing using patch and depth-based cnns. In 2017 IEEE timefacedetectionandmotionanalysiswithapplicationin
InternationalJointConferenceonBiometrics(IJCB),pages “liveness” assessment. IEEE Transactions on Information
319–328,2017. ForensicsandSecurity,2(3):548–558,2007.
[17] AnjithGeorgeandSe´bastienMarcel.Deeppixel-wisebinary [31] GangPan,Z.Wu,andLinSun. LivenessDetectionforFace
supervisionforfacepresentationattackdetection. 072019. Recognition. 062008.[32] K. Kollreider, Hartwig Fronthaler, and Josef Bigun. Non-
intrusivelivenessdetectionbyfaceimages.ImageandVision
Computing,27:233–244,022009.
[33] Wei Bao, Hong Li, Nan Li, and Wei Jiang. A liveness
detectionmethodforfacerecognitionbasedonopticalflow
field. In2009InternationalConferenceonImageAnalysis
andSignalProcessing,pages233–236,2009.
[34] SamarthBharadwaj,TejasI.Dhamecha,MayankVatsa,and
R.Singh. Faceanti-spoofingviamotionmagnificationand
multifeaturevideoletaggregation. 2014.
[35] Litong Feng, Lai Po, Yuming Li, Xuyuan Xu, Fang
Yuan, Terence Chun-Ho Cheung, and Kwok-Wai Cheung.
Integrationofimagequalityandmotioncuesforfaceanti-
spoofing: A neural network approach. Journal of Visual
CommunicationandImageRepresentation,38,042016.
[36] Z. Xu, S. Li, and W. Deng. Learning temporal features
usinglstm-cnnarchitectureforfaceanti-spoofing. In2015
3rdIAPRAsianConferenceonPatternRecognition(ACPR),
pages141–145,2015.
[37] DavisE.King.Dlib-ml:Amachinelearningtoolkit.Journal
ofMachineLearningResearch,10:1755–1758,2009.
[38] IDIAP. Executingbaselinealgorithms.
[39] J. Galbally, S. Marcel, and J. Fierrez. Image quality
assessmentforfakebiometricdetection: Applicationtoiris,
fingerprint, and face recognition. IEEE Transactions on
ImageProcessing,23(2):710–724,2014.
[40] A. Costa-Pazo, S. Bhattacharjee, E. Vazquez-Fernandez,
and S. Marcel. The replay-mobile face presentation-attack
database.In2016InternationalConferenceoftheBiometrics
SpecialInterestGroup(BIOSIG),pages1–7,2016.
[41] D.Wen,H.Han,andA.K.Jain. Facespoofdetectionwith
imagedistortionanalysis.IEEETransactionsonInformation
ForensicsandSecurity,10(4):746–761,2015.
[42] IDIAP. Running deeppixbis on oulu and replay-mobile
datasets.
[43] Jia Deng, Wei Dong, Richard Socher, Li-Jia Li, Kai Li,
andLiFei-Fei. Imagenet: Alarge-scalehierarchicalimage
database. In2009IEEEconferenceoncomputervisionand
patternrecognition,pages248–255.Ieee,2009.
[44] Ivana Chingovska, Amir Mohammadi, Andre´ Anjos, and
Se´bastienMarcel. EvaluationMethodologiesforBiometric
Presentation Attack Detection, pages 457–480. Springer
InternationalPublishing,Cham,2019.