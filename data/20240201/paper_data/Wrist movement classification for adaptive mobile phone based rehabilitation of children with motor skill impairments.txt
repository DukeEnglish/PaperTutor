Wrist movement classification for adaptive
mobile phone based rehabilitation of children
with motor skill impairments
KayleighSchoorlandTamaraPinosCisnerosandAlbertAliSalahandBen
Schouten
Abstract Rehabilitation exercises performed by children with cerebral palsy are
tediousandrepetitive.Tomakethemmoreengaging,weproposetouseanexergame
approach, where an adaptive application can help the child remain stimulated and
interestedduringexercises.Inthispaper,wedescribehowthemobilephonesensors
canbeusedtoclassifywristmovementsoftheuserduringtherehabilitationexercises
to detect if the user is performing the correct exercise and illustrate the use of our
approach in an actual mobile phone application. We also show how an adaptive
difficulty system was added to the application to allow the system to adjust to the
user. We present experimental results from a pilot with healthy subjects that were
constrained to simulate restricted wrist movements, as well as from tests with a
targetgroupofchildrenwithcerebralpalsy.Ourresultsshowthatwristmovement
classificationissuccessfullyachievedandresultsinimprovedinteractions.
Key words: cerebral palsy, rehabilitation, hand therapy, activity recognition, ma-
chinelearning,appliedgames
KayleighSchoorl
UtrechtUniversity,Utrecht,theNetherlands,e-mail:kayleighschoorl@gmail.com
AlbertAliSalah
UtrechtUniversity,Utrecht,theNetherlandse-mail:a.a.salah@uu.nl
TamaraPinosCisneros
University of Twente and Amsterdam University of Applied Sciences, the Netherlands e-mail:
t.v.pinos.cisneros@hva.nl
BenSchouten
EindhovenUniversityofTechnology,theNetherlandse-mail:bschouten@tue.nl
1
4202
naJ
03
]CH.sc[
1v43171.1042:viXra2 K.Schoorletal.
1 Introduction
Children with cerebral palsy often need to perform repetitive movements during
thesetherapysessions.Itcanbeadifficulttasktokeepthemmotivatedtocontinue
doingtheseexercisesregularly,especiallywhentheseneedtobeperformedathome
in between sessions with their therapists. When they are intrinsically motivated,
theyparticipateintherapyfortheirownsatisfactionandaremorelikelytoimprove
andkeepupwiththeirtherapysessionsandexercises[26].Moreover,childrenwith
cerebral palsy might often encounter frustrating moments and failure during their
therapy,whichunderlinestheneedforkeepingtherapyasmotivationalandengaging
as possible to minimize frustrations and uphold motivation [10]. It is therefore
important for a therapist to accommodate an environment that both enhances self-
directedengagementintherapeuticexercisesandalsoprovidesintrinsicmotivation
toperformthetherapyexercisesathome.
Since the exercises recommended for cerebral palsy are often not inherently
experienced as being enjoyable, applied games can be a powerful tool to motivate
children to gain more intrinsic motivation, and can contribute to a higher degree
of personalization and adaptivity to accommodate their individual needs [27, 7].
Digitaldevelopmentsmakedifferenttypesoflearningincorporatedintovideogames
possible,allowingforgamesthatarebothengagingtoplayandcanhelpchildrento
learn[31].Theycanhelpdecreasethenegativeaspectsoftherapy,suchasfrustration
and boredom, and increase the positive aspects, such as happiness and enjoyment,
andcanthereforebeasuitabletoolforprovidingintrinsicmotivationforchildrento
performtheirtherapeuticexercises.
The hand and wrist rehabilitation of cerebral palsy patients focuses on a type
ofmovementcalled“dorsiflexion”.Thedorsiflexionofthewristandhandinvolves
bending the hand upward towards the top of the forearm; the downward bending
movementtowardsthebottomoftheforearmiscalled“palmarflexion”.Themain
exercise for the patients is shaking the hand up and down, moving between dorsi-
flexionandpalmarflexionrepeatedly.Themobilerehabilitationapplicationrequires
suchmovementsforsuccessfulcompletionofitstasks.
Inthispaper,wedescribehowamobileapplicationthathasbeendevelopedfor
facilitatinghandtherapy[1]canbeextendedtobecomeadaptivebyclassifyinghand
andwristdorsiflexionmovementsofitsusersonthefly.Forthispurpose,wetestthe
suitabilityofasmallnumberofclassifiers,basedonthesensorsonthephone.We
testandrefineourapproachfirstonapilotstudywithhealthysubjects,whosewrists
weconstraininseveralwaystosimulatepatientconditions.Ouroriginaltargetgroup
forthisapplicationischildrenfromages7to12,whohavehemiparesisasaresultof
cerebralpalsyandarewithinlevelIorIIontheManualAbilityClassificationScale
or MACS [9]. After the pilot, we also conduct an experiment with eight children
withcerebralpalsy,andpresentourresults.
Webrieflyintroduce themobilephonebasedexergameapplication here,which
servesasourexperimentalplatform.Thephoneisinsertedinasoft,animal-shaped
sheath, and the phone display becomes the face of the animal, which is capable
of expressing emotions, as can be seen in Figure 1. In the game, the animal is anWristmovementclassificationforrehabilitationofchildren 3
assistantforperformingmagictricksandcomeswithaseparatebookletinwhichthe
magictricksareexplained.Theperformingofthetrickrequiressomedexterity,and
wristmovementsareperformedduringtheprocedure.Themobileapplicationcore
used for this research has been previously developed by a gaming company using
theUnity3Dgameengine,andrunsonAndroidphones[1].
Fig.1 ThemonstercaseusedfortheMagicMonsterapplicationandascreenshotfromthemobile
app.
Inthisstudy,weimplementamovementrecognitionsystemtoaccuratelyrecog-
nize dorsiflexion movements during the use of this mobile application, as well as
an intuitive adaptive difficulty system. Since the patients need to perform specific
movementsaspartoftheirhandtherapy,theaccuracyofthesemovementsneedsto
be assessed to evaluate therapy progression. Also, different patients have different
needsandmightnothavethesamerangeofmotionintheirwristsasotherpatients.
Consequently,itisnecessarythattheapplicationshouldadjusttotheuser,andkeep
adjustingifthecapabilitiesoftheuserchangeovertime.
The remainder of the paper is structured as follows. First, we discuss related
researchinSection2.Next,wepresentourdatacollectionapproachforthemovement
classificationsysteminSection3.InSection4wedescribethefeaturesweuse,and
theapproachestestedforclassificationofdorsiflexion.Theexperimentalresultsare
summarized in Section 5. In Section 6, we present the adaptive difficulty system
introduced to the application. Section 7 reports results obtained with the target
patientgroup.Finally,weprovideadiscussionandconclusionsinSection8.4 K.Schoorletal.
2 Relatedwork
Thepotentialofpersonalinformatics(PI)systemsforpeoplewithmotordisabilities
hasbeendiscussedin[18].Herewefocusongamesthattargetchildrenwithmotor
skillimpairmentsspecifically,aswellasprovidesomereferencesformobilephone
basedactivityrecognition,whichisaverybroadareaduetothepotentialrichness
of the activities that can be detected. This paper, however, is the first for detecting
dorsiflexionmovementsintheliterature.
2.1 Gamestargetedatchildrenwithmotorskillimpairments
While many applied games in the field of health have been developed in the past,
the selection of applied games that specifically target children with motor skill
impairments is not as substantial [2, 22]. In [11], a number of smart toys and
game applications are listed to monitor and enhance fine motor skills of children,
butthesearenotgearedtowardsrehabilitation.ResearchersfromtheUniversityof
AmsterdamandtheAmsterdamUniversityofAppliedSciencesdevelopedagamefor
detectingdelaysinmotorskilldevelopmentonacommerciallyavailabletoycalledthe
Futurocube[28].Usingthisgame,theywereabletopredictthedegreeofmotorskill
impairmentintheparticipantswithincreasingaccuracyasthedifficultyofthegame
rose.MorerecentworkwiththeFuturocubehasfocusedonusingdifferentmachine
learningtechniquesforclassifyingchildrenwithmotorskillimpairments[4].
[16]developedasmarttoyformotorskillassessmentinformofaboardgame.
Thegoalofthisgameistomovetokens(depictingmice)acrosstheboardandturn
themaroundascarefullyaspossiblesoastonotwakeup‘thecat’.Thetokenscontain
accelerometers,whichareusedtoassessthesmoothnessofmovementsbycomputing
themeansquaredjerkfeature.Theresultsshowthatchildrenwithbetterfinemotor
skillscanmovethetokensmoresmoothlyusingonehand,makingthegamesuitable
fordetectingmotorskillimpairments.Moreover,thegamewasperceivedasfunand
excitingtoplaybythechildrenparticipatingintheexperiment.Morerecently,[17]
presentedamobileapplicationforanalyzingthefinemotorperformanceinchildren
basedonasimilaridea,bymakingthemmoveanobjectalongseveralpaths,varying
indifficultyfromstraighttozigzag-shaped.
A smart toy that was developed for practicing fine motor skills in [30] encom-
passedseveral differentexercises topractice differenttypes ofmovements: tracing
a path while holding a pen, placing clothespins on colored fabric, and carrying a
metal ring from left to right while avoiding touching the filament, respectively. In
mostoftheseapplications,thedifficultyofthegameisadjustedbyhavingmultiple
challenges with different difficulty levels. In this paper, however, we measure and
adaptthedifficultytothechild.Measuringperformancehasthedoublepurposeof
observingrehabilitationprogresslongitudinally.Wristmovementclassificationforrehabilitationofchildren 5
2.2 Humanactivityrecognitionusingsmartphonesensors
A modern smartphone contains a variety of sensors, including an accelerometer,
a magnetometer, and a gyroscope, which can be highly useful for recognizing the
activities of a user [23, 25, 32]. Previous research has largely focused on human
movementrecognitionusingthesensorsavailableinsmartphones[24,15,20,21].
The most common application is the detection of everyday activities including
sitting,walking,andwalkingupthestairs.Forthesetypesofapplications,thephone
isusuallypassivelycarriedaround.Someoftheseapplicationsaddresseddisabilities
orpathologiesimpairingmovementsofthelimbs,suchasgait[35].
Deeplearningmethodshavebecomewidelyusedforactivityrecognitioninrecent
years[3].Someexamplesofdifferenttypesofnetworkspreviouslyusedforactivity
recognitionincludebasicmultilayerperceptrons(MLPs)[33],convolutionalneural
networks(CNNs)[13],andrecurrentneuralnetworks(RNNs)[19].
CNNs are mostly used for visual data, such as images and video, but have also
beenusedontimeseriesdatasuchassensordatacollectedusingsmartphonesen-
sors[13,33].OnestudyproposedtheuseofCNNsforactivityrecognitionusingthe
accelerometerinamobilephone[13].Asinputforthenetwork,theyusedboththe
rawaccelerometerdataandaselectionofextractedbasicstatisticalfeaturesthatde-
scribetheglobalpropertiesofthetime-seriesdata.Thecombinationofbothseemed
to achieve the best performance. For mobile phone applications, shallow architec-
tures and lower computational costs are desirable, as battery life is an important
consideration.
For supervised activity recognition tasks, the temporal dimension is important,
asalargepartofthechallengeistoproperlysegmenttheactivityboundariesandto
provide continuous class labels. For this purpose, RNNs [19] and long short-term
memory(LSTM)networkswereused[6].LSTMlayerscanalsobecombinedwith
convolutionallayerstocreatemorecomplexmodelsforhumanactivityrecognition
usingrawmobilephonesensordata[34].
Inourapplication,weexaminearangeofsimpletocomplexmodelstoclassify
dorsiflexionmovements.Whatismoreimportantthantheselectionofthemachine
learning approach is the insights into how a cerebral palsy patient would handle a
mobilephoneduringtheexergame,andhowthatwillaffecttheperformanceofthe
classifiers.Wefirstdealwiththeproblemofdatacollection,asmostMLapproaches
needasmuchdataaspossibletoprovidegoodclassificationresults.
3 Datacollection
Totrainamodelfordistinguishingdorsiflexionfromothertypesofhandmovements,
wecollecteddataforavarietyofmovements,aswellasdorsiflexionmovementsfrom
differentstartingpositions.Wehavedefined28distinctmovementclasses:thefirst
10 classes describe dorsiflexion movements from different starting positions, and
theother18classesdescribeotherkindsofmovementsandnon-movementswhich6 K.Schoorletal.
function as the true negatives in the dataset, including rotations, shaking, and the
phone sitting still. We use the accelerometer and the gyroscope to record the data
alongthreeperpendicularaxes(𝑥,𝑦,𝑧).Thephonethatwasusedfordatacollection,
andallsubsequenttrainingandevaluation,wasaSamsungGalaxyA52.
Wehavecreatedacustommobileapplicationfordatacollection,wheretheuser
is shown an animation showing how to perform a movement, along with auditory
instructionsandatextdescriptionofthemovement.Thisinterfaceselectstenmove-
mentclassespersessionrandomlyforeachuser.Additionally,werecordedthehand
movements of the user using an external video camera, for improving annotation
quality. A total of 37 data collection sessions with 20 unique subjects were com-
pleted. Before participating in the experiment, the subjects were informed of the
purpose and methods of the study and signed a written consent form. The data
collectionandstorageprocedureswerereviewedandapprovedbyamedicalethics
reviewcommittee1.
Two annotators manually annotated the beginning and end times of the move-
mentsusingtheannotationtoolELAN[5].Onlyabinarylabelwasintroduced(i.e.
dorsiflexionvs.nodorsiflexion)duringtheannotations.
The resulting dataset consists of a total number of 337 segments, out of which
113areclassifiedasdorsiflexionmovements.Thedatasetisdividedintoatraining
(15 subjects) and test (5 subjects) set for model training and evaluation purposes.
Thetestsetcontains53segments,representing15.7%ofthetotaldataset.
Figures2and3showtwoexamplesofwhatthedatalookslike,foronedorsiflexion
movementandonenon-dorsiflexionmovement(i.e.rotatingthephone),respectively.
Thecollectedaccelerometerandgyroscopedataareplottedforeachofthethreeaxes.
Fromtheseplots,itcanbeseenthattherecordedsensordataforthesemovements
looksimilaratfirstsight,especiallywhenlookingatthegyroscopedata.
4 ClassificationofDorsiflexion
4.1 Featureextractionandselection
We investigated both feature extraction and feature selection to train the machine
learningmodels.Fortheformer,weextractedsevenlowleveldescriptors(i.e.mean,
min,max,standarddeviation,variance,skew,andkurtosis,respectively)fromeachof
theaxesofthesensors,resultingin6×7=42features.Eachfeaturewasnormalized
usingmin-maxnormalization.
For feature selection, we used the Minimum Redundancy Maximum Relevance
(mRMR)algorithm[8].Thismethod,attemptstofindanoptimalnumberoffeatures
by eliminating redundant features. For each feature, a score is computed based on
1Detailsleftoutforblindreview.Theauthorsdeclarethattherewasnoinfluenceorinvolvement
fromthefundingorganizationinthedesign,datacollection,analysis,interpretation,writing,or
submissionofthisstudy.Wristmovementclassificationforrehabilitationofchildren 7
Fig.2 Recordedsensordataformovementclass1:dorsiflexionwiththephoneuprightandthe
screenturnedawayfromthehandpalm.
themaximumrelevancewithregardtotheoutputvariable,andminimalredundancy
withregardtothealreadyselectedfeatures.Thealgorithmiteratesuntil 𝑘 features
have been selected.One advantage of mRMR is the explainability of the selected
features,whichisimportantbecausewewanttobeabletoexplainthelogicbehind
theselectedthresholdsforthedorsiflexionmovements.
TherearevariousoptionsforscorefunctionstousewithmRMR,andweuseda
functionthatcombinestheF-teststatisticandthePearsoncorrelationcoefficientto8 K.Schoorletal.
Fig.3 Recordedsensordataformovementclass21:rotatingthephonetotheleftandrightside
alternately,withthephoneheldhorizontallyandthescreenturnedupward.
computeascoreforeachfeature[36].Thismethodissimpleandfast,yetprovides
comparableresultstootherimplementationsofmRMR.Therelevanceofafeatureis
computedastheF-statisticbetweenthefeatureandthetargetoutput.Theredundancy
of the feature is computed as the average Pearson correlation between the feature
andthefeaturesselectedduringpreviousiterations.Wristmovementclassificationforrehabilitationofchildren 9
4.2 Classification
Wetestedandcomparedseveralmachinelearningapproachesofdifferentcomplexity
for solving the classification problem. Since the mobile phone presents a limited
energybudget,simple approachesarepreferredto computation-heavyapproaches.
Wetestedk-nearestneighbors(k-NN),supportvectormachines(SVM),multi-layer
perceptrons(MLP),convolutionalneuralnetworks(CNN),long-short-term-memory
(LSTM), and Bidirectional LSTM, respectively. To evaluate the results, we used
classificationaccuracy,precision,recall,andtheF-score.
A basic k-NN classifier is used as a baseline algorithm with the 42 features
obtainedviafeatureextraction,asdescribedearlier.WeusedtheEuclideandistance
asthedistancefunction,andleave-one-outcross-validationonthetrainingpartition
wasusedtoselectthevaluefor𝑘 thatprovidedthehighestaccuracy,whichwasset
as1.
Next,weperformedmRMRfordeterminingthefeaturestobeusedforthefinal
model.Thehighesttrainingsetaccuracywasobservedwhenusing21featuresoutof
42,ultimatelyresultinginanaccuracyof0.997onthetrainingsetfor𝑘 =1and21
features.Therefore,thesearethevaluesthatareusedforevaluationonthetestset.
Wehavetesteddynamictimewarping(DTW)inconjunctionwithkNN,butDTW
istootime-intensivetouseinareal-timeapplication,andwasnottakenintofurther
consideration.
The second model we trained is a support vector machine (SVM) with a linear
kernel, using the same features that were used with 1-NN. Using mRMR on the
training set resulted in the selection of only 2 features out of the 42, with a cross-
validationaccuracyof0.993.Wealsotrainedfourneuralnetwork(NN)models.
4.2.1 Multilayerperceptron(MLP)
ThefirstNNwehavetrainedisamultilayerperceptron,withtwohiddenlayers(with
128and256neurons,respectively),adropoutlayer,andaclassificationlayer.This
networktakesasinputthesamefeaturesthatarealsousedforthek-NNandtheSVM.
We first used mRMR to select the appropriate number of features, computing the
accuracy using leave-one-out cross-validation on the training set for each possible
number of features. The network was trained with the ADAM optimizer for 100
epochsmax[14].Thehighestscoringnumberoffeatureswas37,withanaccuracy
of0.958.
4.2.2 Convolutionalneuralnetwork(CNN)
WhileCNNsaremostcommonlyusedforimagerecognitionandclassificationtasks,
theycanalsobeappliedtoactivityrecognitiontasksusingsensordata.Thenetwork
structureweusedwasbasedonaCNNusedpreviouslyforactivityrecognition[13].
The first layer is a 1-dimensional convolutional layer with 196 filters. The kernel10 K.Schoorletal.
sizeusedis1×16.Thisconvolutionallayerisfollowedbyamaxpoolinglayerwith
poolsize4andaflatteninglayer.Nextisadenselayerwith1024neurons,followed
bytheclassificationlayer.
4.2.3 LongShort-TermMemory
WetestedanRNNwithLSTMlayers[12].LSTMshavebeenshowntobenefitfrom
atleasttwoormoreLSTMlayers,whichiswhyourmodelhadtwoLSTMlayers,
with128and256nodesrespectively.Theyarefollowedbyadropoutlayerandthe
classificationlayer.
4.2.4 BidirectionalLongShort-TermMemory
The BLSTM was constructed similarly to the LSTM, but instead of two LSTM
layers,itcontainstwoBLSTMlayers,alsowith128and256nodesrespectively[29].
Similar to the LSTM, the BLSTM layers are followed by a dropout layer and the
classificationlayer.
5 ExperimentalResults
TheexperimentalresultsofeachtrainedmodelcanbeseeninTable1.Theaccuracy,
precision, recall, and F-score are shown for each of the models, reported on the
independenttestset.Theprecision,recall,andF-scorearealsoshownforeachclass
separately.Thehighestscoresareshowninboldtextforclarity.
The CNN model performed well overall, but the precision and recall results
indicatethatmostofthetimedorsiflexionmovementsareindeedclassifiedassuch,
buttherearealsofalsepositives.ThisismadeevidentbythefactthattheF-scorefor
these models is lower. The more complex NN models show more balanced scores
and higher F-scores, with CNN scoring the highest overall, suggesting that it is a
suitablemachinelearningmodelforclassifyingdorsiflexioninabinaryclassification
task.
6 AdaptingtheGametotheUser
When a movement has been positively identified as a dorsiflexion movement, we
wanttocheckatwhatleveltheuserisshakingthephone,usinganadaptivedifficulty
system. The mobile application is supplied with two indicators for this purpose,
namely,therangeofmotionandspeed.Toachieveadaptivedifficulty,theapplication
needstobeabletoadjustthesensitivitytotheuserwithregardstothesetwomeasures,Wristmovementclassificationforrehabilitationofchildren 11
KNN* SVM* MLP* CNN LSTM BLSTM
Accuracy 0.943 0.925 0.962 0.970 0.961 0.964
Precision 0.932 0.913 0.952 0.963 0.949 0.953
Overall
Recall 0.956 0.941 0.971 0.971 0.968 0.971
F-score 0.940 0.921 0.960 0.967 0.957 0.961
Precision 0.864 0.826 0.905 0.938 0.903 0.911
Dorsiflexion Recall 1.000 1.000 1.000 0.974 0.991 0.991
F-score 0.927 0.905 0.950 0.956 0.945 0.949
Precision 1.000 1.000 1.000 0.987 0.995 0.995
Non-dorsiflexion Recall 0.912 0.882 0.941 0.968 0.945 0.950
F-score 0.954 0.938 0.970 0.977 0.970 0.972
*usesextractedfeaturesasinput,asopposedtorawsensordata
Table1 Theaccuracy,precision,recall,andF-scorefordorsiflexionrecognitionpermodelonthe
testset.
and slowly decrease the sensitivity to make it harder to get the correct movement.
Thisfeaturehelpstogettheusertoprogressintheirtherapyandimprovetheirmotor
skills.
6.1 Rule-basedadaptivedifficulty
We implemented two decision rules to determine at which points the thresholds
for both the range of motion and the speed should change. To determine when
to change the difficulty, the past performance of the player and the percentage of
correctmovementsoverthelast10registeredshakesisanalysed.Ifatleast90%of
themovementsreachedthethreshold,thethresholdincreases;ifnomorethan60%
ofthemovementsremainedunderthethreshold,thethresholddecreases.
6.2 Calibration
Since we wanted to adjust the dorsiflexion recognition sensitivity to the user, the
application firstgoes through acalibration phase when itis used forthe first time.
Duringthisstep,theplayerperformsdorsiflexiontoactivatethedifferentstagesof
the‘magictrick’,andtheadaptivesystemusesthefirstfivemovementstodetermine
the thresholds for both the range of motion and the speed. Besides the automatic
calibration,theusercanalsoresetthethresholdsandrestartthecalibrationfromthe
settingsscreen,oradjustthethresholdsmanuallyiftheywish.Thisisaprecaution
againsttheapplicationnotfunctioningaccordingtothepreferencesoftheuser,who
mayprefereasierormorechallengingsettings.12 K.Schoorletal.
6.3 Rangeofmotion
Inordertotrainthesystem,apilotwasconductedwithoutaccessingthetargetpatient
group.
Childrenwithhemiparesisasaresultofcerebralpalsyoftenwearanarmbraceto
supporttheirwrist,suchastheoneshowninFigure4.However,besidessupporting
the wrist, this arm brace also restricts the movement of the wrist. Subsequently,
we used arm braces to simulate restricted wrist movements for different ranges of
motion.
Datawerecollectedforthefollowingconditionsofdorsiflexion,allfromthesame
startingpositiontomakecomparingthemovementseasier:
• Freemovementwithoutthearmbrace
• Half-restrictedmovementwithaplasticrulerinsertedinthearmbrace,resulting
intherangeofmotionseeninFigure4
• Fully-restrictedmovementwithametalrulerinsertedinthearmbrace,resulting
intherangeofmotionseeninFigure5
These three degrees of movement are considered the three different movement
classes. For each of these movements, we recorded 20 samples. We performed
feature extraction and selection as with the previously described experiments. The
idea is to obtain features that are suitable to recognize varying strengths of dorsi-
flexion,whichcanbeusedtosetathresholdtodeterminetherangeofmotionofthe
dorsiflexionmovement.
Avisualizationofsomeofthecollectedsensordata,foreachlevelofrestriction,
canbeseeninFigures6,7,and8.
Wehaveconsideredthemeanabsoluteerror(MAE),meansquarederror(MSE),
and root mean squared error (RMSE) to measure the performance of regression
models.RMSEisexpressedinthesameunitsastheoriginal𝑦values,andpenalizes
higher error values more compared to MAE. Therefore, we have used RMSE for
evaluatingthemodels.
Foreachsetoffeatures,leave-one-outcross-validationwasusedtocomputethe
RMSE for that number of features. Using a single feature (namely, the standard
deviationofthe𝑥-axisofthegyroscope)ultimatelyresultsinthelowestRMSE.On
thetestset,themodelresultsinanRMSEof1.419.Sinceasinglefeatureispowerful
enough to determine the range of motion for the most part, the adaptive difficulty
system was linked to this indicator, together with the simple threshold adjustment
rules described earlier. This provided a simple and reliable method for evaluating
therangeofmotionoftheuser.
6.4 Speed
We collected data for dorsiflexion movements with the phone upright for three
degrees of speed, classified as slow, medium, and fast, respectively. These classesWristmovementclassificationforrehabilitationofchildren 13
Fig.4 Dorsiflexionwhilewearinganarmbracewithaplasticrulerinserted.
wereusedtoprovidesomequalitativeinsights,andexamplesofthecollectedsensor
data can be seen in Figures 9, 10, and 11. A clear difference can be observed
betweendifferentmovementspeeds.Mostnotably,themaximumamplitudeofboth
theaccelerometerandgyroscopesignalsgoesupasspeedincreasesalongtheaxis
onwhichthemovementoccurred.Ascanbeobserved,thesignalsaresimilartothe
different ranges of motion as seen in Figures 6, 7, and 8. However, what sets the
speedapartfromtherangeofmotion,isthefrequencyatwhichtheminimumand
maximumamplitudesalternate.
Tocomputethefrequency,therearesomedifferentoptions,including:
• ComputingafastFouriertransform(FFT)andtakingthelowestfrequency.
• Calculatingthenumberofzerocrossingsorthenumberoftimesthesensorvalue
oscillatesabout0.Thefasterthesensorvalueoscillatesaround0,thehigherthe
frequency.14 K.Schoorletal.
Fig.5 Dorsiflexionwhilewearinganarmbracewithametalbarrulerinserted.
Inourimplementation,weusedthenumberofzerocrossingsforthespeed.While
this is a rigid scale and does not allow for a gradual increase in difficulty, it does
provideclearlevelsfortheusertoachieve,anditisintuitivelyinterpreted.
7 TestswiththeTargetGroup
Using the implemented dorsiflexion recognition and adaptive difficulty systems as
described above, we performed an evaluation test with the target group to check
the accuracy of the dorsiflexion recognition system. We collected data from eight
children with cerebral palsy during therapy sessions at two clinics that specialize
in treating posture and movement-related disorders. We traveled to the clinics andWristmovementclassificationforrehabilitationofchildren 15
Fig.6 Sensordatafordorsiflexion,withthewristunrestricted.
performedone-on-onesessionswitheachparticipant.Eachparticipantwasgivena
demonstrationofhowthemagicmonsterissupposedtobeusedandwasthenasked
to play with the magic monster application for three minutes. We obtained ethical
approval from XXX prior to the study. The sessions were recorded using a video
camera.Theparentsofthechildrengavewrittenconsentbeforethesessionwiththe
magic monster,after informing them ofthe purpose anddata collection procedure
oftheexperiment.16 K.Schoorletal.
Fig.7 Sensordatafordorsiflexion,whilewearingthearmbracewitharulerinserted.
Oneofthefindingsofthisstudy,besidesthedatacollection,wasthatthemagic
monster can sometimes be difficult and too big to hold for children with cerebral
palsy.Thisiswhyastrapwasaddedtothebackofthemonster,whichwrapsaround
thehandtoholdthemonsterinplace.Thisstrapwasaddedtothemonsterhalfway
throughthetestingphase,andcouldpotentiallyhaveinfluencedtheresults.
Similarlytothepreviousdataannotationthatwasdonefortrainingthemachine
learningalgorithm,twopeoplemanuallyannotatedthebeginningandendtimesof
therecordedmovementsinalloftherecordedvideosusingELAN[5].TheannotatedWristmovementclassificationforrehabilitationofchildren 17
Fig.8 Sensordatafordorsiflexion,whilewearingthearmbracewithametalbarinserted.
dorsiflexionmovementswere thenmanuallycomparedtothesensor datarecorded
using the phone. The mobile application checks if it detects dorsiflexion once per
secondtopreventperformanceissuesbycheckingmoreoften.Thegroundtruthis
obtainedbyinspectionofthevideos.TheconfusionmatrixcanbeseeninTable2.
To further evaluate the results, we computed the accuracy (0.948), precision
(0.929),recall(0.846),andF-scores(0.885).Overall,thescoresarehigh,withrecall
being lower than precision overall, meaning that not all dorsiflexion movements
annotatedassuchareindeedbeingrecognizedasdorsiflexion.Onelimitationisthat18 K.Schoorletal.
Fig.9 Sensordatafordorsiflexion,performedwithlowspeed.
the target group is very small and it is difficult to obtain data from children with
cerebralpalsy.Ourtrainingsetdidnotcompletelyreflectthevariationinthetarget
group,andwascollectedfromadultsubjects.Wristmovementclassificationforrehabilitationofchildren 19
Fig.10 Sensordatafordorsiflexion,performedatmediumspeed.
8 Conclusions
Inthisstudy,weproposedasimpleapproachtodetectdorsiflexionmovements,and
incorporateditintoanapplicationforhandandwristrehabilitationofchildrenwith
cerebral palsy. Our approach uses accelerometer and gyroscope data and uses a
convolutionaldeepneuralnetworkonsimplefeaturesextractedfromthesesensors
toclassifydorsiflexionmovements.20 K.Schoorletal.
Fig.11 Sensordatafordorsiflexion,performedatfastspeed.
Based on the classifier’s output, the speed and range of motion were computed
intosimpleindicators,whichwereaddedtotheexergametoletitadapttotheuser.
Weperformedaseriesofexperimentstomeasuretheefficacyoftheapproach,and
alsotestedtheadaptiveexergameonchildrenwithcerebralpalsy.
The study has several shortcomings. More extensive data collection is needed
for understanding the user experience aspects with the target group. This could be
donewitheitherthedatacollectionapplicationdevelopedforthisstudy,orwiththe
magicmonsterapplicationitself.WhileapplicationdatacanbecollectedrelativelyWristmovementclassificationforrehabilitationofchildren 21
Annotated(real)values
Positive Negative
Positive 252 10
PredictedbyAI
Negative 35 931
Table2 Confusionmatrixforthebinarydorsiflexionrecognition.
easily,thevideodatathatneedtobecollectedforannotationandqualityassessment
purposes is much more difficult to obtain, and more sensitive to handle. However,
once the annotations are completed, the video data can be destroyed, and only the
anonymousgyroscopeandaccelerometerdatacanbesharedwiththeannotations.
Thedatacollectionwasmostlyfocusedontraininganactivityrecognitionmodel,
andtheadaptivedifficultyadjustmentofthesystemwasdevelopedwithmuchless
data.However,thelogicofadaptationisfairlysimple,andingeneral,lessdatawill
besufficientforitsdevelopment.Nonetheless,thereisaneedforalongitudinaluser
study,sincetheeffectsofhavinganadaptivedifficultycanonlybemeasuredifthe
applicationisusedforalongerperiodoftime,andagainstacontrolgroupthatuses
a non-adaptive version of the application. Longitudinal studies can also assess the
appealoftheapplication,andfindoutwhetherthenoveltywearsoff,orwhetherthe
applicationlosesitslikeabilityafterthemagictrickisfullymastered.
Thecurrentdatacollectionandevaluationweredoneusingonlyonephonemodel.
For future research, it would be fruitful to collect data using different models and
comparetheresults,sincethegyroscopesincludedindifferentphonesmightshow
slightlydifferentbehaviors.Anadditionalshortcomingoftheevaluationtestswith
thetargetgroupisthatastrapwasaddedtothebackofthemonsterhalfwaythrough
thedatacollection,potentiallyinfluencingtheresults.
We have not explored data augmentation strategies, but since data collection is
bothcostlyandtime-consuming,dataaugmentationmighthelpincreasethenumber
ofavailabledatapointsandincreasetheversatilityoftrainedmodels.Dataaugmen-
tationcouldpotentiallyhelpincreasetheperformanceandreliabilityofthetrained
modelswhenapplyingthemtoreal-timeapplications.
Childrenwithcerebralpalsystandtobenefitfrominnovativesolutionsforaiding
them in the arduous rehabilitation process. We believe the developed application
can serve as a valuable tool, and the sub-modules can be integrated into other
applications.
Acknowledgments
ThisstudywasfundedbyUtrechtUniversity,theAmsterdamUniversityofApplied
Sciences, Eindhoven University of Technology as part of the Smart Technologies
EmpoweringCitizensproject,anincollaborationwithPhillipsandIjsfonteinandthe
HUMAN-AIfund.Theauthorsdeclarethattherewasnoinfluenceorinvolvement22 K.Schoorletal.
fromthefundingorganizationinthedesign,datacollection,analysis,interpretation,
writing,orsubmissionofthisstudy.
References
[1] MaxAlberts,EllenAMdeRidder,JorisAJLodewijks,TamaraVPinosCis-
neros, Kayleigh Schoorl, Albert Ali Salah, and Ben AM Schouten. 2022.
Designing a Smartphone Exergame for Children with Cerebral Palsy in the
HomeEnvironment.InExtendedAbstractsofthe2022AnnualSymposiumon
Computer-HumanInteractioninPlay.183–188.
[2] InesAyed,AdelGhazel,AntoniJaume-iCapo,GabrielMoya`-Alcover,Javier
Varona, and Pau Mart´ınez-Bueso. 2019. Vision-based serious games and
virtual reality systems for motor rehabilitation: A review geared toward a re-
searchmethodology. Internationaljournalofmedicalinformatics131(2019),
103909.
[3] FerhatBozkurt.2021. AComparativeStudyonClassifyingHumanActivities
Using Classical Machine and Deep Learning Methods. Arabian Journal for
ScienceandEngineering(2021),1–15.
[4] Annette Brons, Antoine de Schipper, Svetlana Mironcika, Huub Toussaint,
Ben Schouten, Sander Bakkes, and Ben Kro¨se. 2021. Assessing Children’s
FineMotorSkillsWithSensor-AugmentedToys:MachineLearningApproach.
JournalofMedicalInternetResearch23,4(2021),e24237.
[5] HennieBrugman,AlbertRussel,andXdNijmegen.2004. AnnotatingMulti-
media/Multi-modalResourceswithELAN. (2004),2065–2068. MaxPlanck
InstituteforPsycholinguistics,TheLanguageArchive,Nijmegen,TheNether-
lands.https://archive.mpi.nl/tla/elan(visited:2022-03-22).
[6] Yuwen Chen, Kunhua Zhong, Ju Zhang, Qilong Sun, Xueliang Zhao, et al.
2016. LSTMnetworksformobilehumanactivityrecognition.InProceedings
of the 2016 International Conference on Artificial Intelligence: Technologies
andApplications,Bangkok,Thailand.24–25.
[7] Tamara Pinos Cisneros, Ben Kro¨se, Ben Schouten, and Geke Ludden. 2020.
Handrehabilitationforchildrenwithcerebralpalsy:Fromclinicalsettingsto
homeenvironment.Editors:KirstyChrister,ClaireCraig&PaulChamberlain
(2020),65.
[8] Chris Ding and Hanchuan Peng. 2005. Minimum redundancy feature selec-
tion from microarray gene expression data. Journal of bioinformatics and
computationalbiology3,02(2005),185–205.
[9] Ann-ChristinEliasson,LenaKrumlinde-Sundholm,BirgitRo¨sblad,EvaBeck-
ung, Marianne Arner, Ann-Marie O¨hrvall, and Peter Rosenbaum. 2006. The
ManualAbilityClassificationSystem(MACS)forchildrenwithcerebralpalsy:
scale development and evidence of validity and reliability. Developmental
medicineandchildneurology48,7(2006),549–554.Wristmovementclassificationforrehabilitationofchildren 23
[10] Peter Fikar, Florian Gu¨ldenpfennig, and Roman Ganho¨r. 2018. The use (ful-
ness) of therapeutic toys: Practice-derived design lenses for toy design. In
Proceedingsofthe2018DesigningInteractiveSystemsConference.289–300.
[11] ˙Ipek Gu¨rbu¨zsel, Tilbe Go¨ksun, and Aykut Cos¸kun. 2022. Eliciting parents’
insightsintoproductsforsupportingandtrackingchildren’sfinemotordevel-
opment.InInteractionDesignandChildren.544–550.
[12] Sepp Hochreiter and Ju¨rgen Schmidhuber. 1997. Long short-term memory.
Neuralcomputation9,8(1997),1735–1780.
[13] AndreyIgnatov.2018. Real-timehumanactivityrecognitionfromaccelerom-
eter data using Convolutional Neural Networks. Applied Soft Computing 62
(2018),915–922.
[14] Diederik P Kingma and Jimmy Ba. 2014. Adam: A method for stochastic
optimization. arXivpreprintarXiv:1412.6980(2014).
[15] DanielaMicucci,MarcoMobilio,andPaoloNapoletano.2017. Unimibshar:
A dataset for human activity recognition using acceleration data from smart-
phones. AppliedSciences7,10(2017),1101.
[16] SvetlanaMironcika,AntoinedeSchipper,AnnetteBrons,HuubToussaint,Ben
Kro¨se,andBenSchouten.2018. Smarttoysdesignopportunitiesformeasur-
ing children’s fine motor skills development. In Proceedings of the Twelfth
InternationalConferenceonTangible,Embedded,andEmbodiedInteraction.
349–356.
[17] David Moreno Naya, Francisco J Vazquez-Araujo, Paula M Castro, Jamile
VivasCosta,AdrianaDapena,andLuzGonza´lezDoniz.2021. Utilizationofa
MobileApplicationforMotorSkillEvaluationinChildren. AppliedSciences
11,2(2021),663.
[18] TamannaMotaharandJasonWiese.2022. AReviewofPersonalInformatics
Research for People with Motor Disabilities. Proceedings of the ACM on
Interactive,Mobile,WearableandUbiquitousTechnologies6,2(2022),1–31.
[19] AbdulmajidMuradandJae-YoungPyun.2017.Deeprecurrentneuralnetworks
forhumanactivityrecognition. Sensors17,11(2017),2556.
[20] Henry Friday Nweke, Ying Wah Teh, Mohammed Ali Al-Garadi, and
UzomaRitaAlo.2018. Deeplearningalgorithmsforhumanactivityrecogni-
tionusingmobileandwearablesensornetworks:Stateoftheartandresearch
challenges. ExpertSystemswithApplications105(2018),233–261.
[21] Henry Friday Nweke, Ying Wah Teh, Ghulam Mujtaba, and Mohammed Ali
Al-Garadi. 2019. Data fusion and multiple classifier systems for human ac-
tivity detection and health monitoring: Review and open research directions.
InformationFusion46(2019),147–170.
[22] ZoeyEPage,StephanieBarrington,JacquelineEdwards,andLisaMBarnett.
2017. Do active video games benefit the motor skill development of non-
typicallydevelopingchildrenandadolescents:Asystematicreview.Journalof
scienceandmedicineinsport20,12(2017),1087–1100.
[23] Liangying Peng, Ling Chen, Zhenan Ye, and Yi Zhang. 2018. Aroma: A
deepmulti-tasklearningbasedsimpleandcomplexhumanactivityrecognition24 K.Schoorletal.
methodusingwearablesensors.ProceedingsoftheACMonInteractive,Mobile,
WearableandUbiquitousTechnologies2,2(2018),1–16.
[24] Ivan Miguel Pires, Nuno M Garcia, Nuno Pombo, and Francisco Flo´rez-
Revuelta.2016. Fromdataacquisitiontodatafusion:acomprehensivereview
andaroadmapfortheidentificationofactivitiesofdailylivingusingmobile
devices. Sensors16,2(2016),184.
[25] Nishkam Ravi, Nikhil Dandekar, Preetham Mysore, and Michael L Littman.
2005. Activity recognition from accelerometer data. In AAAI, Vol. 5. 1541–
1546.
[26] RichardMRyanandEdwardLDeci.2000.Intrinsicandextrinsicmotivations:
Classicdefinitionsandnewdirections. Contemporaryeducationalpsychology
25,1(2000),54–67.
[27] Albert Ali Salah, Ben AM Schouten, Stefan Go¨bel, and Bert Arnrich. 2014.
Playful interactions and serious games. Journal of Ambient Intelligence and
SmartEnvironments6,3(2014),259–262.
[28] Jo¨rgSander,AntoinedeSchipper,AnnetteBrons,SvetlanaMironcika,Huub
Toussaint, Ben Schouten, and Ben Kro¨se. 2017. Detecting delays in motor
skilldevelopmentofchildrenthroughdataanalysisofasmartplaydevice.In
Proceedingsofthe11thEAIInternationalConferenceonPervasiveComputing
TechnologiesforHealthcare.AssociationforComputingMachinery,88–91.
[29] Mike Schuster and Kuldip K Paliwal. 1997. Bidirectional recurrent neural
networks. IEEEtransactionsonSignalProcessing45,11(1997),2673–2681.
[30] Luis Serpa-Andrade, Isaac Ojeda-Zamalloa, Angel Perez-Mun˜oz, Vladimir
Robles-Bykbaev, and Adriana Leon-Pesantez. 2021. Intelligent Environment
to Support Fine Motor Learning in Children with and Without Motor Disor-
der.InInternationalConferenceonAppliedHumanFactorsandErgonomics.
Springer,332–337.
[31] David Williamson Shaffer and James Paul Gee. 2006. How computer games
helpchildrenlearn. Springer.
[32] MuhammadShoaib,StephanBosch,OzlemDurmazIncel,HansScholten,and
Paul JM Havinga. 2014. Fusion of smartphone motion sensors for physical
activityrecognition. Sensors14,6(2014),10146–10176.
[33] JindongWang,YiqiangChen,ShujiHao,XiaohuiPeng,andLishaHu.2019.
Deeplearningforsensor-basedactivityrecognition:Asurvey. PatternRecog-
nitionLetters119(2019),3–11.
[34] KunXia,JianguangHuang,andHanyuWang.2020. LSTM-CNNarchitecture
forhumanactivityrecognition. IEEEAccess8(2020),56855–56866.
[35] Hanbin Zhang, Chenhan Xu, Huining Li, Aditya Singh Rathore, Chen Song,
Zhisheng Yan, Dongmei Li, Feng Lin, Kun Wang, and Wenyao Xu. 2019.
Pdmove: Towards passive medication adherence monitoring of parkinson’s
diseaseusingsmartphone-basedgaitassessment. ProceedingsoftheACMon
interactive,mobile,wearableandubiquitoustechnologies3,3(2019),1–23.
[36] ZhenyuZhao,RadhikaAnand,andMalloryWang.2019. Maximumrelevance
andminimumredundancyfeatureselectionmethodsforamarketingmachineWristmovementclassificationforrehabilitationofchildren 25
learning platform. In 2019 IEEE International Conference on Data Science
andAdvancedAnalytics(DSAA).IEEE,442–452.