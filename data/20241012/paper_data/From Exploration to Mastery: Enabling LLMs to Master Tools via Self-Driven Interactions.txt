FROM EXPLORATION TO MASTERY: ENABLING LLMS
TO MASTER TOOLS VIA SELF-DRIVEN INTERACTIONS
ChangleQu1,SunhaoDai1,XiaochiWei2,HengyiCai3,
ShuaiqiangWang2,DaweiYin2,JunXu1,Ji-rongWen1
1GaolingSchoolofArtificialIntelligence,RenminUniversityofChina
2BaiduInc.,3InstituteofComputingTechnology,ChineseAcademyofSciences
{changlequ,sunhaodai,junxu,jrwen}@ruc.edu.cn,yindawei@acm.org
weixiaochi@baidu.com,caihengyi@ict.ac.cn,shqiang.wang@gmail.com
ABSTRACT
ToollearningenablesLargeLanguageModels(LLMs)tointeractwithexternal
environmentsbyinvokingtools, servingasaneffectivestrategytomitigatethe
limitationsinherentintheirpre-trainingdata. Inthisprocess,tooldocumentation
playsacrucialrolebyprovidingusageinstructionsforLLMs,therebyfacilitat-
ing effective tool utilization. This paper concentrates on the critical challenge
ofbridgingthecomprehensiongapbetweenLLMsandexternaltoolsduetothe
inadequaciesandinaccuraciesinherentinexistinghuman-centrictooldocumenta-
tion. Weproposeanovelframework,DRAFT,aimedatDynamicallyRefining
tooldocumentationthroughtheAnalysisofFeedbackandTrailsemanatingfrom
LLMs’interactionswithexternaltools. Thismethodologypivotsonaninnovative
trial-and-errorapproach,consistingofthreedistinctlearningphases: experience
gathering,learningfromexperience,anddocumentationrewriting,toiteratively
enhancethetooldocumentation.Thisprocessisfurtheroptimizedbyimplementing
adiversity-promotingexplorationstrategytoensureexplorativediversityanda
tool-adaptiveterminationmechanismtopreventoverfittingwhileenhancingeffi-
ciency. ExtensiveexperimentsonmultipledatasetsdemonstratethatDRAFT’s
iterative,feedback-basedrefinementsignificantlyamelioratesdocumentationqual-
ity, fosteringadeepercomprehensionandmoreeffectiveutilizationoftoolsby
LLMs. Notably,ouranalysisrevealsthatthetooldocumentationrefinedviaour
approachdemonstratesrobustcross-modelgeneralizationcapabilities.
1 INTRODUCTION
Toollearning(Mialonetal.,2023;Qinetal.,2023b;Schicketal.,2024;Quetal.,2024b),which
integratesexternaltoolswithlargelanguagemodels(LLMs),hassignificantlyenhancedthecapability
ofLLMstoaddresscomplexreal-worldtasks(Nakanoetal.,2021;Qinetal.,2023a;M.Branetal.,
2024). Byleveragingexternaltools,LLMsareabletomitigatethelimitationsofoutdatedpre-training
dataandthetext-in-text-outinterface,enablingthemtoaccessup-to-dateinformation,interactwith
dynamic environments, and take actions beyond their original scope (Zhuang et al., 2024; Wang
et al., 2024a). To effectively utilize these external tools, LLMs are typically provided with tool
documentationascontext(Shenetal.,2024;Songetal.,2023;Xuetal.,2023). Thisdocumentation
providesessentialinformationonhowtoolsfunction,theirpotentialuses,andthewaysinwhich
theycanbeleveragedtosolvecomplextasks. Byincorporatingtooldocumentationwithinthetask
instructions,LLMscanleveragetheirin-contextlearningabilitiestounderstandandutilizethetools
efficiently(Weietal.,2022;Hsiehetal.,2023). Therefore,tooldocumentationisanindispensable
componentdrivingthesuccessoftoollearning,servingasabridgebetweenLLMsandexternaltools.
However, existingtoolsprimarilyoriginatefrompre-established, human-engineeredcodereposi-
toriesandarenotexplicitlytailoredfortheutilizationofLLMsfromtheirinception,letalonethe
corresponding tool documentation. In fact, orchestrating an ideal documentation for an external
toolthatadaptstothespecificrequirementsofLLMsremainsachallengingendeavor. First,the
originalhuman-craftedtooldocumentationistypicallycreatedwithhumanintuitioninmind,and
isoftenfraughtwithinconsistencyandambiguities,asitprimarilycaterstohumanunderstanding
1
4202
tcO
01
]LC.sc[
1v79180.0142:viXraIncomplete Documentation What is this tool used for ?
"name": "GetSearchImage",
"description": " "
Why did it go wrong?
Redundant Documentation "para_name": "imageId",
"description": "Image identifier."
Error: The resource could not be found. Trail Trail
(b)
What is the key information ?
Inaccurate Documentation “description”: “A QR code generator API is Win Tie Lose 5.5%2%
a tool that enables developers to …
Why does the result not Documentation 2 is easier to under RestBench-TMDB 92.5%
match the description? stand! Here are the reasons:
"description": "SQUAKE helps businesses 1 2. . * ** *D Ere rt oa ril Ha an nd d C lil na gr *it *y : * …*: ... RestBench-Spotify77.5% 17.5% 5%
to build sustainable products! With the most 3. **Parameters Explanation**: … ToolBench 87.9% 11.4%
performant API in the market ..." 4. **Example Provided**: …
(a) Actual return results: I'm a teapot. (c) 0.7%
Figure1: (a): Anillustrationshowcasingissuesincurrenttooldocumentation,includingincomplete,
redundant,andinaccurateinformation. (b): AnillustrationofhowLLMsincrementallyenhancetheir
understandingoftoolusagethroughiterativeexploration,transitioningfromuntestedfunctionalities
(gray)todiscoveredcapabilities(white)viaatrial-and-errorprocess. (c): Thecomparisonbetween
therawandimprovedtooldocumentationregardingitsusefulnessonthreetoollearningdatesets,
highlightingthatDRAFTisabletoproducetooldocumentationsthataremorefavoredbyLLMs.
and usually lacks the precision required for machine interpretation (Chemero, 2023; Yuan et al.,
2024). AsillustratedinFigure1(a),incompletedocumentationmakesitdifficultforLLMstoclearly
understandthepurposeofatoolandwhenitshouldbeinvoked,whileredundantdocumentation,
containingexcessiveirrelevantinformation,obscureskeydetailsandincreasestokenconsumptionin
prompts. Additionally,inaccuratedocumentationthatdoesnotreflectthetool’sactualcapabilitiescan
leadtodiscrepanciesbetweenthetool’soutputsanditsdescription,leadingtothepotentialmisuseof
thetoolbyLLMs. TheseissuesobstructtheeffectiveutilizationoftoolsbyLLMs. Second,manual
modificationofthesedocumentations,evenwithmeticulousrevisions,struggletofullyencompass
allaspectsoftoolusage,sincediscerningthespecificscopeatoolcanmanageandidentifyingits
edgeuse-casesoftennecessitatesconsiderablehands-onexperience. Forexample,asdepictedin
Figure1(a),incompletedocumentationalsofailstomentioncertainconstraintsontheparameters,
andtheLLM,beingunawareofthisundocumentedconstraint,generatesanerrorwheninvokingthe
toolwithaninvalidparametervalue. Addressingtheseissuesbymanuallycorrectingorenhancing
tooldocumentationistime-consumingandlabor-intensive. Moreover,thismaynotscaletoasub-
stantialnumberoftoolseffectively. Furthermore,thedynamicnatureoftooldevelopmentfurther
exacerbatesthisissue, asfunctionalitiesoftoolsarefrequentlyupdated, deprecated, orextended.
Maintaininganup-to-dateandaccuraterepresentationofsuchevolvingfunctionalitieswithinthetool
documentationbecomesanarduoustask. Thismisalignmentbetweenthetooldocumentationwith
thecurrentstateofthetoolhinderstheefficientandcorrectutilizationoftoolsbyLLMs.
Humans,onthecontrary,acquireproficiencyintoolusagethroughrepeatedinteractionsandhands-on
experiences,capableofmaintaininganupdatedcomprehensionofthesetoolsdespitetheirevolving
functionalities. Inlightofthis,thispaperproposesanovelframework,DRAFT,conceptualizedto
automatetheadjustmentandoptimizationoftooldocumentationbasedontheoutcomesandfeedback
derivedfromtheLLM’sinteractionwiththetool,aimingexplicitlyatbridgingthecomprehension
gapbetweenLLMsandexternaltools.
Moreconcretely,DRAFTimplementsatrial-and-errormethodologytoincrementallyimprovethe
tool documentation. As shown in Figure 2, DRAFT orchestrates three dynamically interlinked
phases: experiencegathering,learningfromexperience,anddocumentationrewriting,whichcollec-
tivelyfacilitatetheiterativeprocessofdocumentationenhancement. Itfirstundertakesthesimulation
ofpotentialtoolapplicationscenarios,craftingexplorativeinstancesandcapturingtoolexecution
outcomesthroughadesignedexplorer. Subsequently,theanalyzerdissectstheprevailingdocumen-
tation, amalgamating insights from the explorer’s findings and feedback to moot documentation
modificationpropositions. Finally,therewriteramalgamatestheseinsights,refiningthetooldocu-
mentationwhilesimultaneouslyguidingfurtherexplorativepursuitsbytheexplorer. Tooptimize
thisprocess,wedesignadiversity-promotingexplorationstrategytoensurediversityinexploration,
thusprovidingawiderrangeofsamplesforsubsequentrewriting. Recognizingthatdifferenttools
varyincomplexityforLLMstocomprehend,weintroduceatool-adaptiveterminationmechanismto
improveefficiencyduringmodificationsbyhaltingtheiterativeprocessoncethedocumentationaligns
2Diversity-promoting Tool Name: GET_person_person_id
T Do oo cl Trail Trail … Trail T Do oo cl Exploration Strategy D (#e es nc dr pip ot inio t:n C: S… aMA jd Cd xe Xd Ath tGe p[t xr Nan Gs fl Sat )i …ons]
Explorer Experience Gathering Similarity Constraint Query: Can you give me details about the
person with ID 12345?
Tool Tool-use Explored New Generated Tool Parameters: {"ID":"12345"}
Doc Examples Queries Query O "1b 9s 1e 9r -v 1a 1t -i 2o 9n ": ,{ "" db eio ag thr dap ayh "y :" ": 1" 9", 9 " 6b -0ir 1th -0d 1a "y ," :
Exam Generate Query Simulate Tool-use Self-Reflection "gender": 2, "homepage": null …}
ple
Doc E pxa lem Learning from Experience
Tool-adaptive Termination
S 1.u Ig ng ce ls ut di eo n R:
e
H spe or ne sa er e
F
is eo ldm se
:
…sug 2g .e Cst li ao rn ifs y:
Tool Tool-use Mechanism Parameters: … 3. Explain "append_to_r
Doc Examples esponse": … 4. Update Recent Change
s: … 5. Provide Example Usage: … 6.
Analyzer Analyze documentation problem Suggestions Tool Tool Tool Remove Irrelevant Information: ...
Doc Documentation Rewriting Doc1 Doc1 Doc1 DT oo co 1l R ine fw orr mit ain tig o:
n
T ah bi os
u
A
t
P
a
I
p
r ee rt sr oie nv ue ss
i
d ne gt a thil ee id
r
T Do oo cl ET xo ao ml- pu ls ee
s
T Do oo cl DT oo co 2l DT oo co 2l DT oo co 2l DT oo co 2l u A pan P ri aq I mu se u
e
p tI eD p ro …. rT t sh
E
e t xh r aee
m
s 'p a ppo lepn s e ue sn ai dn g_c etl :u o …d _e res s… po nT sh ee '
Rewriter Comprehensive Rewriting Direction for Next Exploration: …
Figure 2: Schematic illustration of our proposed self-driven iterative improvement framework,
DRAFT.Theleftpartillustratesthethreedistinctlearningphasesinourframework. Themiddle
partshowsthetwospecializedmechanismsdesignedtooptimizetheprocess. Therightpartdepicts
anexampleofusingDRAFTtoiterativelymodifythetooldocumentation.
withthecomprehensionofLLMs,therebysavingtimeandresourceswhilepreventingoverfitting.
Throughthiscollaborative,iterativeframework,thedocumentationprogressivelymorphs,aligning
morecoherentlywithLLMsoperationalrequisites,andthusempoweringLLMstoleverageexternal
toolsmoreeffectivelyintheirproblem-solvingendeavors.
Insummary,ourcontributionsareasfollows: (1)Wehighlightthatduetotheinherentunderstanding
gapbetweenLLMsandhumans,inefficienciesandinaccuracieswithinexistingtooldocumentation
hampertheeffectiveutilizationoftoolsbyLLMs. (2)Weintroduceanovelframework,DRAFT,
designedtodynamicallyadjustandoptimizetooldocumentationbasedontheinteractionfeedback
betweenLLMsandexternaltools,whichsignificantlybridgesthegapbetweenthembyenabling
theLLMstobettercomprehendandutilizethetoolsattheirdisposal,therebyenhancingtheoverall
tool-usingcapabilitiesofLLMs. (3)ExtensiveexperimentsdemonstratethatDRAFTsignificantly
improvesthequalityoftooldocumentationandenhancestheabilityofLLMstoutilizeexternaltools.
2 METHODS
Inthissection,wewillfirstintroducetheoverviewofDRAFT,andthenprovidedetailedexplanations
ofthethreeincludedlearningstages. ThelearningalgorithmispresentedinAlgorithm1.
2.1 OVERVIEWOFDRAFT
Toaddressthechallengesofinadequate,ambiguous,andoutdatedtooldocumentationthathinder
LLMsfromeffectivelyutilizingexternaltools,weproposeDRAFT,aframeworkthatiteratively
refinestooldocumentationtobridgethecomprehensiongapbetweenLLMsandtools. Asillustrated
inFigure2,DRAFToperatesthroughthreeinterconnectedphases: experiencegathering,learning
from experience, and documentation rewriting. In the experience gathering phase, an explorer
simulatesdiversetoolusagescenarios,collectingdataonhowtheLLMinteractswiththetoolbased
on the current documentation, thus uncovering misunderstandings and limitations. The learning
fromexperiencephaseinvolvesananalyzerexaminingthisdatatoidentifydiscrepanciesbetween
intendedandactualtoolusage,pinpointingambiguitiesorinaccuraciesinthedocumentation,and
proposingtargetedimprovements. Inthedocumentationrewritingphase,arewriterintegratesthese
insightstoupdatethedocumentation,enhancingclarityandalignmentwiththetool’sfunctionalities.
Through this trial-and-error framework, DRAFT is capable of simulating the process by which
humansacquireproficiencyintoolusagethroughrepeatedinteractionsandhands-onexperiences,
therebyautomatingthecreationoftooldocumentationspecificallydesignedforLLMs. Furthermore,
byemployingthediversity-promotingexplorationstrategyandtool-adaptiveterminationmechanism,
DRAFTefficientlyconvergesonoptimizeddocumentation,enablingLLMstoutilizeexternaltools
moreeffectivelydespitetheinitialdocumentationshortcomings.
3Algorithm1:TheLearningAlgorithmofDRAFT
Input:RawtooldocumentationsetD,iterationroundI,similaritythresholdϕ,terminationthresholdτ.
Output:RevisedtooldocumentationsetD˜.
1 InitializetherevisedtooldocumentationsetD˜ ←∅
2 forrawtooldocumentationt∈Ddo
3 fori=1toIdo
4 // Experience Gathering(§2.2)
5 InstructExplorertogenerateanexploratoryinstancee iusingEq.(1)
6 whilemax j<isim(eq i,eq j)>ϕdo
7 InstructExplorertogenerateanewexploratoryinstancee i
8 end
9 InstructExplorertocapturetheoutcomesoftoolexecutionr i
10 // Learning from Experience(§2.3)
11 InstructAnalyzertolearnfromexperienceandprovidesuggestionss iformodificationsusingEq.(3)
12 // Documentation Rewriting(§2.4)
13 InstructRewritertorevisethedocumentationbasedonexperienceandsuggestionstoget
revisedtooldocumentationt andproposenewexplorationdirectionsd usingEq.(4)
i i
14 Calculatethesimilarities∆betweent i−1andt iusingEq.(5)
15 if∆>τ then
16 Break
17 end
18 end
19
UpdatingtherevisedtooldocumentationsetD˜ ←D˜∪t
i
20 end
21
returnD˜
2.2 EXPERIENCEGATHERING
In the experience gathering phase, we design an
Explorer Analyzer
Explorer A to simulate plausible scenarios in ## Task Prompt: ## Task Prompt:
E Your task is to answer the user's query as best you can. You have access You task is to provide suggestions for modifying the tool documentation
which the tool may be utilized. This approach par- to the following tools, which you can use via tool calling to help with based on the current tool documentation, the explored queries and
allelsthemannerinwhichindividualsinvestigatethe your response: {Tool Documentation} parameters, and the results returned by the tool. You have access to the
Now you have the chance to explore the available tools. You can do this following tools: {Tool Documentation} ...
potential applications of a new tool when they are by ... Below are explored queries, the required parameters and the outputs of the
Here is an example: {"User Query": " ", "Parameters"::{ }} tool: {Explored_examples}
unabletocomprehendtheaccompanyingmanual. ## Memory Mechanisms: Here is an example: {"Suggestions": "XXX"}
Below are queries you have already explored: {Explored queries} ## Memory Mechanisms:
Specifically,atthei-thiteration,theExplorergen- Based on these, try to explore queries that ... The following is the history of you modifying the tool description: {History}
eratesanexplorationinstancee basedonthecurrent Here are some suggestions to explore the tool: {Suggestions} ... Based on the above information, provide more constructive suggestions.
i
tooldocumentationt ,next-stepexplorationdirec-
i−1 Figure3: Prompttemplateforexplorer.
tiond fromtheRewriter,andtheprevioushis-
i−1
toryH
i
={(e j,r j)|j <i},whichconsistsofpriorexplor #a #t Tio asn
k
Pin ros mta ptn :cese <iandtheiRrecworirterresponding
returnresultsofthetoolr <i. ThisprocessisformalizedaYosurf toaslkl ios two rsef:ine the description of the tool based on the queries and
parameters you've explored, the outputs provided by the tool, as well as the
e =M (t ,d su,gHgesti)on,s provided. You have access to the following tools: {T(oo1l )
i E i−1 i−1Documientation} ...
wheree iconsistsofauserqueryeq i relatedtothetoolanB tode ol lo : w t{Eh a xr epe le onx rp eedlo _cr ee exd a sq mu spe ar lei re ss }y, th pe areq ru air med epa tra em re ster es ap in .d t The hou etpu it ns o if t ith ae l
tooldocumentationisdenotedast , representingtheraAwdditidonoalclyu, hmeree arne tsaomtei osunggepstiroonsv foird uepddatinign thet htoeol ddesacrtiaptsioen:t .
0 {Suggestions} ...
Aftergeneratinge ,theExplorerinvokesthetooltooHbetrea iisn ant ehxaemprlee:s {u "lRterwritrteent duesrcnrieptdionb":y ""t,h "eSutgogeostlio.ns for
i i
exploring": ""}
Giventhattoolutilizationofteninvolvescomplexparamet#e#r Mreamnogrey sM,eccohamnisbmins:ations,andpotentialerror
The following is the history of you modifying the tool description: {History}
sources,itiscrucialtoensurediversityintheexplorationBpasheda osne thteo infcoromvateiorn aabowve, irdeweritse pthee ctotorl udemscripotifonp anods psroivbidlee
scenarios. Toaddressthis,besidesmaintainingarecordmoofre acolnlstrpucrtievev siuogguesstiolnys feorx expplloorartioend. queries—which
we provide to the Explorer to instruct it to generate instances that differ from those already
generated—wealsoimplementadiversity-promotingexplorationstrategy:
Similarity Constraint. When generating a new instance, the Explorer calculates the cosine
similaritybetweenthenewgeneratedqueryeq andallpriorquerieseq forj <i,usingembedding
i j
vectorsobtainedfromOpenAI’stext-embedding-ada-0021. Thesimilarityiscomputedas:
maxsim(eq,eq)<ϕ, (2)
i j
j<i
1https://openai.com/index/new-and-improved-embedding-model/
4wheresim(·,·)denotesthecosinesimilarityfunction,andϕisapredefinedthresholdcontrolling
theallowedsimilarity. Thisconstraintensuresthatthenewqueryissufficientlydifferentfromall
previousqueries,promotingdiversityinexploration.
Self-Reflection. If the similarity constraint is not satisfied (i.e., the new query is too similar to
previous ones), the Explorer engages in self-reflection. It discards the current instance and
analyzesthereasonsfortheoverlap,adjustingitsapproachtogenerateanewquerythatexplores
differentaspectsofthetool. Thisiterativeself-reflectionprocesscontinuesuntiltheExplorer
producesaninstancethatmeetsthediversitycriterion.
Byincorporatingthisdiversity-promotingexplorationstrategy,weenhancetheexplorationcoverage
oftheExplorer,allowingittoinvestigateabroaderrangeoftoolfunctionalitiesandedgecases.
Thiscomprehensivesetofexplorationinstancesiscrucialforidentifyingpotentialmisunderstandings
and gaps in the tool documentation, thereby providing valuable experiential data for subsequent
analysisanddocumentationrewriting. Figure3illustratesourprompttemplateforExplorer.
2.3 LEARNINGFROMEXPERIENCE
Analogoustohowhumanslearn—acquiringfamiliar-
Explorer Analyzer
ity w#i#th Tanske Pwromtpoto:ls through practical experiences and ## Task Prompt:
Your task is to answer the user's query as best you can. You have access You task is to provide suggestions for modifying the tool documentation
thenctoo thne sfoulllotwiinngg toomls, awnhiucha ylosu ctaon udse eviea ptoeoln calulinngd toe hreslpt wainth ding—the based on the current tool documentation, the explored queries and
your response: {Tool Documentation} parameters, and the results returned by the tool. You have access to the
insightsgainedduringtheexperiencegatheringphase
Now you have the chance to explore the available tools. You can do this following tools: {Tool Documentation} ...
providbye ...afoundationforinformedandtargetedenhance- Below are explored queries, the required parameters and the outputs of the
Here is an example: {"User Query": " ", "Parameters"::{ }} tool: {Explored_examples}
ments##t Moemthoery dMoecchuanmismesn:tation. Thus,buildinguponthe Here is an example: {"Suggestions": " "}
experBieelonwc aere qguearitesh yeour headve ailnreadtyh eexplfiorerds: t{Epxphloaresd equ,etrihese} secondphase ## Memory Mechanisms:
Based on these, try to explore queries that ... The following is the history of you modifying the tool description: {History}
focusHeesre aoren somaen suaggleystzionisn tog extphlories thed toaolt: a{Sutgogesrtieonfis}n ...ethetooldocu- Based on the above information, provide more constructive suggestions.
mentation. Inthisphase,weintroduceanAnalyzer
designedtoidentifyandaddressissueswithinthecur- Figure4: Prompttemplateforanalyzer.
renttooldocumentation,therebRyewgriuteridingtheRewriterinmakingeffectiverevisions.
## Task Prompt:
FormYaoulrl ytas,k aist tot rhefeinei t-het hdesictrieptrioant oifo thne ,totohl beaseAd onn athel quyerziese anrd takesthefollowinginputs: currenttooldocumentation
parameters you've explored, the outputs provided by the tool, as well as the
t ,sugegxesptiolnos rparotviidoend. Yionu shatvaen accceess eto t,he tfoolloowlinfge toeodls:b {aTocokl r provided by the Explorer, and the history of
i−1Documentation} ... i i
docuBmeloewn artea extpiloorend qrueerviesi,s thieo renqusireTd par=amet{erst and |thej ou<tputsi o}f .theT hentheAnalyzeranalyzestheseinputstoidentify
i j
tool: {Explored_examples}
issueAsddaitniondallyg, ehenree arrea sotmee rsuegvgeisstioinos nfor supudagtignge thset tioool ndesscrsipiti:on:
{Suggestions} ...
Here is an example: { "Rewritten description": "", "Susgge=stionMs for (t ,e ,r ,T ). (3)
exploring": ""} i A i−1 i i i
## Memory Mechanisms:
ToenTsheu frolelowtihnga ist ttheh heistoAryn ofa yolu myodzifyeinrg thce taoonl dpescrroipvtioind: {eHishtoirgy}h-qualityandrelevantrevisionsuggestions,weestablish
severBaaslede ovn athleu inafotrimoatnionc arboivtee, rreiwari,tei tnhec toloul ddeisncrigptiocno annds pirosvtieden cywithtooloutputs,comprehensiveness,andconcise-
more constructive suggestions for exploration.
nesswithoutirrelevantinformation(asdetailedinAppendixB).ThesecriteriaenableAnalyzer
to identify and assess issues present within the existing tool documentation. By considering the
historical evolution of the documentation through the revision history T , the Analyzer gains
i
valuableinsightsintopastupdates,helpingitavoidredundantorrepetitivesuggestionsandfocuson
areasthatstillrequireimprovement. TheprompttemplateforAnalyzerisillustratedinFigure4.
Furthermore,theAnalyzerdeliversitsfeedbackinnaturallanguage,offeringdetailedandnuanced
guidancetotheRewriterforsubsequentupdates. Thisapproachcontrastswithprovidingmere
scalarfeedback,asitensurestheRewriterreceivescomprehensiveinsightsthatfacilitateaccurate
andeffectiverevisions,ultimatelyenhancingtheclarityandusabilityofthetooldocumentation.
2.4 DOCUMENTATIONREWRITING
Buildingupontheexperiencesgatheredandtherevisionsuggestionsobtainedfromtheprevioustwo
phases,thefinalphasefocusesonrefiningthetooldocumentationtoenhanceitsclarity,accuracy,and
usability,ensuringitalignswiththecomprehensioncapabilitiesofLLMs. Thisphasealsoprovides
suggestionsforfutureexplorationdirectionsinthenextiterationoftheexperiencegatheringphase.
Specifically,wedesignaRewritertosynthesizeinformationfromtheexplorationinstancese
i
and the corresponding tool return results r provided by the Explorer, as well as the revision
i
suggestions s from the Analyzer. It is important to note that the Rewriter also takes into
i
accounttherewritehistoryT ,whichincludesallpreviousversionsofthetooldocumentationup
i
toiterationi. Byintegratingtheseinputs,theRewriterproducesanupdatedversionofthetool
5Explorer Analyzer
## Task Prompt: ## Task Prompt:
Your task is to answer the user's query as best you can. You have access You task is to provide suggestions for modifying the tool documentation
to the following tools, which you can use via tool calling to help with based on the current tool documentation, the explored queries and
your response: {Tool Documentation} parameters, and the results returned by the tool. You have access to the
documentation t and provides suggestions for the nextNorwo yuoun hdave othfe cehaxncpe ltoo erxaplotrieo thne advaiilraeblce ttoiools.n Ysoud can. doT thhis is following tools: {Tool Documentation} ...
i by ... i Below are explored queries, the required parameters and the outputs of the
processisformalizedas: Here is an example: {"User Query": " ", "Parameters"::{ }} tool: {Explored_examples}
d ,t =M (t ,e ,r##, Msem,Tory) M.echanisms: (4) Here is an example: {"Suggestions": "XXX"}
i i R i−1 i Bi elow i are qui eries you have already explored: {Explored queries} ## Memory Mechanisms:
Byincorporatingtherevisionhistoryintoitsprocess,thBeasRed eonw thresei, trty teo erxploeren qsuuerirese tshatt .h..ateachversionof The following is the history of you modifying the tool description: {History}
Here are some suggestions to explore the tool: {Suggestions} ... Based on the above information, provide more constructive suggestions.
the documentation builds upon its predecessors, resulting in continuous improvements in clarity,
accuracy,andusability. TheprompttemplatetogetRewriterisshowninFigure5.
Furthermore,recognizingthatdifferenttoolsvaryin
Rewriter
theircomplexityandtheeasewithwhichLLMscan ## Task Prompt:
Your task is to refine the description of the tool based on the queries and
comprehendthem,weimplementatool-adaptiveter- parameters you've explored, the outputs provided by the tool, as well as the
suggestions provided. You have access to the following tools: {Tool
minationmechanismtoadaptivelydeterminewhen Documentation} ...
toceasemodificationsforeachtool. Analogousto Below are explored queries, the required parameters and the outputs of the
tool: {Explored_examples}
recipesrequiringdifferentlevelsofexpertise,some Additionally, here are some suggestions for updating the tool description:
{Suggestions} ...
toolsmayreachoptimaldocumentationfasterthan Here is an example: { "Rewritten description": "", "Suggestions for
others. Weconsidertheiterativeprocesstohavecon- exploring": ""}
## Memory Mechanisms:
vergedwhenthereisminimalchangebetweentwo
The following is the history of you modifying the tool description: {History}
consecutiveversionsofthedocumentation,indicat- Based on the information above, rewrite the tool description and provide
more constructive suggestions for exploration.
ingthattheRewriterhassufficientlyalignedthe
documentationwiththeLLM’sunderstanding.
Figure5: Prompttemplateforrewriter.
Specifically, we measure the degree of change ∆
betweeniterationsbycalculatingboththeword-matchmetric(e.g., BLEUscore(Papinenietal.,
2002))andthesemantic-matchmetric(e.g.,cosinesimilarityofembeddings):
sim(et,et )+BLEU(t ,t )
∆= i i−1 i i−1 , (5)
2
whereetandet aretheembeddingvectorsoft andt obtainedusingOpenAI’stext-embedding-
i i−1 i i−1
ada-002. Thefunctionsim(·,·)calculatesthecosinesimilaritybetweenthesemanticembedding
vectorsoftwodocumentationversions,andBLEU(·,·)measuresthen-gramoverlapbetweenthem.
If∆exceedsapredefinedterminationthresholdτ,westoptheiterativemodifications.
Thistool-adaptiveterminationmechanismoffersseveraladvantages: First,itenhancesefficiencyby
ceasingiterationswhenthedocumentationisadequatelyalignedwiththeLLM’scomprehension,
conservingcomputationalresourcesandtime. Second,itpreventsunnecessarymodificationsthat
could lead to overfitting, thus optimizing the quality of the documentation. By employing both
theBLEUscoreandcosinesimilarity,weensureabalancedassessmentofstructuralandsemantic
alignment,ultimatelyyieldinghigh-qualitydocumentationtailoredforeffectiveLLMutilization.
2.5 DRAFT’SSTRENGTHS
Inthissection,weoutlinethekeystrengthsoftheproposedDRAFTframework. Firstandforemost,
DRAFToperatesinafullyautomatedmanner,whichsignificantlyreducesresourceconsumption
incomparisontothetime-consumingandlabor-intensivemanualmodificationsthataretypically
required. Furthermore,byemployingatrial-and-errormethodology,DRAFTcontinuouslyupdates
tooldocumentationbasedonfeedbackregardingtoolusageobtainedfromLLMs,therebyenhancing
thealignmentbetweentooldocumentationandtheoperationalunderstandingofLLMs. Additionally,
DRAFTiscapableofdynamicallymaintaininganaccurateandup-to-daterepresentationofevolving
featureswithinthetooldocumentationasthetoolsdevelop. Italsoprovidesinherentexplainability,as
theentireprocessispresentedinnaturallanguage. Userscaneasilytrackthehistoryofmodifications
andseamlesslyintegrateexpertinsightsintotheupdatingprocess.
3 EXPERIMENTS
3.1 EXPERIMENTALSETUP
Datasets. To verify the effectiveness of DRAFT, we conduct experiments on two benchmarks:
ToolBenchandRestBench. ToolBench(Qinetal.,2024)isalarge-scalebenchmarkofreal-world
APIscollectedfromRapidAPIandBMTools,commonlyusedtoevaluatethecapabilityofLLMs
intoolusage. Duetobudgetconstraints,wefocusonthemostchallengingsubsetofToolBench,
6Table1: Performancecomparisonofdifferentmethodsonthreedatasets. CP%,Win%areshortfor
CorrectPathRateandWinRate,respectively. Win%iscalculatedbycomparingeachmethodwith
ReAct. Theterm“-”meansthatEayToolhasnotbeenimplementedontheSpotifydataset. Thebest
resultforeachLLMisinbold.
RestBench-TMDB RestBench-Spotify ToolBench
Model Method
CP% Win% CP% Win% CP% Win%
ReAct 48.00 50.00 24.56 50.00 35.00 50.00
DFSDT 50.00 68.00 35.08 61.40 37.00 84.00
GPT-4o-mini
EasyTool 56.00 75.00 - - 42.00 85.00
DRAFT(Ours) 62.00 82.00 43.85 78.94 47.00 88.00
ReAct 72.00 50.00 26.31 50.00 41.00 50.00
DFSDT 74.00 38.00 63.15 61.40 42.00 54.00
Llama-3-70B
EasyTool 76.00 64.00 - - 46.00 60.00
DRAFT(Ours) 86.00 64.00 66.66 64.91 53.00 62.00
ReAct 71.00 50.00 28.07 50.00 37.00 50.00
DFSDT 74.00 61.00 64.91 56.14 41.00 73.00
GPT-4o
EasyTool 79.00 62.00 - - 45.00 77.00
DRAFT(Ours) 88.00 71.00 70.17 84.21 51.00 78.00
namelyI3-Instruction,whichcontainscomplexuserrequestsrequiringmultipletoolsfromdifferent
categories. RestBench(Songetal.,2023)isabenchmarkconsistingoftworeal-worldscenarios:
TMDB,whichincludes54movie-relatedAPIs,andSpotify,whichhas40music-relatedAPIs.
EvaluationMetrics. Followingpreviouswork(Songetal.,2023;Qinetal.,2024;Yuanetal.,2024),
weevaluateperformanceusingtwowidelyadoptedmetrics: (1)CorrectPathRate(CP%),which
measurestheproportionofinstanceswherethemodel-generatedsequenceoftoolcallscontainsthe
groundtruthtoolpathasasubsequence,allowingforstraightforwardaccuracyassessment. (2)Win
Rate(Win%),whichevaluateseffectivenessthroughpairwisecomparisonsbyaChatGPT-based
evaluator,capturingnuancedperformancedifferencesnotreflectedbyrule-basedmetrics.
Baselines. FollowingQinetal.(2024)andYuanetal.(2024),wecompareourmethodwithwidely
adoptedbaselines,including: (1)ReAct(Yaoetal.,2022),whichintegratesreasoningwithaction,
enablingLLMsnotonlytojustifytheiractionsbutalsotorefinetheirreasoningprocessesbasedon
feedbackfromtheenvironment. (2)DFSDT(Qinetal.,2024),whichaddressestheissueoferror
propagationbyincorporatingadepth-firstsearchstrategytoenhancedecision-makingaccuracy. (3)
EasyTool(Yuanetal.,2024),whichachievesmoreconcisetooldescriptionsbyusingChatGPTto
directlyrewritethedocumentationandincorporateguidelines,therebyenhancingthecomprehension
ofLLMsregardingtoolfunctionsandparameterrequirements.
ImplementationDetails. Forthemainexperiments,weusetheGPT-4oasthebackbonemodelfor
DRAFT,whichmeansthatweemploythismodeltorefinethetooldocumentationbyincorporatingits
owntoolusagefeedback. Wesetthesimilaritythresholdϕto0.9fordiversity-promotingexploration
strategy,andterminationthresholdτ to0.75fortool-adaptiveterminationmechanism. Weselect
threeofthelatestLLMstoensureourevaluationreflectsthecurrentstateofthefieldincludingthe
closed-sourcemodelsGPT-4o2andGPT-4o-mini3,aswellastheopen-sourcemodelLlama-3-70B4.
Ourcodeisavailableathttps://github.com/quchangle1/DRAFT.
3.2 EXPERIMENTALRESULTS
We present our experimental results in Table 1. Based on these results, we have the following
observations:WhileEasyToolcanslightlyimproveexperimentalperformance,itdoesnotincorporate
theexperiencefeedbackfromLLMstoiterativelyrevisethetooldocumentation. Asaresult,itcannot
fullyalignwiththeunderstandingofLLMs. Incontrast,ourmethodeffectivelyaddressestheseissues
andachievesmoresignificantimprovements. WeobservethatallLLMsachievebetterperformance
when using the tool documentation modified by DRAFT. This indicates that although our tool
2https://platform.openai.com/playground/chat?models=gpt-4o-2024-08-06
3https://platform.openai.com/playground/chat?models=gpt-4o-mini
4https://huggingface.co/meta-llama/Meta-Llama-3-70B
764.0 84.0 48.0 86.0 48.0 92.0
62.0 82.0 46.0 82.0 46.0 90.0
60.0 80.0 44.0 78.0 44.0 88.0
58.0 78.0 42.0 74.0 42.0 86.0
56.0 76.0 40.0 70.0 40.0 84.0
54.0 R Re es st tB Be en nc ch h- -T TM MD DB B WCP in% % 74.0 38.0 R Re es st tB Be en nc ch h- -S Sp po ot ti if fy y WCP in% % 66.0 38.0 T To oo ol lB Be en nc ch h WCP in% % 82.0
52.0 72.0 36.0 62.0 36.0 80.0
1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
Iteration rounds Iteration rounds Iteration rounds
(a) GPT-4o-mini
88.0 66.0 68.0 68.0 54.0 66.0
86.0 64.0 66.0 66.0 52.0 64.0
84.0 62.0 64.0 64.0 50.0 62.0
82.0 60.0 62.0 62.0 48.0 60.0
80.0 58.0 60.0 60.0 46.0 58.0
RestBench-TMDB CP% RestBench-Spotify CP% ToolBench CP%
78.0 RestBench-TMDB Win% 56.0 58.0 RestBench-Spotify Win% 58.0 44.0 ToolBench Win% 56.0
76.0 54.0 56.0 56.0 42.0 54.0
1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
Iteration rounds Iteration rounds Iteration rounds
(b) Llama-3-70b
90.0 74.0 74.0 86.0 52.0 86.0
88.0 72.0 70.0 82.0 50.0 82.0
86.0 70.0 66.0 78.0 48.0 78.0
84.0 68.0 62.0 74.0 46.0 74.0
82.0 66.0 58.0 70.0 44.0 70.0
RestBench-TMDB CP% RestBench-Spotify CP% ToolBench CP%
80.0 RestBench-TMDB Win% 64.0 54.0 RestBench-Spotify Win% 66.0 42.0 ToolBench Win% 66.0
78.0 62.0 50.0 62.0 40.0 62.0
1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
Iteration rounds Iteration rounds Iteration rounds
(c) GPT-4o
Figure6: Acomparativeanalysisofperformancebasedonvaryingnumbersofiterationrounds.
documentationwasrevisedthroughutilizingtoolusagefeedbackfromasinglemodel,itexhibits
robustcross-modelgeneralizationcapabilities. Notably,ontheToolBenchdataset,theGPT-4o-mini
enhanced with DRAFT even surpasses the performance of the GPT-4o without DRAFT. These
improvementsdemonstratetheeffectivenessof DRAFT,whichcanbeattributedtothefactthat
DRAFTiterativelylearnsfromthetoolusageexperiencesofLLMstorefinethetooldocumentation.
Inthisway,DRAFTcreatestooldocumentationspecificallyalignedwiththeunderstandingofLLMs.
3.3 FURTHERANALYSIS
How does the number of iteration rounds affect the performance of tool learning? A key
featureofDRAFTisitsiterativerefinementoftooldocumentationwithatool-adaptivetermination
mechanism. Weexaminetheeffectivenessofthesedesignsbyanalyzinghowthenumberofiteration
roundsinfluencestheperformanceofdownstreamtoollearning. TheresultspresentedinFigure6
demonstrateageneraltrendwhereperformanceenhanceswithanincreasingnumberofiterations,
followedbyasubsequentdecline. Thissuggeststhatiterativemodificationsarecrucialforenhancing
tooldocumentationqualityandtheabilityofLLMstoutilizetoolseffectively. Suchmodifications
facilitatetheexplorationofawiderarrayofexamplesandtheincorporationofadditionalfeedback
derivedfromthetoolusageexperiencesofLLMs,ultimatelyrefiningthetooldescriptionstoachieve
superior performance. However, a decline in performance is observed after a certain number of
iterations. Thisdeclinemaybeattributedtotheintroductionofredundantinformationasthenumber
ofiterationsincreases,potentiallyleadingtooverfitting. Therefore,weimplementatool-adaptive
terminationmechanismtopreventperformancedegradationandensureoptimalresults.
Does using other models as back- 90.0 85.0
bonesalsoensurecross-modelgen- 80.0 75.0 R Da Rw AFT-Llama-3-70B
eralization? Ourpreliminaryexperi- DRAFT-GPT-4o
70.0 65.0 mentshavedemonstratedthatemploy-
60.0 55.0 ing GPT-4o as the backbone to re-
fine tool documentation by integrat- 50.0 45.0
ingitsownusagefeedbackresultsin 40.0 35.0
GPT-4o-miniLlama-3-70B GPT-4o GPT-4o-miniLlama-3-70B GPT-4o
revised documentation that exhibits Figure7: Ananalysisofcross-modelgeneralization.
cross-modelgeneralization,enhancingtheperformanceofothermodels. Thisobservationprompts
aninquiryintowhetherusingothermodelsasabackbonewouldsimilarlyyieldcross-modelgeneral-
8
)%(etaR
htaP
tcerroC
)%(etaR
htaP
tcerroC
)%(etaR
htaP
tcerroC
)%(etaR
niW
)%(etaR
niW
)%(etaR
niW
)%(etaR
htaP
tcerroC
)%(etaR
htaP
tcerroC
)%(etaR
htaP
tcerroC
)%(
etaR
htaP
tcerroC
)%(etaR
niW
)%(etaR
niW
)%(etaR
niW
)%(etaR
htaP
tcerroC
)%(etaR
htaP
tcerroC
)%(etaR
htaP
tcerroC
)%(
etaR
niW
)%(etaR
niW
)%(etaR
niW
)%(etaR
niWization. Toinvestigatethis,weconductexperimentsonRestBench-TMDBusingLlama-3-70Bas
abackbone,whichledtothegenerationofanewsetoftooldocumentationinformedbyitsusage
feedback. As illustrated in Figure 7, our findings indicate that it also demonstrates cross-model
generalization,enhancingthetoolusagecapabilitiesacrossallLLMs. Thismayresultfromdecoder-
onlymodelssharingsimilartransformerstructuresandcommonpre-trainingcorpora,allowingthem
toachieveconsensusonknowledgemasteryandneeds. Furthermore,wealsofindthatemploying
GPT-4oasabackboneyieldssuperiorperformancecomparedtoLLama-3-70B.Thissuggeststhat
ourmethodcanbenefitfromthecontinuousimprovementsinfoundationalmodels.
Are the two mechanisms we proposed truly effective for Table2: Ablationstudyofthepro-
DRAFT?WeconductablationstudiesonRestBench-TMDB posedDRAFT.
usingGPT-4otoassesstheimpactofthetwomechanismsin-
corporatedwithinDRAFT.TheresultspresentedinTable2, TMDB
Mehtods
highlightthesignificanceofeachmechanism: w/odiversity
CP% Win%
refers to a variant that the explorer generates exploration in-
stances without applying similarity constraint, meaning that DRAFT 88.00 71.00
all generated instances are considered. The absence of the w/odiversity 84.00 69.00
w/oadaptive 80.00 68.00
diversity-promotingexplorationstrategyleadstoanotableper-
formancedrop,underscoringtheneedforitsimplementationtoenhanceexplorationdiversity. w/o
adaptivereferstoavariantthatdoesnotterminateprematurelybasedontheiterationconditions;
rather,itguaranteesthateachiterationofthetooldocumentationcompletesthedesignatedmaximum
numberofiterationroundsbeforeceasingoperations. Thesignificantdeclineinperformanceob-
servedinthisvariantfurtheremphasizesthebenefitsofintroducingthetool-adaptivetermination
mechanism,whichservestopreventoverfittingwhileimprovingefficiency. Theresultswithother
LLMsanddatasetsdemonstratesimilartrendsandareprovidedinAppendixA.
Doesthemodifiedtooldocumenta- Table3: Comparisonoftoolretrievalperformancebetween
tion improve the performance of rawdocumentationandourmethod. WereportNDCG@1
toolretrieval? Inreal-worldscenar- andNDCG@10.
ios, there are often numerous tools,
makingitimpracticaltoinputthede-
TMDB Spotify
scriptionsofalltoolsintoLLMs(Qu Retriever Documentation
@1 @10 @1 @10
et al., 2024a). Therefore, effective
tool retrieval is crucial for down- Raw 24.0 35.0 43.9 53.9
BM25
stream tool learning. In this analy- DRAFT 29.0 39.4 43.9 54.2
sis,weevaluatewhetherthemodified
Raw 29.0 40.4 45.6 49.6
tooldocumentationnotonlyenhances Contriever DRAFT 31.0 44.1 47.4 49.2
theabilityofLLMstousetoolseffec-
tivelybutalsoimprovestheeffectivenessoftoolretrieval. TheresultspresentedinTable3indicate
thatthereviseddocumentationenhancestheperformanceoftoolretrievalmethods,includingthe
sparseretrievalmethodBM25(Robertsonetal.,2009)andthedenseretrievalmethodContriever(Izac-
ardetal.,2021). Thisdemonstratesthatthemodificationsnotonlyimprovethereadabilityofthe
documentationbutalsoenhanceitssemanticquality,therebyimprovingthedifferentstagesofthe
wholepipelinefortoollearning.
Doesthetooldocumentationmodifiedby DRAFT alsoimprovehumancomprehension? In
the previous experiments, we have demonstrated that tool documentation modified by DRAFT
can help LLMs better understand and utilize external tools. Next, we aim to verify whether this
improvementextendstohumanunderstandingofthetoolsaswell. Specifically,weconductahuman
evaluation, inviting three well-educated doctor students to evaluate the raw tool documentation
andthedocumentationmodifiedby DRAFT basedonthreecriteria: completeness: whetherthe
documentationiscomprehensive,conciseness: whetheritisclearandconcise,accuracy: whether
itreflectsthetool’sfunctionalityaccurately. Werandomlysampled50casesfromRestBenchand
ToolBenchforthisevaluation.
Theresults,asshowninTable4,indicatethatthetooldocumentationmodifiedbyDRAFTdemon-
stratessignificantimprovements,particularlyintermsofcompletenessandaccuracy(somecasesare
presentedinAppendixC).ThiscanbeattributedtothefactthatDRAFTincorporatesfeedbackfrom
LLMsbasedontheirtoolusageexperience,whichprovidesexecutionresultsduringtherevision
process,ensuringbetteralignmentbetweenthedocumentationandtheactualtoolbehavior.Moreover,
ourdesignofatool-adaptiveterminationmechanismeffectivelypreventsunnecessaryredundancy,
9Table4: Humanevaluationcomparingthequalityoftherawdocumentationwithours.
Dataset Completeness Conciseness Accuracy
Ours Raw Equal Ours Raw Equal Ours Raw Equal
RestBench
40% 16% 44% 36% 20% 44% 30% 0% 70%
Ours Raw Equal Ours Raw Equal Ours Raw Equal
ToolBench
68% 4% 28% 56% 4% 40% 56% 0% 44%
leadingtomoreconcisedocumentation. Additionally,theresultssuggestthatToolBenchtoolshave
significantly lower documentation quality thanthose inthe RestBenchdataset, as the readability
ofToolBenchtoolsexhibitedamoresubstantialimprovementaftermodificationbyDRAFT.This
furtherhighlightsthenecessityofrevisingtheexistingtooldocumentation.
4 RELATED WORK
ToolLearning. RecentstudieshavehighlightedthepotentialofLLMstoutilizeexternaltoolsin
addressingcomplexproblems(Quetal.,2024b;Wangetal.,2024d). Withtheaidofexternaltools,
LLMscanobtainup-to-dateinformation(Nakanoetal.,2021;Gouetal.,2024a;b),enhancedomain-
specificknowledge(M.Branetal.,2024;Zhangetal.,2024a),processmulti-modalinformation(Surís
etal.,2023;Gaoetal.,2024c),andmore. Existingtoollearningapproachescanbecategorizedinto
twotypes: tuning-basedandtuning-freemethods(Gaoetal.,2024b). Tuning-basedmethodsenhance
thetool-usingcapabilitiesofLLMsbyfine-tuningthemontool-relateddatasets(Patiletal.,2023;
Haoetal.,2024;Yangetal.,2024;Qinetal.,2024;Liuetal.,2024). However,thisapproachis
onlyapplicabletoopen-sourcemodelsandrequiressubstantialcomputationalresources. Incontrast,
tuning-freemethodsprovideLLMswithtooldocumentationandafewdemonstrations(Weietal.,
2022;Hsieh etal., 2023;Paranjape etal., 2023;Du etal., 2024;Shiet al.,2024), relying onthe
in-context learning ability of LLMs to understand how to use tools. This approach requires no
additional training and allows for the plug-and-play integration of external tools. However, this
method necessitates high-quality tool documentation that is aligned with the comprehension of
LLMs(Yuanetal.,2024). Inthispaper,weproposeamethodtoalignwithLLMsunderstandingand
improvethequalityoftooldocumentationtoenhancethetool-usingcapabilitiesofLLMs.
LearningfromFeedback.RecentstudiesshowthatLLMscanimprovetheirinitialresponsesthrough
self-correction,leadingtoimprovedperformance(Shinnetal.,2024;Madaanetal.,2024;Panetal.,
2024; Huang et al., 2024). However, some researchers observe that relying exclusively on self-
correctionwithoutexternalfeedbackmayyieldminimalimprovementsorworsenperformance(Zhao
etal.,2024). Incontrast,incorporatinglearningfromfeedbackhasbeenshowntoimprovevarious
tasks(Jinetal.,2023;Gaoetal.,2024a;Wangetal.,2024c;Panetal.,2024;Wellecketal.,2022;
Zhang et al., 2024b). The forms of feedback are categorized into scalar and natural language
types(Gouetal.,2024a). Scalarfeedbackprovidescoarse-grainedinformationandtypicallyserves
asarewardsignalinreinforcementlearningframeworks(Ziegleretal.,2019),whilenaturallanguage
feedbackprovidesdetailedinsightsandisusedinpromptsforLLMstoenhanceperformance(Jin
etal.,2023). Thesourcesoffeedbackarediverse,includinghumans(Ouyangetal.,2022),critic
models(Nathanietal.),externaltools(Wangetal.,2024b;Qiaoetal.,2024),andeventheLLMitself.
Toensurethattooldocumentationgenuinelyreflectsthepurposeofthetool,weobtainfeedbackby
actuallyusingthetooltogetthereturnedresults,therebyproducinghighqualitytooldocumentation.
5 CONCLUSION
Inthispaper,wehighlightthatthemisalignmentbetweentheexisting,primarilyhuman-centrictool
documentationandtheinterpretiverequirementsofLLMsactsasapivotalbarrierobstructingthe
fullpotentialoftoollearningwithLLMs. Toremedythis,inspiredbytrial-and-error,weintroduce
DRAFT,adynamicandself-improvingframeworkspecificallydesignedtoiterativelyrefinetool
documentationbasedondirectinteractionsandfeedbackloopsbetweenLLMsandexternaltools.
Throughextensiveexperimentation,ourfindingssubstantiatetheassertionthatourproposedDRAFT
markedlyenhancesthealignmentbetweentooldocumentationandtheoperationalunderstandingof
LLMs,therebyfosteringmoreeffectivetoolusage.
10REFERENCES
AnthonyChemero. Llmsdifferfromhumancognitionbecausetheyarenotembodied. NatureHuman
Behaviour,7(11):1828–1829,2023.
Yu Du, Fangyun Wei, and Hongyang Zhang. Anytool: Self-reflective, hierarchical agents for
large-scaleapicalls. InProceedingsofICML2024,2024.
JinglongGao,XiaoDing,YimingCui,JianbaiZhao,HepengWang,TingLiu,andBingQin. Self-
evolvinggpt: Alifelongautonomousexperientiallearner. InProceedingsoftheAssociationfor
ComputationalLinguistics: ACL2024,2024a.
Shen Gao, Zhengliang Shi, Minghang Zhu, Bowen Fang, Xin Xin, Pengjie Ren, Zhumin Chen,
JunMa,andZhaochunRen. Confucius: Iterativetoollearningfromintrospectionfeedbackby
easy-to-difficultcurriculum.InInProceedingsof38thConferenceonArtificialIntelligence(AAAI),
2024b.
ZhiGao,YuntaoDu,XintongZhang,XiaojianMa,WenjuanHan,Song-ChunZhu,andQingLi.
Clova: Aclosed-loopvisualassistantwithtoolusageandupdate. InProceedingsoftheIEEE
ConferenceonComputerVisionandPatternRecognition(CVPR),2024c.
ZhibinGou,ZhihongShao,YeyunGong,YelongShen,YujiuYang,NanDuan,andWeizhuChen.
Critic: Largelanguagemodelscanself-correctwithtool-interactivecritiquing. InProceedingsof
the12thInternationalConferenceonLearningRepresentations(ICLR),2024a.
ZhibinGou,ZhihongShao,YeyunGong,YujiuYang,MinlieHuang,NanDuan,WeizhuChen,etal.
Tora: Atool-integratedreasoningagentformathematicalproblemsolving. InProceedingsofthe
12thInternationalConferenceonLearningRepresentations(ICLR),2024b.
ShiboHao,TianyangLiu,ZhenWang,andZhitingHu. Toolkengpt: Augmentingfrozenlanguage
models with massive tools via tool embeddings. Advances in neural information processing
systems,36,2024.
Cheng-Yu Hsieh, Si-An Chen, Chun-Liang Li, Yasuhisa Fujii, Alexander Ratner, Chen-Yu Lee,
RanjayKrishna,andTomasPfister. Tooldocumentationenableszero-shottool-usagewithlarge
languagemodels. arXivpreprintarXiv:2308.00675,2023.
XiangHuang,SitaoCheng,ShanshanHuang,JiayuShen,YongXu,ChaoyunZhang,andYuzhong
Qu. Queryagent: Areliableandefficientreasoningframeworkwithenvironmentalfeedbackbased
self-correction. InProceedingsoftheAssociationforComputationalLinguistics: ACL2024,2024.
Gautier Izacard, Mathilde Caron, Lucas Hosseini, Sebastian Riedel, Piotr Bojanowski, Armand
Joulin,andEdouardGrave. Unsuperviseddenseinformationretrievalwithcontrastivelearning.
arXivpreprintarXiv:2112.09118,2021.
DiJin,ShikibMehri,DevamanyuHazarika,AishwaryaPadmakumar,SungjinLee,YangLiu,and
MahdiNamazifar.Data-efficientalignmentoflargelanguagemodelswithhumanfeedbackthrough
naturallanguage. arXivpreprintarXiv:2311.14543,2023.
WeiwenLiu,XuHuang,XingshanZeng,XinlongHao,ShuaiYu,DexunLi,ShuaiWang,Weinan
Gan, ZhengyingLiu, YuanqingYu, etal. Toolace: Winningthepointsofllmfunctioncalling.
arXivpreprintarXiv:2409.00920,2024.
Andres M. Bran, Sam Cox, Oliver Schilter, Carlo Baldassari, Andrew D White, and Philippe
Schwaller. Augmentinglargelanguagemodelswithchemistrytools. NatureMachineIntelligence,
2024.
Aman Madaan, Niket Tandon, Prakhar Gupta, Skyler Hallinan, Luyu Gao, Sarah Wiegreffe, Uri
Alon,NouhaDziri,ShrimaiPrabhumoye,YimingYang,etal. Self-refine: Iterativerefinement
withself-feedback. AdvancesinNeuralInformationProcessingSystems,36,2024.
GrégoireMialon,RobertoDessì,MariaLomeli,ChristoforosNalmpantis,RamPasunuru,Roberta
Raileanu,BaptisteRozière,TimoSchick,JaneDwivedi-Yu,AsliCelikyilmaz,etal. Augmented
languagemodels: asurvey. TransactionsonMachineLearningResearch,TMLR2023,2023.
11ReiichiroNakano,JacobHilton,SuchirBalaji,JeffWu,LongOuyang,ChristinaKim,Christopher
Hesse, Shantanu Jain, Vineet Kosaraju, William Saunders, et al. Webgpt: Browser-assisted
question-answeringwithhumanfeedback. arXivpreprintarXiv:2112.09332,2021.
DeepakNathani,DavidWang,LiangmingPan,andWilliamYangWang. Maf: Multi-aspectfeedback
forimprovingreasoninginlargelanguagemodels. InProceedingsofthe2023Conferenceon
EmpiricalMethodsinNaturalLanguageProcessing,EMNLP2023.
LongOuyang,JeffreyWu,XuJiang,DiogoAlmeida,CarrollWainwright,PamelaMishkin,Chong
Zhang,SandhiniAgarwal,KatarinaSlama,AlexRay,etal. Traininglanguagemodelstofollow
instructionswithhumanfeedback. Advancesinneuralinformationprocessingsystems,35:27730–
27744,2022.
LiangmingPan,MichaelSaxon,WendaXu,DeepakNathani,XinyiWang,andWilliamYangWang.
Automaticallycorrectinglargelanguagemodels: Surveyingthelandscapeofdiverseautomated
correctionstrategies. TransactionsoftheAssociationforComputationalLinguistics,12:484–506,
2024.
Kishore Papineni, Salim Roukos, Todd Ward, and Wei-Jing Zhu. Bleu: a method for automatic
evaluationofmachinetranslation. InPierreIsabelle,EugeneCharniak,andDekangLin(eds.),
Proceedings of the 40th Annual Meeting of the Association for Computational Linguistics, pp.
311–318,Philadelphia,Pennsylvania,USA,July2002.AssociationforComputationalLinguistics.
doi: 10.3115/1073083.1073135. URLhttps://aclanthology.org/P02-1040.
BhargaviParanjape,ScottLundberg,SameerSingh,HannanehHajishirzi,LukeZettlemoyer,and
MarcoTulioRibeiro. Art: Automaticmulti-stepreasoningandtool-useforlargelanguagemodels.
arXivpreprintarXiv:2303.09014,2023.
ShishirGPatil,TianjunZhang,XinWang,andJosephEGonzalez. Gorilla: Largelanguagemodel
connectedwithmassiveapis. arXivpreprintarXiv:2305.15334,2023.
ShuofeiQiao,HonghaoGui,HuajunChen,andNingyuZhang. Makinglanguagemodelsbettertool
learnerswithexecutionfeedback. InProceedingsofthe2024ConferenceoftheNorthAmerican
ChapteroftheAssociationforComputationalLinguistics:HumanLanguageTechnologies(NAACL-
HLT),2024.
YujiaQin,ZihanCai,DianJin,LanYan,ShihaoLiang,KunlunZhu,YankaiLin,XuHan,NingDing,
HuadongWang,RuobingXie,FanchaoQi,ZhiyuanLiu,MaosongSun,andJieZhou. Webcpm:
Interactivewebsearchforchineselong-formquestionanswering. InProceedingsofACL2023.
AssociationforComputationalLinguistics,2023a. URLhttps://arxiv.org/abs/2305.
06849.
Yujia Qin, Shengding Hu, Yankai Lin, Weize Chen, Ning Ding, Ganqu Cui, Zheni Zeng, Yufei
Huang, Chaojun Xiao, Chi Han, et al. Tool learning with foundation models. arXiv preprint
arXiv:2304.08354,2023b.
YujiaQin,ShihaoLiang,YiningYe,KunlunZhu,LanYan,YaxiLu,YankaiLin,XinCong,Xiangru
Tang,BillQian,etal. Toolllm: Facilitatinglargelanguagemodelstomaster16000+real-world
apis. InProceedingsofthe12thInternationalConferenceonLearningRepresentations(ICLR),
2024.
ChangleQu,SunhaoDai,XiaochiWei,HengyiCai,ShuaiqiangWang,DaweiYin,JunXu,andJi-
RongWen.Towardscompleteness-orientedtoolretrievalforlargelanguagemodels.InProceedings
ofthe33rdACMInternationalConferenceonInformationandKnowledgeManagement,2024a.
ChangleQu,SunhaoDai,XiaochiWei,HengyiCai,ShuaiqiangWang,DaweiYin,JunXu,andJi-
RongWen. Toollearningwithlargelanguagemodels: Asurvey. arXivpreprintarXiv:2405.17935,
2024b.
StephenRobertson,HugoZaragoza,etal. Theprobabilisticrelevanceframework: Bm25andbeyond.
FoundationsandTrends®inInformationRetrieval,3(4),2009.
12TimoSchick,JaneDwivedi-Yu,RobertoDessì,RobertaRaileanu,MariaLomeli,EricHambro,Luke
Zettlemoyer,NicolaCancedda,andThomasScialom. Toolformer: Languagemodelscanteach
themselvestousetools. AdvancesinNeuralInformationProcessingSystems,36,2024.
YongliangShen,KaitaoSong,XuTan,DongshengLi,WeimingLu,andYuetingZhuang.Hugginggpt:
Solvingaitaskswithchatgptanditsfriendsinhuggingface. AdvancesinNeuralInformation
ProcessingSystems,36,2024.
ZhengliangShi,ShenGao,XiuyiChen,LingyongYan,HaiboShi,DaweiYin,ZhuminChen,Pengjie
Ren,SuzanVerberne,andZhaochunRen. Learningtousetoolsviacooperativeandinteractive
agents. arXivpreprintarXiv:2403.03031,2024.
NoahShinn,FedericoCassano,AshwinGopinath,KarthikNarasimhan,andShunyuYao. Reflexion:
Languageagentswithverbalreinforcementlearning. AdvancesinNeuralInformationProcessing
Systems,36,2024.
Yifan Song, Weimin Xiong, Dawei Zhu, Cheng Li, Ke Wang, Ye Tian, and Sujian Li. Restgpt:
Connectinglargelanguagemodelswithreal-worldapplicationsviarestfulapis. arXivpreprint
arXiv:2306.06624,2023.
DídacSurís,SachitMenon,andCarlVondrick. Vipergpt: Visualinferenceviapythonexecutionfor
reasoning. InProceedingsoftheIEEE/CVFInternationalConferenceonComputerVision,pp.
11888–11898,2023.
BoshiWang,HaoFang,JasonEisner,BenjaminVanDurme,andYuSu. Llmsintheimaginarium:
Toollearningthroughsimulatedtrialanderror. InProceedingsofthe62ndAnnualMeetingofthe
AssociationforComputationalLinguistics(ACL),2024a.
XingyaoWang,ZihanWang,JiatengLiu,YangyiChen,LifanYuan,HaoPeng,andHengJi. Mint:
Evaluatingllmsinmulti-turninteractionwithtoolsandlanguagefeedback. InProceedingsof12th
InternationalConferenceonLearningRepresentations(ICLR).,2024b.
YutongWang,JialiZeng,XueboLiu,FandongMeng,JieZhou,andMinZhang. Taste: Teaching
largelanguagemodelstotranslatethroughself-reflection. InProceedingsoftheAssociationfor
ComputationalLinguistics: ACL2024,2024c.
ZhiruoWang,ZhoujunCheng,HaoZhu,DanielFried,andGrahamNeubig. Whataretoolsanyway?
asurveyfromthelanguagemodelperspective. InProceedingsofthe1thCOLM.,2024d.
JasonWei,XuezhiWang,DaleSchuurmans,MaartenBosma,FeiXia,EdChi,QuocVLe,Denny
Zhou,etal. Chain-of-thoughtpromptingelicitsreasoninginlargelanguagemodels. Advancesin
neuralinformationprocessingsystems,35:24824–24837,2022.
SeanWelleck,XimingLu,PeterWest,FaezeBrahman,TianxiaoShen,DanielKhashabi,andYejin
Choi. Generatingsequencesbylearningtoself-correct. arXivpreprintarXiv:2211.00053,2022.
Qiantong Xu, Fenglu Hong, Bo Li, Changran Hu, Zhengyu Chen, and Jian Zhang. On the tool
manipulationcapabilityofopen-sourcelargelanguagemodels. arXivpreprintarXiv:2305.16504,
2023.
RuiYang,LinSong,YanweiLi,SijieZhao,YixiaoGe,XiuLi,andYingShan. Gpt4tools: Teaching
largelanguagemodeltousetoolsviaself-instruction. AdvancesinNeuralInformationProcessing
Systems,36,2024.
ShunyuYao,JeffreyZhao,DianYu,NanDu,IzhakShafran,KarthikNarasimhan,andYuanCao.
React: Synergizingreasoningandactinginlanguagemodels. arXivpreprintarXiv:2210.03629,
2022.
Siyu Yuan, Kaitao Song, Jiangjie Chen, Xu Tan, Yongliang Shen, Ren Kan, Dongsheng Li, and
DeqingYang. Easytool: Enhancingllm-basedagentswithconcisetoolinstruction. arXivpreprint
arXiv:2401.06201,2024.
13BeichenZhang,KunZhou,XilinWei,XinZhao,JingSha,ShijinWang,andJi-RongWen. Evaluat-
ingandimprovingtool-augmentedcomputation-intensivemathreasoning. AdvancesinNeural
InformationProcessingSystems,36,2024a.
WenqiZhang,YongliangShen,LinjuanWu,QiuyingPeng,JunWang,YuetingZhuang,andWeiming
Lu. Self-contrast: Betterreflectionthroughinconsistentsolvingperspectives. InProceedingsof
theAssociationforComputationalLinguistics: ACL2024,2024b.
AndrewZhao,DanielHuang,QuentinXu,MatthieuLin,Yong-JinLiu,andGaoHuang. Expel: Llm
agentsareexperientiallearners. InProceedingsoftheAAAIConferenceonArtificialIntelligence,
volume38,pp.19632–19642,2024.
Yuchen Zhuang, Xiang Chen, Tong Yu, Saayan Mitra, Victor Bursztyn, Ryan A Rossi, Somdeb
Sarkhel,andChaoZhang. Toolchain*: Efficientactionspacenavigationinlargelanguagemodels
witha*search. InProceedingsofthe12thInternationalConferenceonLearningRepresentations
(ICLR),2024.
DanielMZiegler,NisanStiennon,JeffreyWu,TomBBrown,AlecRadford,DarioAmodei,Paul
Christiano,andGeoffreyIrving. Fine-tuninglanguagemodelsfromhumanpreferences. arXiv
preprintarXiv:1909.08593,2019.
14APPENDIX
A MORE EXPERIMENTS
WealsoconductanalysisexperimentsonthreedatesetsusingotherLLMs. AsillustratedinTable5,
bothGPT-4o-miniandLLama-3-70BdisplaytrendsthatareconsistentwiththoseobservedinGPT-4o.
Theabsenceofourproposeddiversity-promotingexplorationstrategyandtool-adaptivetermination
mechanismresultsinadeclineinperformance,therebyunderscoringtheimportanceofourdesign
innovations.Anintuitiveexplanationpositsthat,intheabsenceofthediversity-promotingexploration
strategy,theexamplesgeneratedduringeachroundofexplorationmayexhibitsignificantsimilarity.
This similarity could render multiple iterations indistinguishable from a single iteration, thereby
undermining the advantages of repeated exploration. Likewise, the absence of the tool-adaptive
terminationmechanismmayresultinexcessiveiterations,whichcouldproduceredundantinformation
andcontributetooverfitting.
Table 5: An ablation study of the proposed model, DRAFT, was conducted across three LLMs
utilizingthreedistinctdatasets.
RestBench-TMDB RestBench-Spotify ToolBench
Model Method
CP% Win% CP% Win% CP% Win%
DRAFT(Ours) 62.00 82.00 43.85 78.94 47.00 88.00
GPT-4o-mini w/odiversity 60.00 79.00 42.10 70.17 42.00 86.00
w/oadaptive 55.00 77.00 38.59 57.89 36.00 87.00
DRAFT(Ours) 86.00 64.00 66.66 64.91 53.00 62.00
Llama-3-70B w/odiversity 84.00 62.00 63.15 63.15 48.00 61.00
w/oadaptive 79.00 55.00 59.64 57.89 44.00 56.00
DRAFT(Ours) 88.00 71.00 70.17 84.21 51.00 78.00
GPT-4o w/odiversity 84.00 69.00 64.91 73.68 44.00 72.00
w/oadaptive 80.00 68.00 59.64 68.42 46.00 76.00
B DETAILED PROMPTS
Table6providesacomprehensiveoverviewofthepromptsutilizedduringthethreelearningstages
of DRAFT, which include experience gathering, learning from experience, and documentation
rewriting.
C CASE STUDY
C.1 TOOLBENCH
Table7displaysthecomparisonoforiginaltooldocumentationandmodifiedversionsusingDRAFT
insomecasesfromtheToolBenchdataset. Eachcasehighlightsaspecificissuefoundintheraw
documentation,includingincompleteness,ambiguity,redundancy,andinaccuracy,allofwhichare
effectivelyaddressedbyourproposedmethod.
C.2 RESTBENCH
Table8displaysthecomparisonoforiginaltooldocumentationandmodifiedversionsusingDRAFT
insomecasesfromtheRestBenchdataset. AlthoughtheoverallqualityofthetoolsinRestBenchis
generallysuperiortothatofToolBench,thereremainsignificantissues,includingirrelevance,ambigu-
ity,andincompleteinformation.Thisfurtherhighlightsthenecessityofemployingourmethod,which
iterativelyrefinesthedocumentationthroughinteractionswiththetools.Bysystematicallyaddressing
theseissues,ourapproachguaranteesthatthedocumentationevolvesinawaythatenhancesclarity,
relevance,andcompleteness. This,inturn,minimizesthelikelihoodofmisunderstandingsormisuse
oftheAPIsandenhancestheabilityofLLMstoutilizeexternaltools.
15D REVISION TRAJECTORY
Table 9 and Table 10 respectively present the revision trajectory of tool documentation through
the first, second, and third rounds of modifications using DRAFT. An analysis of these tables
revealsthattheoriginaltooldocumentationischaracterizedbytheinclusionofirrelevantinformation
andanotableabsenceofguidanceregardingthenecessityofavalidID,aswellasproceduresfor
addressing errors associated with the provision of an invalid ID. These observations underscore
significantdeficienciesintheoriginaldocumentationthatnecessitaterevision.
Throughananalysisoftherevisiontrajectory, itbecomesevidentthatduringthefirstround, the
experience of encountering an invalid ID is documented. The analyzer promptly identifies the
issueandprovidssuggestionsforimprovement. Subsequently,therewriterutilizesthisfeedbackto
makeappropriateupdatestothetooldocumentation,recommendingthatfutureexplorationshould
concentrateonretrievingresultsassociatedwithavalidID.Bythethirditeration,theexploration
successfullyyieldsresultswithavalidID,leadingtofurtherupdatesinthedocumentation. This
processunderscoresthenecessityofconductingmultipleiterations. Furthermore,intheabsenceofa
diversity-promotingexplorationstrategydesignedtofacilitatediverseexploration,thesystemmay
repeatedlyencountersimilarscenarios,therebyhinderingthediscoveryofvalidIDsandobstructing
effective updates. This situation emphasizes the critical importance of implementing a diversity-
promotingexplorationstrategy.
Table11andTable12showtherevisiontrajectoriesfromthefourthandfifthrounds,respectively.
Uponanalysis,itisevidentthatasthenumberofiterationsincreases,thedocumentationforthetool
becomesincreasinglylengthy,leadingtotheinclusionofredundantinformation. Thisredundancy
mayimpedetheeffectiveutilizationofthetoolbyLLMs,therebyunderscoringthenecessityofthe
tool-adaptiveterminationmechanismthatwehavedeveloped.
16Table6: ThefullpromptforthreelearningstagesofDRAFT.
I:ExperienceGathering
/*Taskprompt*/
Yourtaskistoanswertheuser’squeryasbestyoucan.Youhaveaccesstothefollowingtools,whichyou
canuseviaAPIcalltohelpwithyourresponse:{ToolDocumentation}
NowyouhavethechancetoexploretheavailableAPIs.Youcandothisby1)synthesizingsomenaturaluser
querythatcallingtheAPIcouldhelp,2)extractingtheparametersneededtocalltheseAPIsfromthegener-
atedquery,and3)Here,youcanfocusonqueriesthatonlyrequirecallingtheAPIonce.
Now,firstinputyoursynthesizeduserquery.Youshouldmakethequerynatural-forexample,trytoavoid
usingtheprovidedAPIdescriptionsorAPInamesinthequery,astheuserdoesnotknowwhatAPIsyouha-
veaccessto.However,pleasemakesurethattheuserqueryyougenerateincludestheparametersrequiredto
calltheAPI,forwhichyouneedtogeneraterandominformation.ForrequiredparameterslikeIPaddress,l-
ocation,coordinates,etc.,providespecificdetails.Forexample,insteadofsimplystating‘anaddress’,provi-
detheexactroadanddistrictnames.PleasenotethatiftherequiredparametersareIDorusername,whichy-
oudonotknowwhatarevalid,youshouldusethedefaultparametersprovidedintheAPIdocumentationdi-
rectly.Alsotrytomakethequeryasspecificaspossible.Nextyouneedtoextracttheparametersneededto
calltheAPIsfromyourgenerateduserqueriesbasedontheprovidedAPIdocumentationdescriptions.
Hereisanexample:{"UserQuery":"","Parameters"::{}}
/*MemoryMechanisms*/
Belowarequeriesyouhavealreadyexplored:{Exploredqueries}
Basedonthese,trytoexplorequeriesthatcanhelpyouunderstandtheAPIfurther;Avoidsynthesizingquer-
iesthataretooclosetotheexistingones.HerearesomesuggestionstoexploretheAPI:{Suggestions}
NowyouknowabitmoreabouttheAPI.YoucansynthesizeanotheruserquerytoexploretheAPIabitfur-
therandconsolidateyourunderstandingoftheAPI,basedonthingsthatyoudiscoveredaboutthisAPI.You
shouldcherishtheopportunitytoexplore,aseachtimeisprecious.Therefore,youshouldgeneratenewexp-
lorationsthataredifferentfrompreviousonesasmuchaspossible.
II:LearningfromExperience
/*Taskprompt*/
Youtaskistoprovidesuggestionsformodifyingthetooldocumentationbasedonthecurrenttooldocument-
ation,theexploredqueryandparameters,andtheresultsreturnedbythetool.Youhaveaccesstothefollow-
ingtools:{ToolDocumentation}
Pleasenotethattheexistingtooldocumentationmaybeincompleteornoisy.Previously,yougeneratedsome
userqueriesandrequiredparameterstoexplorethisAPIbasedontheAPIdocumentation.Now,youwillbe
providedwiththeoutputofthisAPIundertheseparameters.Youneedtoconsiderthefollowingwhenprovi-
dingsuggestions:Forinstance,considerwhetherthecurrentdescriptionisconsistentwiththeactualresults
returnedbythetool,whetherthedescriptioniscomprehensive,andwhetheritisconciseandfreeofirreleva-
ntinformation.Providesuggestionsformodificationsbasedontheseaspects.Belowareexploredqueries,the
requiredparametersandtheoutputsofthetool:{Exploredexamples}
Hereisanexample:{"Suggestions":""}
/*MemoryMechanisms*/
Thefollowingisthehistoryofyoumodifyingthetooldescription:{History}
Basedontheaboveinformation,providemoreconstructivesuggestions.
III:DocumentationRewriting
/*Taskprompt*/
Yourtaskistorefinethedescriptionofthetoolbasedonthequeriesandparametersyou’veexplored,theou-
tputsprovidedbythetool,aswellasthesuggestionsprovided.Youhaveaccesstothefollowingtools:
{ToolDocumentation}
Pleasenotethattheexistingtooldocumentationmaybeincompleteornoisy.Thereviseddescriptionshould
focussolelyonthefunctionalitiesoftheAPI,omittinganyirrelevantdetails.Belowareexploredqueries,the
requiredparametersandtheoutputsofthetool:{Exploredexamples}
Basedonthefeedbackprovided,herearesomeguidelinesforupdatingthetooldescription:{Suggestions}
Duetothelimitednumberofexplorationsyoucanperform,youneedtovalueeachopportunity.Whataspec-
tsofthisAPIwouldyouliketoexplorenext?Pleaseprovidesomesuggestionsforyournextquerygenerati-
on.Justgiveadirectionofthenextexploration,don’tgiveafullexampleoftheexplorationdirectly.
Hereisanexample:{"Rewrittendescription":"","Suggestionsforexploring":""}
/*MemoryMechanisms*/
Thefollowingisthehistoryofyoumodifyingthetooldescription:{History}
Basedontheaboveinformation,providemoreconstructivesuggestions.
17Table7: ComparisonoforiginaltooldocumentationandmodifiedversionsusingDRAFTinsome
casesfromtheToolBenchDataset.
RawToolDescription(Incomplete)
{"ToolName":"GetSearchImage","description":""}
Ours
{"ToolName":"GetSearchImage","description":"Retrieveanimageusingthespecifiedimageidentifierand
searchcontextID,withoptionalparametersforfolderandstorage."}
RawToolDescription(Ambiguous)
{"ToolName":"il","description":"Turkishplates.1to81"}
Ours
{"ToolName":"il","description":"ProvideslocationdetailsforTurkishplatenumbersbasedontheplate
numberparameter,includingcity,district,neighborhood,andpostalcode."}
RawToolDescription(Redundant)
{"ToolName":"QRCodeImageGenerator","description":"AQRcodegeneratorAPIisatoolthatenables
developerstogenerateQRcodeswithintheirapplications. QRcodesaretwo-dimensionalbarcodesthat
canbescannedusingasmartphonecameraanddecodedusingQRcodereadersoftware. TheAPIallows
developerstoeasilyintegrateQRcodegenerationfunctionalityintotheirexistingapplications, suchas
mobileapps,webapps,andsoftware.ThisAPIcanbeusedtogenerateQRcodesforavarietyofpurposes,
suchas:Contactinformation:GenerateaQRcodecontainingyourcontactinformation,suchasyourphone
numberoremailaddress.Links:CreateaQRcodethatlinkstoawebsite,YouTubevideo,orotheronline
content.Payments:CreateaQRcodeformakingpaymentsthroughamobilewalletorpaymentapp.Events:
GenerateaQRcodeforanevent,suchasaconcertorconference,toprovideattendeeswithallthenecessary
information.Coupons:CreateaQRcodeforacouponorpromocodetoberedeemedataphysicalstoreor
online.Overall,aQRcodegeneratorAPIisaversatiletoolthatcanhelpbusinessesandindividualsstreamline
theirprocessesandimprovetheuserexperiencefortheircustomers."}
Ours
{"ToolName":"QRCodeImageGenerator","description":"AQRcodegeneratorAPIisaversatiletoolthat
enablesdeveloperstogenerateQRcodesforvariouspurposes,suchascontactinformation,links,payments,
events, and coupons. Users should be prepared for potential connectivity issues, including connection
timeouts,andareadvisedtocontacttheAPIproviderforsupportincaseoferrorslike’Connectiontimed
out’.Implementingretrymechanismsandcheckingnetworkconnectivitycanhelphandlesuchsituations
effectively."}
RawToolDescription(Inaccurate)
{"ToolName":"SQUAKE","description":"SQUAKEhelpsbusinessestobuildsustainableproducts!With
themostperformantAPIinthemarket,wehelptravel,mobility,andlogisticscompaniescalculatecarbon
emissionsandpurchasecertifiedclimatecontributionsinreal-time. Implementedwithinmins!","Return
Results:""I’mateapot."}
Ours
{"ToolName":"il","description":"Atoolthatchecksthehealthstatusofaspecificsystemandprovides
relevantinformationorerrormessages. Itmayoccasionallyreturnunexpectedorhumorousresponses.",
"ReturnResults:""I’mateapot."}
18Table8: ComparisonoforiginaltooldocumentationandmodifiedversionsusingDRAFTinsome
casesfromtheRestBenchDataset.
RawToolDescription(Irrelevant)
{"ToolName":"GET_trending_media_type_time_window","description":"Getthedailyorweeklytrending
items.Thedailytrendinglisttracksitemsovertheperiodofadaywhileitemshavea24hourhalflife.The
weeklylisttracksitemsovera7dayperiod,witha7dayhalflife.####ValidMediaTypes|**MediaType**
|**Description**||-|-||all|Includeallmovies,TVshowsandpeopleintheresultsasaglobaltrendinglist.
||movie|Showthetrendingmoviesintheresults.||tv|ShowthetrendingTVshowsintheresults.||person|
Showthetrendingpeopleintheresults.|####ValidTimeWindows|**TimeWindow**|**Description**||-
|-||day|Viewthetrendinglistfortheday.||week|Viewthetrendinglistfortheweek.|"}
Ours
{"ToolName":"GET_trending_media_type_time_window","description":"ThisAPIprovidesaccessto
trending items on a daily or weekly basis, including movies, TV shows, or people. The ’media_type’
parameterisrequiredandspecifiesthetypeofmedia:’movie’formovies,’tv’forTVshows,’person’for
people,or’all’toincludealltypes.The’time_window’parameterisalsorequiredandcanbesetto’day’for
dailytrendsor’week’forweeklytrends.TheAPIresponseincludesalistoftrendingitemswithfieldssuchas
’id’,’name’,’original_name’,’media_type’,’popularity’,’gender’,’known_for_department’,’profile_path’,
and’known_for’.Foreach’known_for’item,detailslike’title’,’original_title’,’overview’,’poster_path’,
’media_type’,’original_language’,’genre_ids’,’popularity’,’release_date’,’vote_average’,and’vote_count’
areincluded.Paginationissupported,allowingnavigationthroughresultsusingthe’page’parameter,with
’total_pages’and’total_results’indicatingthenumberofpagesandtotalresultsavailable.TheAPIcanfilter
contentbasedonlanguagepreferences(’original_language’)andcontentrestrictions(’adult’)."}
RawToolDescription(Ambiguous)
{"Tool Name": "GET_person_person_id_tv_credits", "description": "Get the TV show cred-
its for a person. You can query for some extra details about the credit with the [credit
method](#endpoint:xPWdEBLkvCNZSicLN)."}
Ours
{"ToolName":"GET_person_person_id_tv_credits","description":"ThisAPIretrievesTVshowcreditsfor
apersonusingtheirunique’person_id’.Itreturnstwomaincategoriesofcredits:’cast’and’crew’.Each
creditincludesdetailssuchastheTVshow’sname,firstairdate,overview,popularity,andtheperson’s
role(e.g.,Director).The’crew’categoryprovidesadditionalinformationlikedepartment,job,andepisode
count.Avalid’person_id’isrequired,andifaninvalidornon-existent’person_id’isprovided,theAPIwill
returnanerrormessage.Thetooldoesnotrequireanyadditionalparameters.Ensurethatthe’person_id’is
correctlyformattedandexistsinthedatabasetoavoiderrors.AdditionaldetailsabouttheTVshowcredits
canbequeriedusingthecreditmethod."}
RawToolDescription(ErrorMessage)
{"ToolName":"GET_tv_latest","description":"GetthemostnewlycreatedTVshow.Thisisaliveresponse
andwillcontinuouslychange."}
Ours
{"ToolName":"GET_tv_latest","description":"Retrievelive,comprehensivedetailsaboutthemostrecently
createdTVshow,includingitsname,airdates,episodes,productionstatus,genres,networks,production
companies,andcountries.Thetoolalsoprovidesinformationonthelatestandupcomingepisodes,aswellas
metadatalikepopularityandvotestatistics. Notethatsomefieldsmaybeemptyiftheinformationisnot
availableatthetimeofthequery."}
RawToolDescription(Incomplete)
{"ToolName":"GET_genre_tv_list","description":"GetthelistofofficialgenresforTVshows."}
Ours
{"ToolName":"GET_genre_tv_list","description":"RetrievetheofficiallistofTVshowgenresfromThe
MovieDatabase(TMDb). ThistoolprovidesaJSONobjectcontaininganarrayofgenreobjects,each
withan’id’anda’name’. ItisspecificallydesignedforTVshowgenresanddoesnotrequireanyinput
parameters."}
19Table9: Revisiontrajectoryoftooldocumentationthroughthefirsttwoiterationsofmodifications
usingDRAFT.
RawToolDocumentation
{"toolname":"GET_person_person_id_tv_credits","tooldescription":"GettheTVshowcreditsforapers-
on.Youcanqueryforsomeextradetailsaboutthecreditwiththe[creditmethod](#endpoint:xPWdEBLkvC-
NZSicLN)."}
FirstIteration
/*Explorer*/
{"UserQuery":"CanyoutellmeabouttheTVshowsthatactorJohnDoehasbeenapartof?","url":
"http://api.themoviedb.org/3/person/{person_id}/tv_credits","Parameters":{},"API_Response":{"success":
false,"status_code":6,"status_message":"Invalidid:Thepre-requisiteidisinvalidornotfound."}}
/*Analyzer*/
Thetooldescriptionshouldclarifythatavalid’person_id’isrequiredtoretrieveTVshowcreditsforapers-
on.Thecurrentdescriptiondoesnotmentionthenecessityofthisparameter,whichiscrucialforthetoolto
functioncorrectly.Additionally,thedescriptionshouldspecifythatthetoolwillreturnanerrormessageif
aninvalidornon-existent’person_id’isprovided.Thiswillhelpusersunderstandtheimportanceofprovidi-
ngcorrectinputandwhattoexpectincaseofanerror.
/*Rewriter*/
{"Rewrittendescription":"RetrieveTVshowcreditsforapersonusingtheirunique’person_id’.Avalid
’person_id’isrequiredtoaccessthisinformation.Ifaninvalidornon-existent’person_id’isprovided,the
toolwillreturnanerrormessageindicatingtheissue.AdditionaldetailsabouttheTVshowcreditscanbe
queriedusingthecreditmethod.",
"Suggestionsforexploring":"TofurtherexplorethisAPI,itwouldbebeneficialtounderstandthestructure
oftheresponsewhenavalid’person_id’isused.Thisincludesthetypesofinformationreturnedabouteach
TVshowcredit,suchastheroleplayed,theshow’stitle,andthedatesofinvolvement.Additionally,explor-
inghowtoobtainavalid’person_id’foragivenactororactresscouldbeuseful,aswellasunderstanding
anyratelimitsorrestrictionsonthenumberofqueriesthatcanbemade."}
SecondIteration
/*Explorer*/
{"UserQuery":"WhatTVshowshasactressJaneSmithbeeninvolvedinthroughouthercareer?","url":
"http://api.themoviedb.org/3/person/{person_id}/tv_credits","Parameters":{},"API_Response":{"success":
false,"status_code":6,"status_message":"Invalidid:Thepre-requisiteidisinvalidornotfound."}}
/*Analyzer*/
ThetoolretrievesTVshowcreditsforapersonusingtheirunique’person_id’.Itisessentialtoprovidea
valid’person_id’toaccessthisinformation.Ifaninvalidornon-existent’person_id’isprovided,thetool
willreturnanerrormessagewithastatuscodeandastatusmessageindicatingtheissue.Thetooldoes
notrequireanyadditionalparameters.AdditionaldetailsabouttheTVshowcreditscanbequeriedusingthe
creditmethod.Ensurethatthe’person_id’iscorrectlyformattedandexistsinthedatabasetoavoiderrors.
/*Rewriter*/
{"Rewrittendescription":"ThisAPIretrievesTVshowcreditsforapersonusingtheirunique’person_id’.
Avalid’person_id’isessentialtoaccesstheinformation.Ifaninvalidornon-existent’person_id’isprovided,
theAPIwillreturnanerrormessagewithastatuscodeandastatusmessageindicatingtheissue.Thetool
doesnotrequireanyadditionalparameters.Ensurethatthe’person_id’iscorrectlyformattedandexistsinthe
databasetoavoiderrors.AdditionaldetailsabouttheTVshowcreditscanbequeriedusingthecreditmethod.",
"Suggestionsforexploring":"TofurtherexplorethisAPI,considertestingwithaknownvalid’person_id’to
observethestructureanddetailsofasuccessfulresponse.Additionally,explorehowtheAPIhandlesedge
cases,suchasa’person_id’thatexistsbuthasnoTVcredits.Investigatetheformatandtypeofadditional
detailsthatcanberetrievedusingthecreditmethodtounderstandthefullcapabilitiesoftheAPI."}
20Table10:RevisiontrajectoryoftooldocumentationinthethirdroundofmodificationsusingDRAFT.
ThirdIteration
/*Explorer*/
{"UserQuery":"CanyouprovidetheTVshowcreditsforthepersonwithID12345?","url":
"http://api.themoviedb.org/3/person/12345/tv_credits","Parameters":{},"API_Response":{"cast":[],
"crew":[{"adult":false,"backdrop_path":"/fmPo20ZTzxNketxL2jt6ZX6KSPi.jpg",genre_ids":[10759,18,
10765,80],"id":2384,"origin_country":["US"],"original_language":"en","original_name":"Knight
Rider","overview":"MichaelLong,anundercoverpoliceofficer,isshotwhileinvestigatingacaseandleft
fordeadbyhisassailants.HeisrescuedbyWiltonKnight,awealthy,dyingmillionaireandinventorwho
arrangeslife-savingsurgery,includinganewfaceandanewidentity–thatofMichaelKnight.Michaelisthen
givenaspecialcomputerizedandindestructiblecarcalledtheKnightIndustriesTwoThousand(nicknamed
KITT),andamission:apprehendcriminalswhoarebeyondthereachofthelaw.TheseriesdepictsMichael’s
exploitsasheandKITTbattletheforcesofevilonbehalfoftheFoundationforLawandGovernment.",
"popularity":204.362,"poster_path":"/t57NXzTrwp5rnPXiaX4BThrDxt1.jpg","first_air_date":"1982-09-26",
"name":"KnightRider","vote_average":7.5,"vote_count":1227,"credit_id":"55bb4faec3a3684fc0002cd4",
"department":"Directing","episode_count":1,"job":"Director"}}
/*Analyzer*/
TheAPIretrievesTVshowcreditsforapersonusingtheirunique’person_id’.Itreturnstwomaincategories
ofcredits:’cast’and’crew’,withdetailssuchastheTVshow’sname,firstairdate,overview,popularity,and
theperson’srole(e.g.,Director).The’crew’categoryincludesadditionalinformationlikedepartment,job,
andepisodecount.Avalid’person_id’isrequired,andifaninvalidornon-existent’person_id’isprovided,
theAPIwillreturnanerrormessage.Thetooldoesnotrequireanyadditionalparameters.Ensurethatthe
’person_id’iscorrectlyformattedandexistsinthedatabasetoavoiderrors.AdditionaldetailsabouttheTV
showcreditscanbequeriedusingthecreditmethod.
/*Rewriter*/
{"Rewrittendescription":"ThisAPIretrievesTVshowcreditsforapersonusingtheirunique’person_id’.
Itreturnstwomaincategoriesofcredits:’cast’and’crew’.EachcreditincludesdetailssuchastheTVshow’s
name,firstairdate,overview,popularity,andtheperson’srole(e.g.,Director).The’crew’categoryprovides
additionalinformationlikedepartment,job,andepisodecount.Avalid’person_id’isrequired,andifan
invalidornon-existent’person_id’isprovided,theAPIwillreturnanerrormessage.Thetooldoesnot
requireanyadditionalparameters.Ensurethatthe’person_id’iscorrectlyformattedandexistsinthedatab-
asetoavoiderrors.AdditionaldetailsabouttheTVshowcreditscanbequeriedusingthecreditmethod.",
"Suggestionsforexploring":"TofurtherexploretheAPI,considerqueryingfordifferent’person_id’values
toseehowtheAPIhandlesvariouscases,suchaswhenapersonhasonlycastcreditsoronlycrewcredits.
Additionally,explorehowtheAPIrespondstoedgecases,suchaswhenapersonhasnoTVcreditsatall.
Investigatethestructureofthe’cast’categorytounderstandthetypeofinformationprovidedthere,asthe
currentexplorationfocusedonthe’crew’category.Finally,testtheAPI’serrorhandlingbyintentionally
usinginvalid’person_id’valuestoobservetheerrormessagesreturned."}
21Table 11: Revision trajectory of tool documentation in the fourth round of modifications using
DRAFT.
FourthIteration
/*Explorer*/
{"UserQuery":"CanyoulookuptheTVshowcreditsforthepersonwithID99999andletmeknowif
theyhaveanycrewroles?","url":"http://api.themoviedb.org/3/person/99999/tv_credits","Parameters":{},
"API_Response":{"success":false,"status_code":34,"status_message":"Theresourceyourequestedcould
notbefound."}}
/*Analyzer*/
TheAPIretrievesTVshowcreditsforapersonusingtheirunique’person_id’.Itcategorizescreditsinto’cast’
and’crew’,providingdetailssuchastheTVshow’sname,firstairdate,overview,popularity,andtheperson’s
role.Forcrewcredits,itincludesadditionalinformationlikedepartment,job,andepisodecount.Avalid
’person_id’isrequiredtoaccessthisinformation.Ifaninvalidornon-existent’person_id’isprovided,theAPI
willreturnanerrormessagewithastatuscodeandstatusmessageindicatingtheissue.Thetooldoesnot
requireanyadditionalparameters.Ensurethatthe’person_id’iscorrectlyformattedandexistsinthedatabase.
AdditionaldetailsabouttheTVshowcreditscanbequeriedusingthecreditmethod.TheAPIresponsewill
includea’success’flagand,ifunsuccessful,a’status_code’and’status_message’toindicatetheproblem.
/*Rewriter*/
{"Rewrittendescription":"ThisAPIretrievesTVshowcreditsforapersonusingtheirunique’person_id’.It
categorizescreditsinto’cast’and’crew’,providingdetailssuchastheTVshow’sname,firstairdate,overv-
iew,popularity,andtheperson’srole.Forcrewcredits,itincludesadditionalinformationlikedepartment,job,
andepisodecount.Avalid’person_id’isrequiredtoaccessthisinformation.Ifaninvalidornon-existent
’person_id’isprovided,theAPIwillreturnanerrormessagewithastatuscodeandstatusmessageindicating
theissue.Thetooldoesnotrequireanyadditionalparameters.Ensurethatthe’person_id’iscorrectly
formattedandexistsinthedatabase.AdditionaldetailsabouttheTVshowcreditscanbequeriedusingthe
creditmethod.TheAPIresponsewillincludea’success’flagand,ifunsuccessful,a’status_code’and’statu-
s_message’toindicatetheproblem.",
"Suggestionsforexploring":"TofurtherexplorethisAPI,considerqueryingwithavalid’person_id’toexa-
minethestructureandcontentofasuccessfulresponse.Thiswillhelpunderstandthedatafieldsreturnedfor
both’cast’and’crew’credits.Additionally,exploreedgecasessuchasqueryingwitha’person_id’thathas
onlycastcreditsoronlycrewcreditstoseehowtheAPIhandlesthesescenarios.Investigatingtheresponse
fora’person_id’associatedwithahighlypopularTVshowcouldalsoprovideinsightsintohowpopularity
metricsarerepresented."}
22Table12:RevisiontrajectoryoftooldocumentationinthefifthroundofmodificationsusingDRAFT.
FifthIteration
/*Explorer*/
{"UserQuery":"CanyoulookuptheTVshowcreditsforthepersonwithID24680andletmeknowifthey
haveanycreditsinbothcastandcrewroles?","url":"http://api.themoviedb.org/3/person/24680/tv_credits",
"Parameters":{},"API_Response":{"cast":[],"crew":[{"adult":false,"backdrop_path":"/d1wj4WQ87tj7
dLgXCKfPOe8AOz4.jpg","genre_ids":[18],"id":19649,"origin_country":["IT","GB"],"original_langua-
ge":"en","original_name":"JesusofNazareth","overview":"DramatizestheBirth,Life,Ministry,Crucifix-
ion,andResurrectionofJesusChrist,largelyaccordingtotheHolyBible’sNewTestamentGospels.","popu-
larity":38.929,"poster_path":"/dlGmVpZ2rpGRDZsSa64nzyu90xk.jpg","first_air_date":"1977-03-27","n-
ame":"JesusofNazareth","vote_average":7.727,"vote_count":479,"credit_id":"59147af2c3a368423c00e-
100","department":"Sound","episode_count":4,"job":"SoundRecordist"}],"id":24680}
/*Analyzer*/
TheAPIretrievesTVshowcreditsforapersonusingtheirunique’person_id’.Itcategorizescreditsinto’cast’
and’crew’,providingdetailssuchastheTVshow’sname,firstairdate,overview,popularity,andtheperson’s
role.Forcrewcredits,itincludesadditionalinformationlikedepartment,job,andepisodecount.Avalid
’person_id’isrequiredtoaccessthisinformation.Ifaninvalidornon-existent’person_id’isprovided,theAPI
willreturnanerrormessagewithastatuscodeandstatusmessageindicatingtheissue.Thetooldoesnotrequi-
reanyadditionalparameters.Ensurethatthe’person_id’iscorrectlyformattedandexistsinthedatabase.Note
thattheAPIresponsedoesnotincludea’success’flag;instead,itprovidesthe’cast’and’crew’listsdirectly.
AdditionaldetailsabouttheTVshowcreditscanbequeriedusingthecreditmethod.
/*Rewriter*/
{"Rewrittendescription":"ThisAPIretrievesTVshowcreditsforapersonusingtheirunique’person_id’.It
categorizescreditsinto’cast’and’crew’,providingdetailssuchastheTVshow’sname,firstairdate,overvi-
ew,popularity,andtheperson’srole.Forcrewcredits,itincludesadditionalinformationlikedepartment,job,
andepisodecount.Avalid’person_id’isrequiredtoaccessthisinformation.Ifaninvalidornon-existent’p-
erson_id’isprovided,theAPIwillreturnanerrormessagewithastatuscodeandstatusmessageindicating
theissue.Thetooldoesnotrequireanyadditionalparameters.Ensurethatthe’person_id’iscorrectlyformat-
tedandexistsinthedatabase.TheAPIresponsedoesnotincludea’success’flag;instead,itprovidesthe’cast’
and’crew’listsdirectly.AdditionaldetailsabouttheTVshowcreditscanbequeriedusingthecreditmethod.",
"Suggestionsforexploring":"ConsiderexploringhowtheAPIhandlesedgecases,suchaswhenapersonhas
noTVcreditsatallorwhentheyhavecreditsinbothcastandcrewroles.Additionally,investigateiftheAPI
providesanysortingorfilteringoptionsforthecredits,suchasbydateorpopularity.Anotherareatoexplore
couldbethelevelofdetailprovidedinthe’overview’fieldandwhetheritvariessignificantlybetweendiffer-
entTVshows."}
23