Preprint.FinalversionavailableatIEEETransactionsonVisualizationandComputerGraphics.
Who Let the Guards Out: Visual Support for Patrolling Games
MateˇjLang ,AdamŠteˇpánek ,RóbertZvara,VojteˇchRˇehák ,andBarboraKozlíková
Fig.1:Theinterfaceofourproposedapplication.(a)Thecentralpartisformedbythegraphrepresentationofthepatrolledsite,where
roomsaredisplayedasnodesandedgesdepicttheroutesbetweenrooms,labeledwiththeprobabilityoftakingthemwithinagiven
patrollingstrategy.Nodescanbecollapsed(b)andexpanded(c),aidingthestrategyexplorationandunderstanding.(d)Interactingwith
theslider,wecanfilteroutedgeswiththetransitionprobabilityunderagiventhreshold.(e)TheTransitionMatrixhelpsinunderstanding
thedeterministicnatureofthestrategy.(f)Linkedbarchartsenabletheuserstoseethedistributionoftherecurringvisitsforindividual
nodesandroutesbetweentwoselectednodes.(g)Animationsliderthatcontrolsthemovementsofsimulatedpatrolsfortheexploration
ofthetemporalcharacteristicsofthestrategy.
Abstract—Effectivesecuritypatrolmanagementiscriticalforensuringsafetyindiverseenvironmentssuchasartgalleries,airports,
andfactories.Thebehaviorofpatrolsinthesesituationscanbemodeledbypatrollinggames.Theysimulatethebehaviorofthepatrol
andadversaryinthebuilding,whichismodeledasagraphofinterconnectednodesrepresentingrooms.Thedesignersofalgorithms
solvingthegamefacetheproblemofanalyzingcomplexgraphlayoutswithtemporaldependencies. Therefore,appropriatevisual
supportiscrucialforthemtoworkeffectively.Inthispaper,wepresentanoveltoolthathelpsthedesignersofpatrollinggamesexplore
theoutcomesoftheproposedalgorithmsandapproaches,evaluatetheirsuccessrate,andproposemodificationsthatcanimprove
theirsolutions.Ourtooloffersanintuitiveandinteractiveinterface,featuringadetailedexplorationofpatrolroutesandprobabilitiesof
takingthem,simulationofpatrols,andotherrequestedfeatures.Inclosecollaborationwithexpertsindesigningpatrollinggames,we
conductedthreecasestudiesdemonstratingtheusageandusefulnessofourtool.Theprototypeofthetool,alongwithexemplary
datasets,isavailableathttps://gitlab.fi.muni.cz/formela/strategy-vizualizer.
IndexTerms—PatrollingGames,Strategy,Graph,Heatmap,VisualAnalysis
1 INTRODUCTION
Securityinlargepublicbuildingsisaprevailingissuethatneedstobe building that should be ideally randomized and thus unpredictable
seriouslyconsidered—andtheproblemisaddressingbothvisitorsof totheadversary. Thispresentsacomplexoptimizationproblemthat
thesesites,aswellasobjectsinthem(suchaspaintingsingalleries). needs to be modeled and simulated, which is the core topic of the
Security agencies have to correctly determine not only the number so-calledpatrollinggames[3]. Thedesignersofthesegameshandle
of patrols for a given public space but also their routes inside the themultidimensionalspacewithprobabilisticdistributionofthepatrols
andadversariesovertime.
Insuchagame,thegoaloftheadversaryistoattackandperforma
• MateˇjLang(langm@mail.muni.cz),AdamŠteˇpánek,RóbertZvara, maliciousactivityunnoticed,whilethegoalofthepatrolistominimize
VojteˇchRˇehák,andBarboraKozlíkováarewithMasarykUniversity. thechanceoftheattack.Thegameisusuallyplayedonagraph,where
thenodesarethelocationsofinterest(e.g.,rooms),andtheedgesare
Manuscriptreceivedxxxxx.201x;acceptedxxxxx.201x.DateofPublication
connectingpaths(e.g.,routesbetweenrooms).
xxxxx.201x;dateofcurrentversionxxxxx.201x.Forinformationon
obtainingreprintsofthisarticle,pleasesende-mailto:reprints@ieee.org. Whendevelopingastrategytopatrolasite,theexpertsmustcon-
DigitalObjectIdentifier:xx.xxxx/TVCG.201x.xxxxxxx sidertheworst-casescenario.Thatmeanstheadversaryhascomplete
informationaboutthegame,whichisnotthecaseforthepatrol.The
1
4202
luJ
62
]CH.sc[
1v50781.7042:viXraadversarycouldtheoreticallyknowthefullstrategyofthepatrol,as
wellastheircurrentposition. Thistypeofpatrollinggameiscalled
adversarialpatrollinggame[28].Thesolutionforthepatrolistocreate
arandomizedpattern,whereeventhepatroldoesnotknowtheirnext
step,sotheadversarycannotbenefitfromtheknowledgeofthestrategy.
InSection3,weintroduceseveralalgorithmsdevelopedforcreating
patrollingstrategies.Thesealgorithmsareusuallydependentonamet-
rictheyaretryingtomaximize.Evenifsuchametriciscleverlycrafted
toproducegoodstrategies,anumberaloneprovideslittleinsightinto
thestrategyitselfandhowitbehavesinaparticulargraph. Willthe (a) (b)
patrolmoveinacircularpattern,visitingalllocationsonebyone,or
willtheyemployclevertricks,backtrackingforabitortakinganunex- Fig.2: Node-linkdiagramsdepictingMarkovchains. (a)atypicalex-
pectedturntomakeitharderfortheadversary? Thesearequestions amplewithprobabilitiesasedgelabels(self-loopsareomitted)[19].(b)
that cannot be easily answered by considering strategy values only, probabilitiesaredisplayedastheedgelineweight[5].
whichopensspaceandtheneedforappropriatevisualrepresentation
thataidsintheexplorationofallpossibleoptions. Inourresearch,
weaimtodevelopavisualizationsystemthatcanvisuallypresentthe
structureofastrategyonagraphandprovideinsightintothebehavior
ofthepatrol.Theultimategoalistoaidthedesignersofthepatrolling
gamesinfindingpotentiallyvulnerablespotsintheirproposedstrategy (a) (b)
inafastandintuitiveway.
Tosummarize,inthispaper,weclaimthefollowingcontributions: Fig.3:(a)ExampleofaplainMarkovchainstrategy.Theprobabilityof
goingfromlefttorightwithoutreturningis25%. (b)Intheexpanded
• Design of visual support for patrolling games, addressing the
version,wherethepatrolretainsmemory,theprobabilityis100%.
initialrequirementsderivedfromtheneedsofdesignersofthe
strategies.
• Interfaceconsistingoflinkedviewsthathelptoexplorethestrate-
WhiletheMarkovchainisasimplestochasticmodelwithplentyof
giesandtheirparametersandcansimulatethemovementsofthe
easilycomputableproperties,theMarkovpropertyissometimestoo
patrol.
restrictive.Considerthefollowingexample:thepatrolistryingtowalk
• Demonstrationoftheusefulnessandutilizationofthetoolinthree totheendofalongcorridor,stoppingateachintersection,takingone
casestudies. stepforwardoronestepback. InastrategypresentedasaMarkov
chainwithauniformdistributionineachintersection(Figure3a),the
2 MARKOVCHAINS expectednumberofstepstogetfromoneendofthecorridortothe
Markovchainisthemostnaturalunderlyingmodelforrepresenting
otheronetakes(n+1)2steps,wherenisthenumberofintersections
a patrolling strategy with randomization. Since it is the model the ontheway. Moreover,theprobabilitythatthepatroltakesthedirect
domainexpertsutilizeintheirwork,weprovideabasicoverviewin
path(ofn+1steps)isassmallas2−n.Ifwehadusedanon-uniform
thecontextofpatrollinggames.Foramoredetailedexplanation,we distributionintheintersections,itwouldhavebeeneasytogooneway
referthereadertoafulltextbook[12,19]. butnottheother.Letusimaginethattheoptimalpatrollingstrategyis
TheMarkovchainisasimpleyetpowerfulstochasticmodelcaptur- togostraightfromoneendtotheotherandback. Thesolutionisto
ingasequenceofpossibleevents.Intermsofthepatrollingstrategy,in takeintoaccountthepatrol’sprevioussteps,butthisdoesnotsatisfythe
eachstep,thepatrolcanmovetoanewposition.Thebasicpropertyof Markovproperty.Wesolveitbysplittingeachlocationintooneormore
aMarkovchaincalledtheMarkovproperty,isthat(theprobabilityof) copiesofthelocationthatholdtheinformationaboutwherethepatrol
thesubsequentstepdependsonnothingbutthecurrentposition.Hence, camefrom. Wecallthesecopiesmemorynodes,astheyeffectively
theMarkovchaincanbeexpressedasatransitionmatrix,whereeach actasamemoryofthepatroller’spastbehavior.Asisapparentfrom
rowisanoutgoingposition,andeachcolumnisanincomingposition Figure3b,thetaskofwalkingdownthecorridorbecomestrivialwhen
(orviceversa,dependingontheconvention). Then,eachelementof thestrategyisrepresentedasaMarkovchainonthememorynodes.
thematrixrepresentstheprobabilityoftransitionfromoneposition
toanother,hencethenametransitionmatrix.Foreachrow,thelisted
3 RELATEDWORK
probabilitieshavetosumto1.0,astheyrepresentaprobabilitydistribu- Thissectionsummarizestheexistingworksthatarecloselyrelatedto
tiononsubsequentpositions.Suchmatricesarecalledstochastic.E.g., thedomainofpatrollinggamesandourproposedsolutionfortheir
astochasticmatrix visualsupport.Afterdiscussingthepatrollinggamesandtheexisting
0 1 0 visualizationapproaches,webrieflysummarizethebasicbackground
P=0 2 3 1 3 worksingraphdrawing.
1 1 0
2 2 3.1 PatrollingGames
representsaMarkovchaindepictedasagraphofpositionsinFigure2a.
Theproblemofpatrollingdealswiththesecurityofimportantlocations
Duetothematrixbeingstochastic,ithastoincludethevalue2/3asa
(e.g.,airports,artgalleries,orschools)andthose(peopleandobjects)in
self-loopthatthefigureomitsinposition2.
them.Thepointofviewofpatrollinggamesdealswiththequestionof
AnimportantcharacteristicofaMarkovchainistheso-calledsta-
“Howshouldthepatrolsbescheduledtocatchthemostintruders?”[3].
tionarydistributionπ.Thisisaprobabilitydistributiononthepositions
And, sincethefocusisonplanningaheadofanyaction, patrolling
thatdoesnotchangeinthenextstep
gamesassumetheworstsituationwhentheintruderalreadyknows
π·P=π, everythingaboutthepatrol.
Formally,patrollinggames,forwhichourvisualizationisdesigned,
wherePisthetransitionmatrix.Thestationarydistributionrepresents arebasedontheStackelbergmodel[25].Itisaninteractionbetween
the long-term coverage of the particular positions. The higher the twotypesofactors.Theadversary(orintruder,attacker,perpetrator,
probability,thehigherthefrequencyofvisits.Itservesasanimportant andhebyconvention)istryingtoattackaspecifictarget,corresponding
metricsinceitrevealspotentiallyvulnerablespotsthatarenotvisitedso toanodeinapatrollinggraph.Thepatrol(ordefender,guard,andshe
often.Similarly,wecancomputedistributionontheedgesrepresenting byconvention)istryingtopreventthisattack. Weassumethepatrol
thefrequencyoftheirusage. lackstheresourcestomountpermanentsupervisionoveralllocations.
2Preprint.FinalversionavailableatIEEETransactionsonVisualizationandComputerGraphics.
(a) (b)
Fig.5: Aline-graph-likeapproach[32]. Evenwithasmallnumberof
Fig.4:Node-linkdiagramslaidouttoresembleamap.(a)athree-floor
locations,thegraphgetsveryclutteredandunreadable.
hotel[15].(b)astoragefacilitywithsixzones[16].
Figure2b. Thisapproachretainsthenode-linkdiagram’sabilityto
Therefore,shemustpatrolthembyfollowingapaththroughtheedges
resemblethepatrolledspace. Itcanevenshowthelong-termproba-
ofthepatrollinggraph.Wealsoassumethattheadversaryisintelligent
bilityofthepatrol’sdecisions. Unfortunately,thisapproachquickly
and can obtain the patrolling schedule. Therefore, the schedule is
becomesunreadablewhenappliedtostrategiesthatequipthepatrol
randomizedtobeefficientevenagainstanintelligentadversary.Allof
withmemorysinceeachlocationinthosestrategiesmayberepresented
thisconsidered,theproblemis“Howshouldthepatrollingschedulebe
bymanydistinctnodes.
randomizedtobemosteffectiveagainsttheadversary?”.
Adifferentapproachtothevisualizationofpatrollinggamespresents
Thepatrollinggameswevisualizecanbefurtherextendedbyassum-
theconceptofdedicatingthehorizontalaxistotimeandthevertical
ingthatthedefenderhasmemory(i.e.,herstrategyisnotmemory-less)
axistolocations.Assumingasituationwithonlyahandfuloflocations,
andkeepsahistoryofnodesshevisitedalongherpatrollingpath.This
thisconceptcanbeappliedtoaMarkovchainnode-linkdiagram.With
extensioncanbeimplementedinvariousways.Forexample,thenodes
manylocationsandstrategies,thediagramcanbescaled,becoming
ofthepatrollinggraphcouldbeduplicated,eachrepresentingadifferent
essentiallyalinegraph(Figure5). Thisconceptcanbequiteuseful
stateofthepatrol[2,6].Alternatively,afinitesetofmemoryelements
whenexplainingtheproblemofpatrollinggames[30].Nevertheless,
canbeassociatedwitheachnode[15].Nevertheless,frequently,only
itquicklybecomesclutteredandgivesuptheabilitytorepresentthe
thepatrol’scurrentstateisconsidered,eventhoughtheoptimalstrategy
situation spatially. Therefore, as such, this representation does not
mayrequirehertoremembertheentireroute.Inthesecases,Markov
fulfilltheneedforinteractiveexplorationofastrategy.
chainsmaybeusedtomodelthepatrol’sdecisionprocess[10].
Patrollinggamesarenotonlyatheoreticalformalismbuthavealso
3.3 GraphDrawing
beensuccessfullyusedinpractice. InLosAngeles,theyhavebeen
usedtoschedulecheckpointsattheInternationalAirportthroughthe Since patrolling games intrinsically model the problem as a graph,
ARMORsystem[20].StillinL.A.,thegame-theoreticapproachhas wewereintenselystudyingoptionsforvisualizingthem. Here, we
alsobeendeployedinthemetrosystemtoschedulefareinspection[10, summarizethemostrelatedfindings.Theliteraturesurroundinggraph
31].ThereisalsoIRIS,whichschedulesflightsofUSairmarshals[25], drawing is extensive. Therefore, we refer to a chapter by Eades et
PROTECTaidingUSCoastGuardsprotectingtheirports[24],and al.[8],introducingthetopicfromanalgorithmicpointofview.
PAWSsafeguardingwildlifeinUgandafrompoachers[9]. Acommon wayof visualizing graphsin aninteractivesettingis
bysimulatingphysicalforcesbetweenthenodes—applyingaforce-
3.2 ExistingVisualizationsofPatrollingGames directedlayout.Therearemanyalgorithmsforcomputingthislayout.
ItwaspioneeredbyEades[7]andlaterbuiltuponby, forexample,
The current state of the visualization of patrolling games is rather
FruchtermanandReingold[11],orJacomyetal.withtheirForceAtlas2
limited. Literature on patrolling games frequently contains simple
algorithm[14],whichfocusesongeneratingrecognizableclustersof
drawingsandvisualizations. Theydifferintheirfaithfulnesstothe
highlyconnectednodes.
patrolledenvironment,theabilitytoportraymultiplestrategies,and
Graph nodes tend to be associated with multiple attributes (e.g.,
theirreadability,whichisheavilyimpactedbythenumberofsites(e.g.,
files in a file system have size, age, type, owner, etc.), resulting in
rooms)tobeguarded.
multivariatenetworkgraphs.Forahigh-leveloverviewofthosegraphs,
Themoststraightforwardwayofdepictingtherouteofapatrolis
we recommend the state-of-the-art report by Nobre et al. [18]. We
throughamap.Theyclearlyshowtheproblem’sspatialcircumstances—
alsohavetoacknowledgeworkbyvandenElzenandvanWijk[26]
thepatrolledbuildings’physicalshape. However,itonlyshowsone
focusingonuserinteractioninmultivariategraphs.
selectedroute,failingtocaptureanyotherpossibilities,letalonethe
Ifthenodeneedstoencodeinformationstoredinit,wecanprovide
probabilityofeachdecisionalongtheroute.
manyexamplesoftheirrendering,suchasglyphs[29,33]. Itisalso
Alternatively,theconnectedlocationscanbedrawnastraditional
commonfornodestocontainothernodes.Insuchcompoundgraphs,
node-linkdiagrams.Thesediagramscanthenbelaidouttoresemblethe
someedgesarerepresentedaslines,andothersareimplicitbycomposi-
originalspace(Figure4a).Incaseswhereseveralnodesarespatially
tion[4].However,thisapproachisjustonepossiblewayofvisualizing
closely tied together or can be visited simultaneously, it is visually
groupsinagraph. Othersolutionsincludedifferentiatingnodesby
clearertodepictthemasanestedgraph(Figure4b).However,anode-
colororpaintingcontoursaroundthem[27].
linkdiagramalonedoesnotcommunicatemuchbesidesthetopologyof
thepatrollinggraph.Specifically,itomitstheprobabilityoftransition
betweennodes—thepatrollingstrategyitself.
4 DESIGNREQUIREMENTS
AssumingaMarkovchaindescribesthepatrol’sbehavior,thenode- Thedesignrequirementsforourproposedsolutionwerederivedfrom
linkdiagramcanbefurtherextended. Typically,aMarkovchainis numerousdiscussionswithourcollaboratingdomainexpertsindesign-
depictedasinFigure2a—orientednode-linkdiagramswhereedge ingalgorithmsandstrategiesforpatrollinggames.Ourcollaboration
labels represent the probability of transition between nodes. How- group, focusingonapplicationsoflogic, gametheory, anddiscrete
ever,sinceprobabilityvaluesareconstrainedtothe[0,1]interval,they structures,consistsoffiveseniorandfourjuniorresearchers,whowere
canalsobeeasilydisplayedastheedgelinethickness,asshownin consultingthetopicwithus.Themostinvolvedseniorresearcher,who
3alsoconductedthecasestudy,istheco-authorofthispaper. Within
numerous discussions, we aimed to understand their traditional ap-
proachestotheexplorationoftheproposedstrategiesandidentification
oftheirweaknesses. Then, weidentifiedthetargetaudienceofthe
proposedsolution,whichprimarilyconsistsofexpertsonpatrolling
gamesand,secondarily,thepublicaudiencetowhomtheexpertswant
toexplainthebackgroundandimportanceoftheirresearch.
Thefirstsessionswiththeexpertsconsistedofobservingtheexplo-
rationprocessofstrategydevelopmentwithaspecificfocusonvisual
aidsthathelpthemanalyzetheoutcomesoftheiralgorithms. When
developingastrategy,thedomainexpertswouldstartwithalayoutof
thepatrolledarea,describedbyalistofnodesandedges. Basedon
(a) (b)
thegoalofthestrategy(e.g.,catchtheadversary,guardthevaluable
Fig.6:(a)Arepresentationofabuildingwitheachlocationmarkedby
location,periodicmaintenance),theyspecifyasetofcriteria,whichthe
adifferentcolor. (b)Thesamebuilding,withastrategyapplied. Each
algorithmistryingtooptimize,anddesignthealgorithmitself.They
locationcanbepresentmultipletimesasamemorynode. Codingby
run several experiments with a range of changing parameters. The
colorsisinsufficienttotrackthebehaviorofthepatrol.
experimentsareconductedbydesigningagraphinwhichthedomain
expertswouldexpectonestrategytooccurandthentryingtofindthat
strategy.Whilethisapproachcanverifytheexpectedfunctionalityof
thealgorithms,itisunsuitablefortheexplorationofthestrategiesin R3 Clearlyassociatethememorynodeswiththeirlocations.
real-worldscenarios.Afterfindingthesolutionsoftheseexperiments,
R4 Tracktheprobabilityofthepatrolvisitingotherlocationsfrom
theyneedtoverifythatthealgorithmproducesfeasibleresults.Since
theselectedstartingpoint.
thedomainexpertsconductresearchonpatrollinggames,theparam-
etersoftheexperimentschangeconstantly,andsodothemetricsof R5 Identifythepatrol’slong-termbehavior,suchashowoftenthe
success. Ratherthantryingtofindauniversalsolution,theaimisto locationsarevisited.
provideasetofvisualtoolsthataregeneralenoughtoapplytoawide
R6 Trackthedynamicbehaviorofthepatrolinalllocations.
rangeofscenarios.
Basedonthediscussionswiththeexperts,wehavedevelopedthe
visualizationswiththefollowingassumptionstolimitthedesignspace.
5 APPLICATIONDESIGN
Sincethegraphsrepresentbuildingfloorplans,wecanusuallyassume Thedesigndecisionsbehindourproposedsolutionaremirroringthe
thatthegraphswillbeplanar.Thesizeofthepatrolledsitesisexpected statedrequirements.Inthefollowing,wewillpresentindividualviews
tobenomorethanthirtyindividuallocations.Eachlocationcanhave ofourapplication,whichisdepictedinFigure1,alongwiththeratio-
multiplememorynodes,butauxiliarylocations(officesandotherrooms nalebehindthem. Theprocesswasinlinewiththewell-established
withsingleentry/exit)tendtohavefewermemorynodes.Thereisno guidelinesfordefiningthedesignspaceofvisualizationtasks[21].The
hardlimit,yetweassumetherewillbenomorethantenmemorynodes designprocesswasiterative: afterprototypingthefirstversion, we
inalocation. Lastly,weexpecttheMarkovchaintobeirreducible, discusseditwithourcollaborators,andbasedontheirfeedback,we
i.e., the transition matrix contains only one graph with no isolated updatedthedesignandprototypeaccordingly.Thisprocesshadseveral
subgraphs. roundsuntilwereachedthefinalconsensusanddesignpresentedin
It is also crucial to mention that the strategies we are operating thispaper.
witharecomputedfora1v1versionofthegame(onepatrolvs. one
adversary). Thedesignofthetoolsforvisualanalysisofthemulti- 5.1 NodeGraph
patrolscenariosrequiresadifferentapproachandwillbeasubjectof
Anodegraphformsthecentralpartoftheapplication;awell-known
ourfuturecollaborationandresearch.
representationofMarkovchainsthattranslatesverynaturallyintothe
The only time the researchers have been working with a visual
spatiallayoutofamap,suchasamuseumoranairport. Thisdesign
representation of the graph is either when they draw it by hand or
choicewaslogicalasitwasalsooneofthemainvisualdepictionsthe
during the evaluation phase when they utilize the transition matrix,
domainexpertsoriginallyusedforsketchingtheirstrategiesonpaper.
visualizedasaheatmap.Oneoftheirmainconcernsintheevaluation
However,thenatureofthestrategythatneedstobecapturedbythe
ofthecorrectnessofthestrategyistofindstablepathsthatarecreated
graphdoesnotallowforasimpleone-to-onemappingofnodesand
inthegraph.Heatmapscannotbeintuitivelyusedfortracingthepaths,
edges,asweneedtocommunicatenotonlythelocationsbutalsothe
soforthistask,theyhadtosketchtheresultsasgraphs.
memorynodesinsidethem.Figure6ashowsthesite’soriginallayout
Another task that needs to be addressed by our newly designed depictingonlylocations, whereasFigure6bshowsaversionwhere
solution is the fact that one physical location can contain multiple locations are expanded to their memory nodes; here, each location
memorynodes,andtheuserneedstogetanoverviewofthelocations,as isrepresentedbyseveralnodesofthesamecolor. Thenaïvelayout
wellasthedetailsondemandaboutselectedlocationsandtheirmemory spreadsthememorynodescorrespondingtoonelocationacrossthe
nodes.Thisconnectionbetweenthelocationsandtheirmemorynodes wholegraph,whichresultsinthelossofcorrespondence.Moreover,it
needstobeclearlyvisuallydepicted.Similarly,weneedtohandlethe isevidentthatcodingbycolorisinsufficienttotrackmultiplecopiesofa
edgesconnectingthenodesandtheirappropriateaggregationwhenwe location.Whenthedomainexpertsdrawtheexample,theyneedtokeep
aggregatethememorynodesintolocations. allcopiesofthephysicallocationclosetogether.Putinvisualization
Whenevaluatingthestrategy,oneneedstotrackthebehaviorofthe designterms,itisnecessarytocreateanoverviewoflocationswith
patrolovertime.Theuserneedstoseetheprobabilitydistributionof aggregatedmemorynodesbutalsoprovidethedetailsaboutindividual
visitingotherlocationsfromastartinglocation.Weneedtodesigna memorynodesondemand(R2,R3).
setofinteractionsthatsupportexplorationofthetemporalaspectof Tovisuallydistinguishbetweenlocations,weencodethembycolor.
thestrategy,bothshort-termsuchastrackinganindividualpatrol,and Tocreateacolorpalette,weusethetool“IWantHue”byMedialab[13],
long-term,aswhichlocationsarevisitedthemostorwhichareomitted. whichisdesignedtogeneratevisuallydistinguishablecolorsinthe
From the above-described problems and tasks, we compiled the L*a*b*colorspace.Ourgoalistogeneratecolorsthatareeasytoname
followingsetofrequirementsthatneedtobeaddressedbyoursolution: sothattheusercaneasilytalkandthinkaboutthemandpointthemout.
Onecanarguethatthisapproachisnotrobustwhenwehavetodeal
R1 Visualizestablepathsthatarecreatedinthegraph.
withlargegraphs.However,asconfirmedbyourcollaboratingexperts,
R2 Aggregateoverviewofthestrategybutkeepthedetailsaccessible. thenumberoflocationsinthegraphismostlylimitedtodozensat
4Preprint.FinalversionavailableatIEEETransactionsonVisualizationandComputerGraphics.
(a)Opentoopen. (b)Opentoclosed.
(a) (b) (c)Closedtoopen. (d)Closedtoclosed.
Fig.7:(a)Theoriginaldesignofnodeaggregation.Theouterrectangle Fig.8:Fourdifferentconfigurationsofedgeaggregation.Edgesthatgo
wouldstretchtowrapalltheinnersquaresthatcanbepositionedany- thesameway(allinorallout)afteraggregationaresummedanddivided
where,whichwouldquicklycrowdthecanvasandwastespace.(b)The bythenumberofpointstheycouldcomefrom. Theedgesthatwould
improveddesignallowstheopeningandclosingofthelocations,which stayinsidethelocationaretakenoutandtreatedthesamewayasother
savesspace.Thememorynodesontheperimeteroftheclosedlocation edges.TheresultinggraphisalsoatrueMarkovchain.
createveryrecognizablepatternsthatallowforquickcountingofinner
memorynodesatfirstglance.
ofthenodesatrandomand,fromthere,considerstheprobability.The
finalmeasureisthecombinationofthesetwoactions.
maximum;therefore,theypreferthisoptionfordistinguishingbetween
Ifthereisaconnectioninsidealocation,itwillbeeffectivelyhidden,
them.
and the edge values lose their meaning altogether. Even though a
Theorientededgesbetweennodesencodetheprobabilityoftaking
connectioninsidethelocationdoesnotoccurinanyofthestrategies
theroutebetweenthegivennodesbythepatrol.Thiscorrespondstothe
weencountered,weincludethesolutionforcompleteness. Asseen
weightsofedgesintheMarkovchain.Inoursolution,wearevisually
in Figure 8, the inner edges are taken out as a self-connection and
depictingtheseweightsbydouble-encodingthemintothethickness
treatedinthesameway,i.e.,dividedbythenumberofmemorynodes.
andluminanceofthearrowsrepresentingtheedges.
ThispreservesMarkovpropertiesforeveryconfiguration. Intheory,
thisformofaggregationcanbeappliedtoanyMarkovchainandby
5.1.1 NodeAggregation
progressiveclosingofnodes,createahierarchyofthechain.Wedonot
Whenaggregatingthememorynodesintolocations,itisnecessaryto explorethisfeaturefurther,asthiscaseisnotpresentinthepatrolling
informtheuserabouttheinnerconstitutionofthelocations,i.e.,the gamestrategieswithwhichweareoperating.
numberofitsmemorynodes.Thefirstideacamefromtherequirement
ofassociatingthememorynodeswiththeirlocations. Bydrawinga
5.1.3 GraphLayout
rectangularboundaryaroundallassociatedmemorynodes,wecreateda
locationthattiesthemvisuallytogether(Figure7a).However,asmore Acomprehensiblerepresentationofthegraphlayoutisoneofthekey
locationsaredrawnthisway,toomuchspaceiswastedinbetween,and features.Forthat,wedecidedtousetheforce-directedapproachasit
thelocationscanoverlapwithoneanother. Weimprovedthedesign canconvergetoadistributionofnodesandedgesthattriestomaintain
bychangingtheshapefromarectangletoacircle,fixingthesizeof theproximityofnodesaccordingtoselectedparametersandminimizes
thelocation,andforcingthenodestostayinthelocationaroundthe theedgecrossings. ThebasisofthislayoutisForceAtlas2[14]with
perimeter(Figure7b)(R2,R3). Theclosedlocationshrinkstosave severalalterations. Wedifferentiatebetweenthelayoutoflocations
space,andthenodesmovearoundtheborder,resemblingflowerpetals, andtheirmemorynodes.Thelayoutofthewholemapisdrivenonly
whichshowsthenumberofmemorynodesataquickglance.Theopen by locations, not the memory nodes. The memory nodes interact
locationhasallmemorynodesfloatingwithinwithalloftheedges generallywithothermemorynodesinthesamelocation.Thiscreatesa
visible. separationofconcernsthatkeepsthelayoutmanageable.Thefollowing
paragraphspresenttheforcesthatshapethefinallayout.
5.1.2 EdgeAggregation Theattractionforcepullstogethereverypairoflocationsthatshares
By aggregating the memory nodes into locations, it is possible to anedge. Itisaweightedforce,whereweusetheweightoftheedge.
obtainmultipleparalleledgesconnectingnodesbetweentwolocations Eventhoughtheedgesareoriented,theforcesareappliedtobothnodes,
(Figure8).Theseedgescreatevisualclutteranditishardtoextractthe andthelargerofthetwoischosen.Onlylocationsattracteachotherby
realprobabilityoftravelingbetweenthelocations,soitisnecessaryto thisforce,nevermemorynodes.
somehowaggregatetheirvaluesaswell.Inthefollowing,wedescribe ForceAtlas2isdesignedwithasocialnetworkinmind; itusesa
threepossibleapproachestoedgeaggregation(R2). “repulsionbydegree”variation.Forourlayout,weimplementtherepul-
Thetrivialsolutionistosumthevaluesthatnowpointinthesame sionforceonlyastheinverseofthedistancemultipliedbyarepulsion
direction. Sincetherecanbemorethanonememorynodepointing factortokeepallelementsspacedout.Alllocationsrepeleachother.
fromonelocation,thesumoftheoutgoingedgeswouldbeequaltothe However,memorynodesrepelonlywheninsidethesamelocation.
numberofmemorynodeshiddeninthelocation,whichwouldbiasthe The gravityforce discountsthedegreeofthenodeas well. Itis
valuestowardslocationscontainingmorememorynodes. scaledbytheradiusofthenodeinsteadasameasureofitsweight.
Thesecondoptionistotakealledgesandchoosethemaximum Gravitykeepsnodesfromfloatingaway.Locationsareattractedtothe
value,whichclampstheresultsintotherange(0;1].Here,theproblem middleofthecanvas,whilethememorynodesfollowthecenteroftheir
isthatthemaximumfunctionhidesotheredgevaluesand,moreimpor- parentlocation.
tantly,doesnothavecorrespondingmeaningintermsofthestrategy. Thethreeforcesaresufficientforthelayoutoflocations.However,
Finally,thethirdoptionistotaketheaveragevalue,i.e.,asumofall thememorynodesinopenlocationscreateextracrossingsthatobscure
paralleledges,anddivideitbythenumberofnodes.Notonlydoesthe thegraph(Figure9a).Forthisreason,wecreatedtheaxialforcethat
averageproduceavalidMarkovchain,butitalsohasaclearexplanation is exerted on the memory nodes to untangle the edges (Figure 9b).
intermsofthestrategy.Whenconsideringaclosedlocation,choosing Thedirectionoftheforceisalwaysperpendiculartotheaxisbetween
the starting memory node is usually not important. The process of thememorynodeandthelocation.Themagnitudeisthedotproductof
normalizationbythenumberofmemorynodesplacesthepatrolinone theedgeE andtheunitvectoroftheaxialforceFˆ xmultipliedbythe
5(a) (b)
(a) (b) (c)
Fig.9:(a)Openlocationwithoutusingtheaxialforce.(b)Openlocation
withaxialforceappliedtothememorynodes. (c)Schemaoftheaxial
forcecomputation.Thedirectionoftheforceisalwaysperpendicularto
thememorynode-locationaxis.Themagnitudeisthedotproductofthe
edgeEandtheunitvectoroftheaxialforceFˆ xmultipliedbyaconstantkx.
(c) (d)
Fig.11:TheSelectedNodePanel.TheDistributionofRecurringVisits
chartcanshoweithertheprobabilityofreturningtothesamenode(a,
c)orarrivingatadifferentnode(b, d). Thecharts(a)and(b)show
relativelyfastmixing,i.e.,theprobabilityofvisitingisbecomingmore
homogeneous.Anexampleofadeterministicpathisin(c)and(d).No
mixingisoccurring,asthepatrolfollowsonlyoneloop.
5.1.5 LoopDetection
Animportantcharacteristicofastrategyisthepossibilityofusingit
indefinitely, thereforefollowingaloop. Whenalocationhasedges
(a) (b) (c)
comingoutofit,butnonearecomingin,itcannotbevisitedmorethan
Fig.10:(a)Originalstrategy,whereonlythefirstedgeoftheloophas
once(R5). Thistraitwillbevisibleinthepathpreference,asthese
alowprobability. Theresthasa100%probability,whichdistortsthe
abandonedlocationswillshowa0%probabilityofalong-termvisit.
importance.(b)ThePathPreferencegraphshowscorrectlyhowoften
Tofurtherfacilitatethediscoveryofunfinishedloops,weimplemented
thepatroltravelsaroundthewholeloop. Theproportionoftimespent
Kosaraju-Sharir’salgorithm[23]tocomputestronglyconnectedcom-
inthelocationisencodedbothasanumberandaluminanceofthe
locations.Theedgeprobabilitiesarenormalizedforahigherrange.(c) ponents. Whenthelocationormemorynodeisnotpartofaclosed
Whentheedgethresholdisraisedover25%,oneoftheloopsissevered. loop,itshrinks,andallofitsedges,bothinboundandoutbound,fade
Thelocationsthatnolongercompletealoopareshrunk,andonlythe out(Figure10c).Theloopdetectionisrecomputedeverytimetheedge
stronglyconnectedcomponentsremain. thresholdslider(Figure1b)ismoved,sotheusercandynamicallyfind
theexactvaluewhentheloopbreaksandlocatetheweakspot. On
theotherhand,thepathpreferenceiscomputedonlyfortheoriginal
strategy,wherealledgesaretakenintoaccount.
constantkx
|Fx|=kx·⟨E,Fˆ x⟩. 5.2 AdditionalTools
Thegraphnetworkiswell-suitedfortheexplorationofstaticfeatures;
Theaxialforceusestheedgestopullthememorynodestowardsthem. however, whenexaminingthestrategy, itisnecessarytoinspectits
Iftheforcewereappliedinthedirectionoftheedge,itwouldstretchthe dynamicaspectsaswell.
memorynodesoutoftheboundsofthelocation.Instead,theperpen-
dicularforcerotatesthememorynodesintoamorefavorableposition 5.2.1 SelectedNodePanel
whilekeepingthemonthesameradius(Figure9avs.Figure9b). By selecting any location or memory node, it is possible to see its
detailsintheSelectedNodePanel(Figure11). Themostimportant
featureisitsDistributionofRecurringVisitschart. Wecomputethe
5.1.4 PathPreference(StationaryDistribution)
probabilitydistributionforthenext100stepsfromtheselectedstarting
InSection2,wediscussedthestationarydistributionofaMarkovchain. pointandshowitinabarchart.Byhoveringoveranotherlocationor
Visualizingitonthegraphconveysthelong-termdistributiononthe memorynode,theusercaneveninspecttheprobabilitydistributionof
map.Thelocationsandmemorynodescanshowhowmuchtimethe anynodewiththeselectednodeasastartingpoint.
patrolspendsinthemrelativetoalllocations(R5).Weencodethisvalue The resulting chart captures the temporal behavior of the patrol
asnumberandluminancevaluesofthelocations(Figure10b). The betweenanytwopoints(R4). Itshowswhetherthepatrolfollowsa
edgesdisplaytheprobabilityofusingitrelativetoallotheredges.This predeterminedpath(Figure11c,d)orifshetendstowalkrandomly,
numbergetssmallerforlargergraphssinceitisdividedamongmore whichhomogenizesthedistributionovertime(Figure11a,b).
edges. Theusercanswitchbetweenabsoluteandrelativemeasures
insettings.Intherelativeone,theedgeweightsarenormalized.The 5.2.2 TransitionMatrix
resultrepresentstheoveralledgepreference. Beforewestartedworkingonthevisualizationtoolforpatrollinggames,
Thereisonemorereasonwhywecreatedthevisualizationofthe thetransitionmatrixwastheonlymeansofautomaticvisualization
stationary distribution. As shown in Figure 10a, if the path travels thedomainexpertsutilized.Whilethematrixislackingintaskssuch
aroundaloop,onlythefirstedgefromacrossingshowsthecorrect astrackingthepaths,itstillprovidesaquickoverviewofthewhole
probabilityofentering. Therestoftheloophasa100%probability, strategy.Forexample,itisveryeasytoseewhetherthestrategycon-
whichvisuallydistortstheimportanceofthewholepath.InFigure10b, tainsonlyonedeterministicpath,whichshowsasblackpoints,orifthe
thestationarydistribution,orPathPreferenceaswecallitinthetool, strategyisbranching,whichregistersasgrayspots(Figure12). Fur-
showsthepathcorrectlyalongthewholeloop(R1). However, this thermore,wemadethematrixinteractivesothatitshowstheweightof
representationisnotaMarkovchainanymore. everypathonhover,andtheusercanopenthelocationfromthematrix.
6Preprint.FinalversionavailableatIEEETransactionsonVisualizationandComputerGraphics.
6 CASESTUDIES
Weconductedthreecasestudiesinvolvingaseniorresearcherspecial-
izinginpatrollinggamesfromourcollaborativegroup. Wefocused
onexaminingrealstrategiestheresearcherisoperatingwith,where
wecouldassessthepotentialbenefitsofallaspectsofourproposed
visualizationtool. Initially,weaskedtheexperttoprovideuswitha
setofexemplarydatasetsofstrategieshisresearchgroupdeveloped
andisoperatingwith.Theaimwastoselectdatasetscoveringthemost
crucialtasksandproblemsintheirexplorationprocess,focusingon
thosestrategiestheystruggledwith.
Forthetestinginaone-to-onesession,weuseda4Kscreen,and
werecordedboththescreencaptureandtheaudio,asweemployeda
think-aloudprotocol.Thesessionstartedwiththeinitialpresentation
(a) (b) ofallfunctionsoftheapplicationtoensurethattheresearchercould
Fig.12:(a)TransitionMatrixwithnobranching.Alledgesareblackand fullyfocusontheexplorationprocesswithinthetesting.
thereisonlyonepointineachrowandcolumn. (b)TransitionMatrix
withbranches.Therearemanymoreedgeswithlowerprobability(gray 6.1 Case1: DetectionofAnomalies
points). Thefirstexaminedstrategyisanairportlayoutwithonecentrallocation
(pinknodeinFigure14a)andbranchinghallswithgates.Thisstrategy
isinterestingnamely,becauseoftwoerrorsinit—thereisanunused
memory node and one duplicated path. When using the traditional
approaches(simplegraphdrawingsandheatmaps),thesewerevery
hardtoreveal,andtheresearcherswouldhavetoknowwhattheywere
lookingfor. Therefore,wewereverymuchinterestediftheseissues
couldberevealedusingourrepresentation.
After loading the dataset, the researcher first interacted with the
graphlayouttofamiliarizewiththearrangementofthesite.Whilehe
wasopeningthelocations(Figure14a),herevealedaclusterofedges
withsmallprobabilityvaluesthatweregoingfromoneofthememory
nodesinthecentrallocation.Toexaminethismore,hedecidedtohide
theselow-probabilityedgesusingthethresholdslider,whichfiltered
outedgeswithlowprobability. Moreimportantly,italsoshrunkone
memorynodeinthecentrallocation(Figure14b),signalingthatthis
memorynodewaslargelyunusedinthestrategy.Toconfirmthis,he
switchedtothePathPreferenceview,whichclearlyshowedthatthe
Fig.13:Thesimulatedagentsshowthestrategyinaction.Eachagent memory node was indeed never visited. This can be derived from
hasaprecomputedpathfor100steps,andtheusercanmovethem thefactthatthenodeisnotpartofanyloopanymore,anditisfully
usingaslider.Theimagecapturesamomentafterthefirststepfromthe whitewithazeroprobabilityvalue.Thisviewadditionallyrevealedthe
centralnode. secondissueofthestrategy,theduplicatedpath,whentheresearcher
noticedthattwoofthememorynodesinoneofthelocationsshoweda
lowervisitrate(markedbyarrowsinFigure14c)thantheothermemory
nodesinthestrategy.Fromthisrepresentation,heeasilyidentifiedthat
5.2.3 AgentTracking
thepathsgoingthroughthesememorynodesduplicatethesamepath
ThetoolforinspectingthedynamicpropertiesistheAgentTracking. betweentheneighboringlocations.Thefinalconclusionfromthiscase
Byselectingalocationormemorynode,theusercanlettheagents isthatthememorynodeisredundant.
out. Thispopulatesthenodewith400simulatedpatrols,eachwitha
precomputedstrategyfor100steps(Figure13).Theagents,shownas 6.2 Case2: AgentTracking
orangedots,representpossiblepathsapatrolcantake,thusshowing
Forthesecondcase,weanalyzedanofficebuilding. Ithasacircular
theprobabilitydistributionofthepatrol’spresenceanditsdevelopment
hallway,whereateachjunction,thereareentrancestotwoorthreeside
intime. Thenumberofagentswasexperimentallysettorepresent
offices.Thespecialtyofthisstrategyisthatthelocationscontainonly
thedistributionsufficientlyandstillenableinteractiverendering.The
onememorynodeeach,sothepatrolismemory-less.
numberofstepswithinthesimulationwasalsodeterminedexperimen-
Toinitiallycheckthedistributionofprobabilitiesacrossthegraph,
tally,asitcancapturethemajoreventsoccurringwithinthestrategy.
theresearcherturnedonthePreferredPathview(Figure15). There,
Usingaslideronthebottomofthescreen(Figure1d),theusercan
itisclearthatthedistributioninthehallwaysandthesideoffices,re-
movealloftheagentsstepbystepandinspecttheirbehavior(R6).
spectively,isuniform. Thissuggeststhatthestrategynicelycovered
ThecurrentpositionisalsodisplayedintheSelectedNodePanelinthe
thewholeofficebuildingarea.However,theaccompanyingDistribu-
DistributionofRecurringVisitschart.Thistrackingallowstheusersto
tionofRecurringVisitschartforoneselectednode(highlightedwith
seethestrategyinaction,asbigclustersofagentsbreakintosmaller
ahalo)showsanoticeabledip(markedbyanarrow). Toinvestigate
groupsinrandomstrategiesorstaytogetheronapredeterminedpath.
thereasonforthat,hedecidedtotrackthestrategyusingagentstosee
Itisalsopossibletoswitchtoonlyoneagentincasetheuserwantsto
thesimulatedtransitionofthepatrol. Afterexploringthefirststeps
replaythestrategyinarealscenario.
ofthesimulation,hewasquicklyabletoidentifythereasonforthe
dipinthegraph. Theone-waynatureofthecentralloopcausedthe
5.3 Implementation
agentstograduallyspreadtootherlocations,whilethestartinglocation
Thetoolwasdesignedasaweb-basedapplicationusingthep5.jsli- hadfewerandfeweragents.Afterfinishingtheround,theyreturned,
brary[17].Forthegenerationofcolors,weemployedtheIWantHue creatingthewaveeffect.Sincethen,thedistributionhasbecomeuni-
librarydevelopedbyMathieuJacomy[13]. Theprototypicalimple- form,whichisclearlyvisiblefromthechart.Additionally,byusingthe
mentationisavailableathttps://gitlab.fi.muni.cz/formela/ hoverfeatureoftheDistributionofRecurringVisitschart,examining
strategy-vizualizer,togetherwiththeexemplarytestingdatasets theprobabilityofwalkingfromonelocationtoanother,theresearcher
usedinthecasestudy. wasabletotrackthewavemovingthroughthehall.
7(a) (b) (c)
Fig.14:(a)Themapofanairport,thefirstexaminedstrategyofourcasestudy.Thetopmemorynodeofthepinkcentrallocationhasalotofedges
withalowerprobability.(b)Aftersettingtheedgethresholdto2%oftheprobabilityofusingtheedge,onememorynodeshrinks(markedbyablack
arrow)becauseitisnotvisitedanymore.(c)ThePathPreferenceviewverifiesthatthisshrunkmemorynodeinthecentrallocationisnotpartofany
loopanymore.Further,itshowsaduplicationofthepathgoingthroughthenodesmarkedbyblackarrows.
visitingthem. Thistime,theresearcherfirstanalyzedtheTransition
Matrix(Figure16a). Henotedthatataglance,thematrixseemsto
be a well-formed diagonal, which would suggest a fully connected
graph.Ashecontinuedwiththeexplorationofthegraph,heraisedthe
thresholdforfilteringouttheedgeswithlowprobability.Immediately,
withthethresholdvaluesetto1%,thegraphrepresentationshrunkthe
unreachablenodes,andonlyacentralsubgraphloopwaspreserved
(Figure16b). Byinvestigatingtheinnerloop,hefoundthatthereis
onlyonepathtotheouterlocations,reachablewiththeprobabilityof
0.1%,thusmakingitvirtuallyinaccessible.Toultimatelyconfirmthis
assumption,theresearcherswitchedtothePathPreferenceview,which
clearlyshowedthatthisisthecase.Theinaccessibilityofthemajority
oflocationswasnotvisiblefromtheinitialexplorationofthematrix
norfromtheoriginalgraphlayout.
7 RESULTS,DISCUSSION,ANDFUTUREWORK
Theobservationoftheresearcherinteractingwiththetoolandthethink-
aloudprotocolhelpedustorevealthemostinterestingobservations
withinthestudy,aswellassuggestionsforfutureimprovements. In
Fig.15:Thedistributionofprobabilitiesintheofficebuildinglayout.The thefirstcasestudy,weobservedthatintheinitialphase,theresearcher
RecurringVisitschartevidencesadipintheearlystepsofthesimulation. wasslightlyconfusedabouttheaggregationofnodesandedges,and
hetendedtoopenalllocationstoseeallmemorynodes. Whilethe
aggregationisusefulforlayoutpurposesandfirstimpressionofthe
site,theinspectionrequiresexpandingthelocations. Theresearcher
The major takeaway for the researcher was, however, the quick
notedthatalthoughheunderstandstherationalebehindchoosingthe
dispersingoftheagentsheobservedatthestart.Itistheconsequence
averagingforaggregationoftheedges, hewouldintuitivelyexpect
ofthepatrolsnotrememberingtheirpreviouspathandpossiblyvisiting
toseethemaximumvalueinstead. Thisleadsustobelievethatthe
the same location multiple times. This was also confirmed by the
researchersdonotneedtoseeaproperMarkovchainwheninvestigating
secondroundofagenttracking,whereonlyoneagentwassentout,
astrategybutrathertoseethestrongestpath.
andtheresearcherobserveditsroutethroughthegraph. Thesingle
Oneofthemostvaluablefeatureswastheinteractionwiththethresh-
agentwasabletoreturntooneofficeeventhreetofourtimes,after
oldsliderthatfiltersedgesofalowerprobabilityandconsequently
whichitwouldcircumnavigatethewholehallwithoutenteringevena
shrinks the inaccessible nodes. The researcher spent a significant
singleroom.Althoughthisisaknownconsequenceofthememory-less
amountoftimeexploringtheconsequencesofchangingthethreshold
strategy, it was valuable to see the behavior graphically. The main
values. Hecommentedthatthissimplefeatureisveryvaluableand
observationmadeherewasthatwhilestrategieswithoutmemorynodes
significantlyspeedsuptheexplorationprocess. Healsostatedthat
can express satisfactory long-term behavior, it does not necessarily
revealingtheanomalyfeaturesofthestrategywasoneofthemosttime-
meanthatitisagoodstrategyoverall.
consumingtaskswithintheirexplorationusingthetraditionalapproach.
ThesecondstudyrevealedthattheDistributionofRecurringVisits
6.3 Case3: OverallStrategyEvaluation
chart gives valuable hints about the behavior of the strategy, even
Inthiscase,thetaskwastoexplorethestrategyingeneralandseeifthe whenthedistributionofprobabilitiesacrossthenodesandedgesinthe
researchercouldrevealanyinterestingobservationsaboutthestrategy. graphdoesnotevidenceanyanomalies.Thepossibilityofexploring
Theselectedstrategycontainedlocationswithdiverseprobabilitiesof theprobabilitydistributionusingthechartinasinglenode,aswellas
8Preprint.FinalversionavailableatIEEETransactionsonVisualizationandComputerGraphics.
(a) (b)
Fig.16:Inthethirdcase,(a)thediagonalintheTransitionMatrixsuggestsaclearpathcoveringallnodes.However,(b)changingtheprobability
thresholdrevealedthatthemajorityofthegraphisunreachable.
betweentwoselectednodes,wasveryappreciatedbytheexpert.Itgave markingeverycharacter(a,b,c,...)asonestate,hecreatesaso-called
himanewperspectiveontheexplorationprocessandnavigatedhimto first-orderapproximationtoalanguage. ThisMarkovchaincanbe
furtherinvestigatethestrategy,whichheotherwisewouldalreadymark usedtogeneratetextwithpropertiessimilartotheoriginaltext. By
assuccessful.Thesubsequentagenttrackingconfirmedthesuspicion processingtwodifferentcorpora,wecancomparethembasedontheir
hemadewhencheckingthecharts. Thethirdexaminedcasehelped Markovchains.
theresearcherconfirmthattheirtraditionallyusedtransitionmatrixcan Wecanimproveontheoriginalideabyapplyingclustering.Allvow-
suggestfalseassumptionsaboutthestrategy.Therefore,itneedstobe elsandallconsonantscanbemergedintotwometa-states.Thishides
linkedwithadditionalmeansforfurtherexploration. thedetailsoftheoriginalchainbutintroducesnewrelationshipsinthe
Insummary,theresearcherstatedthatourapproachhasasurprising languages.ThisapproachcanbefurtherenhancedbyusinganInterna-
additional outcome—the visual depiction of the strategies and the tionalPhoneticAlphabet[1]corpusthatrecordsthespokenlanguage.
interaction possibilities opened new perspectives for looking at the Theexpertscouldvisuallyexplorethesimilaritiesanddifferencesbe-
analysis of the strategies. We revealed potential for several future tweentheworld’slanguagesbyusinganyofthemanyclassificationsof
expansions within the testing and design process. When using this thesounds(plosive/nasal/fricativeconsonants,etc.).Thehierarchical
tooltoanalyzebiggerstrategies,wewillinevitablyrunintotheissue clusteringofMarkovchainscanopenupmanypossibilitiesthroughout
ofvisualclutterinlargegraph-basedvisualizations. Toaddressthis thescientificfields.
concern,wecanrepurposethenodeandedgeaggregationapproach
presentedinFigure7andFigure8.Bymerginglargerlogicalunits(e.g., 7.2 TakeawaysforNetworkVisualization
wholebuildings)together,wecancreateanaturalhierarchicalsystem
Wepresentedtwoconceptswebelieveareusefulforthegeneraldomain
thatshowsaggregatedinformationataglancewhilestillproviding
ofnetworkvisualization.Thefirstisthetypeofglyphsusedfornode
detailsondemand. Anotherimprovementistoconsiderthetimethe
aggregation(Figure7b). Thestyleofhiddeninnernodesdrawnas
agent spends in a certain node or at the edge between two nodes.
flowerpetalsaroundthecenternodeeffectivelyconveystheiramount.
Currently,everyedgetakesexactlyonetimesteptotraverse.However,
Italsoclearlydifferentiatesbetweenopenandclosednodes, which
manystrategiescandependonthisparameter,andinthefuture,we
improves readability. While we have not tested it in practice, the
wanttoextendthesimulationsandvisualrepresentationsbytaking
flowerstyleofaglyphcouldbe,intheory,appliedtoarbitrarylevelsof
thisintoaccount. Anotherinterestingextensionwouldbetofurther
hierarchy.Eachpetalcanbecomeacenterforitsownflower,creating
adjustthegraphlayoutsothatitbetterresemblestheappearanceofthe
afractal-likestructure.
originallayoutofthesite.Thenaturalsolutionistooverlaythegraph
Thesecondconceptistheintroductionofaxialforceintothegraph
overthemapofthepatrolledarea.Mostimportantly,itisnecessaryto
layout algorithm ForceAtlas2 (Figure 9). The axial force is useful
focusoninvestigatingthemulti-patrol(andmulti-adversary)strategies.
forincreasingthereadabilityofgraphswithnodesconstrainedintoa
For this, a straightforward extension of our current solution is not
circularlayout,suchasourmemorynodesintheunfoldedlocations.
feasible.
7.1 BeyondPatrollingGames 8 CONCLUSION
Thoughthevisualizationshavebeendesignedwithpatrollinggames Patrollinggamesareanimportantprobleminthefieldofgametheory
inmind,ourapproachforaggregatingMarkovchainscanbeapplied withmanyvaluablepracticalapplications.Thesubsequentanalysisof
tovirtuallyanydomainthatisusingthem. TheMarkovchainhasa patrollingstrategieshasasignificantimpactontheevaluationoftheir
uniquepropertyweareexploitinginthevisualization.Wecanchoose expectedbehavior. Asthecurrentstateinthefieldofvisualsupport
anynumberofstates(memorynodesinthecontextofpatrollingvisual- fortheexplorationofpatrollinggamestrategieswasverylimited,we
ization)andcomputeasubstitutemeta-state(location)thatstillsatisfies steppedin.Inclosecollaborationwithexpertsinthefield,wedesigned
theMarkovproperty,thereforebeingavalidpartoftheMarkovchain. anoveltoolaidingthevisualexplorationofstrategiesandtheirbehavior
Thesemeta-statescanbetreatedasordinarystates,andwecancluster overtime.Wecarefullydesignedthevisualizationstocovertheinitial
themrepeatedly,creatingawholehierarchyabovetheMarkovchain. requirementsofourcollaboratinggroupandthefinaltoolwentthrough
ThisopensupapotentialuseinanyMarkovchainsapplicationwe testing with the senior researcher in the group. Within the testing,
wanttoexploreinafuturepublication. weinvestigatedseveralcasestudies,whichrevealedthebenefitsand
Hereisanexemplaryscenariothatcouldbenefitfromthenewtype potentialofthetool,aswellassuggestionsforimprovements.Three
ofvisualization: In1948,ClaudeShannon[22]proposedmodeling ofthesewedescribedindetail.Thisformsasolidbackgroundforour
alanguageasaMarkovchain. Byprocessingalanguagecorpusand ongoingresearcheffortsinthisdomain.
9ACKNOWLEDGMENTS [20] J.Pita,M.Jain,J.Marecki,F.Ordóñez,C.D.Portway,M.Tambe,C.West-
ern,P.Paruchuri,andS.Kraus.DeployedARMORprotection:theapplica-
ThisworkwassupportedandfundedbythegrantCyber-securityExcel-
tionofagametheoreticmodelforsecurityattheLosAngelesInternational
lenceHubinEstoniaandSouthMoravia(CHESS,101087529)andby
Airport.InAdaptiveAgentsandMulti-AgentSystems,p.125–132.Interna-
theArmyResearchOffice(GrantNumberW911NF-21-1-0189).We
tionalFoundationforAutonomousAgentsandMultiagentSystems,2008.
alsowanttothankthemembersoftheresearchgroupattheLabora-
3
toryofFormalMethods,Logic,andAlgorithms,whokindlyprovided
[21] H.-J.Schulz,T.Nocke,M.Heitzler,andH.Schumann. Adesignspace
uswithdomain-specificknowledgeandhelpedusevaluatethestrate-
ofvisualizationtasks.IEEETransactionsonVisualizationandComputer
gies.WewouldalsoliketothankBarboraGavendováforhervaluable Graphics,19(12):2366–2375,2013.doi:10.1109/TVCG.2013.1204
feedbackonthevisualrepresentations. [22] C.E.Shannon.Amathematicaltheoryofcommunication.TheBellsystem
technicaljournal,27(3):379–423,1948.9
REFERENCES [23] M.Sharir. Astrong-connectivityalgorithmanditsapplicationsindata
[1] International Phonetic Association. https://www. flowanalysis.Computers&MathematicswithApplications,7(1):67–72,
internationalphoneticassociation.org/. Accessed: 2024- 1981.doi:10.1016/0898-1221(81)90008-06
06-12.9 [24] E.Shieh,B.An,R.Yang,M.Tambe,C.Baldwin,J.DiRenzo,B.Maule,
[2] N.Agmon, S.Kraus, andG.A.Kaminka. Multi-robotperimeterpa- andG.Meyer.PROTECT:adeployedgametheoreticsystemtoprotect
trolinadversarialsettings. In2008IEEEInternationalConferenceon theportsoftheunitedstates. InProceedingsofthe11thInternational
RoboticsandAutomation,pp.2339–2345,2008.doi:10.1109/ROBOT. ConferenceonAutonomousAgentsandMultiagentSystems-Volume1,
2008.45435633 AAMAS’12,pp.13–20,2012.3
[3] S.Alpern,A.Morton,andK.Papadaki. Patrollinggames. Operations [25] M.Tambe. Securityandgametheory: algorithms, deployedsystems,
Research,59(5):1246–1257,2011.doi:10.1287/opre.1110.09831,2 lessonslearned.CambridgeUniversityPress,2012.2,3
[4] F.BertaultandM.Miller. Analgorithmfordrawingcompoundgraphs. [26] S.vandenElzenandJ.J.vanWijk. Multivariatenetworkexploration
InGraphDrawing,vol.1731,pp.197–204.Springer,1999.SeriesTitle: andpresentation:Fromdetailtooverviewviaselectionsandaggregations.
LectureNotesinComputerScience.doi:10.1007/3-540-46648-7_203 IEEETransactionsonVisualizationandComputerGraphics,20(12):2310–
[5] B.Bošanský,V.Lisý,M.Jakob,andM.Peˇchoucˇek. Computingtime- 2319,2014.doi:10.1109/TVCG.2014.23464413
dependent policies for patrolling games with mobile targets. In The [27] C.Vehlow,F.Beck,andD.Weiskopf.TheStateoftheArtinVisualizing
10thInternationalConferenceonAutonomousAgentsandMultiagent GroupStructuresinGraphs. InR.Borgo, F.Ganovelli, andI.Viola,
Systems-Volume3,AAMAS’11,p.989–996.InternationalFoundation eds.,EurographicsConferenceonVisualization(EuroVis)-STARs.The
forAutonomousAgentsandMultiagentSystems,Richland,SC,2011.2 EurographicsAssociation,2015.doi:10.2312/eurovisstar.201511103
[6] B. Bošanský, O. Vaneˇk, and M. Peˇchoucˇek. Strategy representation [28] Y.Vorobeychik,B.An,andM.Tambe.Adversarialpatrollinggames.In
analysisforpatrollinggames.InAAAISpringSymposium,No.3:Game 2012AAAISpringSymposiumSeries,2012.2
TheoryforSecurity,Sustainability,andHealth,TechnicalReportSS-12-03, [29] M.O.Ward. Multivariatedataglyphs:Principlesandpractice. InC.-h.
pp.9–12,2012.3 Chen,W.Härdle,andA.Unwin,eds.,HandbookofDataVisualization,
[7] P. Eades. A heuristic for graph drawing. Congressus Numerantium, pp.179–198.Springer,2008.doi:10.1007/978-3-540-33037-0_83
42:149–160,1984.3 [30] H.Xu,B.Ford,F.Fang,B.Dilkina,A.Plumptre,M.Tambe,M.Driciru,
[8] P.Eades, C.Gutwenger, S.-H.Hong, andP.Mutzel. Graphdrawing F.Wanyama,A.Rwetsiba,M.Nsubaga,andJ.Mabonga.Optimalpatrol
algorithms,p.6.Chapman&Hall/CRC,2ed.,2010.3 planningforgreensecuritygameswithblack-boxattackers. InS.Rass,
[9] F.Fang,T.Nguyen,R.Pickles,W.Lam,G.Clements,B.An,A.Singh, B.An,C.Kiekintveld,F.Fang,andS.Schauer,eds.,DecisionandGame
M.Tambe,andA.Lemieux. DeployingPAWS:Fieldoptimizationof TheoryforSecurity,pp.458–477.SpringerInternationalPublishing,2017.
theprotectionassistantforwildlifesecurity. ProceedingsoftheAAAI doi:10.1007/978-3-319-68711-7_243
ConferenceonArtificialIntelligence,30(2):3966–3973,2016.doi: 10. [31] Z.Yin, A.Jiang, M.Johnson, M.Tambe, C.Kiekintveld, K.Leyton-
1609/aaai.v30i2.190703 Brown,T.Sandholm,andJ.Sullivan.TRUSTS:Schedulingrandomized
[10] F.M.D.Fave,A.X.Jiang,Z.Yin,C.Zhang,M.Tambe,S.Kraus,andJ.P. patrolsforfareinspectionintransitsystems.InProceedingsoftheAAAI
Sullivan.Game-theoreticpatrollingwithdynamicexecutionuncertainty ConferenceonArtificialIntelligence,vol.26,pp.2348–2355,2012.doi:
andacasestudyonarealtransitsystem.JournalofArtificialIntelligence 10.1609/aaai.v26i2.189753
Research,50:321–367,2014.doi:10.1613/jair.43173 [32] L.Zhang,G.Reniers,B.Chen,andX.Qiu.CCPgame:Agametheoretical
[11] T.M.J.FruchtermanandE.M.Reingold.Graphdrawingbyforce-directed modelforimprovingtheschedulingofchemicalclusterpatrolling.Reli-
placement.Software:PracticeandExperience,21(11):1129–1164,1991. abilityEngineering&SystemSafety,191:106186,2019.doi:10.1016/j.
doi:10.1002/spe.43802111023 ress.2018.06.0143
[12] O.Häggström.FiniteMarkovchainsandalgorithmicapplications,vol.52. [33] B.ZhengandF.Sadlo.Onthevisualizationofhierarchicalmultivariate
CambridgeUniversityPress,2002.doi:10.1017/CBO97805116135862 data.In2021IEEE14thPacificVisualizationSymposium(PacificVis),pp.
[13] M.Jacomy. Medialab/iwanthue: Colorsfordatascientists. https:// 136–145,2021.doi:10.1109/PacificVis52677.2021.000263
github.com/medialab/iwanthue/,2013.Accessed:2024-03-15.4,7
[14] M. Jacomy, T. Venturini, S. Heymann, and M. Bastian. Forceatlas2,
a continuous graph layout algorithm for handy network visualization
designedforthegephisoftware.PloSONE,9(6):e98679,2014.doi:10.
1371/journal.pone.00986793,5
[15] D.Klaška,A.Kucˇera,V.Musil,andV.Rˇehák. Regstar: efficientstrat-
egysynthesisforadversarialpatrollinggames. InC.deCamposand
M.H.Maathuis,eds.,ProceedingsoftheThirty-SeventhConferenceon
UncertaintyinArtificialIntelligence,vol.161ofProceedingsofMachine
LearningResearch,pp.471–481.PMLR,2021.doi:10.48550/arXiv.2108
.089503
[16] D.Klaška,A.Kucˇera,andV.Rˇehák.Adversarialpatrollingwithdrones.In
Proceedingsofthe19thInternationalConferenceonAutonomousAgents
andMultiAgentSystems,AAMAS’20,p.629–637.InternationalFounda-
tionforAutonomousAgentsandMultiagentSystems,Richland,SC,2020.
3
[17] L.LeeMcCarthy.p5.js.https://p5js.org/.Accessed:2024-03-15.7
[18] C. Nobre, M. Meyer, M. Streit, and A. Lex. The state of the art in
visualizingmultivariatenetworks.ComputerGraphicsForum,38(3):807–
832,2019.doi:10.1111/cgf.137283
[19] J.R.Norris.MarkovChains.CambridgeUniversityPress,1998.2
10