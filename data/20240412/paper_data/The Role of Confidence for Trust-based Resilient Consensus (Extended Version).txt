1
The Role of Confidence for Trust-based Resilient Consensus
(Extended Version)
Luca Ballotta¹ and Michal Yemini²
Abstract—We consider a multi-agent system where agents In contrast to data-centered approaches, recent works [9]–
aim to achieve a consensus despite interactions with malicious [14]haveproposedtousephysicalinformationoftransmissions
agents that communicate misleading information. Physical chan-
to boost resilience in distributed cyberphysical systems, lever-
nels supporting communication in cyberphysical systems offer
aging the fact that this source of information is independent
attractive opportunities to detect malicious agents, nevertheless,
trustworthinessindicationscomingfromthechannelaresubjectto from the exchanged data. Cyberphysical systems are widely
uncertaintyandneedtobetreatedwiththisinmind.Wepropose adopted in applications, from robot teams to smart grids. In
aresilientconsensusprotocolthatincorporatestrustobservations such systems, communication occurs over physical channels
fromthechannelandweighsthemwithaparameterthataccounts
that can be used to extract information used to assess the
for how confident an agent is regarding its understanding of the
validity of a transmission: for instance, wireless signals can be
legitimacy of other agents in the network, with no need for the
initial observation window T that has been utilized in previous analyzed to detect manipulated messages [15]–[17].
0
works.Analyticalandnumericalresultsshowthat(i)ourprotocol However, while using physical transmission channels as a
achieves a resilient consensus in the presence of malicious agents
source of information for legitimacy of received messages
and (ii) the steady-state deviation from nominal consensus can
be minimized by a suitable choice of the confidence parameter allows one to decouple the consensus task from the detection
thatdependsonthestatisticsoftrustobservations.Thistechnical of potential adversaries within the network, this information
report contains proof details for the conference paper [1]. is usually uncertain [15], partially hindering its usefulness if
this is not properly accounted for. This calls for attention in
embedding the physical trustworthiness indications into the
I. INTRODUCTION
design of a resilient consensus protocol.
Consensus in multi-agent systems is an essential tool in
In this paper, we draw inspiration from the trust-based
many applications, including distributed control and multi-
protocol in [10] and the competition-based approach in [18],
robot coordination. However, the consensus protocol is fragile
and propose a novel algorithm that integrates the notion of
to outliers and easily fails in the presence of agents that do not
trust, coming from the physical channel, and the concept of
behave according to it — for example in the adversarial case.
To tame malicious agents and recover a resilient consensus confidence, which counterbalances the uncertainty in agent
among legitimate agents, several strategies have been proposed classification. This integration allows us to circumvent two
limitations of the previous algorithms: on the one hand, we do
intheliterature.Onecommonmethodtoachievethisgoalisthe
notneedatimewindowT >0oftrustobservationsasin[10];
Weighted-MeanSubsequenceReduced(W-MSR)algorithm[2], 0
on the other hand, the agents achieve an asymptotic consensus,
which has been adapted to many application domains [3], [4].
differentlyfromthedata-drivencontextin[18].Specifically,the
Other strategies that have been recently proposed use different
proposed protocol anchors the agents to their initial condition
rulestofilteroutsuspiciousdata,suchasthesimilaritybetween
throughatime-varyingweightλ thatreflectshowconfidentan
two agents’ states [5], or leverage enhanced network structure, t
agentisaboutthetrustworthinessofitsneighbors:owingtothe
such as secured agents [6].
competition-based approach, this strategy avoids the agents to
Recovering a resilient consensus purely based on the data
be misled through misclassification of neighbors and enhances
exchanged among agents is in general a challenging task. A
resilience in the face of both unknown malicious agents and
notable limitation on the theoretical guarantees of W-MSR is
uncertaininformationfromthephysicalchannel.Moreover,we
that the communication graph needs to enjoy a connectivity
property, called r-robustness, that ensures a pervasive infor- show that the confidence parameter can be tuned to optimize
performance: analytical and numerical results indicate that λ
mation flow among legitimate agents. Unfortunately, ensuring t
a sufficiently high r-robustness may require dense network should decay according to the average time the agents need to
correctly classify their neighbors.
topologies, which cannot be verified in polynomial time with
respect to (w.r.t.) the number of agents [7], [8]. Thus, in real- The rest of this paper is organized as follows. Section II-A
world applications and especially in large networks, W-MSR presents the system model and the problem formulation,
may not lead to a consensus. while Section II-B introduces the proposed resilient consensus
protocol and mathematical models for trust and confidence.
ThisworkhasbeenpartiallysupportedbytheItalianMinistryofEducation,
Then,SectionIIIprovidestheoreticalguaranteesofferedbythe
UniversityandResearch(MIUR)throughthePRINProjectn.2017NS9FEY
andbytheCARIPAROFoundationunderVisitingProgramme“HiPeR”. protocol, focusing on convergence (Section III-A) and asymp-
¹Delft Center for Systems and Control, Delft University of Technology, totic deviation from the nominal consensus (Section III-B).
2628CDDelft,TheNetherlandsl.ballotta@tudelft.nl.
Finally, Section IV presents numerical simulation results that
²Faculty of Engineering, Bar-Ilan University, Ramat-Gan 5290002 Israel
michal.yemini@biu.ac.il. corroborate the analysis and prove our protocol effective.
4202
rpA
11
]AM.sc[
1v83870.4042:viXra2
II. SETUP about the trustworthiness of its neighbors. In the following, we
describethesetwofeaturesindetail.Wenotethattheparameter
A. System Model and Problem Formulation
λ is new w.r.t. to previous work [10] and a major objective
t
Network. We consider a multi-agent system composed of
in this work is to analytically characterize the impact of this
N agents equipped with scalar-valued states: we denote the
. “confidence” term on mitigating the effect of malicious agents
state of agent i at time t by xi ∈R, with i∈V ={1,...,N},
t when consensus protocol (RES) starts from time 0 (i.e., no
and the vector with all stacked states by x ∈RN. The agents
t observation window as in [10] is present).
can communicate and exchange their states through a fixed
Trust.Weareinterestedinthecasewhereeachtransmission
communicationnetwork,modeledasagraphG =(V,E).Each
from agent j to agent i can be tagged with an observation
element e=(i,j)∈E indicates communication edge between
α (t)∈[0,1] of a random variable α .
ij ij
agents i and j: if (i,j)∈E, it means that agent j can transmit
data to agent i through a direct link. Definition 1 (Trust variable α ij). Forevery i∈Land j ∈N i,
In the network, L agents truthfully follow a designated the random variable α ij taking values in the interval [0,1]
protocol (legitimate agents L⊂V) while M =N −L agents represents the probability that agent j ∈N i is a trustworthy
behave arbitrarily (malicious agents M ⊂ V), potentially neigh .bor of agent i. We denote the expected value of α ij b .y
disrupting the task executed by legitimate agents. We set the E L =E[α ij]−1/2 for legitimate transmissions and by E M =
labels of legitimate and malicious agents as L={1,...,L} E[α ij]−1/2 for malicious ones. We assume the availability of
and M = {L+1,...,N} and denote their collective states observations α ij(t) of α ij through t≥0.
respectively by xL t ∈ RL and xM t ∈ RM. We denote by d M We refer to [19] for a concrete example of such an α ij
the maximal (in-)degree of legitimate agents, with d M <N. variable. Intuitively, a random realization α ij(t) contains
We assume that the states xi t are bounded for every i∈V useful trust information if the legitimacy of the transmission
and t≥0. In the derivation, we use the following assumption. can be thresholded. We assume that a value α ij(t) > 1/2
Assumption 1 (State bound). It holds max |xt|≤η. indicatesalegitimatetransmissionandα ij(t)<1/2amalicious
i∈V,t≥0 i
transmission in a stochastic sense (miscommunications are
Consensus Task. The legitimate agents aim to achieve a possible). The value α ij(t)=1/2 means that the observation is
consensus. The nominal consensus value is determined by completely ambiguous and contains no useful trust information
their initial states xL 0 and by the ideal communication network for the transmission at time t.
without malicious agents. Specifically, let N i ∈V denote the Weights. The weights w ij(t) in (RES) are chosen according
neighbors of agent i in the communication network G, i.e., to the history of trust scores α (t). By defining the aggregate
. ij
N i = {j ∈ V : (i,j) ∈ E}, and consider the nominal matrix trust of communications from agent j to agent i as
WL ∈RL×L with weights defined as follows for i,j ∈L:
t (cid:18) (cid:19)
(cid:88) 1
(cid:104) (cid:105)
 |Ni∩1
L|+1
if j ∈N i∩L, β ij(t)=
s=0
α ij(s)− 2 , i∈L,j ∈N i, (2)
WL
ij
= 0
1−(cid:80) i∈Nj(cid:104) WL(cid:105)
ij
i if
f
j
j
∈ =/ N i.i∪{i}, (1)
we define the t Nrus (t te )d =.ne {ig jh ∈bo Nrho :o βd o (f t)ag ≥en 0t }i .at time t as
(3)
i i ij
Ideally, the legitimate agents should disregard messages sent
Then, the weights in (RES) are assigned online as follows:
by malicious agents (i.e., set their weights to zero) and run the
following nominal consensus protocol starting from xL:  1 if j ∈N (t),
0 |Ni(t)|+1 i
xL =WL xL, t≥0. (NOM) w ij(t)= 0 if j ∈/ N i(t)∪{i}, (4)
t+1 t 1−(cid:80)
w (t) if j =i.
Unfortunately, the identity of malicious agents is unknown i∈Nj ij
to legitimate agents, so that these cannot implement the The weighing rule above attempts to recover the nominal
weights (1) and the protocol (NOM). In the next section, we weights(1)astimeproceeds.Inparticular,thetrustedneighbor-
propose a resilient consensus protocol aimed at recovering the hoodN i(t)isdesignedtoreconstructthesetN i∩Lleveraging
final outcome of (NOM) in the face of malicious agents. trust information collected by agent i overtime.
Confidence. Because trust observations α (t) may misclas-
ij
sify transmissions, the weights computed as per (4) may not
B. Resilient Consensus Protocol
immediately recover the true weights: in fact, even assuming
In this work, we propose the following resilient protocol to that a sufficient number of transmissions can give a clear
be implemented by each legitimate agent i∈L for t≥0: indication about the trustworthiness of a neighbor, a legitimate
(cid:88) agent needs to act cautiously as long as it is unsure about
xi =λ xi +(1−λ ) w (t)xj. (RES)
t+1 t 0 t ij t the trust information collected in order to not be misled by
j∈Ni∪{i}
erroneous classifications. To this aim, we modify the standard
Rule (RES) uses two key ingredients. The weights w (t) ∈ consensus rule by adding the parameter λ in (RES) that
ij t
[0,1]arecomputedonlinebasedontrustinformationthatagent anchors the legitimate agents to their initial condition and
i collects about its neighbor j overtime. The time-varying refrains them from fully relying on the neighbors’ states.
parameter λ ∈ [0,1] accounts for how confident agent i feels Intuitively, agent i accrues knowledge about the trustworthi-
t3
ness of its neighbors as more trust-tagged transmissions have independent of the data (because it derives from physical
beenreceived.Thisintuitioncaninfactbeformalizedbyupper transmissions)tomakethecompetition-basedrulemoreflexible
bounding the probability of misclassifying a neighbor. and able to recover a consensus.
Assumption2(Trustobservationsareinformative). Legitimate
III. PERFORMANCEANALYSIS
(malicious)transmissionsareclassifiedaslegitimate(malicious)
Let W ∈ RL×N denote the matrix with weights (4), i.e.,
on average. Formally, E >0 and E <0. t
L M
[W ] =w (t), and consider the following partition:
t ij ij
Lemma 1 (Decaying misclassification probability [10]).
W =(cid:2) WL WM (cid:3) , WL ∈RL×L, WM ∈RL×M.
t t t t t
P[β ij(t)<0]≤e−2E L2(t+1) ∀i∈L,j ∈N i∩L (6)
(5)
P[β ij(t)≥0]≤e−2E M2 (t+1) ∀i∈L,j ∈N i∩M. The protocol (RES) can be rewritten as follows:
Lemma 1 implies that, under Assumption 2 that trust values xL =λ xL+(1−λ )(cid:2) WL
WM(cid:3)(cid:20) xL
t
(cid:21)
α (t) are informative, the legitimate agents can infer which
t+1 t 0 t t t xM
t (7)
ij
neighbors are trustworthy with higher confidence guarantees
=x¯L+x¯M
t t
overtime.Ontheotherhand,theearlyiterationsoftheprotocol
where we define the state contributions due to legitimate and
havehigherchanceofmisclassifications.Tocounterbalancethis
malicious agents’ inputs, respectively as
fact and make updates resilient, we design the parameter λ as
t t t (cid:32) t (cid:33)
decreasing with time. This way, early updates are conservative . (cid:89) (cid:88) (cid:89)
x¯L = (1−λ )WLxL+ (1−λ )WL λ xL
and not much sensitive to misclassifications (λ ≲1 for small t k k 0 s s k 0
t
k=0 k=0 s=k+1
t), while late updates rely almost totally on the neighbors
(8a)
confidently classified as legitimate (λ ≳0 for large t).
t t (cid:32) t (cid:33)
Discussion - Trust and Confidence. The update rule (RES) x¯M =. (cid:88) (cid:89) (1−λ )WL (1−λ )WMxM. (8b)
t s s k k k
leveragesthetwofundamentalconceptsoftrustandconfidence,
k=0 s=k+1
which are used together in an intertwined manner.
In the following, we assume the parameter λ has expression
The works [10], [12], [13] show how to utilize physics- t
basedtrustobservationstohelpalegitimateagentdecidewhich λ =ce−γt, 0<c<1, γ >0. (9)
t
neighborsitshouldrelyonasitrunstheprotocol.Nonetheless,
Wesetλ decreasingovertimetoenableresilientupdatesatthe
at each step, the agent can either trust a neighbor or not and it t
beginning.Wechoose(9)mainlytomakeanalysistractable.We
does not scale the weights given to trusted neighbors relatively
aremostlyconcernedwithhowthecoefficientγ,whichdictates
by how confident it is on the decision. Furthermore, in the
how fast λ decays to zero, affects the deviation from (NOM).
work [10] the deviation from the nominal consensus value is t
Nonetheless, we argue that the insights offered by our analysis
strongly tied to an initial observation window T where the
0
apply to other choices of λ . Also, the misclassification
agents do not trust any of their neighbors and only collect t
probabilities (5) decay exponentially, suggesting that (9) could
trust observations to choose wisely what neighbors to trust
be a good match with the trust statistics.
in the first data update round. This length T value is not
0
straightforward to choose when the number of overall rounds
varies and is not guaranteed in advance. In contrast, this work A. Convergence to Consensus
introduces the parameter λ t to capture the confidence that Corollary 1 ([10, Proposition 1]). Lemma 1 implies that there
an agent has about the legitimacy of its neighbors, propose exists almost surely (a.s.) a random finite time T ≥ 0 such
f
a softer approach to the clear-cut observation window used that the estimated weights WL equal the true weights WL for
t
in [10] where agents do not trust one another, and explores
all t≥T.
f
the role of such a confidence parameter to opportunistically
tune the weights assigned to the neighbors. In particular, the Also, under the mild assumption that the subgraph induced
formulation (RES) highlights that the agent tunes the weights by the legitimate agents is connected, the following fact holds.
given to trusted neighbors scaling them by (1−λ t).
Lemma 2 ([10, Lemma 1]). The matrix
WL
is primitive and
The use of λ
t
draws inspiration from previous work [18],
there exists a stochastic vector v such that
(cid:16) WL(cid:17)∞
=1v⊤.
[20] where the Friedkin-Johnsen model [21] is used to achieve
.
resilient average consensus, intended as the minimization of Let a∨b = max{a,b}. For every finite k ≥ 0, it almost
0
the mean square deviation. Contrarily to the trust-based works surely holds that
mentioned above, the latter references do not use information
∞
derived from physical transmissions but study a robust update (cid:89) (1−λ )WL =1v⊤π Π (10)
rulewithinadata-basedcontext.Theupdatesin[18],[20]usea
k k k0 k0
k=k0
constantparameterλ(interpretedascompetitionamongagents)
L
that mitigates the influence of malicious agents by forcefully where v is the Perron eigenvector of W (see Lemma 2) and
anchoring the legitimate agents to the initial condition, ruling
out the possibility of getting arbitrarily close to the nominal π =.
(cid:89)∞
(1−λ ), Π =.
(k0∨ (cid:89)Tf)−1
(1−λ )WL. (11)
consensus. In this work, we use a source of information
k0 k k0 k k
k=k0∨Tf k=k04
If λ ̸=1∀t, it holds π >0 if and only if
(cid:80)∞
λ almostsurely,thatisequalforalllegitimateagents.Thismeans
convert
ges [22], which is
thk0
e case under (9) for
evek r= yk γ0∨ >Tf 0.k
that, in practice (w.p. 1), limsup x˜i =lim x˜i.
t→∞ t t→∞ t
Contribution by Legitimate Agents. From the defini- Evaluating the deviation from nominal is helpful to achieve
tion (8a), (10), and Corollary 1 it holds almost surely at analytical intuition that can help to design the parameter λ .
t
the limit that Intuitively,smallvaluesofγ in(9)refrainthelegitimateagents
∞ ∞ (cid:32) ∞ (cid:33) from collaborating with trusted neighbors for longer time,
(cid:89) (cid:88) (cid:89)
x¯L ∞ = (1−λ k)W kLxL 0 + (1−λ s)W sL λ kxL 0 which should help when the trust scores α ij(t) are rather
k=0 k=0 s=k+1 uncertain, while large values of γ turn (RES) into the standard
(cid:32) (cid:88)∞ (cid:33) consensus protocol after a few iterations, and should suit cases
=1v⊤ π Π xL+ π Π λ xL .
0 0 0 k+1 k+1 k 0 when the true weights are quickly recovered.
k=0 1) Legitimate Agents: In view of the setup in Section II-B,
(cid:124) .(cid:123)(cid:122) (cid:125)
=yL the only correct contribution to the state of any legitimate
(12) agent is the information coming from other legitimate agents,
In view of (9), the coordinates of yL are finite because so are which ideally leads to the true consensus value xL,∗. Hence,
ss
the coordinates of xL 0 and the matrices Π k are sub-stochastic. we define the deviation term due to legitimate agents as
tioC no (n 8btr )i ,b (u 1t 0i )o ,n anb dy CoM roa ll li ac ri you 1s itA hg oe ldn sts a. lmF oro stm sut rh ee lyd ae tfi tn hi e- x˜i t, +L
1
=. (cid:12) (cid:12)(cid:2) x¯L t+1−1xL ss,∗(cid:3) i(cid:12) (cid:12)=(cid:12) (cid:12) (cid:12)(cid:104) W(cid:102)L
t
xL 0(cid:105) i(cid:12) (cid:12)
(cid:12)
(16)
limit that
where
∞ (cid:32) ∞ (cid:33)
x¯M =(cid:88) (cid:89) (1−λ )WL (1−λ )WMxM t t (cid:32) t (cid:33)
∞
k=0 s=k+1
s s k k k W(cid:102)L
t
=. (cid:89) (1−λ k)W kL+(cid:88) (cid:89) (1−λ s)W sL λ
k
=1v⊤T (cid:88)f−1
π k+1Π k+1(1−λ k)W kMxM k
(13) k=0 k=0 s=k+1
−(cid:16) WL(cid:17)∞ . (17)
k=0
(cid:124) .(cid:123)(cid:122) (cid:125) Lemma 3. The deviation from nominal consensus due to
=yM
legitimate agents’ contribution can be bounded as
where yM almost surely sums a finite number of vectors. (cid:20) (cid:21)
Combining (7) with (12)–(13), we conclude that legitimate P limsupx˜i,L >ϵ <ηu (ϵ), ∀i∈L (18)
t L
agents a.s. converge to the consensus xL = 1v⊤(yL+yM) t→∞
∞
where it can be shown that, by Assumption 1, ∥yL∥<∞ and where we define
∥ any dM y∥ M< a∞
re
nf oo nr za en roy ic fh to hi ece seo qf ueλ nk ce∈ {[ λ0 k,1 }] k, ≥∀ 0k is≥ su0 m, man ad bley .L
u
L(ϵ)=. 2
ϵ
(cid:32) es(γ)(cid:32) 1−(cid:18)
d
1 +1(cid:19)E[Tf](cid:33)
+1−v
mE[ℓ](cid:33)
M
(19)
. .
B. Deviation from Nominal Consensus with v =min v , ℓ=min{ℓ ,ℓ }, and
m i∈L i 1 2
After assessing that the legitimate agents asymptotically . 1 ln(1−ce−γ) 1−ce−γ
s(γ)=− − · (20)
achieve a consensus with probability 1 (w.p.1), we wish to γ γ ce−γ
vev aa lulu ea ,t we hth ice hs it sea td hy e-s ot na ete id ne dv ui ca et dion byfr to hm e nth oe mn ino am li wna el igc ho tns me an ts ru ixs ℓ 1 =. (cid:16) 1−ce−γ(Tf∨1)(cid:17) 1−e1 −γ (cid:16) ce−γ((Tf−1)∨0) (21)
L
W . We quantify the deviation of agent i ∈ L at time t as (cid:18) 1−ce−γ(cid:19)Tf−1 1−e−γ(Tf−1) (cid:33)
follows: +c 1
d +1 1−e−γ {Tf>1}
x˜i =. (cid:12) (cid:12)xi−xL,∗(cid:12) (cid:12)=(cid:12) (cid:12)(cid:2) xL−1xL,∗(cid:3) (cid:12) (cid:12) (14) M .
t t ss t ss i ℓ =1−es(γ). (22)
2
.
where xL,∗ = v⊤xL is the nominal consensus value of
ss 0 Proof. Let us denote
legitimateagentsatsteadystate.Inparticular,weareinterested
inupper-boundingtheprobabilityoftheeventthatthedeviation W(cid:102)L =W(cid:102)L +W(cid:102)L (23)
t t,1 t,2
of legitimate agent i from the nominal consensus value is
where
greater than a threshold ϵ, i.e.,
t (cid:32) t (cid:33)
limsupx˜i
t
>ϵ. (15) W(cid:102)L
t,1
=. (cid:89)
(1−λ k)W kL−
(cid:89)
(1−λ k)
(cid:16) WL(cid:17)∞
(24)
t→∞
k=0 k=0
Tothisend,inSectionIII-B1andSectionIII-B2werespectively
expresses the mismatch with the nominal (true) weights, and
evaluate the state contributions of legitimate and malicious
agents, and then combine their deviations to bound the t (cid:32) t (cid:33)
. (cid:88) (cid:89)
probability of (15). W(cid:102)L t,2 = (1−λ s)W sL λ k
k=0 s=k+1
Remark 1. By virtue of the consensus reached at steady
(cid:32) t (cid:33)
state by legitimate agents according to Section III-A, all state (cid:89) (cid:16) L(cid:17)∞
− 1− (1−λ ) W (25)
k
trajectories have a well-defined limit (i.e., the consensus value)
k=05
is associated with the input λ xL that anchors the legitimate for i = 1,...,N. Then, it holds [|X −Y|1] ≤ 2(1−ℓ) for
t 0 i
agents to their initial condition throughout. Similarly to the i=1,...,N where |A| is the matrix with elements |[A] |.
ij
analysis in Section III-A, convergence to a consensus can be
established a.s. for each of the deviation terms respectively (cid:104) (cid:12)(cid:104) (cid:105) (cid:12)(cid:105)
associated with W(cid:102)L and W(cid:102)L . Boundonfirstterm,i.e.E limsup t→∞(cid:12) (cid:12) W(cid:102)L t,1xL 0 (cid:12) (cid:12) .Let
t,1 t,2 i
Before proceeding further, we note that the almost sure T(t) be the first time instant such that the true weights are
consensus discussed in Section III-A translates into almost recovered through time t:
sure existence of the limit lim t→∞x˜t i. Moreover, it can be T(t)=. min(cid:110) k ≥0:WL =WL ,s=k,...,t(cid:111) . (33)
shown by the same arguments that the quantities W(cid:102)L xL and s
t,1 0
W(cid:102)L xL almost surely convergence to vectors with all finite If no k ≤ t achieves the minimum in (33), we use the
t,2 0 .
and equal elements. This allows us to formally simplify (32) convention that T(t)=t+1. By definition, it holds T(t)≤T
f
from the limit supremum to the limit. Indeed, the law of total for all t≥0 and T(t)≡T for t≥T almost surely. Define
f f
probability yields  
t T(t)−1 T(t)−1
P(cid:20) limsup x˜i,L >ϵ(cid:21) =P(cid:20) limsup x˜i,L >ϵ ∩ A(cid:21) ∆W(cid:102)L t,1 =. (cid:89) (1−λ k) (cid:89) W kL− (cid:89) WL . (34)
t t
t→∞ t→∞ k=0 k=0 k=0
(cid:20) (cid:21)
+P limsup x˜i t,L >ϵ ∩ B (26) Hence, almost surely lim t→∞∆W(cid:102)L
t,1
=∆W(cid:102)L ∞,1, where
t→∞
+P(cid:20)
limsup x˜i t,L >ϵ ∩
C(cid:21)
, ∆W(cid:102)L
∞,1
=.
(cid:89)∞
(1−λ
k)(cid:32)T (cid:89)f−1
W
kL−T (cid:89)f−1 WL(cid:33)
. (35)
t→∞
k=0 k=0 k=0
where the events A,B,C form a partition and are defined as
Recall that d denotes the maximal (in-)degree of legitimate
M
(cid:104) (cid:105) (cid:104) (cid:105)
A:∃ lim W(cid:102)L t,1xL 0 ∧∃ lim W(cid:102)L t,2xL 0 ∧T f <∞ (27) agents, with d M < N. From Assumption 1 and Lemmas 2
t→∞ i t→∞ i and 4, it follows a.s. that
(cid:104) (cid:105) (cid:104) (cid:105)
B C :: ∄∃ t ll → ii mm ∞ (cid:104) WW (cid:102)(cid:102) L tL t ,, 11 xx L 0L 0 (cid:105)i ∨∧ ∄∃ t ll → ii mm ∞ (cid:104) WW (cid:102)(cid:102) L tL t ,, 22 xx L 0L 0 (cid:105)i .∧T f =∞ ( (2 28 9) ) tl →im ∞(cid:12) (cid:12) (cid:12)(cid:104) W(cid:102)L t,1xL 0(cid:105) i(cid:12) (cid:12) (cid:12)=(cid:12) (cid:12) (cid:12) (cid:12) (cid:12)(cid:34)(cid:32) (cid:89)∞ WL(cid:33) ∆W(cid:102)L ∞,1xL 0(cid:35) (cid:12) (cid:12) (cid:12) (cid:12) (cid:12)
t→∞ i t→∞ i (cid:12) k=Tf i(cid:12)
Lemma1impliesthatP[T <∞]=1.Moreover,SectionIII-A (i) (cid:12)(cid:104) (cid:105) (cid:12)
shows that T finite implf ies that lim xL exists and is a ≤ max(cid:12) (cid:12) ∆W(cid:102)L ∞,1xL 0 (cid:12) (cid:12)
f t→∞ t i∈L i
consensus. Therefore, P[B]=P[C]=0, P[A]=1, and (ii) (cid:104)(cid:12) (cid:12) (cid:105)
(cid:20) (cid:21) (cid:20) (cid:21)
≤ ηmax (cid:12) (cid:12)∆W(cid:102)L ∞,1(cid:12) (cid:12)1
P limsup x˜i t,L >ϵ =P limsup x˜i t,L >ϵ ∩ A i∈L ∞ (cid:32) i (cid:33)
t→∞ t→∞ (iii) (cid:89) 1
=P(cid:20)
limsup x˜i t,L
>ϵ|A(cid:21)
P[A] (30)
≤ 2η k=0(1−λ k) 1−
(d M+1)Tf
,
t→∞ (36)
(cid:104) (cid:105) L
=P lim x˜i,L >ϵ|A . where (i) is because W is stochastic, (ii) follows from As-
t
t→∞ sumption 1, and (iii) from Lemma 4 in view of (35) and the
Finally, by Markov’s inequality we have facts (see (1) and (4))
P(cid:104)
lim x˜i,L
>ϵ|A(cid:105) (cid:2) WL(cid:3)
≥
1
,
(cid:104) WL(cid:105)
≥
1
. (37)
t→∞ t t ii d M+1 ii d M+1
1 (cid:104) (cid:12)(cid:104) (cid:105) (cid:12) (cid:12)(cid:104) (cid:105) (cid:12) (cid:105)
≤ E lim (cid:12) W(cid:102)L xL (cid:12)+ lim (cid:12) W(cid:102)L xL (cid:12)|A . (31) Next, we find an upper bound to the infinite product in (36).
ϵ t→∞(cid:12) t,1 0 i(cid:12) t→∞(cid:12) t,2 0 i(cid:12) The following relationship holds:
For simplicity of notations only, hereafter we omit the condi-
∞ ∞
tioning on the event A from terms such as (31) whenever we (cid:89) (1−λ )= (cid:89)(cid:0) 1−ce−γk(cid:1)
k
utilize the existence of the limit a.s.
k=0 k=0
We remark that the following relation can be established as (cid:32) ∞ (cid:33)
well as a direct consequence of Markov’s inequality. =exp (cid:88) ln(cid:0) 1−ce−γk(cid:1) (38)
(cid:20) (cid:21) 1 (cid:20) (cid:12)(cid:104) (cid:105) (cid:12)(cid:21) k=0
P limsupx˜i,L >ϵ ≤ E limsup(cid:12) W(cid:102)L xL (cid:12) (cid:18)(cid:90) ∞ (cid:16) (cid:17) (cid:19)
t→∞
t ϵ
t→∞
(cid:12) t,1 0 i(cid:12) ≤exp ln 1−ce−γ(k+1) dk .
(32)
1 (cid:20) (cid:12)(cid:104) (cid:105) (cid:12)(cid:21) k=0
+ ϵE lim t→s ∞up(cid:12) (cid:12) W(cid:102)L t,2xL 0 i(cid:12) (cid:12) . Define the dilogarithm function Li 2(z)=. (cid:80)∞
k=1
z kk 2, then
To retrieve the bound (18), we evaluate the expected values (cid:90) ∞ (cid:16) (cid:17) Li (ce−γ)
ln 1−ce−γ(k+1) dk =− 2
in (32). To this aim, we use the following fact. γ
k=0
Lemma 4 ([10, Lemma 4]). Let ℓ>0 and X,Y ∈RN×N be 1 (cid:88)∞ cke−γk (39)
=− .
two sub-stochastic matrices such that [X] ≥ℓ and [Y] ≥ℓ γ k2
ii ii
k=16
Denote where v and ℓ are defined in Lemma 3. We separately
m 2
. x−xln(1−x)+ln(1−x)
s(x)= . bound the diagonal elements of X ∞,1 and X ∞,2. Consider the
x inequality
B foy llor wec salling the identity (cid:80)∞ k=1 k(kx +k 1) =s(x) for |x|≤1, it K (cid:89)−1
(1−λ s)>(1−λ
k)λ1
k
(cid:80)K s=− k1λs =(1−ce−γk)1−e 1− −γ e( −K γ−k)
.
−Li 2(ce−γ) ≤−1 (cid:88)∞ (ce−γ)k =s(γ)=. −s(ce−γ)
.
s=k (49)
γ γ k(k+1) γ From (49), the infinite product in (45) can be bounded as
k=1
F cain na bll ey, af lr mom os( t3 s6 u) r– e( l3 y8) upan pd er(I bI oI- uB n1 d) e, dth ae sfi fr os lt loex wp se :ctationin(32) (cid:89)∞
(1−λ
k)>(cid:0) 1−ce−γTf(cid:1) 1−e1
−γ . (50)
(cid:32) (cid:34) (cid:35)(cid:33)
k=Tf
(cid:104) (cid:12)(cid:104) (cid:105) (cid:12)(cid:105) 1
E lim (cid:12) W(cid:102)L xL (cid:12) ≤2ηes(γ) 1−E Consider now the inequalityin X ∞,1. It holds
t→∞(cid:12) t,1 0 i(cid:12) (d +1)Tf
(cid:32) (cid:18) 1M (cid:19)E[Tf](cid:33) (cid:34)T (cid:88)f−2(cid:32) T (cid:89)f−1
(1−λ
)WL(cid:33)
λ
(cid:35)
≤2ηes(γ) 1− , s s k
d M+1 k=0 s=k+1 ii
where the second line follows from Jensen’s inequality.
(40)
(
≥i)T (cid:88)f−2(cid:32) T (cid:89)f−1
d1− +λ
s
1(cid:33)
λ k
M
k=0 s=k+1
(cid:104) (cid:12)(cid:104) (cid:105) (cid:12)(cid:105)
Bound on second term, i.e. E limsup t→∞(cid:12) (cid:12) W(cid:102)L t,2xL 0 i(cid:12) (cid:12) . ( ≥ii)T (cid:88)f−2(cid:18) 1−λ k+1(cid:19)Tf−k−1
λ
We split the first matrix in W(cid:102)L
t,2
as
k=0
d M+1 k
(51)
(cid:88)t (cid:32) (cid:89)t
(1−λ s)W
sL(cid:33)
λ k =X t,1+X t,2 (41)
(i ≥ii)(cid:18) d1− +λ
1
1(cid:19)Tf−1T (cid:88)f−2
λ k
M
k=0 s=k+1 k=0
where
≥c(cid:18) 1−ce−γ(cid:19)Tf−1 1−e−γ(Tf−1)
1
T(t)−2(cid:32) t (cid:33) d M+1 1−e−γ {Tf>1}
. (cid:88) (cid:89)
X t,1 = (1−λ s)W sL λ k (42a) where (i) follows from (37), and (ii) and (iii) because the
k=0 s=k+1 arguments of product and summation are increasing with the
.
(cid:88)t (cid:32) (cid:89)t L(cid:33) respectiveindices.Additionally,thediagonalelementsofX
∞,1
X = (1−λ )W λ . (42b)
t,2 s k are bounded as
k=(T(t)−1)∨0 s=k+1
Similarly to W(cid:102)L t,1, a.s. it holds lim t→∞W(cid:102)L
t,2
=W(cid:102)L ∞,2, where [X ∞,1]
ii
≥v
m(cid:0) 1−ce−γTf(cid:1) 1−e1
−γ
c(cid:18) 1 d−c +e− 1γ(cid:19)Tf−1
M
W(cid:102)L
∞,2
=X
∞−(cid:32)
1−
(cid:89)∞
(1−λ
k)(cid:33)
1v⊤ (43) ·
1− 1−e− eγ −(T γf1)
1 {Tf>1}. (52)
k=0
. We bound the diagonal elements of X as
X =X +X (44) ∞,2
∞ ∞,1 ∞,2
X ∞,1 =1v⊤
(cid:89)∞
(1−λ
k)T (cid:88)f−2(cid:32) T (cid:89)f−1
(1−λ s)W
sL(cid:33)
λ k [X ∞,2] ii
≥(cid:34)(cid:32) (cid:89)∞
(1−λ
k)WL(cid:33)
λ
(Tf−1)∨0(cid:35)
k=Tf k=0 s=k+1 k=Tf∨1 ii (53)
(45) ∞
∞ (cid:32) ∞ (cid:33) ≥v m
(cid:89)
(1−λ
k)>(cid:0) 1−ce−γTf(cid:1) 1−e1
−γ
(cid:88) (cid:89) L
X
∞,2
= (1−λ s)W λ k. (46) k=Tf
k=(Tf−1)∨0 s=k+1 and
[X ] =[X ] +[X ] ≥ℓ v (54)
ItcanbeverifiedthatX ∞ issub-stochastic.ApplyingAssump- ∞ ii ∞,1 ii ∞,2 ii 1 m
tion 1 and Lemmas 2 and 4 yields where ℓ is defined in (21). The two matrices in (43) have
1
(cid:12)(cid:104) (cid:105) (cid:12) (cid:12)(cid:104) (cid:105) (cid:12) diagonal elements lower bounded by ℓ=min{ℓ ,ℓ }. Then,
lim (cid:12) W(cid:102)L xL (cid:12)≤max(cid:12) W(cid:102)L xL (cid:12) 1 2
t→∞(cid:12) t,2 0 i(cid:12) i∈L (cid:12) ∞,2 0 i(cid:12) the second expectation in (31) can be bounded as
(cid:104)(cid:12) (cid:12) (cid:105)
≤ηm i∈a Lx (cid:12) (cid:12)W(cid:102)L ∞,2(cid:12) (cid:12)1
i
(47) E(cid:104) tl →im ∞(cid:12) (cid:12) (cid:12)(cid:104) W(cid:102)L t,2xL 0(cid:105) i(cid:12) (cid:12) (cid:12)(cid:105) ≤2η(1−v mE[min{ℓ 1,ℓ 2}]). (55)
≤2η(1−ℓ),
Finally, the probability (18) can be bounded almost surely at
where ℓ is a lower bound on the diagonal elements of each of the limit according to (31) by plugging in (40) and (55).
the two matrices in (43). As for the second matrix, it holds
(cid:34)(cid:32) ∞ (cid:33) (cid:35)
1− (cid:89) (1−λ ) 1v⊤ ≥ℓ v , (48) A few remarks are in order to understand the meaning of
k 2 m
bound (19) and how it behaves as γ varies. For convenience,
k=0 ii7
we recall the expression of the bound below: 0
(cid:20) (cid:21) -0.05
P limsupx˜i,L >ϵ <ηu (ϵ), u (ϵ)∝es(γ)−E[ℓ]. (56)
t L L
t→∞ -0.1
The behavior of the term u L(ϵ) is mainly affected by two -0.15
functions of γ, which are es(γ) and E[ℓ].
-0.2
Thefirstfunction,ruledbys(γ),expressesthedeviationdue
-0.25
to following the protocol (RES) with the learned weights (4)
rather than with the (unknown) true weights (1), and it is -0.3
0 0.2 0.4 0.6 0.8 1
increasing with γ. In words, this suggests that setting γ
small (i.e., making λ decay slowly overtime) is beneficial to
t
performancebecauselegitimateagentscanlearnthetrustworthy
Fig.1. Profileof−ℓin(19)asafunctionofγ withT f∈{2,...,10}(the
arrowindicateshowthecurvevariesasT f grows).Recallthattheboundon
neighborswhilekeepingbalancedweights(thusavoidingbiases (probabilityof)deviationduetolegitimateagentsisproportionalto−E[ℓ].
caused by misclassification of legitimate neighbors) during this
learning process. This is reminiscent of the strategy in [10],
wheretheconsensusstartsatT andalargervalueofT reduces
0 0
the deviation term associated with data exchange among
legitimate agents. Moreover, the coefficient that multiplies
es(γ) increases with E[T], so that, for any choice of γ, the
f
deviation is larger for larger T f. atafinitevalueofγ foreveryT f >1,andthatsuchaminimizer
Thesecondfunctionappearinginu L(ϵ)isproportionaltothe decreases as T f increases, as illustrated in Fig. 1. Considering
negative expectation of ℓ w.r.t. T and expresses the impact of that the bound (19) is proportional to −ℓ in expectation, this
f
theinputtermλ xi in(RES)thatanchorsthelegitimateagents furthersuggeststhatthedeviationdecreasesforsmallvaluesof
t 0
to their initial condition. It is not easy to analytically evaluate γ and increases for large values, with the minimum point that
the minimum ℓ = min{ℓ 1,ℓ 2}, in general. Nonetheless, the shifts towards γ =0 as the more likely values of T f increase.
following facts hold: This behavior means that, if the legitimate agents need time to
learn which neighbors are trustworthy, they should act more
(1) the term ℓ is strictly decreasing with γ;
2 cautiously and increase the parameter λ , especially at the
(2) the term ℓ is strictly increasing with γ for T ≤1, while t
1 f beginning.
for T >1 it is the product between an increasing and a
f
decreasing function;
(3) the limits of the two terms evaluate To summarize, the bound (19) on the deviation due to
. misclassificationsoflegitimateagentsisnumericallyseentobe
ℓ0 = lim ℓ =0 (57a)
1 γ→0 1 quasi-convex with γ, with the minimum point that approaches
.
ℓ0 2 = γli →m 0ℓ 2 =v m (57b) γ =0 as T f increase Ls, i.e., according to how difficult learning
the true weights W is.
ℓ∞ =. lim ℓ =v c1 + v mc1 {Tf>1} (57c)
1 γ→∞ 1 m {Tf≤1} (d +1)Tf−1
M
.
ℓ∞ = lim ℓ =cv (57d)
2 2 m 2) Malicious Agents: Because malicious agents cannot be
γ→∞
trusted, the protocol (RES) should ideally annihilate their
and it follows
contribution to legitimate agents’ states. Hence, we define
ℓ0 <ℓ0, ℓ∞ ≤ℓ∞ (58) the deviation term due to malicious agents as
1 2 1 2
where the equality ℓ∞ =ℓ∞ holds if and only if T ≤1; x˜i,M =. (cid:12) (cid:12)(cid:2) x¯M (cid:3) (cid:12) (cid:12). (59)
1 2 f t+1 t+1 i
(4) from (57c), it follows that ℓ∞ decreases with T and
1 f We have the following result.
lim ℓ∞ =0.
Tf→∞ 1
From the items (1)–(3) above and continuity of ℓ and ℓ , we
1 2
infer the following result, summarized as a lemma. Lemma 6. The deviation from nominal consensus due to
malicious agents’ contribution can be bounded as
Lemma 5. If T ≤ 1, it holds ℓ = ℓ . If T > 1, there exist
f 1 f
γ¯ >0 and γ¯ >0 such that ℓ=ℓ for γ <γ¯ and γ >γ¯ . (cid:20) (cid:21)
1 2 1 1 2 P limsupx˜i,M >ϵ ≤ηu (ϵ), ∀i∈L (60)
t M
Lemma 5 implies that, for T ≤1, ℓ=ℓ and thus the term t→∞
f 1
−ℓ is decreasing with γ. where
On the otherhand, it is analyticallydifficult to infer how the u
(ϵ)=. Lmin{d M,M}
ξ (61)
M 2ϵ
termℓ (andhenceℓ)behavesforT >1andgenericvaluesof
1 f
γ.Nonetheless,thefact(4)abovesuggeststhat,asT grows,ℓ and we define
f 1
should have a non-monotonic behavior and admit a nontrivial . 1 c(1+e−γ) c2e−γ
maximum.Indeed,numericaltestsshowthat−ℓ isminimized ξ = − + . (62)
1 e2E M2 −1 e2E M2 −e−γ e2E M2 −e−2γ8
Proof. From (8b) and (59), it follows with the limit for t→∞. This yields
x˜i t, +M
1
=(cid:12) (cid:12) (cid:12) (cid:12) (cid:12)(cid:34) (cid:88)t (cid:32) (cid:89)t (1−λ s)W sL(cid:33) (1−λ k)W kMxM
k
(cid:35) (cid:12) (cid:12) (cid:12) (cid:12)
(cid:12)
E(cid:20) lim t→s ∞upx˜i t,M(cid:21) ≤E(cid:20) lim t→s ∞upϕ(t)(cid:21)
(cid:12) k=0 s=k+1 i(cid:12) ( =i)E(cid:104)
lim
ϕ(t)(cid:105)
(cid:12) (cid:12)
t (cid:12)(cid:34)(cid:32) t (cid:33) (cid:35) (cid:12) t→∞
( ≤i)(cid:88)(cid:12) (cid:12) (cid:12) (cid:89) (1−λ s)W sL (1−λ k)W kMxM k (cid:12) (cid:12) (cid:12) ( =ii) lim E[ϕ(t)] (69)
k=0(cid:12) s=k+1 i(cid:12) t→∞
( ≤ii) η(cid:88)t (cid:34)(cid:32) (cid:89)t
(1−λ
)WL(cid:33)
(1−λ
)WM1(cid:35) ≤ ηLmin{ 2d M,M} tl →im ∞z t
s s k k
ηLmin{d ,M}
k=0 s=k+1 i = M ξ.
t 2
(i ≤ii) η(cid:88)
(1−λ k+1)(1−λ k)m i∈a
Lx(cid:2)
W
kM1(cid:3)
i
where (i) is because ϕ(t) admits a limit and (ii) follows
k=0 from the monotone convergence theorem. Bound (60) follows
(63)
applying Markov inequality to (69).
where (i) follows from the triangle inequality, (ii) from
Assumption 1, and (iii) because {W tL} t≥0 are sub-stochastic The bound u M(ϵ) in (60) increases with γ through the
matrices and λ t is a decreasing sequence with 0<1−λ t <1. parameter ξ. This is intuitive: if λ t is larger, the legitimate
The weights given to malicious agents are bounded as agents are less sensitive to their neighbors’ states as per (RES),
M thustheyarealsomoreresilientagainstmalicioustransmissions
(cid:2) WM1(cid:3) =(cid:88)(cid:2) WM(cid:3) ≤ (cid:88) 1 1 . (64) and the corresponding deviation term x˜i,M is smaller. Also,
t i t ij 2 {βij(t)≥0} t
j=1 j∈M u M(ϵ) increases with E M, suggesting that higher uncertainty
in classification of malicious agents (represented by greater
Further,
max(cid:2) WM1(cid:3) ≤(cid:88)(cid:2) WM1(cid:3)
. (65)
E M) yields a larger deviation, on average.
i∈L k i k i 3) Bound on Deviation: The overall bound on the deviation
i∈L
from nominal consensus can be computed by merging the
Thus,
two bounds obtained for legitimate and malicious agents’
t contributions. Applying the triangle inequality to (14), (16),
x˜i,M ≤η(cid:88) (1−λ )(1−λ )(cid:88)(cid:2) WM1(cid:3)
t+1 k+1 k k i and (59) yields
k=0 i∈L x˜i ≤x˜i,L+x˜i,M. (70)
t t t
t
η (cid:88) (cid:88) .
≤ (1−λ )(1−λ ) 1 =ϕ(t). We have the following result that quantifies how distant from
2 k+1 k {βij(t)≥0}
k=0 i∈L the nominal consensus the legitimate agents eventually get.
j∈M
(66) Theorem1(Deviationfromnominalconsensus). Thedeviation
from nominal consensus is upper bounded as
It follows
(cid:104) (cid:105) (cid:20) (cid:21)
E x˜i,M ≤E[ϕ(t)] P limsupx˜i >ϵ ≤ηu(ϵ), i∈L (71)
t+1 t
t→∞
t
= η
2
(cid:88) (1−λ k+1)(1−λ k) (cid:88) P[β ij(k)≥0] with u(ϵ)=.
u
(cid:16)ϵ(cid:17)
+u
(cid:16)ϵ(cid:17)
. (72)
k=0 i∈L L 2 M 2
j∈M
t Proof. Itfollowsbyapplyingtheunionboundto(70)andthen
≤ η
2
(cid:88) (1−λ k+1)(1−λ k) (cid:88) e−2(k+1)E M2 invoking Lemmas 3 and 6.
k=0 i∈L
j∈M∩Ni We can assess the impact of a specific choice of λ
t
by
≤
ηLmin{d M,M}
z
observing the overall deviation bound (71). Recall that, in
2 t light of the expression (9), larger values of γ correspond to
(67)
faster decay of λ — i.e., the standard consensus protocol is
t
where we define
recovered more quickly. In view of what remarked for the two
z
t
=. (cid:88)t (1−λ k+1)(1−λ k)e−2(k+1)E M2 . (68) b tho eun sd tes au dyL -( sϵ ta) tean dd evu iM ati( oϵ n), ft rh oe mbo nu on md inu a( lϵ) coa nb so ev ne susu sg dg ee cs rts eat sh ea st
k=0 for small values of γ and increases as γ is chosen larger. The
Note that ϕ is non-decreasing with t. Hence, by the monotone presence of a nonzero point of minimum, which intuitively
convergence theorem, we can exchange the expectation in (67) corresponds to an optimal design of γ, is caused by the input
termλ xi addedtothestandardconsensusin(RES)toenhance
t 0
resilience, and represents a possible loss in performance due to
forcingasuboptimalprotocolfortoolongcomparedtothetime
needed for correct detection of adversaries. In particular, the
term ℓ appearing in u (ϵ) (see (19)) suggests that the optimal
L9
γ decreases as T increases, reflecting the need of legitimate 100 100 100
f
agents to act more cautiously when the uncertainty in the trust
10!1 10!10 10!1
variables α (t) is higher. On the other hand, the term u (ϵ)
ij M
Rr
e
a
a
x˜e
nf
g
iefq
,deme
Lu
nc
tai
tt
h
dr sre
e
uo
ks
(
ef
cM2
hγ
m too(a
N
it
=
c
mo
li eoc
i0mb
i soo
)e
cf,iu
ln
aγts
s
a
h
sm
l
sa
e
a
ia
g
s
f
ffdcl
e
yel
e
en
ic
nn
v(
t
tss
ga
i
s.
al ro
tti lhio
ew
o
e
g) n.
idd
tiI
t
ee
mn
e
vc
r
aia
mt
a
thy
t
eie
ox˜o
anc
i
tf
g,a
M
eosλ nnet tl)
si
yw
.st
i
to
i
ht dh
ra
e
onn
n
uon
t
gii hch
m
ai tll
a
hla
l
y
eit ce
tzi eo
et rh
u
r
moe
s
;ix~ noitubirtnoc
etam
itigeLL1 111 000 !!! 432 ;ix~ noitubirtnoc suoicilaMM 1 111 000 !!! 432 000
E =0.7E =0.3
ix~ noitaived etats-ydaetS1 111 000 !!! 432
t 10!5 10!50 EL=0.65EM =0.35 10!5
EL=0.6EM=0.4
EL=0.55EM =0.45
IV. NUMERICALSIMULATIONS 10! 06 .01 0.02 0.05 0.1 0.5 1 10!6 00 .01 0.02 L 0.05 0.1 M 0.5 1 10! 06 .01 0.02 0.05 0.1 0.5 1
. . .
To test the effectiveness of the proposed resilient consensus
Fig. 2. Steady-state deviation from nominal consensus value (right) and
protocol and the design insight suggested by the bound contributions due to legitimate agents x˜i ∞,L (left) and to malicious agents
proposed in Theorem 1, we run numerical simulations with x˜i ∞,M (middle)averagedover1000MonteCarloruns.Aspredictedbythe
a sparse network with 50 legitimate agents and 10 malicious bound(19),thedeviationtermduetomisclassificationoflegitimateagentsis
minimizedbya(small)positivevalueofγ thatdecreasesasthetrustscores
agents. The communication links are modeled via a random
getmoreuncertain,whilethedeviationtermduetomaliciousagentssteadily
geometric graph with communication radius equal to 0.2, the increasesasγ grows,accordingtobound(60).
agents being spread across the ball [0,1]×[0,1] ∈ R2. The
initial states of legitimate agents are randomly drawn from the
uniform distribution U(0,η) with η =1, while the malicious legitimate agents to correctly classify their neighbors, which
agents follow an oscillatory trajectory about the mean value leads to the monotonic increase observed across all deviation
2xL,∗ (twice the nominal consensus value) under additive zero- terms for every choice of γ.
ss
meanGaussiannoisewithstandarddeviation0.05.Notethat,in
theabsenceofdata-drivendetectionmechanisms(themalicious V. CONCLUSIONS
agents are classified based on the trust information α (t)
ij
We propose a resilient consensus protocol that uses trustwor-
that comes from physical transmissions and not based on the
thinessinformationderivedfromthephysicaltransmissionchan-
states they transmit), this behavior is most harmful because it
nel to progressively detect malicious agents, and complements
steadily drives the legitimate agents far away from the nominal
consensus value. Also, it holds xL ss,∗ ∈(0,1/2) and the random this information with a time-varying scaling that accounts for
how confident the agent is about its neighbors being malicious
oscillations of malicious agents are small compared to their
ornot.Analyticalresultsdemonstratethattheproposedprotocol
mean value, which verifies Assumption 1.
leads to a consensus almost surely. Also, the asymptotic
We run the proposed protocol (RES) with λ according (9)
t
deviation is upper bounded by a non-monotonic function of
with c = 0.9 for T = 1000 iterations and average all results
the decay rate of the confidence parameter. Numerical results
across 1000 Monte Carlo runs. We report four different setups
corroborate these findings, suggesting that the confidence
with different values of E and E that respectively increase
L M
parameter can be optimally tuned so as to minimize the steady-
from 0.55 to 0.7 and decrease from 0.45 to 0.3. In all experi-
state deviation.
ments, the trust observations of legitimate (resp., malicious)
transmissions are drawn from the uniform distribution centered
at E
L
(resp., E M) with length equal to twice the minimum ACKNOWLEDGMENTS
between 1−E and E .
L M We thank Prof. Stephanie Gil for the fruitful discussions
The outcomes are depicted in Fig. 2 that shows overall
about incorporating confidence into the trust-based resilient
steady-state deviation x˜i (14) in the right box together with
∞ consensusprotocolof[10]andondesignconsiderationsforthe
maximaldeviationduetolegitimateagentsx˜i,L (16)intheleft
∞ confidence parameter λ . M. Yemini additionally thanks Prof.
box and maximal deviation due to malicious agents x˜i,M (59) t
∞ Reuven Cohen for an enriching discussion regarding the finer
in the middle box. It can be seen that the simulated behavior
points of the convergence of random variables and conditional
agrees with the analytical bound in Theorem 1: indeed, the
expectations.
deviation term due to malicious agents steadily increases as γ
grows, while the deviation associated with misclassification of
legitimate neighbors is minimized by a nonzero value of γ that REFERENCES
decreases with the uncertainty of trust variables. For example,
[1] L. Ballotta and M. Yemini, “The role of confidence for trust-based
when E L = 0.7 and E M = 0.3, the trust scores are very resilientconsensus,”inAmericanControlConference,2024.
informative and the deviation is minimized at γ =0.05, which [2] H.J.LeBlanc,H.Zhang,X.Koutsoukos,andS.Sundaram,“Resilient
asymptoticconsensusinrobustnetworks,”IEEEJ.Sel.AreasCommun.,
dictates a relatively fast decay of the parameter λ . Conversely,
t vol.31,no.4,pp.766–781,2013.
in the case E L =0.55 and E M =0.45, the trust variables are [3] J. Usevitch and D. Panagou, “Resilient Leader-Follower Consensus
more uncertain and the optimal choice is given by γ =0.01, to Arbitrary Reference Values in Time-Varying Graphs,” IEEE Trans.
Automat.Contr.,vol.65,no.4,pp.1755–1762,Apr.2020.
corresponding to a much slower decay of λ . Moreover, as the
t [4] Y. Shang, “Resilient consensus in multi-agent systems with state
uncertaintyinthetrustvariablesincrease,itismoredifficultfor constraints,”Automatica,vol.122,p.109288,Dec.2020.10
[5] J.S.BarasandX.Liu,“TrustistheCuretoDistributedConsensuswith
Adversaries,” in Proc. Mediterr. Conf. Control Autom., Jul. 2019, pp.
195–202.
[6] W.Abbas,A.Laszka,andX.Koutsoukos,“ImprovingNetworkCon-
nectivity and Robustness Using Trusted Nodes With Application to
ResilientConsensus,”IEEETrans.ControlNetw.Syst.,vol.5,no.4,pp.
2036–2048,Dec.2018.
[7] S.SundaramandB.Gharesifard,“Consensus-baseddistributedoptimiza-
tion with malicious nodes,” in Proc. Annu. Allerton Conf. Commun.
ControlComput.,Sep.2015,pp.244–249.
[8] Y.Yi,Y.Wang,X.He,S.Patterson,andK.H.Johansson,“Asample-
basedalgorithmforapproximatelytestingr-robustnessofadigraph,”in
Proc.IEEEConf.Decis.Control,2022,pp.6478–6483.
[9] T.Wheeler,E.Bharathi,andS.Gil,“Switchingtopologyforresilient
consensususingwi-fisignals,”inProc.Int.Conf.Robot.Autom.,2019,
pp.2018–2024.
[10] M.Yemini,A.Nedic´,A.J.Goldsmith,andS.Gil,“CharacterizingTrust
and Resilience in Distributed Consensus for Cyberphysical Systems,”
IEEETrans.Robot.,vol.38,no.1,pp.71–91,Feb.2022.
[11] F.Mallmann-Trenn,M.Cavorsi,andS.Gil,“Crowdvetting:Rejecting
adversaries via collaboration with application to multirobot flocking,”
IEEETrans.Robot.,vol.38,no.1,pp.5–24,2022.
[12] M.Yemini,A.Nedic´,S.Gil,andA.Goldsmith,“Resiliencetomalicious
activityindistributedoptimizationforcyberphysicalsystems,”inProc.
IEEEConf.Decis.Control,2022.
[13] M.Yemini,A.Nedic´,A.Goldsmith,andS.Gil,“Resilientdistributed
optimizationformulti-agentcyberphysicalsystems,”arXivpreprints,p.
arXiv:2212.02459,2022.
[14] C.N.HadjicostisandA.D.Domínguez-García,“Trustworthydistributed
averageconsensus,”inProc.IEEEConf.Decis.Control. IEEE,2022,
pp.7403–7408.
[15] S.Gil,S.Kumar,M.Mazumder,D.Katabi,andD.Rus,“Guaranteeing
spoof-resilientmulti-robotnetworks,”Auton.Robots,vol.41,pp.1383–
1400,2017.
[16] A. Tsiamis, K. Gatsis, and G. J. Pappas, “State-secrecy codes for
networkedlinearsystems,”IEEETrans.Autom.Control,vol.65,no.5,
pp.2001–2015,2020.
[17] S.Gil,M.Yemini,A.Chorti,A.Nedic´,H.V.Poor,andA.J.Goldsmith,
“Howphysicalityenablestrust:Aneweraoftrust-centeredcyberphysical
systems,”arXiv:2311.07492,2023.
[18] L.Ballotta,G.Como,J.S.Shamma,andL.Schenato,“Cancompetition
outperformcollaboration?Theroleofmisbehavingagents,”IEEETrans.
Autom.Control,pp.1–16,2023.
[19] S.Gil,S.Kumar,M.Mazumder,D.Katabi,andD.Rus,“Guaranteeing
spoof-resilientmulti-robotnetworks,”AutonomousRobots,vol.41,pp.
1383–1400,2017.
[20] L.Ballotta,G.Como,J.S.Shamma,andL.Schenato,“Competition-
based resilience in distributed quadratic optimization,” in Proc. IEEE
Conf.Decis.Control,2022.
[21] N. E. Friedkin and E. C. Johnsen, “Social influence and opinions,” J.
Math.Sociol.,vol.15,no.3-4,pp.193–206,1990.
[22] W. F. Trench, “Conditional convergence of infinite products,” The
AmericanMathematicalMonthly,vol.106,no.7,pp.646–651,1999.