1
Concurrent-Learning Based Relative Localization in
Shape Formation of Robot Swarms
Jinhu Lu¨, IEEE Fellow, Kunrui Ze, Shuoyu Yue, Kexin Liu, Wei Wang, IEEE Senior Member, Guibin Sun
Abstract—In this paper, we address the shape formation
problem for massive robot swarms in environments where ex-
ternal localization systems are unavailable. Achieving this task
effectively with solely onboard measurements is still scarcely
explored and faces some practical challenges. To solve this
challenging problem, we propose the following novel results.
Firstly, to estimate the relative positions among neighboring
robots, a concurrent-learning based estimator is proposed. It
relaxesthepersistentexcitationconditionrequiredintheclassical
ones such as least-square estimator. Secondly, we introduce a
finite-time agreement protocol to determine the shape location.
This is achieved by estimating the relative position between
each robot and a randomly assigned seed robot. The initial
Fig.1. Trajectoriesofaswarmofsixrobotsforminganarrowshapeinan
position of the seed one marks the shape location. Thirdly,
externallocalizationsystemdeniedenvironment.Eachrobotisequippedwith
based on the theoretical results of the relative localization, a
anonboardlight.Thisphotoisobtainedbylong-exposurephotography.
novel behavior-based control strategy is devised. This strategy
not only enables adaptive shape formation of large group of
robots but also enhances the observability of inter-robot relative
I. INTRODUCTION
localization. Numerical simulation results are provided to verify
theperformanceofourproposedstrategycomparedtothestate- SHAPE formation has received significant attention in
of-the-artones.Additionally,outdoorexperimentsonrealrobots
recent years due to its broad potential across many ap-
furtherdemonstratethepracticaleffectivenessandrobustnessof plications [1–3]. The objective of shape formation is to guide
our methods.
the robot swarms from an initial configuration to form a user-
Note to Practitioners—Shape formation has a broad potential specified shape through local interactions. To achieve this ob-
forlargegroupofrobotstoexecutecertaintasks,suchasobject
jective,variouscontrolmethodshavebeenexplored,including
transport,forestfirefighting,andentertainmentshows.However,
the ones based on artificial potential [4, 5], edge following
most of the existing approaches rely on external localization
infrastructures, rendering them impractical in environments [6, 7], mean-shift exploration [8, 9], and goal assignment
where such systems are not available. To address this issue, this [10, 11]. However, most of the methods rely on external
paper proposes an integrated strategy that can achieve shape localization infrastructures like Global Position System (GPS)
formation for large group of robots by using local distance and
or Beidou Navigation Satellite System (BDS), to localize
displacementmeasurements.Thisstrategyconsistsofthreemain
robots,whichcanberestrictiveforpracticalapplications[12].
components.Firstly,arelativelocalizationestimatorisintroduced
to estimate the relative positions among neighboring robots. Forinstance,externallocalizationsystemsmaybeimpractical
Secondly, a protocol for reaching a consensus on the desired or infeasible in some scenarios, such as indoor environment,
shape’spositionisproposed.Thirdly,abehavior-basedcontroller underwater, or building atrium. Rather than relying on exter-
isdevelopedtoachievemassiveshapeformationandenhancethe
nal localization infrastructures, robots equipped solely with
observabilityofrelativelocalization.Moredetailsoftheproposed
onboard sensors are more autonomous.
algorithmsandswarmroboticsystemsareprovidedinthispaper.
In this paper, we aim to investigate the problem of relative
localization in shape formation using only onboard measure-
Index Terms—Relative localization, shape formation,
ments,asshowninFig.1.Tohandlethisproblem,theexisting
concurrent-learning, robot swarms.
results can be roughly classified into the following two cate-
gories.Thefirstclassisbasedontherigidityconditions.These
This work was supported in part by the National Key Research and methods usually require an assumption that the measurement
DevelopmentProgramofChinaunderGrant2022YFB3305600,andinpartby topologyamongrobotssatisfyrigidityconditionslikedistance
theNationalNaturalScienceFoundationofChinaunderGrants62141604and
rigidity[13,14]orbearingrigidity[15,16].Thesecondclass,
62373019, and in part by the China Postdoctoral Science Foundation under
Grant2023M740185.(Correspondingauthors:WeiWang;GuibinSun.) which has also attracted research attention, is rigidity-free
Kunrui Ze, Shuoyu Yue and Guibin Sun are with the School of Au- methods. To that end, researchers incorporate the persistent
tomation Science and Electrical Engineering, Beihang University, Beijing
excitation(PE)characteristicsintothecontrolcommand,such
100191, China (e-mail: kr ze@buaa.edu.cn; 20351032@buaa.edu.cn; sun-
guibinx@buaa.edu.cn). as noise [17, 18] or time-varying reference [12, 19], to relax
Jinhu Lu¨, Kexin Liu and Wei Wang are with the School of Automation rigidity conditions on the measurement topology. Although
Science and Electrical Engineering, Beihang University, Beijing 100191,
rigidityandPEconditionsarenecessaryinsomecollaborative
China, and also with the Zhongguancun Laboratory, Beijing 100083, China
(e-mail:jhlu@iss.ac.cn;skxliu@163.com;w.wang@buaa.edu.cn). tasks,theymaynotbeessentialinthecontextofmassiveshape
4202
tcO
8
]OR.sc[
1v25060.0142:viXra2
formation. More significantly, imposing these conditions may we design a novel behavior-based control strategy which is
bring a series of technical challenges, as outlined below. based on the theoretical insights from relative localization.
Firstly, due to the rigidity condition, the two robots must Thisstrategyenablesshapeformationinlargegroupofrobots
maintain continuous wireless communication and onboard in the absense of external localization system. Additionally,
measurements if they are topological neighbors in the desired it enhances the observability of relative localization among
formation. Additionally, it is necessary for the measurement robots. Extensive simulation results are provided to verify the
topology of the entire robot swarms to satisfy the rigidity effectiveness of the proposed methods. Moreover, compared
condition. This requirement is the foundation of the global with the existing swarm shape formation methods based on
convergence property of most existing results [13–16]. How- relative localization [12, 20, 21], outdoor experiments with
ever, the two robots that are topological neighbors may be far number of robot up to six are also provided to verify the
apart physically, which bring challenges for measurement and effectiveness,stability,androbustnessoftheproposedmethod.
communication between them. Furthermore, the rigidity con- The rest of this paper is organized as follows. Section II
dition across the entire topology is also difficult to guarantee, providestherelatedworks.SectionIIIintroducesanoverview
especially for large group of robots. of the entire system, adaptive relative localization method and
Secondly, to relax the rigidity condition, researchers in- behavior-based shape formation control strategy are proposed
troduce the PE condition based localization estimator. But in Section IV and Section V. Simulation and experimental
existing methods often involve sacrifices or encounter new results are discussed in Section VI and Section VII. Finally,
limitations in order to satisfy this condition. In practice, the Section VIII concludes this paper.
most common way to fulfill the PE condition is embedding
noise or time-varying reference into the control commands of
II. RELATEDWORKS
individual robots [17, 18]. However, these PE characteristics
A. Distributed Shape Formation
may propagate within robot swarms due to interactions be-
tweenrobots.Thiscanresultinnon-smoothmotiontrajectories Traditional researches on swarm formation control rely on
for robot swarms, leading to deteriorated control performance consensus and graph theory [22–24]. In these approaches,
in real-world applications, particularly with large group of each robot achieves shape formation by tracking a predefined
robots.AlthoughthePEconditioncanbemetthroughspecific desired reference, either in a centralized or distributed man-
movementslikerotation[19]andspinning[12],thesemethods ner. However, the neighboring robots defined in the desired
are ineffective for common static shape formation control. formation may be far apart physically, which is unreasonable
Motivated by these challenges, we focus on the shape for- in real applications.
mationcontrolforlargegroupofrobotswithoutPEcondition. Inspired by the phenomenon in nature where groups of in-
Specifically, the contribution of this paper are summarized sectsandanimalscanformvariousspatialshapesthroughlocal
below. interactions among individuals [25–27], extensive behavior-
1)Toachieveinter-robotrelativelocalizationwithoutthePE based studies on shape formation of robot swarms are pro-
condition,aconcurrent-learningbasedrelativepositionestima- posed. The existing behavior-based control methods for shape
tor is introduced. Compared with the existing results [17–19], formation can be roughly divided into two classes. One
both current and historical measurement data are utilized in class is based on goal assignment. In these methods, each
theestimator.Asaresult,itisnotnecessarytoincorporatePE robot is dynamically assigned a unique goal location using
characteristicsintothecontrolcommand,resultinginsmoother eithercentralizedapproachessuchasnetwork-flowalgorithms
motion trajectories for the robots. Theoretical analysis results [28] or decentralized approaches such as distributed auction
are provided to guarantee the convergence of the estimation [10] and task-swapping algorithm [11]. Once the robots are
error.Furthermore,weprovidetheoptimalstrategyforrelative assigned unique goal locations corresponding to the desired
motion and data collection between robots. We demonstrate shape, the subsequent task is simply to guide the robots to
that the proposed estimator achieves the largest convergence reach their respective goal locations. Many existing results
rate with the optimal strategy. such as distributed model predictive control [10], optimal
2)Toachievetheshapelocalizationagreementfortheentire reciprocalcollisionavoidance[29]andplanningbasedmethod
swarms in the absense of global coordinates, the location of [30] can accomplish this task effectively.
theshapecenterisselectedastheinitialpositionofarandomly Theotherclassofstrategiesarefreeofassignment.Inspired
assignedseedrobot.Notethatthepositionoftheseedrobotis by natural processes like embryogenesis, the method in [31]
irrelevant. By transforming the global-coordinate based shape can spontaneously generate swarm shapes with a reaction-
agreement problem [8] into a relative position estimation diffusion network. Similarly, a method combining random
problem, we propose a finite-time consensus-based agreement walk and distributed edge detection is proposed in [2]. These
protocol. This approach eliminates the need for the rigidity methods exhibit significant randomness in both the shape
condition on the measurement topology [13–16] to achieve formed and the robots’ motion trajectories. Another common
shape localization agreement. Furthermore, our method does assignment-free methods for shape formation are based on
not necessitate knowledge of the absolute position of the artificialpotentialfields(APF). However,APF-basedmethods
seed robot. Theoretical analysis results are also provided to often encounter a well-known locally minimum problem. To
guarantee the convergence of the proposed method. address this issue, an information integration and feedback
3) For the shape formation control of the robot swarms, based method is proposed in [5]. However, relying solely3
on APF cannot effectively avoid the deadlock phenomena. In One common strategy is based on trilateral localization
our previous work [8], the idea of mean-shift exploration is algorithm. In [6], a distance measurement based shape for-
adopted in shape formation of robot swarms, which signifi- mationstrategyisproposed.Inthiswork,eachrobotlocalizes
cantly improves the efficiency of shape formation, especially itselfbymeasuringdistancewithatleastfourlocalizedrobots.
for large group of robots. However,thismethodrequirestheplacementofanchorrobots,
In summary, all these methods are based on the global increasing the difficulty of real-world application. Moreover,
coordinates ofrobots. However,one cansee that manysimple only edge robots can move to form shapes, resulting in lower
organisms in nature can achieve complex shapes with only efficiency. Similarly, multiple ranging sensors are used for
basicmeasurementinformationratherthanglobalcoordinates. inter-robot localization in [36]. In [39], elastic link is adopted
Consequently, the development of shape formation techniques to enhance localization for error-prone individuals. Despite
for robot swarms using only local measurements remains their merits, these methods rely on external facilities, making
significant. practical implementation challenging.
To overcome the above shortcomings, researchers have
B. Relative Localization Estimation
developedshapeformationcontrolmethodsthatdonotrequire
Relative localization between robots is a fundamental prob- external anchors. In [13], a distance-based adaptive formation
lem in swarm robot research. Unlike traditional anchor-based controlmethodisproposedbasedonthegraphrigiditytheory.
localization methods [32, 33], we focus on the relative lo- Similarly, a bearing rigidity based shape formation control
calization strategy which do not rely on external anchors. In method is introduced in [16]. However, these methods neces-
recent years, visual-measurement based relative localization sitate that the measurement topology between robots satisfies
schemes have received significant attention. The work in [34] specific conditions, which can be impractical in real-world
proposesafisherinformationmatrix(FIM)basedlocalization- implementations. To address these issues, adaptive parameter
enhanced method with bearing measurement. To fully utilize estimation is used for relative localization in works such as
visual measurement information and improve localization ac- [12, 19]. Specially, when the relative motion trajectory be-
curacy,abearing-anglebasedlocalizationstrategyisproposed tweentworobotssatisfiesthePEcondition,theconvergenceof
in [35]. However, the limited camera’s field of view may con- thesemethodscanalsobeguaranteedundergeneralconnected
strain the flexibility of the robot. Besides, the target detection measurement topology. However, PE-based methods may be
algorithms used in bearing measurement may lead to high ineffective for tasks such as static shape formation or linear
computational resource consumption. cruising formation where the PE condition is not satisfied.
In contrast, thanks to the availability of low-cost Ultra In summary, while the existing approaches offer promising
Wide Band (UWB) ranging sensors, distance based localiza- solutionsforlocalmeasurementbasedswarmshapeformation
tion schemes are also widely explored. A common approach control, they all have limitations. Currently, there is still no
is the multiple anchors based localization strategy. In [36] method that achieves efficient shape formation control for
and [37], multiple UWB tags are equipped on a robot, and large group of robots without relying on the PE condition.
relative localization is achieved using optimization methods The distributed shape formation problem with solely onboard
like nonlinear least squares. However, the use of multiple measurements remains a challenge yet to be fully addressed.
UWB sensors may increase the structural complexity of the
robot.In[18],adistanceanddisplacementmeasurementbased
III. SYSTEMOVERVIEW
relative position estimator is proposed, requiring only one
A. Notions and Problem Statement
UWB sensor. However, this estimator only converges when
the relative motion trajectory between robots satisfies the PE Consider a group of n+1 mobile robots in R2 and n≥2.
condition. As a result, periodic noise signal is added to the Let p ∈ R2 be the position of robot i = 0,1,...,n in an
i
control command, which is similar to [17]. In [20], based on inertialframe.Thedynamicmodelofeachrobotisconsidered
the FIM theory, the authors analyse how the relative motion as p˙ =v , where v is the velocity command to be designed.
i i i
between two robots can enhance relative localization. In the Thevelocitycommandv satisfies∥v ∥≤v ,wherev is
i i max max
latest result [38], the PE condition is satisfied through the the maximum velocity of each robot. The interaction network
rotation of a UWB module on each robot. Nevertheless, the among the robots is described by an undirected graph G =
designoftheturntableaddscomplexitytotherobot’sstructure. (V,E), which is composed of a vertex set V = {0,1,...,n}
In summary, most existing works still rely on the PE and an edge set E ⊆V ×V. If (i,j)∈E, the two robots can
conditions in the relative localization task. However, it is receive information with each other and robot j is a neighbor
worth noting that with the careful use of both the current and of robot i. The neighbor set of robot i is denoted as N =
i
historicalmeasurementdata,thisconditioncanberelaxed.As {j ∈ V : (i,j) ∈ E}. The detailed definition of the neighbor
a result, the smoothness of the robots’ motion trajectories can set N can be found in V-B.
i
be directly improved. Theobjectiveofeachrobotistoachieveshapeformationfor
the entire robot swarms through local distance and displace-
C. Local Measurement Based Shape Formation ment measurements. To achieve this, we design an integration
To achieve shape formation tasks with only local mea- strategy including relative position estimation, shape local-
surements, researchers in control and robotics have explored ization agreement, and shape formation control. The overall
various strategies. system architecture is illustrated in Fig. 2. The first step4
Fig.2. Anillustrationoftheproposedshapeformationstrategy.A.Eachrobotintheswarmsmoveswiththelocalizationenhancecontrollawandcollects
data to localize its neighboring robots. B. Each robot estimate the relative position to the initial position of the seed robot with the finite-time consensus
method.C.Behavior-basedlocalizationenhanceshapeformationcontrolscheme.
involves designing a concurrent-learning based estimator to promising control performance [40]. In contrast, we propose
estimate relative positions to neighboring robots (see Fig. 2A distributed adaptive estimators for relative position estimation
and Section IV). amongneighboringrobotsbasedontheconceptofconcurrent-
Thesecondstepistodesignanagreementprotocoltolocate learning: robot leverages historical and present measurement
the desired shape which is marked by the initial position of data to alleviate the need for the PE condition (see Fig. 2A).
the seed robot (see Fig. 2B and Section V-B). The final step In this way, there is no requirement to add persistent noise to
is to devise a behavior-based control law to achieve shape thecontrolcommand,resultinginsmoothermotiontrajectories
formation task and, meanwhile, enhance the localization (see during shape formation. Theoretical and experimental results
Fig. 2C and Section V-C). demonstrate that exponential convergence of the estimation
error is achieved and the motion trajectories of robots are
B. Relative Localization to Neighbors smoother than methods using persistent disturbance [18].
To achieve independence from external localization infras-
C. Localization Agreement on Shape
tructure,robotsfirstneedtoestablishrelativelocalizationwith
respect to their neighbors using only onboard measurements. Relying solely on relative localization is insufficient to
This paper enables each robot to estimate the relative position determine the localization of the desired shape to be formed
to its neighbors solely through inter-robot distance and dis- by robots. Therefore, resolving how robots can determine the
placementmeasurements(seeFig.2A)whichcanbeobtained shape position using only local information remains a chal-
usingthelow-costsensorssuchasUWBandinertialodometry lenge. To address this, we propose a localization agreement
(IO), respectively. protocol that enables robots to negotiate distributively and
The relative localization problem can be formulated as an reach a consensus on the shape position, as shown in Fig. 2B.
adaptive parameter estimation problem [17]. Existing works To initiate the shape formation, a robot is randomly des-
for localization estimation often rely on embedding the PE ignated as the seed robot, whose initial position marks the
characteristics to ensure the convergence of the parameter localization where the desired shape should be formed. With-
estimator [12, 17]. However, implementing PE typically in- out losing generality, we denote the ID of the seed robot
volves adding noise or disturbance to the control input, com- as 0. The seed robot plays a stubborn role by insisting on5
propagating the relative displacement from its initial position where k ∈N is the number of samples, and ∆t is the sample
(i.e.,shapeposition)toitsnon-seedneighbors.Thesenon-seed interval. Here, p (t ) is related to its initial relative position
ij k
robotsutilizethispropagatedrelativedisplacementtointerpret p (t ) satisfying
ij 0
the shape position locally through the proposed agreement
p (t )=p (t )+z (t ), (1)
protocol, simultaneously propagating their interpretations to ij k ij 0 ij k
other non-seed robots. In this way, the interpretations of non-
where z (t ) is defined as z (t ) = z (t )−z (t ), z (t )
ij k ij k i k j k i k
seed robots gradually converge to the seed one so that all the
is the displacement measured by IO of robot i from t =
0
robots reach a consensus on the localization of the desired
0 to t . Note that z (t ) is obtainable through the wireless
k ij k
shape with the proposed agreement protocol (see Fig. 2B and
communication between robots i and j.
SectionV-B.Theoreticalresultsdemonstratethattheproposed
Next, we can formulate the relative localization problem,
agreement protocol guarantees the finite-time convergence of
i.e., the determination of p (t ), as an estimation problem of
ij k
shape localization among robots.
parameter p (t ). Accordingly, we can define
ij 0
y (t )=uT(t )p (t ), (2)
D. Distributed Formation Shape Control ij k ij k ij 0
where u (t ) is defined as u (t ) = u (t )−u (t ), and
Once all the robots reach an agreement on the localization ij k ij k i k j k
u (t ) =
(cid:82)tk+1v
(t)dt is the displacement measured by
of the desired shape, each robot can form the desired shape i k tk i
IO of robot i from t to t . Here, u and y can be
driven by the proposed behavior-based control law (see Sec- k k+1 ij ij
directly obtained for the following reasons. Firstly, since u
tion V). Specifically, the behavior-based control law consists i
of four velocity commands vent, vexp, vint, and venh. The is measured by IO, u ij can be directly obtained through the
i i i i
wireless interaction between robots i and j. Then, we will
fourcommandsrepresenttheshape-entering,shape-exploring,
showthaty isalsoobtainable.Substituting(1)into(2),yields
neighbor-interacting,andlocalization-enhancingbehaviormo- ij
tions, respectively. The detailed usages of these command are y (t )=uT(t )p (t )−uT(t )z (t ). (3)
as follows. ij k ij k ij k ij k ij k
The shape-entering command vent guides robot i into the For the first term in (3), it follows from the cosine theorem
i
desired shape by seeking the darkest cells around it (see that
F roi bg o. t2C i). toTh exe ps loh ra epe t- he exp ulo nr oin ccg upco iem dm aa rn ed a v inie sx ip deaim ths e t do ess it re ee dr uT ij(t k)p ij(t k)= 21(cid:0) d2 ij(t k+1)−d2 ij(t k)−u2 ij(t k)(cid:1) , (4)
shape (see Fig. 2C). The neighbor-interacting command vint
i where d represents the relative distance between robots i
is responsible for both collision avoidance and velocity align- ij
and j. The value of d in (4) can be measured by UWB.
ment among adjacent robots (see Fig. 2C). Different from our ij
Thus, the first term uTp in (3) is also obtainable. For better
previous work [8] which relies on the external localization ij ij
understanding of (4), an illustrative example is introduced in
infrastructure,theabovecommandsareallcalculatedwiththe
Fig. 3. As shown in Fig. 3A, it can be seen that the relative
estimated relative positions. Furthermore, to handle the prob-
displacement u (t ) and the relative positions between the
lem that each robot may encounter new neighboring robots ij k
two robots at t and t form a triangle. For the second
which are not localized, the localization-enhancing command k k+1
term in (3), since both u and z are directly obtainable,
venh is designed to enhance the relative localization among ij ij
i the second term uTz in (3) is also obtainable. With the
adjacent robots (see Fig. 2C). Simulation and experiment ij ij
fact that both y (t ) and u (t ) can be measured, adaptive
results demonstrate that the robots can form desired shape ij k ij k
parameter update law can be designed to estimate the initial
using only local distance and displacement measurements in
relative position p (t ). As a result, the relative localization
the absense of external localization infrastructures. ij 0
task can be achieved.
Denote pˆ (t ) as an estimation of the initial relative
ij,0 k
IV. ADAPTIVERELATIVELOCALIZATION position p (t ) and p˜ (t ) = pˆ (t ) − p (t ) as the
ij 0 ij,0 k ij,0 k ij 0
estimation error. Accordingly, we can define the innovation
This section addresses the problem of achieving relative
ϵ (t ) as
localizationamongadjacentrobots,throughtheuseofonboard ij k
measurements, such as inter-robot distance and displacement. ϵ (t )=uT(t )pˆ (t )−y (t )=uT(t )p˜ (t ). (5)
ij k ij k ij,0 k ij k ij k ij,0 k
The fundamental idea is to formulate the relative localization
problem as a parameter estimation problem, and then design The innovation ϵ (t ) will be used later to design the
ij k
a concurrent-learning based estimator to estimate relative concurrent-learning based estimator in Section IV-C.
positions to neighboring robots. The details are as follows. Based on the estimation problem modeled as (2), methods
proposed in [12], [17] and [38] attempt to estimate the
initial relative position p (t ). However, all these existing
ij 0
A. Relative Localization Problem
results require that relative displacement u (t) satisfies the
ij
For each robot i ∈ V and j ∈ N , denote the relative PE condition. To satisfy this condition, the persistent noise
i
position between robots i and j at time t =k∆t as or periodic signal are adopted in the control command of the
k
robot, which are not conducive to the expansion of massive
p (t )=p (t )−p (t ),
ij k i k j k robot swarms.6
with learning rate η
λ (S )
η = min ij , (8)
(λ (U (t ))+λ (S ))2
max ij k max ij
where matrices U (t ) and S are defined as U (t ) =
ij k ij ij k
u (t )uT(t ) ∈ R2×2 and S = R RT ∈ R2×2, re-
ij k ij k ij ij ij
spectively. Here, R = [u (t ),...,u (t )]. Note that (7)
ij ij c,1 ij c,ς
represents the updates at time instant t and employs both
k+1
the present measurements d (t ), d (t ), u (t ) and the
ij k+1 ij k ij k
historical measurements d (t ), d (t ), u (t ) in
ij c,m ij c,m+1 ij c,m
its calculations. All these measurements are available at t .
k+1
To relax the PE condition, a concurrent-learning term
η(cid:80)ς uT(t )ϵ (t ) which records the historical mea-
m=1 ij c,m ij c,m
surement information is designed in the estimator (7). As a
result, the persistent noise velocity command can be replaced
by an impermanent localization enhance velocity command
and the motion trajectories of robots will be smoother. Based
Fig. 3. Geometric relationship between the displacements and distance
ontheinitialstateestimator(7),thereal-timerelativeposition
measurements of the two robots. A. one sample interval ∆t. B. h sample
interval∆t estimator pˆ ij(t) can be designed as
B. Data Collection Strategy pˆ (t)=pˆ (t)+z (t). (9)
ij ij,0 ij
In the relative localization problem, u (t ) and d (t )
ij k ij k
Recall that z (t) is the relative displacement which is avail-
are two critical values to determine p (t ). If the sample ij
ij 0
able through the IO measurement and inter-robot communica-
interval ∆t is too small, the measurements of u (t ) may
ij k
tion. In the next theorem, we will show that the convergence
be drowned in noise in practice. At this time, it is necessary
oftheproposedestimator(7)canbeguaranteediftherecorded
to use tandem measurements to address this issue. To achieve
data matrix S satisfies the following assumption.
this, we propose the following data collection strategy. ij
Assumption 1: The rank of the recorded data matrix S
Whenever two robots start localization, a data collection ij
satisfies rank(S )=2.
takes place between them. Let t denote the m-th (m = ij
c,m
For the 2-D localization problem, Assumption 1 indi-
1,...,ς) data collection time. The data collection process
cates that the data matrix S records sufficient information
begins at t and terminates at t . The interval between ij
c,1 c,ς
the two consecutive collections is h∆t,h ∈ N, i.e., t − to achieve localization. This is a common assumption in
c,m+1
concurrent-learning methods, which can also be found in
t = h∆t, as shown in Fig. 3. The heuristic values of h
c,m
[41] and [42]. The main results regarding the convergence of
and ς will be discussed later in Section IV-D. In this way, the
estimator (7) are presented in the following theorem.
innovation ϵ (t ) in (5) can be rewritten as
ij k
Theorem 1: Under Assumption 1, the estimation error
ϵ ij(t c,m)=uT ij(t c,m)pˆ ij,0(t k)−y ij(t c,m), (6) p˜ ij,0(t) is globally exponentially stable with the relative posi-
tion estimator (7). The convergence rate λ of p˜ (t) can be
with ij ij,0
calculated as
y ij(t c,m)= 21(cid:0) d2 ij(t c,m+1)−d2 ij(t c,m)−u2 ij(t c,m)(cid:1) (cid:115)
(cid:18) λ (S )2 (cid:19)
−uT ij(t c,m)z ij(t c,m), λ ij ≜ 1− (2v max∆m ti +n λi mj ax(S ij))2 . (10)
where z (t ) =
(cid:80)m
u (t ). The innovation ϵ (t )
ij c,m ι=1 ij c,ι ij c,m Proof: See Appendix B.
will be used later in Section IV-C. Note that the tandem data
Remark 1: Theorem 1 indicates that when the histor-
collection strategy is helpful for increasing the modulus of
ical measurement data records sufficient information, i.e.
the relative displacement u (t ), which is beneficial for
ij c,m rank(S )=2, the localization error converges exponentially.
ij
reducingrelativeerrorinnoisymeasurements.Thistrickhelps
Furthermore, the convergence rate of the estimator is highly
to improve estimation accuracy in real application.
related to λ (S ) and λ (S ). In the next section, we
min ij max ij
willdiscusstherelationshipbetweentherelativemotionofthe
C. Concurrent-Learning based Estimator tworobotsandtheconvergencerateoftheproposedestimator.
Now,wecandesigntheconcurrent-learningbasedestimator
to update pˆ (t ) for the initial relative position p (t ) as
ij,0 k ij 0 D. Localization Enhancement Motion
pˆ (t)=pˆ (t ), t <t≤t (7a)
ij,0 ij,0 k k k+1 In real applications, nevertheless, we still need to address
(cid:88)ς thequestionsonhowtodesigntherelativemotiontrajectories
pˆ (t )=pˆ (t )−η uT(t )ϵ (t ) (7b)
ij,0 k+1 ij,0 k ij c,m ij c,m of two robots and how to collect the measurement data, i.e.
m=1 how to choose ς and h such that the convergence speed of
−ηuT(t )ϵ (t ),
ij k ij k estimator (7) is the largest.7
AccordingtoTheorem1,toimprovetheconvergencespeed 2) Gray transformation of the desired formation: To guide
of the estimator, the ratio of the minimum and maximum the robot into the desired shape formation smoothly, we
eigenvalue λmin(Sij) of the recorded data matrix S should convert the binary image to a gray image. Specifically, the
λmax(Sij) ij
be as large as desired. To achieve this, we design the circular set of black cells out by the l cells is expanded to generate an
motion velocity of each robots i as l-level gray scale image. For any cell ρ in the image, its gray
value can be calculated as,
v =[r cos(w t),r sin(w t)], (11)
i i i i i (cid:18) (cid:19)
1
where w = 1/i is the angular velocity. For the two robot i ξk = min ξk−1+ ,k =1,2,...,l−1, (13)
and j,
sei
lect the measurement interval time h∆t and the data
ρ ρ′∈Mρ ρ′ l
set number ς which satisfy wherethe superscript k denotesthe k-thouter layersurround-
ing the desired shape, as shown in Fig. 2C. The set M is
mod(2π,h∆t)=0, (12a) ρ
composed of 3×3 cells including ρ and its surrounding cells.
ς =ijς 0, (12b) With iteration (13), the gray formation shape is F
gray
={ρ:
where mod(·) is the remainder function and ς = 2π ∈ ξ ρ ∈[0,1]}.
N. In the following theorem, we will show tha0 t the h la∆ rt gest 3) Parameters of the desired formation: The desired shape
represented by image is merely graphical. Each robot should
convergence rate of the estimator (7) can be achieved.
Theorem 2: Under conditions (11) and (12), the proposed furtherparameterizeitsuchthatitisimplementableinphysical
estimator (7) converges with the largest convergence rate, i.e., world. The size of the formation shape should be determined.
λmin(Sij) =1. Thelengthl cellofeachcellrepresentsthesizeoftheformation
λmax(Sij) shape and can be selected as
Proof: See Appendix C.
Remark2:Theorem2showsthatwithcarefuldesignofthe (cid:114) π N
relative motion of the two robots, the proposed estimator has l cell = 4n r avoid,
cell
the largest convergence rate. In the practical applications, the
ratio λmin(Sij) can be calculated at each data measurement where r avoid is the inter-robot collision avoidance distance. In
λmax(Sij) this paper, we assume that the IO coordinate of each robot
time instant t . When λmin(Sij) is greater than a threshold
c,m λmax(Sij) has the same direction such that the orientation of the desired
λ ,thedatacollectionissufficient,thereisnoneedtomaintain
0 shapecanbedeterminedasthesame.Notethatitisacommon
the relative motion between the two robots and the estimator
assumption in several relative localization results including
will converge exponentially. This result directly supports our
[17]and[12],anditcanbeachievedthroughdifferentsensors
design of localization enhance command in Section VI B.
including magnetic compasses.
V. BEHAVIOR-BASEDSHAPEFORMATION
B. Distributed Shape Localization agreement
Previously, we have shown how to achieve relative local-
ization with only distance and displacement measurements. In Before introducing the behavior based shape formation
thissection,wewilladdresstheproblemhowtoachieveshape strategy, determining the localization of the desired shape
formation control through behavior based control strategy. formation becomes necessary. However, negotiating the co-
To achieve this, we first define and parameterize the desired ordinates of the formation localization directly is ineffective
formation shape. Then, a consensus based shape localization due to the lack of global coordinates [8]. To handle this issue,
agreement protocol is presented to overcome the difficulty of we propose a consensus-based shape localization agreement
determiningtheshapelocalizationintheabsenseofglobalco- protocol (see Algorithm 1), where the shape localization is
ordinates.Thirdly,weproposethedistributedshapeformation marked by the initial position of the seed robot 0. Before
controlstrategyutilizingonlylocalmeasurements.Thedetails introducing the agreement protocol, we define the concept of
are as follows. neighboring robots first.
1) Neighboring robot definition: The neighbor set N of
i
A. Shape Definition and Parameterization robot i at time instant t is defined as
Firstly, we define the appropriate desired formation. N =Ncur∩Npas, (14)
i i i
1) Graphicalshaperepresentation: Similartoourprevious
with
work [8], a user-specified graphical binary image that rep-
resents the desired formation shape should be provided. As Ncur ={j|∥p (t)−p (t)∥≤r }, (15)
i i j sense
shown in Fig. 2C, the black cells correspond to the desired
shape. and
Each cell is described by two basic parameters ρ and ξ ρ. Npas ={j|∃t′ ≤t,∥p (t′)−p (t′)∥≤r }, (16)
The coordinates ρ=(ρ ,ρ ) are the column and row indexes i i j neigh
x y
of a cell, see Fig. 2C. The scalar ξ ∈[0,1] is the color of the where r and r < r denote the maximum mea-
ρ sense neigh sense
cell: ξ = 0 if it is black and ξ = 1 if it is white. Let n surement radius and a user-defined neighboring radius. The
ρ ρ cell
bethenumberofblackcells.Therefore,thedesiredformation set Ncur denotes the robots which are in the robot i’s sensing
i
shape can be described by the index set F = {ρ : ξ = 0} range at current time. The set Npas denotes the robots which
ρ i
and |F|=n . are close to robot i in the past and current time. The neighbor
cell8
set of robot i is defined as the intersection of Ncur and Npas. Algorithm 1: Shape localization agreement
i i
According to the definition of the neighbor set, it can be seen Input: data matrix threshold λ , threshold convergence rate
0
thatwhenrobotj firstbecomeanewneighborofroboti,itis δ , swarm scale n.
0
withinthecircularrangeofr neigh ofrobotiandisunlocalized Output: shape relative localization estimator qˆ i,0
byroboti,i.e.,robotihasnotcollectedsufficientmeasurement 1 N i(t 0) ← get robot i’s neighbor set ;
data. The purpose of defining neighbors as (14) is to maintain 2 hop i ← set as 0 ;
the measurement for a period of time between robot i and j, 3 CD i, RD i, RL i ← set as empty set ϕ ;
4 while ture do
which become the neighboring robots at the first time. As a
5 if hop i <n then
result,thelocalizationbetweenthetworobotscanbeachieved
6 // Check whether the agreement is completed
if the measurement data collected during this time satisfies var the hop-count;
rank(S )>0. 7 N i ← get robot i’s neighbor set ;
ij
As shown in Algorithm 1, each robot maintains three
8 if JdgNewNeigh(N i,RL i) is false and JdgDt(i,
RD , λ ) is ture then
i 0
sets, i.e., CD , RD , CL to represent the current measure-
i i i 9 // No neighbor to be localized and current
ment data to its neighboring robots, the historical measure- neighbors have been localized;
ment data to neighbors and the localized robot ID. Function 10 RL i ← update the localized robot set ;
JdgNewNeigh(·) is used to detect the new neighbors which 11 v i ← set as 0;
12 else
are unlocalized. Function JdgDt(·) judges whether sufficient
13 // Robot i detects unlocalized neighbors,
measurementdataiscollected,i.e.,whether λmin(Sij) islarger localization enhance and collect data;
than the data matrix threshold λ . If thereλm aa rx e(S nij e) w neigh- 14 CD i ← get current distance and displacement
0 measurements of robot i and its neighbors;
bors to be localized or the data collection is insufficient,
the localization-enhancing velocity command v ienh will derive 11 65 vR ieD nhi ←← cr ae lc co ur ld atc eu lr or ce an lt izm ate ia or nsu er ne cm he an nt ceCD i;
robot i to make localization-enhancing motion within radius command (31);
r i.Duringthisprocess,roboticollectsmeasurementdata(see 17 v i ← v ienh;
Algorithm 1, line 9 - 17). The detailed control protocol can 18 if CalUpdRate(qˆ i,0) >δ 0 then
be found in Section V-C. 19 hop i ← set as 0
2) Finite time consensus based estimator design: To 20 else
achieve the shape localization agreement, an estimator qˆ i,0(t) 21 hop i ← min j∈Ni(hop j)+1
is designed to estimate the initial relative position p (t )
i0 0 22 // Relative localization and shape position
between robot i and the seed robot 0. The update law qˆ˙ (t) agreement;
i,0
is designed as 23 for j ∈RL i do
24 pˆ ij,0 ← update relative position estimator
qˆ˙ (t)=−c sig(cid:16) (cid:88) a (qˆ (t)−qˆ (t)−pˆ (t)) according to (7)
i,0 1 ij i,0 j,0 ij,0
25 qˆ i,0 ← update shape position estimator according to
j∈Ni(t0) (17);
(cid:17)α
+µ i(qˆ i,0(t)−pˆ i0,0(t)) , (17) 26 else
27 return qˆ i,0
where c > 0 and 0 < α < 1 are two positive constants.
1
Parameter a = 1 means that robot j is a neighbor of robot
ij
i at initial time t , otherwise a = 0. Parameter µ = 1
0 ij i
means that robot i is a neighbor of the seed robot, otherwise
Note that the connected constrain of G(t ) in Assumption
µ = 0. For vector x = [x ,...,x ]T, function sig(x)α = 0
i 1 n
(cid:80)n sign(x )|x |α,wheresign(·)isthesignfunction.Recall 2 is common and can be found in several consensus results
i=1 i i including [43–45]. The constrain of r is to guarantee that
that the relative position estimator pˆ defined in (7) is also neigh
ij,0
the initial neighbor robots in set N (t ) are still the neighbors
adopted in (17). Define the estimated error as q˜ = qˆ − i 0
i,0 i,0
of robot i during the shape agreement process. Next, we will
p (t ), take q˜=[q˜ ,...,q˜ ]T.
i0 0 1,0 n,0
show the convergence of the agreement protocol (17) in the
Basedontheinitialstateestimator(17),thereal-timeshape
following theorem. To achieve this, we choose a Lyapunov
localization estimate is designed as,
function candidate as,
qˆ(t)=qˆ (t)+z (t). (18)
i i,0 i
1
Recall that z (t) is the displacement measured through IO of V = q˜T(L+B)q˜, (19)
i l 2
robot i. The real-time estimator designed as (18) is due to
the fact that the initial position of the seed robot, i.e., shape
localization is static. Note that the initial neighbor set N i(t 0) where B = diag(µ 1,...,µ n). Let L be the Laplace matrix of
is adopted in (17). Before introducing the main result, the the initial measurement topology G(t 0).
following assumption should be satisfied. Theorem 3: Under Assumption 2, given (i,j) ∈ G(t ), the
0
Assumption 2: The initial measurement topology G(t ) measurement data matrix S satisfies Assumption 1. As a
0 ij
definedby(14)isconnectedandtheneighboringradiusr result, the agreement error q˜will converge into an adjustable
neigh
satisfies r <r −r −r , for j ∈N (t ). set Ω={∥q˜∥≤b} in a finite time t +t with the estimation
neigh sense i j i 0 a l9
law (17), where b, t a and t l are defined as, Algorithm 2: Distributed shape formation control
(cid:118) Input: shape relative localization estimator qˆ , data matrix
b=(cid:117) (cid:117) (cid:116)1+α α2 (2 1α1 −(+ α3 +α γ1 )) ( α(cid:80)n i λ=1(| (N Li( +t 0 B)| )ε 2)1+α) , (20) t mhr ee as sh uo reld mλ en0 t, dlo ac taali Rze Ld i,ro Rbo Dt is .et and ci, o0 llected
1+α min
1 V i ← set as empty set ϕ ;
2 while ture do
t =
2(1+α)V l(t a)1− 2α
, (21)
3 N i ← get robot i’s neighbor set ;
l λ (L+B)γ(1−α) 4 if JdgNewNeigh(N i) is false and JdgDt(i, RD i,λ 0) is
min ture then
5 // No neighbor to be localized and current
t
=max{ln(ε∥p˜ ij,0(t 0)∥−1)
∆t,(i,j)∈G(t )}, (22)
neighbors have been localized;
a ln(λ ij) 0 6 RL i ← update the localized robot set;
7 // Behavior based shape formation control;
where|N i(t 0)|representstheinitialneighbornumberofrobot 8 v ient ← calcaulate shape forming command (28);
i. Positive constants ε > 0 and γ > 0 are adjustable 9 v iexp ← calcaulate shape exploration command (29);
param Pe rt oe or fs :. ST eh ee Aco pn pv ee nr dg ie xnc De .rate λ ij is defined in (10). 1 10
1
v vi iint ←←
v
iec na tlc +au vl iea xte pi +nt ve ir ina tti ;on command (30);
Remark 3: Note that V l(t a) in (21) can be calculated with 12 else
the initial sate V (t ) and initial relative localization error 13 // Robot i detects unlocalized neighbors,
l 0 localization enhance and collect data;
p˜ (t ) according to (19). Theorem 3 offers an answer to
ij,0 0 14 CD i ← get current distance and displacement
the question how long it takes to ensure that the agreement measurements of robot i and its neighbors;
error q˜ is less than an adjustable constant b defined in (20). 15 RD i ← record current measurement CD i;
In other words, Theorem 3 shows how long it takes for the 16 v ienh ← calcaulate localization enhance command
(31);
shape localization achieves an agreement.
However, calculating convergence time requires the initial 17 v iint ← calcaulate interation command (30);
measurement topology of the swarm, which is unavailable in 18 v i ← v ienh+v iint ;
real applications. To overcome this issue, a gradient threshold 19 V i ← get velocity command of robot i’s neighbors.
// Relative localization during shape formation;
based decision method and the hop-count information trans- 20 for j ∈RL i do
mission algorithm [11] are adopted in this paper. Function 21 pˆ ij,0 ← update relative position esetimator
CalUpdRate(·) calculates the variation rate of qˆ over a according to (7)
i,0
period of time δ which can be defined as,
t
qˆ (t)−qˆ (t−δ )
∆qˆ = i,0 i,0 t . (23)
i,0 δ
t
not have unlocalized neighboring robots, the control law is
If ∆qˆ defined as (23) remains above a user-defined
i,0 designed as
threshold convergence rate δ , the hop-count hop is set as 0.
0 i
Otherwise,itmeansthattherobotshavereachedanapproxiate
v =vent+vexp+vint. (26)
agreement, the hop-count hop is set as min(hop ) + 1, i i i i
i j
where j ∈ N (t ) (Algorithm 1, Lines 18-22). The value
i 0
of hop-count increases rapidly when all the robots reach an Otherwise, the control law is designed as
agreement.
v =vint+venh. (27)
i i i
C. Distributed shape formation
The proposed behavior based control strategy consists of Here, vent, vexp and vint stand for the shape-entering com-
i i i
two stages, i.e., the shape localization agreement (Algorithm mand, shape-exploring command and neighbor-interacting
1, line 9-17) and shape formation (Algorithm 2). During the command, respectively.
shape localization agreement stage, if robot i does not have According to the control law designed as (24) and (25),
unlocalizedneighboringrobots,thebehaviorbasedcontrollaw one can see that each robot either makes circular localization-
is designed as enhancingmotionorstopsduringtheshapelocalizationagree-
mentstage.Asaresult,thecollisionavoidancebetweenrobots
v =0. (24)
i can be easily guaranteed by adjusting the initial distance be-
Otherwise, robot i makes circular motion to enhance localiza- tweenthetwoneighboringrobots.Duringtheshapeformation
tion with neighboring robots, i.e., v is designed as stage, the collision avoidance between robots can be achieved
i
by the neighbor-interacting command vint in (26) and (27).
v =venh, (25) i
i i The design of the four control commands are as follows.
where venh is the localization-enhancing command. 1) Shape-entering command: When all the neighboring
i
When all the robots reach an consensus on the shape robots of robot i are localized, robot i turns to form the
localization with the agreement protocol (17). The shape desired shape (Algorithm 2, lines 4-11). The shape-entering
formation stage begins. During this stage, if robot i does commandvent isdesignedtoderiverobotitoitsinterpretation
i10
of the desired shape, as depicted in Fig. 2C. In particular, it with
is designed as (cid:40)
r , r ≤min{D }
′ i i i
r =
vent =κ ξ qˆ i+p ρT,i0 , (28) i min{D i}, Otherwise
i 1 ρT,iqˆ +p
i ρT,i0
and
where κ > 0 is a constant. Recall that qˆ is the real-time
1 i
shapelocalizationestimate(18).Therelativepositionbetween w i =w rrand(0,1)+w 0/i,
the nearest gray cell to robot i is denoted as p . Note that
ρT,i0 where φ is the heading angle of robot i. The desired radius of
p can be determined by qˆ and the gray formation shape
ρT,i0 i the circular motion and the real radius of the circular motion
F . The gray level of the cell is ξ .
gray ρT,i are defined as r and r′, respectively. Data set D ⊆CD de-
2) Shape-exploringcommand: Theshape-explorationcom- i i i i
notestheneighboringrobots’distancemeasurement.Function
mand vexp aims to guide robot i into the desired formation
i rand(0,1) returns a random value from 0 to 1 and w >0 is
shape and explore the unoccupied black region, see Fig. 2C. r
a constant. The random term w is designed to accelerate the
Note that the mean-shift concept is adopted to design vexp as, i
i data collection of the robots whose ID value is large.
(cid:80)
vexp = ρ∈Ms
ienseκ 2ϕ(∥qˆ i+p ρ0∥)(qˆ i+p ρ0)
, (29)
The localization-enhancing command derives robot i to
i (cid:80) ϕ(∥qˆ +p ∥) make circular motion, as shown in Fig. 2C. According to
ρ∈Msense i ρ0
i Theorem 2, this command helps to improve the convergence
where κ 2 >0 is a constant. Function ϕ(z) is defined as, speed of the proposed localization algorithm.
 Compared with our previous work [8], we focus on the
1 z ≤0
1 shape formation control with only local measurements in
ϕ(z)= (1+cosπz) 0<z <1, this paper. To achieve this goal, a localization-enhancing dis-
2
0
z ≥1
tributedcontrolstrategyisproposed.Allthecontrolcommands
are based on the estimated relative position. The relative
where Msense is defined as the set of unoccupied black position estimator (7) with exponential convergence and the
i
cells that are in the sensing radius r of robot i. Note center negotiation estimator (17) with finite time convergence
sense
that Msense can be determined through qˆ and pˆ , for j ∈ play an important role in the close-loop control strategy.
i i ij
N ∩RL . Let ρ∈Msense denote the unoccupied black cells
i i i
and p ρ0 represent the relative position between the ρ cell and VI. SIMULATIONRESULTSANDPERFORMANCEANALYSIS
shape localization. Similarly, p can be determined by the
ρ0 In this section, simulation results are provided to demon-
gray formation shape F .
gray strate the robustness, effectiveness and adaptability of the
3) Neighbor-interacting command: As shown in Fig. 2C,
proposed strategy.
theinteractioncommandvint istoachievecollisionavoidance
i
and velocity alignment between robots. To this end, it is
designed as A. Performance of Relative Localization Method
vint =κ (cid:88) µ(d )pˆ +κ (cid:88) (v −v ), (30) First, we evaluate the performance of the proposed relative
i 3 ij ij 4 i j localization method by a distributed formation scenario.
j∈Ni∩RLi j∈Ni∩RLi
In the case without measurement noise, five robots are
where κ 3 > 0 and κ 4 > 0 are two constants. Here, µ(z) is assigned to achieve formation with the proposed concurrent-
defined as learningbasedrelativelocalizationmethodandthelocalization
(cid:40)r
avoid −1 z ≤r method proposed in [18]. The position of a seed robot is cho-
µ(z)= z avoid . senasp =[0,7]T andthereferenceformationoffsetsforan-
0
0 z >r avoid other four robots are chosen as p∗=[p∗T,p∗T,p∗T,p∗T]T =
1 2 3 4
[−7,−7,0,−7,0,−14,7,−7]T. The measurement topology
For robot i, when calculating the interaction force, only the
is fixed, the connectivity matrix A and informed matrix
localizedneighboringrobotsinsetRL areconsidered.Asfor
i
B are A = [0,1,0,0;1,0,1,0;0,1,0,1;0,0,1,0] and B =
the current neighboring robots which are not in the localized
diag(1,1,0,0). The control input of each robot is simply
neighbor set RL , they are often far away from robot i and
i
chosen as the following P-controller,
the collision risk is low.
4) Localization-enhancing command: During the process v (t)=−κ(qˆ(t)−p∗),
i i i
of shape formation control, when robot i encounters a neigh-
boring robot j which is not localized, i.e., j ∈ N and where κ = 0.02. Parameters adopted in the relative position
i
j ∈/ RL i.Itmakeslocalization-enhancingmotionandcollects estimator are ∆t = 0.01 λ 0 = 0.1, c 1 = 0.005, α = 0.1,
measurement data to achieve localization(Algorithm 2, Lines and the data batch size is chosen as h=60. Due to the fixed
12-18). measurement topology, the robots can move and estimate the
According to the theoretical analysis in Section IV-D, the relative position of the seed robot at the same time. As a
localization-enhancing command v ienh is designed as result,thereisnoneedforparameterδ t andδ 0 inthisscenario.
Parameters adopted in the contrast simulation can be found in
venh =[r′ w cos(φ),r′ w sin(φ)]T, (31)
i i i i i [18]. The trajectories of the robots and the tracking errors11
Fig.4. ComparisonbetweentheproposedrelativelocalizationmethodandthePEbasedonein[18].A.Withoutmeasurementnoise,numericalsimulationresults
withtheproposedmethod.Fromlefttorightarethetrajectoryandtrackingerrorofeachrobot.Here,thetrackingerrorisdefinedasec i(t)=∥pi(t)−p0−p∗ i∥.
B.Withoutmeasurementnoise,numericalsimulationresultswiththemethodin[18].Fromlefttorightarethetrajectoryandtrackingerrorofeachrobot.
C.Withmeasurementnoise,numericalsimulationresultswiththeproposedmethod.Fromlefttorightarethetrajectory,trackingerror,estimationerrorand
velocitynormofeachrobot.Here,theestimationerrorisdefinedasee i(t)=∥pˆi,0(t)−p0−pi∥.D.Withmeasurementnoise,numericalsimulationresults
withthemethodin[18].Fromlefttorightarethetrajectory,trackingerror,estimationerrorandvelocitynormofeachrobot.
are shown in Fig. 4A and 4B. It can be seen that without the when estimating the relative position.
persistentnoise,thetrajectoriesoftherobotsbecomesmoother
in Fig. 4A. B. Effectiveness of the Shape Formation Scheme
Furthermore,toverifythenoiserobustnessoftherelativelo- In the swarm shape formation scenario, a swarm of 50
calizationalgorithm,whiteGaussiannoisewithzeromeanand robots are assigned to form a dart shape. Parameters r
sense
varianceof0.02mareaddedtodistancemeasurement.Besides, and r are chosen as r =4m and r =2.5m. Fur-
neigh sense neigh
the zero mean Gaussian noise with a variance of 0.002m/s is thermore, collision avoidance radius is set as r = 1.8m.
avoid
also added to the odometry measurement. Parameters adopted Parametersadoptedintherelativelocalizationare∆t=0.01s,
in this case are the same with those in the noise-free case. h = 20, λ = 0.1, c = 0.1, α = 0.5, δ = 1s. Parameters
0 1 t
The trajectories of the robots, the norm of tracking errors, the used in the behavior control are n = 2131, r = 0.3m,
cell i
normofestimationerrorsandthenormofrobotvelocitiesare v =1m/s, w =6rad/s, w =4rad/s, δ =0.01, κ =10,
max 0 r 0 1
shown in Fig. 4C and 4D. κ = 15, κ = 25, κ = 2. The process of shape formation
2 3 4
From the simulation results, it can be seen that with the is shown in Fig. 5A. During the shape forming process, the
measurement noise, the performance of both the two local- different states of each robot are represented by three colors.
ization methods deteriorate inevitably. However, compared Redrepresentsthattherobotisinneighborrelativelocalization
with method proposed in [18], the concurrent-learning based state and making relative motion to collect measurement data.
estimation algorithm has better robustness against noisy mea- AccordingtoAlgorithms1and2,onecanseethatthevelocity
surements. This is due to the fact that our method simulta- command of the red robot is v = venh+vint or v = venh.
i i i i i
neously utilizes historical data for information enhancement Magenta represents that the robot is in shape localization12
Fig.5. Shapeformationprocessforaswarmof50robots.A.Snapshotsduringtheprocessofshapeformation.B.Shapelocalizationagreementerrorand
velocityofeachrobot.
agreement state. In this state, according to Algorithm 1, the Besides, to evaluate the performance of the proposed strat-
velocity command is v =0. Blue represents that the robot is egy, statistical simulation results are provided in Fig. 7 and
i
in distributed shape formation state. In this state, according to the following three metrics are considered. Fist, the coverage
Algorithm2,thevelocitycommandisv =vform+vexp+vint. rateistheproportionofthedesiredshapethatareoccupiedby
i i i i
At time instant t=0s, each robot moves and collects mea- robots.Second,theenteringrateevaluatestheproportionofthe
surement data to estimate the relative position to its neighbor robotsthatenterthedesiredshape.Third,theuniformitygives
robots. As some robots complete the relative localization of the distribution uniformity of the robot swarms in the desired
their neighboring robots at t = 1s, the process of the shape shape. The mathematical definitions of the three performance
localization agreement begins. Although some robots are still metrics can be found in our previous work [8], we omit them
in red, they will turn to magenta when they collect sufficient for brief.
data. After the convergence of the seed robot relative position We conduct 20 statistical simulation experiments with the
estimatorqˆ(t)foreachroboti,therobotsturnintodistributed initialpositionsoftherobotswarmsbeingrandomlygenerated.
i
shapeformationcontrolstateundertheactionofthehop-count Fig. 7 shows the minimum, maximum, and average values
algorithmatt=7.6s.Thenormvalueoftheshapelocalization of each metric in statistical simulation results. Specifically,
agreement errors q˜ is shown in Fig. 5B. One can see that the coverage rate and entering rate remain 100% and the
i,0
with the proposed shape localization agreement protocol and uniformity converges to a small value which means the robot
thehop-countbasedend-statedecisionmethod,theagreement swarmsareevenlydistributedinthedesiredshape.Onecansee
errors are less than 0.5cm. During the process of the shape that the convergence time of the algorithm does not increase
formation, some robots may encounter new neighbors and re- significantly with the swarm scale increasing, which verifies
enter the neighbor relative localization state, as show in the the efficiency of the proposed methods.
snapshot of the robots’ states at t = 13s. According to the
norm value of velocity v shown in Fig. 5B, the robot swarms VII. EXPERIMENTRESULTS
i
arestaticatt=40s,whichmeanstheshapeformationprocess Inthissection,bothindoorandoutdoorexperimentalresults
is completed. With the proposed methods, the robot swarms are provided to evaluate the effectiveness of the proposed rel-
form the desired dart shape at t=50s. ative localization method and the distributed shape formation
strategy.
C. Adaptability to swarm scale variants
A. Experiment Setup
Intheadaptabilitytestscenario,robotswarmswithdifferent The relative docking experiment is carried out in an indoor
scales are assigned to form different shapes including the environmentwhiletheshapeformationexperimentsarecarried
capital letter “R”, mathematical sum symbol and the methane out in an outdoor environment. In Fig. 8A, the diagram of
molecule shape. For the robot swarms with scale 25, 50, 100 the experimental system is illustrated. We use a kind of
and 200, random initial positions are generated. Parameters nonholonomic robot turtlebot3 as the experimental platform.
adopted in this scenario are the same with those in Section Themethodfortransformingtheomnidirectionalcontrolcom-
VI-B. The finial position and the trajectory of each robot are mand into control command for nonholonomic robot can be
shown in Fig. 6. One can see that our strategy exhibits stable found in [46]. At the sensor level, each robot is equipped
performance in different shapes and swarm scales. with an IO to measure its own displacement and a UWB13
Fig. 6. Simulation results to evaluate the adaptability of the proposed method given different desired shapes and swarm scale n. From top to bottom are
capitalletter“R”,mathematicalsumsymbolshapeandmethanemoleculeshape.Fromlefttorightarethecasesof25,50,100,200robots.
sensor to measure the real-time distance to the surrounding as p and p (t). In the experiment, the control input of the
0 d
robots. There are n threads running on a ground station, docking robot is simply chosen as the following P-controller,
each thread i receives the real-time measurement information
v (t)=−κ(pˆ (t)−p∗), (32)
sent by robot i. Under the measurement topology defined in d d,0
(14), distributed communication between threads are imitated where pˆ (t) denotes the estimated relative position between
d,0
withrobotoperatingsystem(ROS).Furthermore,theproposed the docking robot and landmark robot. Other parameters are
relative localization and distributed shape formation control κ=0.02, v =0.1m/s, ∆t=0.1, h=20, λ =0.2.
max 0
strategy for robot i are also executed by thread i. The robot In this experiment, NOKOV motion capture system is used
swarms and ground station are in the same WiFi network to record the real position of the landmark robot and the
to maintain the wireless communication between thread i dockingrobot.Thetrajectoryofthedockingrobotisshownin
and robot i. It should be noted that despite the usage of a Fig.8B.Thenormvalueoftheestimationerrorq˜ (t)isshown
d
ground station in the experiments, the algorithm still runs in in Fig. 8B. One can see that when the measurement data is
a distributed manner. collected sufficiently, the estimation error fast converges into
a small set near 0. The norm value ∥e (t)∥ of the tracking
d
B. Relative Docking error is shown in Fig. 8B. The tracking error is around 10
cm. This experiment verifies the effectiveness of the proposed
In this experiment, a landmark robot is randomly placed in
localization algorithm.
theexperimentalfield,asshowninFig.8B.Toverifytheeffec-
tiveness of the proposed relative localization method, another
C. Distributed Shape Formation
robot named as docking robot is tasked to precisely move to
the position p∗=[0.5,−0.5]T relative to the landmark robot. Intheoutdoorexperiments,aswarmconsistedof6turtlebot
Denote the position of the landmark robot and docking robot robots are assigned to form an “arrow” shape and a capital14
Fig.7. Performanceindicatorsforstatisticalsimulation.Fromtoptobottomarecoveragerate,enteringrateanddistributionuniformityoftherobotswarms
duringtheprocessofshapeformation.Fromlefttorightarethecaseofcapitalletter“R”,mathematicalsumsymbolshapeandmethanemoleculeshape.
letter“T”inanoutdoorenvironmentrangeof8×13.5m2.The formation algorithm proposed in this paper.
specific settings and parameter descriptions of the experiment
are as follows. The nominal measurement range of the sensor VIII. CONCLUSION
is 500m, and the nominal ranging accuracy is 10cm. To
This paper has addressed the relative localization based
simulaterobotsthatcanonlyobtainlocalinformation,wearti-
shape formation problem for massive robot swarms. The
ficiallylimitthemeasurementrangeasr =6m.Toensure
sense motivation stems from applications such as object transport
stable communication between the two robots during relative
and building firefighting, where external localization infras-
positioning, r is chosen as r = 4m. Furthermore,
neigh neigh tructures are unavailable. First, we proposed a concurrent-
collision avoidance is triggered if the inter-robot distance is
learning based relative position estimator, enabling inter-robot
less than r = 2.5m. Parameters adopted in the relative
avoid relative localization without the necessity of the well-known
localization and shape agreement are ∆t = 0.02s, h = 100,
PEcondition.Second,toachievetheshapelocalizationagree-
λ = 0.2, c = 0.1, α = 0.5, δ = 1s. Parameters used in
0 1 t ment across the entire swarms in the absense of global coor-
the behavior based control are r = 0.5m, v = 0.15m/s,
i max dinates, we proposed a finite-time consensus based agreement
w = 0.32rad/s, w = 0.05rad/s, δ = 0.02, κ = 10,
0 r 0 1 protocol. Third, we devised a novel behavior-based shape
κ =15, κ =25, κ =2.
2 3 4 formationcontrolstrategythatcanbetterexploitsthehistorical
In this experiment, the cell number of the two graphical bi- measurement information to enhance the observability of
nary graph shapes are n cell,arrow =4209 and n cell,T =4266. relative localization among robots. This control strategy has a
one of the six robots is randomly selected as the seed robot concise structure and can be implemented on robotic systems
and placed in the center of the experimental site. As shown easily. Extensive simulation results and comparisons with
in the Fig. 8A, each robot is equipped with a LED spotlight, state-of-the-art relative localization method were presented.
and its motion trajectory is represented by the blue trajectory Additionally, outdoor experiments involving up to six robots
obtained from delay photography. The whole process of the were conducted to verify the robustness, effectiveness and
shape formation is shown in Fig. 8C, the algorithm begins at adaptability of the proposed methods.
t=0s, all the robots begin to move. At t=24s, robots move
and collect measurement data. After the shape localization
APPENDIXA
agreement, robots move to form the desired shape at t=48s.
PRELIMINARYLEMMAS
During the shape formation process, some robots may also
To establish the main results, the following lemmas are
localize the new neighboring robots. At t = 72s, the shape
useful.
formation process is almost complete. The final position of
Lemma1:[47]IftheundirectedgraphG isconnectedandat
each robot at t = 120s is represented by a purple highlight
leastoneagenthasdirectaccesstotheseedrobot.Thematrix
while the trajectory of all the robots are also shown as the
(L+B) is nonsingular.
blue curves in Fig. 8C.
Lemma 2: [48] For p∈R, q ∈R and 0<α<1, if p≥q,
Infact,theactualexperimentalfieldisruggedandtherobot
the following inequality holds:
does not have shock absorption function, which may cause
additional measurement error for the IO. Under these adverse
|p−q|α ≥|p|α−2|q|α.
conditions, the swarm consisted of 6 robots can still form the
Furthermore, if p≥q ≥0, the following inequality holds:
specified shape well. It proves the effectiveness, reliability,
and robustness of the relative localization based swarm shape |p−q|α ≤2|p|α−|q|α.15
Fig. 8. Indoor and outdoor experiment results A. Diagram of the experimental system. B. Indoor relative docking experiment results. Here, the estimation
error q˜ d,0 and tracking error e d are defined as q˜ d,0(t)=pˆ d,0(t)−(p0−p d(t)) and e d(t)=p d(t)−p0−p∗. C. Outdoor shape formation experiment
withaswarmconsistedof6turtlebot3robots.
Lemma 3: [48] For any vector x=[x ,...,x ]T ∈Rn, the Case 3: p <0, p ≥q , according to Lemma 2, it has
1 n i i i
p-norm of x is defined as ∥x∥ p =
((cid:80)n
i=1|x
i|p)p1
. For the δ
i
=|p i|||q i|−|p i||α ≤|p i|(2|q i|α−|p i|α)
constants p and q, if p ≥ q ≥ 1, the following inequality
=−|p |(|p |α−2|q |α).
holds: i i i
Case 4: p < 0, p < q , consider the following two sub-
i i i
∥x∥ p ≤∥x∥ q
≤nq1− p1
∥x∥ p. cases:
(i). When q <0 according to Lemma 2, it has
Lemma 4: For p ∈ Rn, q ∈ Rn and 0 < α < 1, the i
δ =−|p |||p |−|q ||α ≤−|p |(|p |α−2|q |α).
following inequality holds: i i i i i i i
−pTsig(p−q)α ≤− 1+α α∥p∥1+α+ 1+α α21+ αα n2(1 α− +α 1)∥q∥1 1+α. (ii). δW =hen −q |pi ≥ |||p0, |o +ne |qc |a |n
α
s ≤ee −t |h pat
|(|p |α−2|q |α).
i i i i i i i
Proof: Let p = [p ,...,p ]T and q = [q ,...,q ]T. As a result, the following inequality holds
1 n 1 n
Obviously, it has −p sig(p −q )≤−|p |(|p |α−2|q |α). (34)
i i i i i i
n
−pTsig(p−q)α =(cid:88) −p isig(p i−q i)α. (33) A 1c +co 1rd =ing 1.to TaY ko eun lg =’s αin +eq 1u ,al ii tty ham sn≤ m ll +n kk , l,k >0 and
i=1 l k
1 α
Define δ
i
≜ −p isig(p
i
− q i)α for brief, the following |p i|(2|q i|α)≤ 1+α|p i|1+α+ 1+α21+ αα |q i|1+α. (35)
different situations will be discussed,
Substituting (34), (35) int (33), it has
Case 1: p ≥0, p ≥q , according to Lemma 2, it has
i i i
n n
δ
i
=−|p i||p i−q i|α ≤−|p i|(|p i|α−2|q i|α). −pTsig(p−q)α ≤− 1+α α(cid:88) |p i|1+α+ 1+α α21+ αα (cid:88) |q i|1+α
i=1 i=1
α α
Case 2: p i ≥0, p i <q i, according to Lemma 2, it has ≤− 1+α∥p∥1 1+ +α α+ 1+α21+ αα ∥q∥1 1+ +α α
δ i =|p i||q i−p i|α ≤|p i|(2|q i|α−|p i|α) ≤− α ∥p∥1+α+ α 21+ αα n2(1 α− +α 1)∥q∥1+α.
1+α 1+α
=−|p |(|p |α−2|q |α).
i i i (36)16
The last inequality in (36) is according to Lemma 3. With the learning rate η (8), (42) can be simplified as
Lemma 5: [49] Consider the system x˙ = f(x,u). Suppose −λ (S )2
that there exist continuous function V(t) : [0,∞) → [0,∞), ∆V a ≤ (λ (U (t )m )(i tn )+ij λ (S ))2∥p˜ ij,0(t k)∥2.
max ij k k max ij
scalars K >0, 0<α<1 and 0<β <∞ such that
(43)
V˙(x)≤−KV(x)α+β. OnecanseethatformatrixU (t )=u (t )u (t )T ∈R2
ij k ij k ij k
in (43), the maximum eigenvalue satisfies λ (U (t )) =
Then the state x of the closed-loop system converges into the max ij k
(cid:110) (cid:111) ∥u (t )∥≤2v ∆t. Then (43) can be simplified as
set x ∈ V(x)α ≤ β in finite time t∗, where t∗ is ij k max
defined as (1−γ)K
V (t
)≤(cid:18)
1−
λ min(S ij)2 (cid:19)k
V (t ).
V(x(t ))(1−α) a k (2v max∆t+λ max(S ij))2 a 0
t∗ = 0 .
As a result, the relative localization error p˜ satisfies
Kγ(1−α) ij,0
Lemma6:ForsymmetricmatricesM inthefollowingform,
(cid:32)(cid:115)
(cid:18) λ (S )2
(cid:19)(cid:33)k
∥p˜ (t )∥≤ 1− min ij ∥p˜ (t )∥,
M
=(cid:20) a
1
a 2(cid:21)
,
ij,0 k (2v max∆t+λ max(S ij))2 ij,0 0
a a
2 3 which means that p˜ is global exponentially stable with the
ij,0
where a >0, a >0 and a ∈R. Then the maximum value convergence rate a defined as (10).
1 3 2
of the λmin(M) = min{a1,a3}, if and only if a =0.
λmin(M) max{a1,a3} 2 APPENDIXC
Proof: It is easy to calculate that
PROOFOFTHEOREM2
(cid:112)
λ (M)=
a 1+a 3− (a 1−a 3)2+4a2
2, (37a)
Define the recorded relative displacement data u ij(t c,m)≜
min 2 [u (t ),u (t )]T, as a result, it has
x,ij c,m y,ij c,m
(cid:112)
a +a + (a −a )2+4a2 (cid:20) (cid:21)
λ max(M)= 1 3 21 3 2. (37b) S
ij
= s s1 s s3 , (44)
3 2
Accordingto(37),onecanseethat λmin(M) isamonotonically where s , s and s in (44) are defined as s =
decreasing function about a2 2, λ λm mλ i in nm ( (M Min( ) )M) take the maximum (cid:80) (cid:80)mς ς0 0i i=j j1u ux1 ,ij( (t t2 c,m) )2 u, s 2 (3
t
= ).(cid:80) Amς c0 ci =j o1 rdu iy n,i gj( tt oc,m T) h2 eoa ren md s 11 3 an=
d
value min{a1,a3} at a =0. m=1 x,ij c,m y,ij c,m
max{a1,a3} 2 Lemma 6, the maximum converge rate of the proposed esti-
mator can be achieved if and only if s =0 and s =s ̸=0.
3 1 2
APPENDIXB
When robot i and robot j perform the designed motion (11),
PROOFOFTHEOREM1
the relative velocity between them is v (t)=[(r cos(w t)−
ij i i
The dynamics of the relative localization error is r cos(w t)),(r sin(w t)−r sin(w t))]T.
j j i i j j
Beforegivingthemainproof,wefirstpresentseveraluseful
p˜ (t )=(I−ηU (t )−ηS )p˜ (t ). (38)
ij,0 k+1 ij k ij ij,0 k equations. With condition (12) is satisfied, one can see that
Choose a Lyapunov candidate as t c,m = 2 ςπ 0(m−1). Recall the angular velocity w i = 1/i of
robot i, then it has
V (t )=p˜T (t )p˜ (t ). (39)
a k ij,0 k ij,0 k (cid:88)ς0ij
Define ∆V
a
≜ V a(t k+1)−V a(t k), substituting (38) in (39). 2 sin(w it c,m)sin(w jt c,m)
Then it has m=1
∆V a =p˜T ij,0(t k)(I−ηU ij(t k)−ηS ij)2p˜ ij,0(t k) (40) =
(cid:88)ς0ij
(cos(w it c,m−w jt c,m)−cos(w it c,m+w jt c,m))
−p˜T (t )p˜ (t ) m=1
ij,0 k ij,0 k
=p˜T (t )(cid:0) −2ηS +2η2S U (t )+η2S2(cid:1) p˜ (t ) ς0(cid:88)ij−1(cid:18) (cid:18) 2π(i−j)m(cid:19) (cid:18) 2π(i+j)m(cid:19)(cid:19)
ij,0 k ij ij ij k ij ij,0 k = cos −cos .
ς ij ς ij
−p˜T ij,0(t k)ηU ij(t k)(2I−ηU ij(t k))p˜ ij,0(t k). m=0 0 0
(45)
It can be checked that
It can be seen that (45) is equal to zero. Similarly, one can
λ (U (t ))∥p˜ (t )∥≤∥U p˜ (t )∥, (41a) check that the following equation also holds when condition
min ij k ij,0 k ij ij,0 k
(12) is satisfied,
λ (U (t ))∥p˜ (t )∥≥∥U p˜ (t )∥, (41b)
max ij k ij,0 k ij ij,0 k
λ (S )∥p˜ (t )∥≤∥S p˜ (t )∥, (41c)
(cid:88)ς0ij
min ij ij,0 k ij ij,0 k f(w t )f(w t )=0,f ∈{sin,cos} (46a)
i c,m j c,m
λ (S )∥p˜ (t )∥≥∥S p˜ (t )∥. (41d)
max ij ij,0 k ij ij,0 k m=1
Substituting (41) in (40), it has
(cid:88)ς0ij
sin(w t )cos(w t )=0,w ,w ∈{w ,w } (46b)
1 c,m 2 c,m 1 2 i j
∆V a ≤(cid:0) −2ηλ min(S ij)+2η2λ max(U ij(t k))λ max(S ij) (42) m=1
+η2λ (S )2(cid:1) ∥p˜ (t )∥2 (cid:88)ς0ij (cid:88)M
max ij ij,0 k sin(w t )2 = cos(w t )2 ̸=0. (46c)
i c,m i c,m
+η2λ (U (t ))2∥p˜ (t )∥2.
max ij k ij,0 k m=1 m=117
Besides, consider the fact that According to lemma 1, λ (L + B) > 0. According to
min
(48), the derivative of V is derived as
(cid:18) (cid:19) (cid:18) (cid:18) (cid:19)(cid:19) l
w h∆t h∆t
u x,i(t c,m)=2r isin i 2 cos w i 2 +t c,m V˙ l =q˜T(L+B)q˜˙
=s icos(w it c,m)−c isin(w it c,m), (47a)
=−c
(cid:88)n
χTsig(χ −δ )α, (51)
u (t )=s sin(w t )+c cos(w t ), (47b) 1 i i i
y,i c,m i i c,m i i c,m i=1
where s = r sin(w h∆t) and c = 1 − r cos(w h∆t). where δi≜(cid:80)n a p˜ (t)+µ p˜ (t)∈R2. According to
i i i i i i j=1 ij ij,0 i i0,0
According to (46) and (47), it can be checked that Lemma 4, (51) can be simplified as
n (cid:18) (cid:19)
s
3
=
(cid:88)ς0ij
(s icos(w it c,m)−c isin(w it c,m)−s jcos(w jt c,m)
V˙
l
≤(cid:88) − 1+α α∥χ i∥1+α+ 1+α α22α1 (+ α3 +α 1)∥δ i∥1+α .
i=1
m=1 (52)
+c sin(w t ))(s sin(w t )+c cos(w t )
j j c,m i i c,m i i c,m
According to Eq. (50), it has
−s sin(w t )−c cos(w t ))=0,
j j c,m j j c,m
s 1 =
(cid:88)ς0ij
(s icos(w it c,m)−c isin(w it c,m)−s jcos(w jt c,m) V˙ l ≤− 1+α
α(cid:32) (cid:88)n
∥χ
i∥2(cid:33)1+ 2α
+ 1+α α22α1 (+ α3 +α 1)
(cid:88)n
∥δ i∥1+α
m=1 i=1 i=1
+c jsin(w jt c,m))2 =
(cid:88)ς0ij
(s isin(w it c,m)+c icos(w it c,m) ≤−
1+α
αλ
min(L+B)1+ 2α
V
l1+ 2α
−s jsin(w jt c,m)−c
jcm o= s(1
w jt c,m))2 =s
2
̸=0, +
1+α α22α1 (+ α3 +α
1)
(cid:32) (cid:88)n
∥δ
i∥1+α(cid:33)
.
i=1
which means the proposed observer (7) converges the fastest
According to the definition of δ and Theorem 1, one can
i
withtherecordeddatameasurementssatisfyingcondition(12).
see that ∥δ ∥ is bounded for all t > 0. As a result, V
i l
is bounded. Furthermore, for agent i, p˜ will converge to
ij,0
satisfy∥p˜ ∥≤εnearzeroinafinitetimet ,whereε>0
APPENDIXD ij,0 a,ij
is a constant and t can be given as
PROOFOFTHEOREM3 a,ij
ln(ε∥p˜ (t )∥−1)
For each robot j in robot i’s initial neighbor set N (t ), t = ij,0 0 ∆t. (53)
i 0 a,ij ln(λ )
accordingtothedefinitionoftheneighboringrobot,theinitial ij
distance d (t ) must satisfy d (t ) < r . When robot i Besides, with the condition that the measurement data
ij 0 ij 0 neigh
makes circular motion with radius r , the maximum distance matrix S is full rank for each pair (i,j) ∈ G(t ), λ is
i ij 0 ij
d between them satisfies d ≤ d (t )+r +r < positive and t defined in (53) is finite. As a result, there
ij,max ij,max ij 0 i j a,ij
r . Robot j is still a neighbor to robot i. As a result, the exist a tmax = max{t ,j ∈ N } such that when t > tmax,
sense a,i a,ij i a,i
initial neighbor set N (t ) remains robot i’s neighbor. the following inequality holds:
i 0
Foreachrobotiwhichisinthesenserangeoftheseedrobot
δ ≤|N |ε,
initially, i.e. µ =1, recall the direct estimation error p˜ = i i
i i0,0
pˆ i0,0−p i0(t 0) and the agreement error q˜ i,0 = qˆ i,0−p i0(t 0). where |N i| denotes the initial neighbor number of robot i. As
As a result, it has a result, there also exist a constant t = max{tmax,i ∈ V}
a a,i
definedas(22)suchthatwhent>t ,thefollowinginequality
(cid:16)(cid:88)n a
q˜˙ (t)=−c sig a (q˜ (t)−q˜ (t)−p˜ (t)) holds:
i,0 1 ij i,0 j,0 ij,0
j=1 n n
(cid:88) (cid:88)
(cid:17)α ∥δ ∥1+α ≤ (|N |ε)1+α. (54)
+µ (q˜ (t)−p˜ (t)) . (48) i i
i i,0 i0,0
i=1 i=1
Defineχ =(cid:80)n a (q˜ (t)−q˜ (t)+µ q˜ (t))∈R2and Note that the right side of (54) is a constant. According to
i j=1 ij i,0 j,0 i i,0 Lemma 5, V will converge into
χ=[χ ,...,χ ]T, then it has l
1 N
(cid:88)n
V ≤
1+α α22α1 (+ α3 +α 1) (cid:0)(cid:80)n i=1(|N i|ε)1+α(cid:1)
, (55)
χ2
i
=q˜T(L+B)T(L+B)q˜≤λ min(L+B)q˜T(L+B)q˜. l (1−γ) 1+α αλ min(L+B)
i=1
(49) for t > t + t , where t is defined as (21). According to
a l l
(55) and the definition (19) of V , one can get that the global
l
Substituting (49) in (19), one can see that estimation error q˜will converge into
1 (cid:88)n ∥q˜∥≤b,
V ≤ χ2. (50)
l λ (L+B) i
min i=1 where b is defined in (20).18
REFERENCES vol.118,p.109004,2020.
[25] Y. Chen and T. Kolokolnikov, “A minimal model of predator–swarm
[1] J.Alonso-Mora,A.Breitenmoser,M.Rufli,R.Siegwart,andP.Beard- interactions,”J.R.Soc.Interface,vol.11,no.94,p.20131208,2014.
sley,“Imageandanimationdisplaywithmultiplemobilerobots,”Int.J. [26] M. J. Krieger, J.-B. Billeter, and L. Keller, “Ant-like task allocation
Robot.Res.,vol.31,no.6,pp.753–773,2012. andrecruitmentincooperativerobots,”Nature,vol.406,no.6799,pp.
[2] M. Alhafnawi, S. Hauert, and P. O’Dowd, “Self-organised saliency 992–995,2000.
detectionandrepresentationinrobotswarms,”IEEERobot.Autom.Lett., [27] A.Gelblum,I.Pinkoviezky,E.Fonio,A.Ghosh,N.Gov,andO.Fein-
vol.6,no.2,pp.1487–1494,2021. erman,“Antgroupsoptimallyamplifytheeffectoftransientlyinformed
[3] L.Yang,J.Jiang,X.Gao,Q.Wang,Q.Dou,andL.Zhang,“Autonomous individuals,”Nat.Commun.,vol.6,no.1,p.7729,2015.
environment-adaptive microrobot swarm navigation enabled by deep [28] W.Ho¨nig,J.A.Preiss,T.S.Kumar,G.S.Sukhatme,andN.Ayanian,
learning-basedreal-timedistributionplanning,”Nat.Mach.Intell.,vol.4, “Trajectoryplanningforquadrotorswarms,”IEEETrans.Robot.,vol.34,
no.5,pp.480–493,2022. no.4,pp.856–869,2018.
[4] S.P.HouandC.C.Cheah,“Dynamiccompoundshapecontrolofrobot [29] J. Van Den Berg, S. J. Guy, M. Lin, and D. Manocha, “Reciprocal
swarm,” IET Control Theory Appl., vol. 6, no. 3, pp. 454–460, Feb. n-body collision avoidance,” in Robotics Research. Berlin, Germany:
2012. Speinger-Verlag. Springer,2011,pp.3–19.
[5] W. Chu, W. Zhang, H. Zhao, Z. Jin, and H. Mei, “Massive shape [30] X.Zhou,X.Wen,Z.Wang,Y.Gao,H.Li,Q.Wang,T.Yang,H.Lu,
formationingridenvironments,”IEEETrans.Auto.Sci.Eng.,vol.20, Y.Cao,C.Xuetal.,“Swarmofmicroflyingrobotsinthewild,”Sci.
no.3,pp.1745–1759,Jul.2023. Robot.,vol.7,no.66,p.eabm5954,2022.
[6] M. Rubenstein, A. Cornejo, and R. Nagpal, “Programmable self- [31] I. Slavkov, D. Carrillo-Zapata, N. Carranza, X. Diego, F. Jansson,
assemblyinathousand-robotswarm,”Science,vol.345,no.6198,pp. J.Kaandorp,S.Hauert,andJ.Sharpe,“Morphogenesisinrobotswarms,”
795–799,2014. Sci.Robot.,vol.3,no.25,p.eaau9178,2018.
[7] M. Gauci, R. Nagpal, and M. Rubenstein, “Programmable self- [32] N. Patwari, J. N. Ash, S. Kyperountas, A. O. Hero, R. L. Moses, and
disassembly for shape formation in large-scale robot collectives,” in N.S.Correal,“Locatingthenodes:cooperativelocalizationinwireless
Proc.Adv.Robot. Berlin,Germany:Springer,2018,pp.573–586. sensornetworks,”IEEESignalProcess.Mag.,vol.22,no.4,pp.54–69,
[8] G.Sun,R.Zhou,Z.Ma,Y.Li,R.Groß,Z.Chen,andS.Zhao,“Mean- 2005.
shift exploration in shape assembly of robot swarms,” Nat. Commun., [33] N. H. Nguyen and K. Dog˘anc¸ay, “Optimal geometry analysis for
vol.14,no.1,p.3476,Jun.2023. multistatictoalocalization,”IEEETrans.SignalProcess.,vol.64,no.16,
[9] Y. Zhang, R. Zhou, X. Li, and G. Sun, “Mean-shift shape formation pp.4180–4193,2016.
ofmulti-robotsystemswithouttargetassignment,”IEEERobot.Autom. [34] J. Li, Z. Ning, S. He, C.-H. Lee, and S. Zhao, “Three-dimensional
Lett.,vol.9,no.2,pp.1772–1779,Feb.2024. bearing-only target following via observability-enhanced helical guid-
[10] D.Morgan,G.P.Subramanian,S.-J.Chung,andF.Y.Hadaegh,“Swarm ance,”IEEETrans.Robot.,vol.39,no.2,pp.1509–1526,2022.
assignmentandtrajectoryoptimizationusingvariable-swarm,distributed [35] Z. Ning, Y. Zhang, J. Li, Z. Chen, and S. Zhao, “A bearing-angle
auctionassignmentandsequentialconvexprogramming,”Int.J.Robot. approachforunknowntargetmotionanalysisbasedonvisualmeasure-
Res.,vol.35,no.10,pp.1261–1285,Feb.2016. ments,”Int.J.Robot.Res.,2024,doi:10.1177/02783649241229172.
[11] H.WangandM.Rubenstein,“Shapeformationinhomogeneousswarms [36] S. Gu¨ler, M. Abdelkader, and J. S. Shamma, “Peer-to-peer relative
usinglocaltaskswapping,”IEEETrans.Robot.,vol.36,no.3,pp.597– localization of aerial robots with ultrawideband sensors,” IEEE Trans.
612,Feb.2020. ControlSyst.Technol.,vol.29,no.5,pp.1981–1996,2020.
[12] T.-M.Nguyen,Z.Qiu,T.H.Nguyen,M.Cao,andL.Xie,“Persistently [37] C.C.Cossette,M.A.Shalaby,D.Saussie´,J.LeNy,andJ.R.Forbes,
excitedadaptiverelativelocalizationandtime-varyingformationofrobot “Optimalmulti-robotformationsforrelativeposeestimationusingrange
swarms,”IEEETrans.Robot.,vol.36,no.2,pp.553–560,2019. measurements,”inProc.IEEE/RSJInt.Conf.Intell.RobotsSyst.(IROS).
[13] J. Shen, W. Wang, C. Wen, and J. Huang, “Distance-based adaptive IEEE,2022,pp.2431–2437.
formationcontrolwithguaranteedcollisionavoidanceandconnectivity [38] J.LiuandG.Hu,“Relativelocalizationestimationformultiplerobots
maintenance,”IEEETrans.ControlNetw.Syst.,2023. viatherotatingultra-widebandtag,”IEEERobot.Autom.Lett.,2023.
[14] F. Mehdifar, C. P. Bechlioulis, F. Hashemzadeh, and M. Baradarannia, [39] F.Pratissoli,A.Reina,Y.KaszubowskiLopes,C.Pinciroli,G.Miyauchi,
“Prescribedperformancedistance-basedformationcontrolofmulti-agent L.Sabattini,andR.Groß,“Coherentmovementoferror-proneindivid-
systems,”Automatica,vol.119,p.109086,2020. uals through mechanical coupling,” Nat. Commun., vol. 14, no. 1, p.
[15] S. Zhao and D. Zelazo, “Localizability and distributed protocols for 4063,2023.
bearing-basednetworklocalizationinarbitrarydimensions,”Automatica, [40] M. O’Connell, G. Shi, X. Shi, K. Azizzadenesheli, A. Anandkumar,
vol.69,pp.334–341,2016. Y. Yue, and S.-J. Chung, “Neural-fly enables rapid learning for agile
[16] S. Zhao, Z.Li, and Z. Ding, “Bearing-onlyformation tracking control flightinstrongwinds,”Sci.Robot.,vol.7,no.66,p.eabm6597,2022.
of multiagent systems,” IEEE Trans. Autom. Control, vol. 64, no. 11, [41] G. Chowdhary and E. Johnson, “Concurrent learning for convergence
pp.4541–4554,2019. in adaptive control without persistency of excitation,” in in Proc. 49th
[17] Y.LiuandZ.Liu,“Distributedadaptiveformationcontrolofmulti-agent IEEEConf.Decis.Control(CDC). IEEE,2010,pp.3674–3679.
systems with measurement noises,” Automatica, vol. 150, p. 110857, [42] O. Djaneye-Boundjou and R. Ordo´n˜ez, “Gradient-based discrete-time
2023. concurrentlearningforstandalonefunctionapproximation,”IEEETrans.
[18] K.Cao,Z.Qiu,andL.Xie,“Relativedockingandformationcontrolvia Autom.Control,vol.65,no.2,pp.749–756,2019.
range and odometry measurements,” IEEE Trans. Control Netw. Syst., [43] J. Long, W. Wang, C. Wen, J. Huang, and J. Lu¨, “Output feedback
vol.7,no.2,pp.912–922,2019. based adaptive consensus tracking for uncertain heterogeneous multi-
[19] Z. Tang, R. Cunha, T. Hamel, and C. Silvestre, “Relaxed bearing agent systems with event-triggered communication,” Automatica, vol.
rigidityandbearingformationcontrolunderpersistenceofexcitation,” 136,p.110049,Feb2022.
Automatica,vol.141,p.110289,2022. [44] W. Wang, J. Long, J. Zhou, J. Huang, and C. Wen, “Adaptive back-
[20] T.H.NguyenandL.Xie,“Relativetransformationestimationbasedon steppingbasedconsensustrackingofuncertainnonlinearsystemswith
fusionofodometryanduwbrangingdata,”IEEETrans.Robot.,vol.39, event-triggeredcommunication,”Automatica,vol.133,p.109841,2021.
no.4,pp.2861–2877,2023. [45] K. Liu, P. Duan, Z. Duan, H. Cai, and J. Lu¨, “Leader-following
[21] H. Xu, Y. Zhang, B. Zhou, L. Wang, X. Yao, G. Meng, and consensus of multi-agent systems with switching networks and event-
S.Shen,“Omni-swarm:Adecentralizedomnidirectionalvisual–inertial– triggered control,” IEEE Trans. Circuits Syst. I-Regul. Pap., vol. 65,
uwb state estimation system for aerial swarms,” IEEE Trans. Robot., no.5,pp.1696–1706,Oct2017.
vol.38,no.6,pp.3374–3394,2022. [46] S.Zhao,D.V.Dimarogonas,Z.Sun,andD.Bauso,“Ageneralapproach
[22] W.Wang,J.Huang,C.Wen,andH.Fan,“Distributedadaptivecontrol tocoordinationcontrolofmobileagentswithmotionconstraints,”IEEE
for consensus tracking with application to formation control of non- Trans.Autom.Control,vol.63,no.5,pp.1509–1516,2017.
holonomic mobile robots,” Automatica, vol. 50, no. 4, pp. 1254–1263, [47] N. Biggs, Algebraic graph theory. Cambridge, U.K.: Cambridge
2014. universitypress,1993.
[23] K.Ze,W.Wang,K.Liu,andJ.Lu¨,“Time-varyingformationplanning [48] E.F.BeckenbachandR.Bellman,Inequalities. NewYork,NY,USA:
anddistributedcontrolformultipleuavsinclutterenvironment,”IEEE SpringerScience&BusinessMedia,1961.
Trans.Ind.Electron.,2023,doi:10.1109/TIE.2023.3335448. [49] Z. Zhu, Y. Xia, and M. Fu, “Attitude stabilization of rigid spacecraft
[24] Y.Xu,S.Zhao,D.Luo,andY.You,“Affineformationmaneuvercontrol withfinite-timeconvergence,”Int.J.RobustNonlinearControl,vol.21,
ofhigh-ordermulti-agentsystemsoverdirectednetworks,”Automatica, no.6,pp.686–702,2011.19
JinhuLu¨ (Fellow,IEEE)receivedthePh.D.degree Wei Wang (Senior Member, IEEE) received the
inappliedmathematicsfromtheAcademyofMath- B.Eng.degreeinelectricalengineeringandautoma-
ematics and Systems Science, Chinese Academy tion from Beihang University, Beijing, China, in
of Sciences, Beijing, China, in 2002. He was a 2005,theM.Sc.degreeinradiofrequencycommuni-
Professor with RMIT University, Melbourne, VIC, cationsystemsfromtheUniversityofSouthampton,
Australia, and a Visiting Fellow with Princeton Southampton,U.K.,in2006,andthePh.Ddegreein
University,Princeton,NJ,USA.Currently,heisthe controlandinstrumentationfromNanyangTechno-
Dean with the School of Automation Science and logicalUniversity,Singapore,in2011.
ElectricalEngineering,BeihangUniversity,Beijing, From January 2012 to June 2015, she was a
China. He is a Chief Scientist of National Key Lecturer with the Department of Automation, Ts-
ResearchandDevelopmentProgramofChinaanda inghuaUniversity,Beijing.SinceJuly2015,shehas
LeadingScientistofInnovativeResearchGroupsofNationalNaturalScience been with the School of Automation Science and Electrical Engineering,
FoundationofChina.Hiscurrentresearchinterestsincludecomplexnetworks, Beihang University, where she is currently a Full Professor. She has been
networkdynamicsandcooperationcontrol. serving as the Principle Investigator for several research projects, including
Dr. Lu¨ was a recipient of the prestigious Ho Leung Ho Lee Foundation the National Natural Science Fund for Excellent Young Scientists (China)
Awardin2015,theStateNaturalScienceAwardthreetimesfromtheChinese in 2021-2023. Her research interests include intelligent control of uncertain
Government in 2008, 2012, and 2016, respectively, the Australian Research systems,distributedcooperativecontrolofmultiagentsystems,securecontrol
CouncilFutureFellowshipsAwardin2009,theNationalNaturalScienceFund ofcyber-physicalsystems,fault-tolerantcontrol,androboticcontrolsystems.
for Distinguished Young Scholars Award, and the Highly Cited Researcher Prof. Wang received the Zhang Si-Ying Outstanding Youth Paper Award
Awardinengineeringfrom2014to2019.Heis/wasanEditorinvariousranks in the 25th Chinese Control and Decision Conference in 2013 and the First
for15SCIjournals,includingtheCo-Editor-in-ChiefofIEEETII.Heserved PrizeofScienceandTechnologyProgressAwardbytheChineseInstituteof
as a member in the Fellows Evaluating Committee of the IEEE CASS, the CommandandControlin2018.ShehasbeenservingasAssociateEditorsfor
IEEECIS,andtheIEEEIES.HewastheGeneralCo-ChairofIECON2017. IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS, IEEE OPEN
HeistheFellowofIEEEandCAA. JOURNALOFCIRCUITSANDSYSTEMS,JournalofControlandDecision,
andJournalofCommandandControl.
GuibinSunreceivedtheB.Eng.degreeinautoma-
Kunrui Ze receivedtheB.E.degreeinautomation tionfromInnerMongoliaUniversity,Hothot,China,
from Shenyuan Honors College of Beihang Uni- in 2017, and the Ph.D. degree in control science
versity, Beijing, China, in 2022. He is currently and engineering from Beihang University, Beijing,
pursuing the Ph.D. degree in pattern recognition China,in2022.HeiscurrentlyaPostdoctoralFellow
and intelligent system with the School of Automa- withtheSchoolofAutomationScienceandElectri-
tion Science and Electrical Engineering, Beihang cal Engineering, Beihang University. His research
University, Beijing. His research interests include interests include the swarm robotics, coordinated
cooperativelocalization,adaptivecontrolandswarm control,andmultirobotsystems.
robotics.
Shuoyu Yue is currently an undergraduate senior
studentinMechanicalEngineeringattheSchoolof
GeneralEngineeringofBeihangUniversity,Beijing,
China. His research interests include the control,
planning, and optimization of large-scale systems
by developing control strategies and intelligent al-
gorithms.
Kexin Liu received the M.Sc. degree in control
scienceandengineeringfromShandongUniversity,
Jinan, China in 2013, and Ph. D degree in System
TheoryfromAcademyofMathematicsandSystems
Science, Chinese Academy of Sciences, Beijing,
China in 2016, respectively. From 2016 to 2018,
he was a postdoctoral fellow in Peking University,
Beijing, China. Currently, he is an associated pro-
fessor with the School of Automation Science and
ElectricalEngineering,BeihangUniversity,Beijing,
China. His research interests include multi-agent
systemsandcomplexnetworks.