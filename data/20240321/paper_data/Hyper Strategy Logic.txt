Hyper Strategy Logic
RavenBeutner BerndFinkbeiner
CISPAHelmholtzCenterfor CISPAHelmholtzCenterfor
InformationSecurity InformationSecurity
Germany Germany
ABSTRACT onepathreachingagoalfasterthanallotherpaths;(2)information-
Strategylogic(SL)isapowerfultemporallogicthatenablesstrategic flowpolicies,e.g.,requiringthatanytwopathswithidenticallow-
reasoninginmulti-agentsystems.SLsupportsexplicit(first-order) securityinputshouldproducethesamelow-securityoutput[42];
quantificationoverstrategiesandprovidesalogicalframeworkto and(3)robustness,i.e.,statingthatsimilarinputsshouldleadto
expressmanyimportantpropertiessuchasNashequilibria,domi- similaroutputs[25].
nantstrategies,etc.WhileinSLthesamestrategycanbeusedin SuchhyperpropertiesarealsoofvitalimportanceinMASs.For
multiplestrategyprofiles,eachsuchprofileisevaluatedw.r.t.apath- example,wemightaskifsomeagenthasastrategytoachievea
property,i.e.,apropertythatconsidersthesinglepathresulting goalwithoutleakinginformation(aninformation-flowproperty)
fromaparticularstrategicinteraction.Inthispaper,wepresentHy- orcanachieveagoalfasterthansomeotheragent(anoptimality
perStrategyLogic(HyperSL),astrategylogicwheretheoutcome requirement).Yetexistinglogicsforstrategicreasoning(suchas
ofmultiplestrategyprofilescanbecomparedw.r.t.ahyperproperty, variantsofSL[24,45])cannotexpresssuchhyper-requirements
i.e.,apropertythatrelatesmultiplepaths.WeshowthatHyperSL (wediscussrelatedapproachesinSection2).Weillustratethison
cancaptureimportantpropertiesthatcannotbeexpressedinSL, theexampleofNashequilibria:
includingnon-interference,quantitativeNashequilibria,optimal AssumewearegivenaMASwithagents{1,...,𝑛}andLTLprop-
adversarialplanning,andreasoningunderimperfectinformation. erties𝜓1,...,𝜓 𝑛thatdescribetheobjectivesoftheagents.Agent𝑖
Onthealgorithmicside,weidentifyanexpressivefragmentofHy- wantstomakesurethatF𝜓 𝑖 holds,i.e.,formula𝜓 𝑖 eventuallyholds.
perSLwithdecidablemodelcheckingandpresentamodel-checking WewanttocheckwhetherthesystemadmitsaNashequilibrium,
algorithm.Wecontributeaprototypeimplementationofouralgo- i.e.,thereexistsastrategyforeachagentsuchthatnoagenthasan
rithmandreportonencouragingexperimentalresults. incentivetodeviateinordertofulfillherobjective[48].InSL,we
canexpresstheexistenceofaNashequilibriumasfollows:
KEYWORDS 𝑛
(cid:219)(cid:16) (cid:17)
StrategyLogic,Hyperproperties,ModelChecking,ImperfectInfor-
∃𝑥1,...,𝑥 𝑛.∀𝑦. (F𝜓 𝑖)(𝑥(cid:174)[𝑖 ↦→𝑦])→(F𝜓 𝑖)(𝑥(cid:174))
mation,NashEquilibrium,Information-FlowCotrol
𝑖=1
where we abbreviate the strategy profiles𝑥(cid:174) = (𝑥1,...,𝑥 𝑛) and
ACMReferenceFormat: 𝑥(cid:174)[𝑖 ↦→ 𝑦] = (𝑥1,...,𝑥 𝑖−1,𝑦,𝑥 𝑖+1,...,𝑥 𝑛). In the variant SL we
RavenBeutnerandBerndFinkbeiner.2024.HyperStrategyLogic.InProc. considerhere(similartotheSLbyChatterjeeetal.[24]),atomic
ofthe23rdInternationalConferenceonAutonomousAgentsandMultiagent formulashavetheform𝜓(𝑥(cid:174))where𝜓 isanLTLformula,and𝑥(cid:174)is
Systems(AAMAS2024),Auckland,NewZealand,May6–10,2024,IFAAMAS,
astrategyprofilethatassignsastrategytoeachagent.Formula
18pages.
𝜓(𝑥(cid:174))holdsiftheuniquepaththatresultsfromtheinteractionof
thestrategiesin𝑥(cid:174)satisfies𝜓.Theaboveformulathusstatesthatif
1 INTRODUCTION
someagent𝑖canachieveF𝜓
𝑖
byplayingsomedeviatingstrategy𝑦
Twoimportantdevelopmentsintheareaofreactivesystemscon-
insteadof𝑥 ,i.e.,theuniqueplaythatresultsfromstrategyprofile
𝑖
cernthestudyofstrategicpropertiesinmulti-agentsystems(MAS)
𝑥(cid:174)[𝑖 ↦→𝑦]satisfiesF𝜓 𝑖,then𝑖couldstickwithstrategy𝑥 𝑖,i.e.,F𝜓
𝑖
andthestudyofhyperproperties.Strategicpropertiesanalyzethe
alsoholdsunderstrategyprofile𝑥(cid:174).
abilityofagentstoachieveagoalagainst(orincooperation)with
Intheformula,weeffectivelycomparetwoplaysunderstrat-
otheragents.Logicssuchasalternating-timetemporallogic(ATL∗)
egyprofiles𝑥(cid:174)and𝑥(cid:174)[𝑖 ↦→𝑦].However,SLlimitsthecomparison
[2]andstrategylogic(SL)[24,45]reasonaboutthetemporalinter-
betweenmultipleinteractionstoabooleancombinationofLTL
actionofsuchagentsandallowforrigorouscorrectnessguarantees
propertiesontheiroutcomes(paths).Ingame-theoreticterms,the
usingtechniquessuchasmodel-checking.Hyperproperties[27]are
aboveformulaassumesthattherewardforeachagentisbinary;
propertiesthatrelatemultipleexecutionswithinasystem.Hyper-
therewardofagent𝑖ismaximalifF𝜓
𝑖
holdsandminimalifitdoes
propertiesoccurinmanysituationsincomputersciencewhere
not.Thisfailstocapturequantitativereward,forexample,inaset-
traditionalpathproperties(thatrefertoindividualsystemexecu-
tingwhereagent𝑖receivesahigherreward(andthusdeviates)by
tion)arenotsufficient.Typicalexamplesinclude(1)optimality,e.g.,
fulfilling𝜓
𝑖
sooner.Toexpresstheexistenceofsuchaquantitative
equilibrium,abooleanformulaoverindividualtemporalproperties
ThisworkislicensedunderaCreativeCommonsAttribution onstrategyprofiles𝑥(cid:174)and𝑥(cid:174)[𝑖 ↦→𝑦] isnotsufficient.Weneeda
International4.0License.
morepowerfulmechanismthatcancomparethetemporalbehavior
ofmultiplepaths:ahyperproperty.
Proc.ofthe23rdInternationalConferenceonAutonomousAgentsandMultiagentSystems
( AA uA ckM laA nS d2 ,0 N2 e4 w),N Ze. aA lale nc dh .in ©a, 2V 0. 2D 4i Ig nn teu rm n, aM tio. nD aa ls Fta on ui n, dJ. aS t. ioS nich fom ra An u( te od ns. o), mM oa uy s6 A– ge1 n0 t, s2 a0 n24 d, HyperSL. Inthispaper,weproposeHyperSL–anewtemporal
MultiagentSystems(www.ifaamas.org). logicthatcombinesfirst-orderstrategicreasoning(asinSL)with
4202
raM
02
]AM.sc[
1v14731.3042:viXratheabilitytocomparemultiplepathsw.r.t.ahyperproperty.Syn- largestfragmentwithadecidablemodel-checkingproblemthatis
tactically,weusepathvariablestorefertomultiplepathsatthe definedpurelyintermsofthequantificationstructure.
sametime(similartoexistinghyperlogicssuchasHyperCTL∗[26]
andHyperATL∗ [14,17]).InHyperSL,atomicformulashavethe ImplementationandExperiments. WeimplementourMCalgo-
rithmforHyperSL[SPE]intheHyMASMCtool[18]andexperiment
form𝜓[𝜋1 :𝑥(cid:174)1,...,𝜋
𝑚
:𝑥(cid:174)𝑚]where𝜋1,...,𝜋
𝑚
arepathvariables,
withvariousMASmodels(inSection7).Ourexperimentsshow
𝑥 a(cid:174) n1, d. 𝜓.., is𝑥(cid:174)𝑚 ana Lre TLstr foat re mg uy lapr wofi hele rs e( aa ts os mig in cin pg roa post sr ia tit oe ng sy ato ree ia nc dh exag eden bt y),
thatHyMASMCperformswellonmanynon-hyperstrategylogicspec-
ificationsandcanverifycomplexhyperpropertiesthatcannotbe
pathvariablesfrom𝜋1,...,𝜋 𝑚.Theformulastatesthattheplaysre-
expressedinanyexistinglogic.
sultingfromstrategyprofiles𝑥(cid:174)1,...,𝑥(cid:174)𝑚,whenboundto𝜋1,...,𝜋 𝑚,
(together)satisfythehyperpropertyexpressedby𝜓.
2 RELATEDWORK
ComingbacktotheNashequilibriumexamplefrombefore,we
canuseHyperSLtoexpresstheexistenceofaNashequilibriumin SLhasbeenextendedalongmultipledimensions,includingagent-
aquantitativerewardsettingasfollows: unbinding[37],reasoningaboutprobabilities[4],epistemicproper-
ties[7,10,41],andquantitativeproperties[20].Wereferto[45,49]
∃𝑥1,...,𝑥 𝑛.∀𝑦.(cid:219)𝑛 (cid:16) (cid:0)¬𝜓 𝑖𝜋1W𝜓 𝑖𝜋2(cid:1) (cid:20)𝜋 𝜋1 2: :𝑥 𝑥(cid:174) (cid:174)[𝑖 ↦→𝑦](cid:21)(cid:17) vfo ior ua sm exo tr ee ni sn io-d ne sp it sh ad fi os cc uu sss oio nn t. hT eh te emco pm orm alo bn et hh ar ve ia od ri on na il nl dt ih ve idp ur ae l-
𝑖=1
paths.HyperSLgeneralizesSLandisthefirsttocomparemulti-
Here, we write𝜓 (resp.𝜓 ) to state that𝜓 holds on path
𝑖𝜋1 𝑖𝜋2 𝑖 plepaths.EvenquantitativeextensionslikeSL[F][20]evaluate
𝜋1 (resp.𝜋2).Intheformula,weagainquantifyoveradeviating
anLTL[F]-formulaonaper-pathbasis.Incontrast,HyperSLcan
strategy𝑦,butcancomparethetwopathsresultingfromstrat-
expresscomplexrelationshipsbetweenpaths.
egyprofiles𝑥(cid:174)[𝑖 ↦→ 𝑦] and𝑥(cid:174)withinthesame temporalformula.
Studyinglogicsthatcanexpressstrategicpropertiesunderim-
Thisformulastatesthatpath𝜋1(constructedusingstrategyprofile
perfectinformationhasattractedmuchattentionandledtovarious
𝑥(cid:174)[𝑖 ↦→𝑦])doesnotsatisfy𝜓
𝑖
strictlybefore𝜓
𝑖
holdsonpath𝜋2
extensionsofATL∗[10,11,22,29,38]andSL[12,36].Berthonet
(constructedusingstrategyprofile𝑥(cid:174)).1Iftheaboveformulaholds,𝑥(cid:174)
al.[12]showedthattheirlogic,SL ,subsumesmostexistingap-
thusconstitutesastrategyprofilesuchthatnoagentcouldachieve ii
proaches.WeshowthatHyperSLcanalsoreasonaboutimperfect
itsgoalstrictlysooner(ifatall).
information(andsubsumesSL )despitehavingasemanticsthatis
NotethatwecanexpressanyNashequilibriumaslongas“agent ii
definedunderfullinformation.
𝑖(strictly)preferstheoutcomeonpath𝜋1overthatonpath𝜋2”is
Logicsforexpressinghyperpropertiesinnon-agent-basedsys-
expressibleusinganLTLformulaover𝜋1,𝜋2.Likewise,HyperSL
tems(e.g.,labeledtransitionsystems)havebeenobtainedbyex-
can, e.g., express that some strategy (1) reaches a goal without tendingexistingtemporalorfirst-orderlogicswithexplicitpath
leakinginformation,(2)isatleastasfastasanyotherstrategy,or
quantification over path/trace variables or an equal-level pred-
(3)isrobustw.r.t.thebehaviorofotheragents.
icate [15, 26, 28, 34, 35]. As strategic reasoning is significantly
ExpressivenessofHyperSL. AfterweintroduceHyperSL(inSec- morepowerfulthanpurepathquantification,HyperSLsubsumes
tion4),westudyitsrelationtoexistinglogics(inSection5).We HyperCTL∗(wheninterpretingtransitionsystemsassingle-agent
showthatHyperSLsubsumesmanynon-hyperstrategylogicsas MASs).HyperATL∗[14,17]andHyperATL∗[18]extendalternating-
𝑆
wellashyperlogicssuchasHyperCTL∗[26],HyperATL∗[14,17], timetemporallogic(ATL∗)[2]withpathvariablesandstrategy-
andHyperATL∗[18](seeSection2).Moreover,HyperSLalsoadmits sharingconstraints,leadingtoastrategichyperlogicthatcanex-
𝑆
reasoningunderimperfectinformationdespitehavingaseman- press important security properties such as non-deducibility of
ticsdefinedundercompleteinformation.Thekeyobservationhere strategies[54]andsimulationsecurity[51].SimilartoATL∗,the
isthat“actingunderimperfectinformation”isahyperproperty:a strategicreasoninginHyperATL∗ andHyperATL 𝑆∗ islimitedto
strategyactsunderimperfectinformationif,onanypairofpaths implicitreasoningaboutthestrategicabilityofcoalitionsofagents
withthesameobservation,thestrategychoosesthesameaction. andcannotexplicitlyreasonaboutstrategiesas,e.g.,neededto
Formally,weshowthatHyperSLsubsumesSL [12,13],astrategy expresstheexistenceofaNashequilibrium.
ii
logiccenteredaroundimperfectinformation. Ourmodel-checkingalgorithmforHyperSL[SPE]isbasedonan
iterativeeliminationofpath(variables)inanautomaton,similarto
ModelChecking. HyperSL’sabilitytocomparemultiplestrategic existingalgorithmsforHyperCTL∗[33]andHyperATL∗[17,18].
interactionsrendersmodel-checking(MC)undecidable.InSection6, ComparedtoHyperATL∗,weneedtoeliminatepathsbysimulat-
weidentifyafragmentofourlogic–calledHyperSL[SPE]–for
inganarbitraryprefixofstrategyquantifiers,leadingtoamore
whichMCispossible.Intuitively,inHyperSL[SPE],thequantifier
involvedconstructionandmorecomplexcorrectnessproof.
prefixshouldbesuchthatwecangroupitintoindividual“blocks”
wherethestrategyvariablesfromeachblockareusedonindepen-
3 PRELIMINARIES
dentpathvariables.HyperSL[SPE]subsumesSL[1G](thesingle-
goal fragment of SL) [46], HyperLTL [26], HyperATL∗ [14, 17],
WeletAPbeafixedfinitesetofatomicpropositionsandfixafixed
andHyperATL∗ [18],butalsocapturespropertiesthatcannotbe
finitesetofagentsAgts = {1,...,𝑛}.Givenaset𝑋,wewrite𝑋+
𝑆 (resp.𝑋𝜔)forthesetofnon-emptyfinite(resp.infinite)sequences
expressedinexistinglogics.WearguethatHyperSL[SPE]isthe
over𝑋.For𝑢 ∈𝑋𝜔 and 𝑗 ∈N,wewrite𝑥(𝑗)forthe𝑖thelement,
1WemakeuseofLTL’sweakuntiloperatorW.Formula𝜓1W𝜓2holdsif𝜓1holds
𝑢[0,𝑗] forthefiniteprefixuptoposition 𝑗 (oflength 𝑗 +1),and
until𝜓2holdseventuallyor𝜓1holdsatalltimes. 𝑢[𝑗,∞]fortheinfinitesuffixstartingatposition𝑗.ConcurrentGameStructures. AstheunderlyingmodelofMASs, LetXbeasetofstrategyvariablesandVasetofpathvariables.
weuseconcurrentgamestructures(CGS)[2].ACGSisatuple Wetypicallyuselowercaseletters(𝑥,𝑦,𝑧,𝑥1,...)forstrategyvari-
G=(𝑆,𝑠0,A,𝜅,𝐿)where𝑆isafinitesetofstates,𝑠0 ∈𝑆isaninitial ablesandvariationsof𝜋 (𝜋,𝜋′,𝜋1,...)forpathvariables.Pathand
state,Aisafinitesetofactions,𝜅 : 𝑆 × (Agts → A) → 𝑆 isa stateformulasinHyperSLaregeneratedbythefollowinggrammar:
transitionfunction,and𝐿 : 𝑆 → 2AP isalabelingfunction.The 𝜓 :=𝑎
𝜋
|𝜑
𝜋
|𝜓 ∧𝜓 |¬𝜓 |X𝜓 |𝜓U𝜓
transitionfunctiontakesastate𝑠andanactionprofile𝑎(cid:174):Agts→A
(mappingeachagentanaction)andreturnsauniquesuccessorstate 𝜑 :=∀𝑥.𝜑 |∃𝑥.𝜑 |𝜓(cid:2)𝜋1:𝑥(cid:174)1,...,𝜋 𝑚 :𝑥(cid:174)𝑚(cid:3)
𝜅(𝑠,𝑎(cid:174)).Wewrite(cid:206) 𝑖∈Agts𝑎 𝑖 fortheactionprofilewhereeachagent where𝑎∈APisanatomicproposition,𝜋,𝜋1,...,𝜋 𝑚 ∈Varepath
𝑖isassignedaction𝑎 𝑖. variables,𝑥 ∈Xisastrategyvariable,and𝑥(cid:174)1,...,𝑥(cid:174)𝑚 :Agts→X
A strategy in G is a function 𝑓 : 𝑆+ → A, mapping finite arestrategyprofilesthatassignastrategyvariabletoeachagent.
p Stl ra (y Gs )t .o Aac stt rio an tes g. yW pe rod fie leno (cid:206)te 𝑖∈t Ah ge tss 𝑓e 𝑖t ao sf sigal nl ss etr aa ct heg ai ge es ni tn 𝑖G asw tri ath t- W 𝑥(cid:174)𝑚e ]o .f Wten ew usri ete Q𝜓[ a𝜋 s𝑘 a:𝑥 p(cid:174)𝑘 la] c𝑚 𝑘 e= h1 oa ls dea rsh foo rrt eh ia tn hd erfo ∀r𝜓 or[𝜋 ∃1 .: W𝑥(cid:174)1 e,. u. s. e,𝜋 t𝑚 he:
egy𝑓 𝑖 ∈Str(G).Givenstrategyprofile(cid:206) 𝑖∈Agts𝑓 𝑖 andstate𝑠 ∈𝑆, standardBooleanconnectives∨,→,↔,andconstants⊤,⊥,aswell
wecandefinetheuniquepathresultingfromtheinteractionbe- asthederivedLTLoperatorseventuallyF𝜓 :=⊤U𝜓 andglobally
t pw ate hen 𝑝th ∈e 𝑆a 𝜔ge sn ut cs h: W the atd 𝑝efi (0n )e =Pla 𝑠y aG n( d𝑠, f(cid:206) or𝑖∈ eA vg et rs y𝑓 𝑖) 𝑗 a ∈s Nthe wu en hiq au ve e G all𝜓 pa:= th¬ vaF r¬ ia𝜓 b. leF so tr he aa tc ah refo frr em eu inla 𝜓𝜓 b[𝜋 el𝑘 on: g𝑥(cid:174)𝑘 to]𝑚 𝑘 {= 𝜋1 1, ,w ..e .,a 𝜋s 𝑚su }m ,ie .e.t ,h aa lt l
𝑝(𝑗 +1) =𝜅(cid:0)𝑝(𝑗),(cid:206) 𝑖∈Agts𝑓 𝑖(𝑝[0,𝑗])(cid:1).Thatis,ineverystep,we usedpathvariablesareboundtosomestrategyprofile.Wefurther
constructtheactionprofile(cid:206) 𝑖∈Agts𝑓 𝑖(𝑝[0,𝑗])inwhicheachagent assumethatallnestedstateformulasareclosed.
𝑖playstheactiondeterminedby𝑓 𝑖 onthecurrentprefix𝑝[0,𝑗]. Notethatoursyntaxdoesnotsupportbooleancombinations
ofstateformulasasisusualinSL[45].Aswecanevaluateapath
AlternatingAutomata. Ourmodel-checkingalgorithmisbased
formulaonmultiplepaths,wecanmovebooleancombinations
onalternatingautomataoverinfinitewords.Theseautomatagener-
withinthepathformulas.
alizenondeterministicautomatabyalternatingbetweennondeter-
ministicanduniversaltransitions[53].Fortransitionsoftheformer Example1. ConsidertheSLformula∃𝑥.(∃𝑦.(F𝑎)(𝑥,𝑦))∧(∀𝑧.
kind,wecanchoosesomesuccessorstate;fortransitionsofthelat- (G𝑏)(𝑧,𝑥)),whichcanbeexpressedinHyperSLasfollows:∃𝑥.∃𝑦.∀𝑦.
tertype,weneedtoconsiderallpossiblesuccessorstates.Formally, (F𝑎 𝜋1∧G𝑏 𝜋2)[𝜋1:(𝑥,𝑦),𝜋2:(𝑧,𝑥)]. △
analternatingparityautomaton(APA)overalphabetΣisatuple
A=(𝑄,𝑞0,𝛿,𝑐)where𝑄isafinitesetofstates,𝑞0 ∈𝑄isaninitial Semantics. WefixagamestructureG=(𝑆,𝑠0,A,𝜅,𝐿).Astrategy
state,𝑐 :𝑄 → Nisacolorassignment,and𝛿 :𝑄×Σ → B+(𝑄)
assignmentisapartialmappingΔ:X⇀Str(G).Wewrite{}for
theuniquestrategyassignmentwithanemptydomain.InHyperSL,
isatransitionfunctionthatmapseachstate-letterpairtoaposi-
apathformula𝜓 referstopropositionsonmultiplepathvariables.
tivebooleanformulaover𝑄 (denotedwithB+(𝑄)).Forexample,
if𝛿(𝑞,𝑙) = 𝑞1∨(𝑞2∧𝑞3),wecan–fromstate𝑞 ∈ 𝑄 andupon
WeevaluateitinthecontextofapathassignmentΠ:V ⇀𝑆𝜔map-
pingpathvariablestopaths(similartothesemanticsofHyperCTL∗
readingletter𝑙 ∈ Σ–eithermovetostate𝑞1ormovetoboth𝑞2
and𝑞3(i.e.,wespawntwocopiesofourautomaton,onestarting [26]).Given 𝑗 ∈ N,wedefineΠ[𝑗,∞] astheshiftedassignment
instate𝑞2andonein𝑞3).WewriteL(A) ⊆ Σ𝜔 forthesetofall definedbyΠ[𝑗,∞](𝜋) := Π(𝜋)[𝑗,∞].Forapathformula𝜓,we
thendefinethesemanticsinthecontextofpathassignmentΠ:
infinitewordsforwhichwecanconstructaruntreethatrespects
thetransitionformulassuchthattheminimal colorthatoccurs Π |=G 𝑎 𝜋 iff 𝑎∈𝐿(cid:0)Π(𝜋)(0)(cid:1)
infinitelymanytimes(asgivenby𝑐)iseven.Forspacereasons,
Π |=G 𝜑 𝜋 iff Π(𝜋)(0),{} |=G 𝜑
wecannotgiveaformalsemanticsofAPArunsandinsteadrefer
thereadertoAppendixA.NospecificknowledgeaboutAPAsis
Π |=G𝜓1∧𝜓2 iff Π |=G𝜓1andΠ |=G𝜓2
requiredtounderstandthehigh-levelideaofouralgorithm. Π |=G ¬𝜓 iff Π̸|=G𝜓
AspecialkindofAPAsaredeterministicparityautomata(DPA) Π |=G X𝜓 iff Π[1,∞] |=G𝜓
i sn taw teh ti och ea𝛿 chis sa taf tu en -lc et ti to en r𝑄 pa× ir.Σ W→ ec𝑄 ana ass lwig an yi sng dea teu rn miq inu ie zesu Ac Pc Aes ss :or Π |=G𝜓1U𝜓2 iff ∃𝑗 ∈N.Π[𝑗,∞] |=G𝜓2and
∀0≤𝑘 < 𝑗.Π[𝑘,∞] |=G𝜓1
Proposition1([44,50]). ForanyAPAAwith𝑛states,wecan
Thesemanticsforpathformulassynchronouslystepsthroughall
effectivelycomputeaDPAA′ withatmost22O(𝑛) statessuchthat pathsinΠandevaluate𝑎 𝜋 onthepathboundto𝜋.Stateformulas
L(A)=L(A′). areevaluatedinastate𝑠 ∈𝑆andstrategyassignmentΔasfollows:
4 HYPERSTRATEGYLOGIC
𝑠,Δ|=G ∀𝑥.𝜑 iff ∀𝑓 ∈Str(G).𝑠,Δ[𝑥 ↦→𝑓] |=G 𝜑
OurnewlogicHyperSLiscenteredaroundtheideaofcombining
𝑠,Δ|=G ∃𝑥.𝜑 iff ∃𝑓 ∈Str(G).𝑠,Δ[𝑥 ↦→𝑓] |=G 𝜑
strategicreasoning(aspossibleinstrategylogic[24,45])withthe 𝑠,Δ|=G𝜓(cid:2)𝜋 𝑘 :𝑥(cid:174)𝑘(cid:3)𝑚 𝑘=1 iff
abilitytoexpresshyperproperties(aspossibleinlogicssuchas (cid:104) (cid:16) (cid:214) (cid:17)(cid:105)𝑚
HyperCTL∗[26]).Toaccomplishthis,wecombinetheideasfrom
𝜋 𝑘↦→Play
G
𝑠, Δ(𝑥(cid:174)𝑘(𝑖))
𝑘=1
|=G𝜓
bothdisciples.Onthestrategy-logic-side,weusestrategyvariables
𝑖∈Agts
toquantifyoverstrategies.Onthehyper-side,weusepathvariables Toresolveaformula𝜓(cid:2)𝜋
𝑘
:𝑥(cid:174)𝑘(cid:3)𝑚 𝑘=1,weconstruct𝑚paths(bound
tocomparemultiplepathswithinatemporalformula. to𝜋1,...,𝜋 𝑚),andevaluate𝜓intheresultingpathassignment.The𝑘thpath(boundto𝜋 )istheplaywhereeachagent𝑖playsstrategy allagentsin𝐴,followedbyuniversal(resp.existential)quantifica-
𝑘
Δ(𝑥(cid:174)𝑘(𝑖)),i.e.,thestrategycurrentlyboundtothestrategyvariable tionoverstrategiesforagentsinAgts\𝐴andusethesestrategies
𝑥(cid:174)𝑘(𝑖).WewriteG |=𝜑if𝑠0,{} |=G 𝜑,i.e.,theinitialstatesatisfies toconstructpath𝜋. □
stateformula𝜑.
Example3. ConsidertheHyperATL∗formula⎷{1,2}⌄𝜋1.⎷{3}⌄
5 EXPRESSIVENESSOFHYPERSL
𝜋2.(𝑎 𝜋1U𝑏 𝜋2).WecanexpressthisinHyperSLas∃𝑥1,𝑥2.∀𝑥3.∃𝑦3.
Theabilitytocomparemultiplepathswithinatemporalformula
∀𝑦1,𝑦2.(𝑎 𝜋1U𝑏 𝜋2)(cid:2)𝜋1:(𝑥1,𝑥2,𝑥3),𝜋2:(𝑦1,𝑦2,𝑦3)(cid:3) . △
makesHyperSLapowerfulformalismthatsubsumesmanyexisting ByLemma2,HyperSLthuscapturesthevarioussecurityhyper-
logics.Weonlybrieflymentionsomeconnectionstoexistinglogics. properties(suchasnon-deducibilityofstrategies[54]andsimula-
MoredetailscanbefoundinAppendixB. tionsecurity[51])thatcanbeexpressedinHyperATL∗[14].We
canextendLemma2furthertoalsocapturethestrategysharing
5.1 SLandHyperSL constraintsfoundinHyperATL∗ [18].
𝑆
HyperSL naturally subsumes many (non-hyper) strategy logics Lemma3. ForanyHyperATL∗ formula𝜑thereexistsaHyperSL
𝑆
W[2 e4, c4 o5 n] s, iw deh ric Sh Le fov ra mlu ua lt ae st de em fip no er da bl ypr to hp ee fr ot li le os wo in ngin gd ri av mid mua al r:paths. formula𝜑′suchthatforanyCGSG,G |= HyperATL𝑆∗ 𝜑iffG |=𝜑′.
Moreover,HyperSLcanexpresspropertiesthatgowellbeyond
𝜓 :=𝑎 |𝜑 |¬𝜓 |𝜓 ∧𝜓 |X𝜓 |𝜓U𝜓 thestrict∃∀and∀∃quantifieralternationfoundinHyperATL∗and
𝜑 :=𝜓 |𝜑∧𝜑 |𝜑∨𝜑 |∀𝑥.𝜑 |∃𝑥.𝜑 | (𝑖,𝑥)𝜑 HyperATL∗ (as,e.g.,neededforNashequilibria).
𝑆
where𝑎 ∈ AP,𝑥 ∈ X,and𝑖 ∈ Agts.Weassumethatnestedstate
5.3 ImperfectInformationandHyperSL
formulasareclosed.InthisSL,wecanquantifyoverstrategiesand
bindastrategy𝑥 toagent𝑖using(𝑖,𝑥);seeAppendixB.1forthe Inrecentyears,muchefforthasbeenmadetostudystrategicbe-
fullsemantics.Wecanshowthefollowing: haviorunderimperfectinformation[9–12,29,36].Insuchasetting,
anagentactsstrategically(i.e.,decidesonanactionbasedonits
Lemma1. ForanySLformula𝜑thereexistsaHyperSLformula pastexperience)butonlyobservespartsoftheoverallsystem.Per-
𝜑′suchthatforanyCGSG,G |= SL𝜑iffG |=𝜑′. hapssurprisingly,HyperSLisexpressiveenoughtoallowreasoning
underimperfectinformationdespitehavingasemanticswithcom-
ProofSketch. Weuseauniquepathvariable𝜋(cid:164).Duringtrans-
pleteinformation(cf.Section4).Concretely,weconsiderstrategy
lation,wetrackthecurrentstrategy(variable)foreachagentand
logicunderimperfectinformation(SL ),anextensionofSLwith
construct𝜋(cid:164)usingtheresultingstrategyprofile. □ ii
imperfectinformation[12,13]definedasfollows:
Example2. Considertheformula∃𝑥.∀𝑦.(1,𝑥)(2,𝑦)(3,𝑦)GF𝑎.
𝜓 :=𝑎 |𝜑 |¬𝜓 |𝜓 ∧𝜓 |X𝜓 |𝜓U𝜓
W (𝑥e ,𝑦c ,a 𝑦n )]e wxp hr ee rs es (𝑥th ,i 𝑦s ,𝑦fo )r dm enu ola tesin thH ey stp re ar tS eL gya ps ro∃ fi𝑥 l. e∃ m𝑦 a. p(cid:0) pG inF g𝑎 a𝜋(cid:164) g(cid:1) e[ n𝜋(cid:164) t1: 𝜑 :=𝜓 |𝜑∧𝜑 |𝜑∨𝜑 |∀𝑥𝑜.𝜑 |∃𝑥𝑜.𝜑 | (𝑖,𝑥)𝜑
to𝑥,andagents2and3to𝑦. △ where𝑎 ∈ AP,𝑥 ∈ X,𝑖 ∈ Agts,and𝑜 ∈ Obs isanobservation
thatgetsattachedtoeachstrategy.SL iiisevaluatedonCGSsunder
5.2 HyperATL∗ andHyperSL partialobservation,whicharepairs(G,{∼𝑜}𝑜∈Obs)consistingofa
ComparedtoSL,ATL∗[2]offersaweaker(implicit)formofstrategic CGSG=(𝑆,𝑠0,A,𝜅,𝐿)andanobservationrelation∼𝑜⊆𝑆×𝑆for
reasoning.TheATL∗formula⎷𝐴⌄𝜓expressesthattheagentsin𝐴⊆ eachobservation𝑜 ∈Obs.If𝑠 ∼𝑜 𝑠′,then𝑠and𝑠′appearindistin-
Agtshaveajointstrategytoensurepathformula𝜓 [2].HyperATL∗ guishableforastrategywithobservation𝑜.SeeAppendixB.3for
[14,17]isanextensionofATL∗thatcanexpresshyperproperties, thefullsemantics.
generatedbythefollowinggrammar: We can effectively encode each MC instance of SL ii into an
equisatisfiableHyperSLinstance(NotethattheMASmodelsof
𝜓 :=𝑎
𝜋
|¬𝜓 |𝜓 ∧𝜓 |X𝜓 |𝜓U𝜓
SL andHyperSLaredifferent,sowecannottranslatetheformula
ii
𝜑 :=⎷𝐴⌄𝜋.𝜑 | 𝐴 𝜋.𝜑 |𝜓 directlybuttranslateboththeformulaandthemodel).
(cid:74) (cid:75)
where𝑎 ∈ AP,𝜋 ∈ V, and𝐴 ⊆ Agts. Formula ⎷𝐴⌄𝜋.𝜑 states Theorem1. ForanySLii MCinstance (cid:0)(G,{∼𝑜}𝑜∈Obs),𝜑(cid:1) ,we
thattheagentsin𝐴haveastrategysuchthatanypathunderthat caneffectivelycomputeaHyperSLMCinstance(cid:0)G′,𝜑′(cid:1)
,suchthat
s fotr ra mte ug lay, 𝜑w .h Lie kn ewbo isu en ,d 𝐴to 𝜋p .a 𝜑th stv aa teri sa tb hle at𝜋 ,n,s oa mtis afi tte es rt whe har tem sta rain tein gg
y
(G,{∼𝑜}𝑜∈Obs) |=
SLii
𝜑iffG′ |=𝜑′.
ProofSketch. Thekeyobservationisthatastrategyacting
the agents in𝐴 play,(cid:74)so(cid:75)me compatible path, when bound to 𝜋,
satisfies𝜑.SeeAppendixB.2forthefullHyperATL∗semantics.We
underimperfectinformationisahyperproperty[19,21]:Astrat-
canshowthefollowing: egy𝑓 actsunderobservation𝑜 ∈ Obsiffonanytwofinitepaths
under𝑓 theactionchosenby𝑓 isthesame,providedthetwopaths
Lemma2. ForanyHyperATL∗formula𝜑thereexistsaHyperSL areindistinguishablew.r.t.∼𝑜.WecanextendtheCGSGsothat
formula𝜑′suchthatforanyCGSG,G |= HyperATL∗ 𝜑iffG |=𝜑′. theaboveiseasilyexpressibleinHyperSL.Wecanthenrestrict
quantificationtostrategiesunderanarbitraryobservationanduse
ProofSketch. SimilartothetranslationofATL∗toSL[24,45],
asimilartranslationtotheoneusedinLemma1. □
wetranslateeachHyperATL∗quantifier⎷𝐴⌄𝜋 (resp. 𝐴 𝜋)using
existential(resp.universal)quantificationoverfreshst(cid:74)ra(cid:75)tegiesfor AsmodelcheckingofSL isundecidable[12],weget:
iiCorollary1. ModelcheckingofHyperSLisundecidable. SL[1G]andHyperSL[SPE]. SL[1G]isafragmentofSLthatallows
aprefixofstrategyquantifierandagentbindingsfollowedbya
6 MODELCHECKINGOFHYPERSL single path formula (with no nested agent binding) [23, 45–47].
WhileHyperSLMCisundecidableingeneral(cf.Corollary1),we WhentranslatingSL[1G]intoHyperSL,weobtainaformulaof
canidentifyfragmentsforwhichMCispossible.Forthis,wecannot theformQ 1𝑥1...Q 𝑚𝑥 𝑚.𝜓[𝜋 :𝑥(cid:174)](cf.Lemma1),whichistrivially
followtheapproachofexistingMCalgorithmsfor(variantsof)non- HyperSL[SPE]asthereisasinglepathvariable(withblock-rank1).
hyperSL,whichusetreeautomatatosummarizestrategies[24,45].
For example, given an atomic state formula𝜓[𝜋
𝑘
: 𝑥(cid:174)𝑘]𝑚 𝑘=1, we turB ee sy io nn td erH ey stp ie nr gAT hL y𝑆∗ pa ern pd rS oL p[ e1 rG ti] e. sA td hd ai tti co on ua ll dly, nH oy tp be erS cL a[ pS tP uE re] dca ip n-
cannotconstructatreeautomatonthatacceptsallstrategiesthat
existinglogics:
fulfill𝜓.Thisautomatonwouldneedtocompare(andthustraverse)
multiplepathsinatreeatthesametime.Instead–giventhe“hyper”
Example5. AssumeaMASwithAgts={𝑟,𝑎,ndet}describinga
originsofourlogic–weapproachtheMCproblembyfocusing
planningtaskbetweenarobot𝑟 thatwantstoreachastatewhereAP
ontheinteractionsofitspathvariablesandusewordautomatato
goal ∈APholds,andanadversary𝑎thatwantstopreventtherobot
summarizesatisfyingpathassignments.
fromreachingthegoal.Ineachstep,agent𝑟 canselectadirectionto
Throughoutthissection,weassumethatallstrategyvariables
movein,and𝑎canchooseadirectionitwantstopushtherobotto.Each
are𝛼-renamedsuchthatnovariableisquantifiedmorethanonce.
combinationofactionsof𝑟and𝑎resultsinasetofpotentialsuccessor
locations,andthenondeterminismagentndetdecideswhichofthose
6.1 HyperSL[SPE]
locationstherobotactuallymovesto.Wewanttocheckifagent𝑟
We call the fragment of HyperSL we study in this section Hy- hasawinningstrategythatcanreachthegoalagainstallpossible
perSL[SPE]–shortforHyperSLwithSinglePathElimination. behaviorsofagent𝑎,i.e.,𝑟 needstoreachthegoalunderfavorable
Definition1. AHyperSL[SPE]formulahastheform non-deterministicoutcomes.Wecanexpressthis(non-hyper)property
𝜑 =♭1...♭ 𝑚.𝜓(cid:2)𝜋
𝑘
:𝑥(cid:174)𝑘(cid:3)𝑚 𝑘=1, inHyperSL[SPE]as
where♭1,...,♭
𝑚
areblocksofstrategyquantifiersandforeach1≤
∃𝑥.∀𝑦.∃𝑧.(cid:0) Fgoal𝜋(cid:1)(cid:2)𝜋 :(𝑥,𝑦,𝑧)(cid:3),
𝑘 ≤𝑚and𝑖 ∈Agts,strategyvariable𝑥(cid:174)𝑘(𝑖)isquantifiedin♭ 𝑘.We
wherewewrite (𝑥,𝑦,𝑧) forthestrategyprofilethatassignsagent
referto𝑚astheblock-rankof𝜑.
𝑟 to𝑥,agent𝑎to𝑦,andagentndet to𝑧.InHyperSL[SPE],wecan
Intuitively,thedefinitionstatesthatwecanpartitionthequan- additionallystatethat𝑟 shouldreachthegoalasfastaspossible,i.e.,
tifierprefixintosmallerblockswherethevariablesquantifiedin atleastasfastasanypathintheMAS:
eachblock♭ canbeusedtoeliminate(construct)the(unique)path
𝑘
variable𝜋 .Wewillexploitthisrestrictionduringmodel-checking:
(cid:34)𝜋 :(𝑥,𝑦,𝑧)(cid:35)
wecanel𝑘
iminateeachblockofquantifiersincrementally:asall
∃𝑥.∀𝑦.∃𝑧.∀𝑎.∀𝑏.∀𝑐.(¬goal𝜋′)Ugoal𝜋
𝜋′ :(𝑎,𝑏,𝑐)
strategiesquantifiedinblock♭ areonlyneededforpath𝜋 ,we
𝑘 𝑘
can“construct”𝜋 𝑘,andafterwardforgetaboutthestrategieswe Here,wequantifyoveranypotentialdifferentpath𝜋′andstatethat
haveused.NotethatthedefinitionofHyperSL[SPE]onlydepends 𝜋isatleastasfastas𝜋′.SuchrequirementscannotbeexpressedinSL
onthequantifierprefixandthepatheachstrategyvariableisused (eveninquantitativeversionslikeSL[F]),norcantheybeexpressed
on;itdoesnotmakeanyassumptiononthestructureof𝜓. inHyperATL∗orHyperATL∗. △
𝑆
Example4. Considerthefollowing(abstract)HyperSLformula,
where𝜓 isanarbitraryLTLformulaover𝜋1,𝜋2. 6.3 SummarizingPathAssignments
(cid:20)𝜋1:(𝑐,𝑐,𝑐,𝑐) (cid:21) Intheremainderofthissection,weprovethefollowing:
∃𝑐. ∃𝑧.∀𝑤.∃𝑣.𝜓
(cid:124)(cid:123)(cid:122)(cid:125)(cid:124)(cid:32)(cid:32)(cid:32)(cid:32)(cid:32)(cid:32)(cid:32) (cid:123)(cid:122)(cid:32)(cid:32)(cid:32)(cid:32)(cid:32)(cid:32)(cid:32)
(cid:125)
𝜋2:(𝑤,𝑧,𝑣,𝑣)
Theorem2. ModelcheckingforHyperSL[SPE]isdecidable.
♭1 ♭2
ThisformulaisaHyperSL[SPE]formula:Thefirstblock♭1consists WefixaCGS G = (𝑆,𝑠0,A,𝜅,𝐿) andstate𝑠(cid:164) ∈ 𝑆,andlet𝜑 =
of strategy variable𝑐 and constructs 𝜋1, and the second block ♭2 ♭1...♭ 𝑚.𝜓(cid:2)𝜋 𝑘 :𝑥(cid:174)𝑘(cid:3)𝑚 𝑘=1beaHyperSL[SPE]formula.Wewantto
constructs𝜋2.Theblock-rankofthisformulais2. △ checkif𝑠(cid:164),{} |=G 𝜑,i.e.,𝜑holdsinstate𝑠(cid:164).
6.2 ExpressivenessOfHyperSL[SPE] ZippingPathAssignments. Themainideaofouralgorithmisto
summarizepathassignmentsthatsatisfysubformulasof𝜑,simi-
Beforeweoutlineourmodel-checkingalgorithmforHyperSL[SPE]
lartoMCalgorithmsforHyperLTL,HyperCTL∗,andHyperATL∗
formulas,wepointtosome(fragmentsof)otherlogicsthatfall
[16–18,33].Toenableautomata-basedreasoningaboutpathassign-
withinHyperSL[SPE].
ments,i.e.,mappingsΠ:𝑉 →𝑆𝜔 forsome𝑉 ⊆V,wezipsuchan
HyperATL∗andHyperSL[SPE]. WhentranslatingHyperATL∗(or assignmentintoaninfiniteword.Concretely,givenΠ :𝑉 →𝑆𝜔
HyperATL 𝑆∗)formulasintoHyperSL(cf.Lemmas2and3),each wedefinezip(Π) ∈ (𝑉 → 𝑆)𝜔 astheinfinitewordoffunctions
quantifier ⎷𝐴⌄𝜋 (resp. 𝐴 𝜋) is replaced by a ∃∗∀∗ (resp.∀∗∃∗) wherezip(Π)(𝑗)(𝜋) :=Π(𝜋)(𝑗)forevery𝑗 ∈N,i.e.,thefunction
blockofstrategyquantifi(cid:74)er(cid:75)sthatareusedtoconstruct𝜋 (andonly inthe 𝑗thstepmapseachpathvariable𝜋 ∈𝑉 tothe 𝑗thstateon
𝜋).TheresultingformulaisthusaHyperSL[SPE]formula. thepathboundto𝜋.Algorithm1Simulationconstructionforblockelimination. Thatis,theautomatonBacceptsthezippingofanassignment
Π:𝑉 →𝑆𝜔iffbysimulatingthequantifierprefixin♭,weconstruct
1def simulate(G=(𝑆,𝑠0,A,𝜅,𝐿),𝑠(cid:164),𝜋,𝑥(cid:174),♭=Q 1𝑥1...Q 𝑛𝑥𝑛,A):
apathfor𝜋 that,whenaddedtoΠ,isacceptedbyA.Notethe
2 A det =(𝑄,𝑞0,𝛿,𝑐) = toDPA(A) // Using Proposition 1 similarity to Definition 2: In Definition 2 we simulate multiple
3 B = (𝑄×𝑆,(𝑞0,𝑠(cid:164)),𝛿′,𝑐′(cid:1) where quantifierblockstoconstructpaths𝜋 ,...,𝜋 that,whenaddedto
4
𝑐′(𝑞,𝑠):=𝑐(𝑞) 𝑘 𝑚
Π,shouldsatisfythebody𝜓.InProposition2,wesimulateasingle
5 𝛿′(cid:0)(𝑞,𝑠),𝑡(cid:174)(cid:1):= ∨∧Q1 ··· ∨∧Q𝑛 (cid:18) 𝛿(cid:0)𝑞,𝑡(cid:174)[𝜋 ↦→𝑠](cid:1),𝜅(cid:16) 𝑠, (cid:214) 𝑎 𝑥(cid:174)(𝑖)(cid:17)(cid:19) paththat,whenaddedtoΠ,shouldbeacceptedbyautomatonA.
𝑎𝑥1∈A 𝑎𝑥𝑛∈A 𝑖∈Agts WewilllateruseProposition2tosimulateonequantifierblockata
6 return B time,eventuallyreachinganautomatonrequiredbyDefinition2.
BeforeprovingProposition2,letusexplaintheautomatoncon-
structioninsimulate(Algorithm1).InEq.(1),(cid:101)♭quantifiesover
SummaryAutomaton. Givenaquantifierblock♭=Q 1𝑥1...Q 𝑛𝑥 𝑛 strategiesinG,whichareinfiniteobjects(function𝑆+→A).The
over strategy variables𝑥1,...,𝑥 𝑛, we define(cid:101)♭ as the analogous crucialpointthatwewillexploitisthattheunderlyinggamethe
blockofquantificationofstrategies𝑓 𝑥1,...,𝑓 𝑥𝑛,i.e.,(cid:101)♭:=Q 1𝑓 𝑥1 ∈ strategiesoperateon ispositionallydetermined. Theautomaton
Str(G)...Q 𝑛𝑓 𝑥𝑛 ∈Str(G).Atthecoreofourmodel-checkingal- weconstructcan,therefore,simulatethepath𝜋 inG andselect
gorithm,weconstructautomatathataccept(zippingsof)partial fresh actions in each step (instead of fixing strategies globally)
satisfyingpathassignments.Formally: [14, 17, 18]. To do this, we first translate the APA A to a DPA
Definition2. For1≤𝑘 ≤𝑚+1,wesayanautomatonAover A det = (𝑄,𝑞0,𝛿,𝑐) (inline2).ThenewautomatonB thensimu-
a
p
ifalp athh na dab
s
oe
s
nit
g
ly( n{
m
i𝜋 fe1 n,. t. Π., :𝜋 {𝑘 𝜋− 11 ,} ..→ .,𝜋𝑆 𝑘) −i 1s }a →(G 𝑆, 𝜔𝑠(cid:164),𝑘 w) e-s hu am vem za ipry (Πif )f ∈or Lev (Aery
)
Wl ta rat ee cs k stsp aa t rht th e in𝜋 cu sb r ty r ae tt n er ta (c s 𝑞k t 0ai ,n t 𝑠(cid:164)eg ),oi f it .s eA .c ,u
d
ter htr , ee tn h int u is s tt ia o at p le e si r tn aa ttG ein oga fn od Ans dsi etm tatu ael nsta din n te h𝑄o eu ×s dl e𝑆y -.
signedstate𝑠(cid:164)fromwhichwewanttostartthesimulationof𝜋.
(cid:104) (cid:214) (cid:105)𝑚
♭(cid:101)𝑘···♭(cid:102)𝑚.Π 𝜋 𝑗 ↦→Play G(𝑠(cid:164), 𝑖∈Agts𝑓 𝑥(cid:174)𝑗(𝑖))
𝑗=𝑘
|=G𝜓. T arh ee trc ao cl ko ir no gf ,ie .ea .c ,h 𝑐′s (𝑞ta ,t 𝑠e )i =s 𝑐si (m 𝑞)p (l ly int eh 4e ).co Dl uo rr ino gft eh ae chau trt ao nm sia tit oo nn ,w we
e
thenupdatethecurrentstateofA andthestateofthesimulation
Thatis,a(G,𝑠(cid:164),𝑘)-summaryaccepts(thezippingof)apathas- det
(definedinline5).Concretely,wheninstate(𝑞,𝑠),wereadaletter
signmentΠoverpaths𝜋1,...,𝜋 𝑘−1if–whensimulatingthequan-
𝑡(cid:174):𝑉 →𝑆thatassignsstatestoallpathvariablesin𝑉 (recallthat
tificationoverstrategiesneededtoconstructpaths𝜋 ,...,𝜋 and
𝑘 𝑚 thealphabetofAis𝑉 ∪{𝜋}→𝑆andthealphabetofBis𝑉 →𝑆).
addingthemtoΠ–thebody𝜓 oftheformulaissatisfied.
WeupdatethestateofA to𝛿(𝑞,𝑡(cid:174)[𝜋 ↦→𝑠]),i.e.,weextendthe
det
Example6. Weillustratetheconceptusingtheabstractformula inputletter𝑡(cid:174)withthecurrentstate𝑠 ofthesimulationofpath𝜋
fromExample4.A(G,𝑠(cid:164),3)-summaryisanautomatonA3overalpha- (notethat𝑡(cid:174)[𝜋 ↦→ 𝑠] : 𝑉 ∪{𝜋} → 𝑆).Toupdatethesimulation
bet({𝜋1,𝜋2}→𝑆)suchthatforeveryΠ:{𝜋1,𝜋2}→𝑆𝜔 wehave state𝑠,wemakeuseofthepositionaldeterminacyofthegame:
zip(Π) ∈L(A3)iffΠ |=G𝜓.A(G,𝑠(cid:164),2)-summaryisanautomaton Insteadofquantifyingoverstrategies(asinEq.(1)),wecanquantify
A2overalphabet({𝜋1} →𝑆)suchthatforeveryΠ : {𝜋1} →𝑆𝜔 overactionsineachstepoftheautomaton.Concretely,foreach
wehavezip(Π) ∈L(A2)iff universallyquantifiedstrategyvariablein♭,wepickanactioncon-
∃𝑓 𝑧.∀𝑓 𝑤.∃𝑓 𝑣.Π(cid:2)𝜋2↦→Play G(𝑠(cid:164),(𝑓 𝑤,𝑓 𝑧,𝑓 𝑣,𝑓 𝑣))(cid:3) |=G𝜓, j au nn ac cti tv ioe nly d,a isn jud nf co tr ive ea lc yh .Aex fti es rte wnt eia hl aly vequ pa icn kt eifi de ad ctv ia or ni sab 𝑎le, ,w ..e .,p 𝑎ick
i.e.,wemimicthequantificationofblock♭2toconstructpath𝜋2(using forallstrategiesquantifiedin♭,wecanupdatethest𝑥 a1 teofth𝑥𝑛
e
thequantifiedstrategies𝑓 𝑧,𝑓 𝑤,𝑓 𝑣 ∈Str(G))andaddthispathtoΠ 𝜋-simulationbyconstructingtheactionassignment(cid:206) 𝑎 ,
(whichalreadycontains𝜋1). △ i.e.,assigneachagentthecorrespondingaction,andobta𝑖∈ inAg thts en𝑥(cid:174) e(𝑖 x) t
stateusingG’stransitionfunction𝜅.
6.4 Constructing (G,𝑠(cid:164),𝑘)-Summaries
Wewrite∨∧Q foraconjunction((cid:211))ifQ = ∀andadisjunction Example7. LetususeExample4toillustratetheconstruction
((cid:212)) if Q = ∃. The backbone of our model-checking algorithm inAlgorithm1.Assumewearegivenan(G,𝑠(cid:164),3)-summaryA3over
(whichwepresentinSection6.5)isaneffectiveconstructionofa alphabet ({𝜋1,𝜋2} → 𝑆), i.e., for every Π : {𝜋1,𝜋2} → 𝑆𝜔 , we
(G,𝑠(cid:164),𝑘)-summaryA𝑘 foreach1≤𝑘 ≤𝑚+1.Toconstructthese have zip(Π) ∈ L(A3) iff Π |=G 𝜓 (cf. Example 6). We invoke
summaries,wesimulatequantificationoverstrategies.Wedescribe
simulate(G,𝑠(cid:164),𝜋2,𝑥(cid:174),♭2,A3)where𝑥(cid:174)=(𝑤,𝑧,𝑣,𝑣)and♭2=∃𝑧∀𝑤∃𝑣,
thissimulationconstructioninAlgorithm1.Beforeexplainingthe
andlet(𝑄,𝑞0,𝛿,𝑐)betheDPAequivalenttoA3(computedinline2).
construction,westatetheresultofAlgorithm1asfollows: Inthiscase,simulatecomputestheAPAB = (𝑄×𝑆,(𝑞0,𝑠(cid:164)),𝛿′,𝑐′)
overalphabet{𝜋1}→𝑆where𝛿′(cid:0)(𝑞,𝑠),𝑡(cid:174)(cid:1)
isdefinedas
Proposition2. Given𝑠(cid:164)∈𝑆,𝜋 ∈V,astrategyprofile𝑥(cid:174):Agts→
X,aquantifierblock♭suchthatforevery𝑖 ∈Agts,𝑥(cid:174)(𝑖)isquantified (cid:220) (cid:219) (cid:220) (cid:16) 𝛿(𝑞,𝑡(cid:174)[𝜋2↦→𝑠]),𝜅(cid:0)𝑠,(𝑎 𝑤,𝑎 𝑧,𝑎 𝑣,𝑎 𝑣)(cid:1)(cid:17) .
in♭,andanAPAA overalphabet (𝑉 ⊎{𝜋} → 𝑆).LetB bethe 𝑎𝑧∈A 𝑎𝑤∈A 𝑎𝑣∈A
r Πes :u 𝑉lts →of 𝑆s 𝜔im ,u wl eat he a( vG e, z𝑠(cid:164) i, p𝜋 (Π,𝑥(cid:174) ), ∈♭, LA () B.T )h iffenforanypathassignment T sph oa nt di is n, gin toe ta hc eh acs tt ie op n, sw ele ecd ti es dju bn yct ei xv ie sl ty enc th iao lo lyse qua an na tic fiti eo dn st𝑎 r𝑧 at( ec go yrr 𝑧e )-
,
(cid:101)♭.zip(cid:16) Π(cid:2)𝜋 ↦→Play G(cid:0)𝑠(cid:164), (cid:214) 𝑓 𝑥(cid:174)(𝑖)(cid:1)(cid:3)(cid:17) ∈L(A). (1) conjunctivelypickanaction𝑎 𝑤 (correspondingtotheactionselected
𝑖∈Agts
byuniversallyquantifiedstrategy𝑤),andfinallydisjunctivelyselectAlgorithm2Model-checkingalgorithmforHyperSL[SPE]. Table1:WecompareHyMASMCandMCMAS-SL[1G]onthesched-
ulerproblemfrom[23].Wegivethesizeofthesystem(|𝑺|),
1def modelCheck(G,𝑠(cid:164),𝜑=♭1···♭𝑚.𝜓(cid:2)𝜋 𝑘 :𝑥(cid:174)𝑘(cid:3)𝑚 𝑘=1): thesizeofthereachablefragment(|𝑺 reach|),andthetimesin
2 // Assume 𝜓 contains no nested state formulas seconds(𝒕).Thetimeout(TO)issetto1h.
3 A𝑚+1 = LTLtoAPA(𝜓)
4 // A𝑚+1 is a (G,𝑠(cid:164),𝑚+1)-summary
5 for 𝑘 from 𝑚 to 1: 𝒏 |𝑺| |𝑺reach| 𝒕MCMAS-SL[1G] 𝒕HyMASMC
6 A𝑘 = simulate(G,𝑠(cid:164),𝜋 𝑘,𝑥(cid:174)𝑘,♭ 𝑘,A𝑘+1) 2 72 9 0.1 0.4
7 // A𝑘 is a (G,𝑠(cid:164),𝑘)-summary 3 432 21 6.71 1.9
8 if L(A1)≠∅ then 4 2592 49 313.7 24.5
9 return SAT // 𝑠(cid:164),{} |=G𝜑 5 15552 113 TO 332.1
10 else
11 return UNSAT // 𝑠(cid:164),{}̸|=G𝜑
constructiontotranslatetheLTLformula𝜓toanAPAoveralphabet
({𝜋1,...,𝜋 𝑚}→𝑆),asis,e.g.,standardforHyperCTL∗[33].For
action𝑎 𝑣.Afterwehavefixedactions𝑎 𝑧,𝑎 𝑤and𝑎 𝑣,wetakeastepin
each𝑘from𝑚to1,wethenusethe(G,𝑠(cid:164),𝑘+1)-summaryA𝑘+1to
Gbylettingeachagent𝑖playaction𝑎 𝑥(cid:174)(𝑖),i.e.,agent1choosesaction c fro om mpu At le ga or( iG th, m𝑠(cid:164),𝑘 1)- (s su imm im laa rr ty oA w𝑘 hau tsi wng et ih lle uss ti rm au tel dat ie nc Eon xast mru pc lt eio 7n
).
𝑎 𝑤,agent2chooses𝑎 𝑧,andagents3and4pick𝑎 𝑣.ByProposition2,
everyΠ:{𝜋1}→𝑆𝜔 satisfieszip(Π) ∈L(B)iff FromProposition2,wecanconcludethefollowinginvariant:
∃𝑓 𝑧.∀𝑓 𝑤.∃𝑓 𝑣.zip(cid:0)Π[𝜋2↦→Play G(𝑠(cid:164),(𝑓 𝑤,𝑓 𝑧,𝑓 𝑣,𝑓 𝑣))](cid:1) ∈L(A3) Lemma4. Inline7,A𝑘 isa(G,𝑠(cid:164),𝑘)-summary.
which(byassumptiononA3)holdsiff Aftertheloop,wearethusleftwitha (G,𝑠(cid:164),1)-summary A1
∃𝑓 𝑧.∀𝑓 𝑤.∃𝑓 𝑣.Π[𝜋2↦→Play G(𝑠(cid:164),(𝑓 𝑤,𝑓 𝑧,𝑓 𝑣,𝑓 𝑣))] |=G𝜓.
( bo yve ter st th ine gsi Am 1pl fe ot ron emal pp th ina eb se st (( l∅ in→ e8)𝑆 :))andcancheckif𝑠(cid:164),{} |=G 𝜑
Wehavethususedsimulate(Algorithm1)tocomputea (G,𝑠(cid:164),2)-
summaryfroma(G,𝑠(cid:164),3)-summary(cf.Example6). △
Lemma5. Forany(G,𝑠(cid:164),1)-summaryA,wehavethatL(A)≠∅
ifandonlyif𝑠(cid:164),{} |=G 𝜑.
WecannowformallyproveProposition2:
FromLemmas4and5,itfollowsthatmodelCheck(G,𝑠(cid:164),𝜑)returns
ProofSketchofProposition2. TheideaofautomatonBcon- SATiff𝑠(cid:164),{} |=G 𝜑,provingTheorem2.
structedinAlgorithm1istosimulatethepaththatcorrespondsto
pathvariable𝜋.ToarguethatBexpressesthedesiredlanguage,we 6.6 Model-CheckingComplexity
makeuseofthepositionaldeterminacyofconcurrentparitygames Thedeterminizationinline2ofAlgorithm1resultsinaDPAA
det
(CPG)[40].ACPGisasimplemulti-playergamemodelwherewe ofdoublyexponentialsize(cf.Proposition1).ThesizeofBisthen
canquantifyoverstrategiesforeachoftheplayers.ForanyfixedΠ, linearinthesizeof A and G.Intheworstcase,eachcallof
det
wedesignan(infinite-state)CPG,thatiswoniffEq.(1)holds.We simulatethusincreasesthesizeoftheautomatonbytwoexpo-
thenexploitthefactthatCPGsaredetermined(cf.[40,Thm.4.1]), nents.ForaHyperSL[SPE]formulawithblock-rank𝑚,simulateis
i.e.,insteadofquantifyingoverentirestrategiesintheCPG,wecan called𝑚times,sothefinalautomatonA1has,intheworstcase,
quantifyoverSkolemfunctionsforactionsineachstep.Thisallows 2𝑚-exponentialmanystates(inthesizeof𝜓 andG).Aswecan
ustoshowthattheCPGiswoniffBhasanacceptingrun(onthe checkemptinessofAPAsoverthesingletonalphabet(∅→𝑆)in
fixedΠ),givingusthedesiredresult.Werefertheinterestedreader polynomialtime,weget:
toAppendixDfordetails. □
Theorem3. ModelcheckingforaHyperSL[SPE]formulawith
6.5 Model-CheckingAlgorithm
block-rank𝑚isin2𝑚-EXPTIME.
Equippedwiththeconceptof(G,𝑠(cid:164),𝑘)-summaryandthesimula- FromLemma2andthelowerboundsknownforHyperATL∗
tionconstruction,wecannowpresentourMCalgorithmforHy- [17],itfollowsthatouralgorithmisasymptoticallyalmostoptimal:
perSL[SPE]inAlgorithm2.ThemodelCheckprocedureisgivena
Lemma6. ModelcheckingforaHyperSL[SPE]formulawithblock-
CGS G,astate𝑠(cid:164),andaHyperSL[SPE]formula𝜑,andchecksif
rank𝑚is(2𝑚−1)-EXPSPACE-hard.
𝑠(cid:164),{} |=G 𝜑.Ouralgorithmassumes,w.l.o.g.,thatthepathformula
𝜓 containsnonestedstateformulas.Incasetherearenestedstate
formulas,wecaneliminatethemiteratively:Werecursivelycheck 6.7 BeyondHyperSL[SPE]
eachnestedstateformulaonallstatesoftheCGS,andlabelall HyperSL[SPE]isdefinedpurelyintermsofthestructureofthequan-
stateswherethestateformulaholdswithafreshatomicproposi- tifierprefix.Assoonasstrategyvariablesarequantifiedinanorder
tion.Inthepathformula,wecanthenreplaceeachstateformula suchthattheycannotbegroupedtogether,MCbecomes,ingeneral,
withareferencetothefreshatomicproposition.See,e.g.,[18,31] undecidable:AlreadythesimplestsuchpropertyQ𝑥.Q𝑦.Q𝑧.Q𝑤.
fordetails. 𝜓[𝜋1 : (𝑥,𝑧),𝜋2 : (𝑦,𝑤)],leadstoundecidableMC(seeAppen-
ThemainideaofourMCalgorithmistoiterativelyconstruct dixC.3).Thefragmentwehaveidentifiedisthusthelargestpossible
a(G,𝑠(cid:164),𝑘)-summaryA𝑘 foreach1 ≤𝑘 ≤𝑚+1.Initially,inline (whenonlyconsideringthequantifierprefix).Anyfurtherstudy
4,weconstructa (G,𝑠(cid:164),𝑚+1)-summaryA𝑚+1 usingastandard intodecidablefragmentsofHyperSLneedstoimposerestrictionsTable 2: We check random formulas from the (Sec), (GE), Table3:WeuseHyMASMCtosolvetheoptimaladversarialplan-
and(Rnd)templatesontheISPLmodelsfrom[39].Foreach ningproblem(cf.Example5)forvaryingsizes.Timesare
modelandtemplate,wesample10formulasandreportthe giveninseconds,andtheTOissetto120sec.
averagetime(inseconds).
Size 40 50 60 70 80 90 100 110 120
Model Sec GE Rnd2 Rnd3 Rnd4 t 14.2 22.0 31.2 42.5 57.6 70.1 86.8 104.6 TO
bit-transmission 0.6 0.7 0.8 0.8 2.7
book-store 0.4 0.4 0.4 0.5 0.5
card-game 0.4 0.5 0.4 0.5 0.5 Westressthatwedonotclaimthatallformulasineachofthe
dining-cryptographers 0.6 2.7 11.4 22.6 10.3 templatesmodelrealisticpropertiesineachofthesystems.Rather,
muddy-children 0.4 3.0 1.7 0.8 0.9 ourevaluation(1)demonstratesthatHyperSL[SPE]canexpress
simple-card-game 0.3 3.4 2.9 25.3 32.6 interestingproperties,and(2)empiricallyshowsthatHyMASMCcan
software-development - - - - -
checksuchpropertiesinexistingISPLmodels(confirmingthisvia
strongly-connected 0.6 0.8 0.8 1.7 3.2
furtherreal-worldscenariosisinterestingfuturework).
tianji-horse-racing 0.4 0.5 0.4 0.5 0.5
7.3 Model-CheckingForOptimalPlanning
beyondtheprefixand,e.g.,analyzehowdifferentpathvariables Inourlastexperiment,wechallengeHyMASMCwithplanningex-
arerelatedwithinanLTLpathformula(seealsoSection8). amples as those outlined in Example 5. We randomly generate
planninginstancesbetweentherobot𝑟,adversary𝑎,andndet,and
7 IMPLEMENTATIONANDEXPERIMENTS checkifrobot𝑟 canreachthegoalfollowingsomeshortestpathin
theproblem.Foravaryingsize𝑛,werandomlycreate10planning
We have implemented our HyperSL[SPE] model-checking algo-
instanceswith𝑛states.WereporttheverificationtimesinTable3.
rithmintheHyMASMCtool[18].
Withincreasingsize,therunningtimeofHyMASMCclearlyincreases,
buttheincreaseseemstobequadraticratherthanexponential.
7.1 Model-CheckingForStrategyLogic
WecompareHyMASMCagainstMCMAS-SL[1G][23]on(non-hyper)
8 CONCLUSIONANDFUTUREWORK
SL[1G]properties(cf.Section6.2).InTable1,wedepicttheverifi-
WehavepresentedHyperSL,anewtemporallogicthatextendsstrat-
cationtimesfortheschedulingproblemfrom[23](whichcanbe
egylogicwiththeabilitytoreasonabouthyperproperties.HyperSL
expressedinSL[1G]andATL∗).Asin[18],weobservethatHyMASMC
canexpresscomplexpropertiesinMASsthatrequireacombination
performsmuchfasterthanMCMAS-SL[1G],whichwelargelyac-
ofstrategicreasoningandhyper-requirements(suchasoptimalilty,
credit to HyMASMC’s efficient automata backend using spot [30].
GE,non-interference,andquantitativeNashequilibria);manyof
NotethatweuseMCMAS-SL[1G]andHyMASMCdirectlyontheorigi-
whichwereoutofreachofexistinglogics.Assuch,HyperSLcan
nalmodel,i.e.,wedidnotperformanyprepossessingusing,e.g.,
serveasaunifyingfoundationforanexactexplorationoftheinter-
abstractiontechniques[5,6,8](whichwouldreducethesystem
actionofstrategicbehaviorwithhyperproperties,andprovidesa
sizeandmaketheverificationmorescaleableforbothtools).
formallanguagetoexpress(un)decidabilityresults.Moreover,we
havetakenafirststeptowardstheambitiousgoalofautomatically
7.2 Model-CheckingForHyperproperties
model-checkingHyperSL.OurfragmentHyperSL[SPE]subsumes
Inasecondexperiment,wedemonstratethatHyMASMCcanverify manyrelevantotherlogicsandcapturesuniquepropertiesnotex-
hyperpropertiesonvariousMASsfromtheliterature.Weusethe pressibleinexistingframeworks.OurimplementationinHyMASMC
ISPLmodelsfromtheMCMASbenchmarkssuit[39],andgenerate showsthatourMCapproachispracticalinsmallMASs.
randomHyperSL[SPE]formulasfromvariouspropertytemplates: Aparticularlyinterestingfuturedirectionistosearchforfurther
• (Sec): We check if some agent𝑖 can reach some target state fragmentsofHyperSLwithdecidablemodelchecking.Asargued
without leaking information about some secret AP via some inSection6.7,anysuchfragmentneedstotakethestructureof
observableAP.Concretely,wecheckif𝑖canplaysuchthaton theLTL-formula(s)intoaccount.Forexample,Mogaveroetal.[46]
someotherpath,thesameobservationsequenceiscoupledwith showedthatSL[CG](afragmentofSLthatonlyallowsconjunctions
adifferenthigh-securityinput,apropertycommonlyreferredto ofgoalformulas)stilladmitsbehavioralstrategies(i.e.,strategies
asnon-inference[43]oropacity[52,55]. thatdonotdependonfutureorcounterfactualdecisionsofother
• (GE): We check if a given SL[1G] formula holds on all input strategies).Whenextendingthistoourhypersetting,itseemslikely
sequencesforwhichsomewinningoutputsequenceexists,asis, thatifastrategyisusedonmultiplepathvariables,butthesepaths
e.g.,requiredingood-enoughsynthesis[1,3]. occurindisjointconjunctsofpathformulas,MCremainsdecidable.
• (Rnd):WerandomlygenerateHyperSL[SPE]formulaswithblock- Weleavesuchextensionsasfuturework.
rank2,3,and4(calledRnd2,Rnd3,andRnd4,respectively).
WedepicttheresultsinTable2,demonstratingthatHyMASMC ACKNOWLEDGMENTS
canhandlemostinstances.Theonlyexceptionisthesoftware- ThisworkwassupportedbytheEuropeanResearchCouncil(ERC)
developmentmodel,whichincludes≈15kstatesandistherefore GrantHYPER(101055412),andbytheGermanResearchFoundation
toolargeforanautomata-basedrepresentation. (DFG)aspartofTRR248(389792660).REFERENCES InInternationalConferenceonPrinciplesofSecurityandTrust,POST2014.
[1] ShaullAlmagorandOrnaKupferman.2020.Good-EnoughSynthesis.InInterna- [27] MichaelR.ClarksonandFredB.Schneider.2008.Hyperproperties.InComputer
tionalConferenceonComputerAidedVerification,CAV2020. SecurityFoundationsSymposium,CSF2008.
[2] RajeevAlur,ThomasA.Henzinger,andOrnaKupferman.2002.Alternating-time [28] NorineCoenen,BerndFinkbeiner,ChristopherHahn,andJanaHofmann.2019.
temporallogic.J.ACM(2002). TheHierarchyofHyperlogics.InSymposiumonLogicinComputerScience,LICS
[3] BenjaminAminof,GiuseppeDeGiacomo,andSashaRubin.2021. Best-Effort 2019.
Synthesis:DoingYourBestIsNotHarderThanGivingUp.InInternationalJoint [29] CatalinDimaandFerucioLaurentiuTiplea.2011.Model-checkingATLunder
ConferenceonArtificialIntelligence,IJCAI2021. ImperfectInformationandPerfectRecallSemanticsisUndecidable.CoRR(2011).
[4] BenjaminAminof,MartaKwiatkowska,BastienMaubert,AnielloMurano,and [30] AlexandreDuret-Lutz,EtienneRenault,MaximilienColange,FlorianRenkin,
SashaRubin.2019.ProbabilisticStrategyLogic.InInternationalJointConference AlexandreGbaguidiAisse,PhilippSchlehuber-Caissier,ThomasMedioni,An-
onArtificialIntelligence,IJCAI2019. toineMartin,JérômeDubois,ClémentGillard,andHenrichLauko.2022.From
[5] ThomasBallandOrnaKupferman.2006.AnAbstraction-RefinementFramework Spot2.0toSpot2.10:What’sNew?.InInternationalConferenceonComputer
forMulti-AgentSystems.InSymposiumonLogicinComputerScienceLICS2006. AidedVerification,CAV2022.
[6] FrancescoBelardinelli,AngeloFerrando,WojciechJamroga,VadimMalvone,and [31] E.AllenEmersonandJosephY.Halpern.1986. "Sometimes"and"NotNever"
AnielloMurano.2023. ScalableVerificationofStrategyLogicthroughThree- revisited:onbranchingversuslineartimetemporallogic.J.ACM(1986).
ValuedAbstraction.InInternationalJointConferenceonArtificialIntelligence, [32] BerndFinkbeiner,ChristopherHahn,PhilipLukert,MarvinStenger,andLe-
IJCAI2023. anderTentrup.2018.SynthesizingReactiveSystemsfromHyperproperties.In
[7] Francesco Belardinelli, Sophia Knight, Alessio Lomuscio, Bastien Maubert, InternationalConferenceonComputerAidedVerification,CAV2018.
AnielloMurano,andSashaRubin.2021. ReasoningAboutAgentsThatMay [33] BerndFinkbeiner,MarkusN.Rabe,andCésarSánchez.2015. Algorithmsfor
KnowOtherAgents’Strategies.InInternationalJointConferenceonArtificial ModelCheckingHyperLTLandHyperCTL*.InInternationalConferenceonCom-
Intelligence,IJCAI2021. puterAidedVerification,CAV2015.
[8] FrancescoBelardinelliandAlessioLomuscio.2017.Agent-basedAbstractions [34] BerndFinkbeinerandMartinZimmermann.2017. TheFirst-OrderLogicof
forVerifyingAlternating-timeTemporalLogicwithImperfectInformation.In Hyperproperties.InSymposiumonTheoreticalAspectsofComputerScience,STACS
ConferenceonAutonomousAgentsandMultiAgentSystems,AAMAS2017. 2017.
[9] Francesco Belardinelli, Alessio Lomuscio, and Vadim Malvone. 2019. An [35] JensOliverGutsfeld,MarkusMüller-Olm,andChristophOhrem.2020.Proposi-
Abstraction-BasedMethodforVerifyingStrategicPropertiesinMulti-Agent tionalDynamicLogicforHyperproperties.InInternationalConferenceonCon-
SystemswithImperfectInformation.InConferenceonArtificialIntelligence,AAAI currencyTheory,CONCUR2020.
2019. [36] SophiaKnightandBastienMaubert.2019.Dealingwithimperfectinformation
[10] FrancescoBelardinelli,AlessioLomuscio,AnielloMurano,andSashaRubin. inStrategyLogic.CoRR(2019).
2017.VerificationofMulti-agentSystemswithImperfectInformationandPublic [37] FrançoisLaroussinieandNicolasMarkey.2015.AugmentingATLwithstrategy
Actions.InConferenceonAutonomousAgentsandMultiAgentSystems,AAMAS contexts.Inf.Comput.(2015).
2017. [38] FrançoisLaroussinie,NicolasMarkey,andArnaudSangnier.2015.ATLscwith
[11] RaphaëlBerthon,BastienMaubert,andAnielloMurano.2017. Decidability partialobservation.InInternationalSymposiumonGames,Automata,Logicsand
ResultsforATL*withImperfectInformationandPerfectRecall.InConferenceon FormalVerification,GandALF2015.
AutonomousAgentsandMultiAgentSystems,AAMAS2017. [39] AlessioLomuscio,HongyangQu,andFrancoRaimondi.2009.MCMAS:AModel
[12] RaphaëlBerthon,BastienMaubert,AnielloMurano,SashaRubin,andMosheY. CheckerfortheVerificationofMulti-AgentSystems.InInternationalConference
Vardi.2017.Strategylogicwithimperfectinformation.InSymposiumonLogicin onComputerAidedVerification,CAV2009.
ComputerScience,LICS2017. [40] VadimMalvone,AnielloMurano,andLoredanaSorrentino.2016.Concurrent
[13] RaphaëlBerthon,BastienMaubert,AnielloMurano,SashaRubin,andMosheY. Multi-PlayerParityGames.InInternationalConferenceonAutonomousAgents&
Vardi.2021. StrategyLogicwithImperfectInformation. ACMTrans.Comput. MultiagentSystems,AAMAS2016.
Log.(2021). [41] BastienMaubertandAnielloMurano.2018.ReasoningaboutKnowledgeand
[14] RavenBeutnerandBerndFinkbeiner.2021. ATemporalLogicforStrategic StrategiesunderHierarchicalInformation.InInternationalConferenceonPrinci-
Hyperproperties.InInternationalConferenceonConcurrencyTheory,CONCUR plesofKnowledgeRepresentationandReasoning,KR2018.
2021. [42] DarylMcCullough.1988. Noninterferenceandthecomposabilityofsecurity
[15] RavenBeutnerandBerndFinkbeiner.2022.SoftwareVerificationofHyperproper- properties.InSymposiumonSecurityandPrivacy,SP1988.
tiesBeyondk-Safety.InInternationalConferenceonComputerAidedVerification, [43] JohnMcLean.1994.Ageneraltheoryofcompositionfortracesetsclosedunder
CAV2022. selectiveinterleavingfunctions.InSymposiumonResearchinSecurityandPrivacy,
[16] RavenBeutnerandBerndFinkbeiner.2023. AutoHyper:Explicit-StateModel SP1994.
CheckingforHyperLTL.InInternationalConferenceonToolsandAlgorithmsfor [44] SatoruMiyanoandTakeshiHayashi.1984. AlternatingFiniteAutomataon
theConstructionandAnalysisofSystems,TACAS2023. omega-Words.Theor.Comput.Sci.(1984).
[17] RavenBeutnerandBerndFinkbeiner.2023.HyperATL*:ALogicforHyperprop- [45] FabioMogavero,AnielloMurano,GiuseppePerelli,andMosheY.Vardi.2014.
ertiesinMulti-AgentSystems.Log.MethodsComput.Sci.(2023). ReasoningAboutStrategies:OntheModel-CheckingProblem. ACMTrans.
[18] RavenBeutnerandBerndFinkbeiner.2024.OnAlternating-TimeTemporalLogic, Comput.Log.(2014).
Hyperproperties,andStrategySharing.InConferenceonArtificialIntelligence, [46] FabioMogavero,AnielloMurano,andLuigiSauro.2013.OntheBoundaryof
AAAI2024. BehavioralStrategies.InSymposiumonLogicinComputerScience,LICS2013.
[19] RavenBeutner,BerndFinkbeiner,HadarFrenkel,andNiklasMetzger.2023. [47] FabioMogavero,AnielloMurano,andLuigiSauro.2014.ABehavioralHierarchy
Second-OrderHyperproperties.InInternationalConferenceonComputerAided ofStrategyLogic.InInternationalWorkshoponComputationalLogicinMulti-
Verification,CAV2023. AgentSystems,CLIMA2014.
[20] PatriciaBouyer,OrnaKupferman,NicolasMarkey,BastienMaubert,Aniello [48] JohnFNashJr.1950.Equilibriumpointsinn-persongames.Proceedingsofthe
Murano,andGiuseppePerelli.2019.ReasoningaboutQualityandFuzzinessof nationalacademyofsciences(1950).
StrategicBehaviours.InInternationalJointConferenceonArtificialIntelligence, [49] MarcPaulyandRohitParikh.2003. GameLogic-AnOverview. StudLogica
IJCAI2019. (2003).
[21] LauraBozzelli,BastienMaubert,andSophiePinchinat.2015.UnifyingHyper [50] NirPiterman.2007. FromNondeterministicBüchiandStreettAutomatato
andEpistemicTemporalLogics.InInternationalConferenceonFoundationsof DeterministicParityAutomata.Log.MethodsComput.Sci.(2007).
SoftwareScienceandComputationStructures,FoSSaCS2015. [51] AndreiSabelfeld.2003.ConfidentialityforMultithreadedProgramsviaBisim-
[22] NilsBullingandWojciechJamroga.2014.Comparingvariantsofstrategicability: ulation.InInternationalConferenceonPerspectivesofSystemsInformatics,PSI
howuncertaintyandmemoryinfluencegeneralpropertiesofgames. Auton. 2003.
AgentsMultiAgentSyst.(2014). [52] AnooshiravanSabooriandChristoforosN.Hadjicostis.2013. Verificationof
[23] PetrCermák,AlessioLomuscio,andAnielloMurano.2015.VerifyingandSyn- initial-stateopacityinsecurityapplicationsofdiscreteeventsystems.Inf.Sci.
thesisingMulti-AgentSystemsagainstOne-GoalStrategyLogicSpecifications. (2013).
InConferenceonArtificialIntelligence,AAAI2015. [53] MosheY.Vardi.1995. AlternatingAutomataandProgramVerification. In
[24] KrishnenduChatterjee,ThomasA.Henzinger,andNirPiterman.2010.Strategy ComputerScienceToday:RecentTrendsandDevelopments.
logic.Inf.Comput.(2010). [54] J.ToddWittboldandDaleM.Johnson.1990.InformationFlowinNondetermin-
[25] SwaratChaudhuri,SumitGulwani,andRobertoLublinerman.2012.Continuity isticSystems.InSymposiumonSecurityandPrivacy,SP1990.
androbustnessofprograms.Commun.ACM(2012). [55] KuizeZhang,XiangYin,andMajidZamani.2019.OpacityofNondeterministic
[26] MichaelR.Clarkson,BerndFinkbeiner,MasoudKoleini,KristopherK.Micinski, TransitionSystems:A(Bi)SimulationRelationApproach. IEEETrans.Autom.
MarkusN.Rabe,andCésarSánchez.2014.TemporalLogicsforHyperproperties. Control.(2019).A ADDITIONALMATERIALFORSECTION3 StateandpathformulasinSLaredefinedasfollows:
InthissectionwegivedetailsonthesemanticsofAPAs.Tomake
𝜓 :=𝑎 |𝜑 |¬𝜓 |𝜓 ∧𝜓 |X𝜓 |𝜓U𝜓
ourlaterproofs(whichusetheAPAsemantics)easier,weusea
DAG-basedsemantics(opposedtothemoreprominentlyused– 𝜑 :=𝜓 |𝜑∧𝜑 |𝜑∨𝜑 |∀𝑥.𝜑 |∃𝑥.𝜑 | (𝑖,𝑥)𝜑
butequivalent–tree-basedsemantics).Wereferthereaderto[53]
formoredetails.
where𝑎 ∈ AP,𝑥 ∈ X,and𝑖 ∈ Agts.Importantly,weassumethat
everystateformulaoccurringinapathformulaisclosed.
Definition3. Foraset𝑄,wewriteB+(𝑄)forthesetofallpositive TheideaofSListoseparatethequantificationofastrategyand
booleanformulasover𝑄,i.e.,allformulasgeneratedbythegrammar thebindingofastrategytosomeagent.Toaccomplishthelatter,it
𝜃 :=𝑞 |𝜃1∧𝜃2 |𝜃1∨𝜃2
featuresanexplicitagent-bindingconstruct(𝑖,𝑥)𝜑whichevaluates
𝜑afterbindingagent𝑖tostrategy𝑥.
where𝑞 ∈𝑄.Givenasubset𝑋 ⊆𝑄and𝜃 ∈B+(𝑄),wewrite𝑋 |=𝜃
iftheassignmentthatmapsallstatesin𝑋 to⊤andthosein𝑄\𝑋 to Semantics. AssumeG = (𝑆,𝑠0,A,𝜅,𝐿) isafixedCGS.Givena
⊥satisfiesΨ.Forexample{𝑞0,𝑞1} |=𝑞0∧(𝑞1∨𝑞2). path𝑝 ∈𝑆𝜔 wedefinethesemanticsofpathformulasasexpected:
Let A = (𝑄,𝑞0,𝛿,𝑐) be an APA. A run DAG of A is a pair 𝑝 |=G 𝑎 iff 𝑎∈𝐿(𝑝(0))
D {𝑖}= )×(𝑉 (𝑄,𝐸 ×) {o 𝑖f +n 1o }d )e .s Ta hn ad tie sd ,eg ae cs hsu nc oh deth inat 𝑉𝑉 c⊆ on𝑄 sis× tN of, a𝐸 s⊆ tat(cid:208) ei𝑖 n∈N 𝑄(𝑄 an×
d
𝑝 |=G 𝜑 iff 𝑝(0),{},{} |=G 𝜑
adepthandtheedgesin𝐸onlyreachfromdepth𝑖todepth𝑖+1.For 𝑝 |=G𝜓1∧𝜓2 iff 𝑝 |=G𝜓1and𝑝 |=G𝜓2
every(𝑞,𝑖) ∈𝑉,wedefinesucs(𝑞,𝑖):={𝑞′ | ((𝑞,𝑖),(𝑞′,𝑖+1)) ∈𝐸} 𝑝 |=G ¬𝜓 iff 𝑝 ̸|=G𝜓
ast Ahe rus nta ote fAcom onpo an we on rt do 𝑢f( ∈𝑞, Σ𝑖 𝜔)’s issu ac rc ue nss Do Ar Gno Dde =s.
(𝑉,𝐸)suchthat
𝑝 |=G X𝜓 iff 𝑝[1,∞] |=G𝜓
(𝑞0,0) ∈𝑉 andforevery(𝑞,𝑖) ∈𝑉,sucs(𝑞,𝑖) |=𝛿(𝑞,𝑢(𝑖)).Thatis,
𝑝 |=G𝜓1U𝜓2 iff ∃𝑗 ∈N.𝑝[𝑗,∞] |=G𝜓2and
therunDAGstartsintheinitialstate𝑞0atdepth0,andforeach ∀0≤𝑘 < 𝑗.𝑝[𝑘,∞] |=G𝜓1
nodeintheDAGthesuccessorsofeachnodesatisfythetransition
Inthesemanticsofstateformulas,wekeeptrackofastrategyfor
formulagivenbythetransitionfunction𝛿.
eachstrategyvariableviaa(partial)strategyassignmentΔ:X⇀
Forexample,consideranode(𝑞,𝑖)andassumethat𝛿(𝑞,𝑢(𝑖))=
𝑞1∨𝑞2.ThentheDAGmustincludeeither𝑞1 or𝑞2 (orboth)as S agtr e( nG t) b, insi dm inil ga sr ,t wo eth ae lsH oy kp eee prS tL ras ce km oa fn ati sc ts r. aA tes gS yL fow ro er ak cs hw ai gth ene tx up sl ii nci gt
successorsinthenextlevel.Inparticular,ifthetransitionfunc-
tion𝛿usesonlydisjunctions(noconjunctions)theautomataonis
a(partial)functionΘ:Agts⇀Str(G).Wecanthendefine:
non-deterministic.Inthiscase,eachnodeintheDAGcanhavea
uniquesuccessor;theDAGisaline(ainfinitesequenceofstates).
𝑠,Δ,Θ|=G ∀𝑥.𝜑 iff ∀𝑓 ∈Str(G).𝑠,Δ[𝑥 ↦→𝑓],Θ|=G 𝜑
Conversely,if𝛿(𝑞,𝑢(𝑖)) = 𝑞1 ∧𝑞2 thenboth𝑞1 and𝑞2 needto
𝑠,Δ,Θ|=G ∃𝑥.𝜑 iff ∃𝑓 ∈Str(G).𝑠,Δ[𝑥 ↦→𝑓],Θ|=G 𝜑
appearinthenextlevel,i.e.,weneedtoconstructacceptingruns 𝑠,Δ,Θ|=G (𝑖,𝑥)𝜑 iff 𝑠,Δ,Θ[𝑖 ↦→Δ(𝑥)] |=G 𝜑
frombothofthesestates. 𝑠,Δ,Θ|=G 𝜑1∧𝜑2 iff 𝑠,Δ,Θ|=G 𝜑1and𝑠,Δ,Θ|=G 𝜑2
ArunDAGDisacceptingifforeveryinfinitepathintheDAG
theminimalcolorthatoccursinfinitelymanytimes(asgivenby𝑐)
𝑠,Δ,Θ|=G 𝜑1∨𝜑2 iff 𝑠,Δ,Θ|=G 𝜑1or𝑠,Δ,Θ|=G 𝜑2
iseven.WedefineL(A) ⊆ Σ𝜔 asallinfinitewordsonwhichA 𝑠,Δ,Θ|=G𝜓 iff Play G(cid:0)𝑠, (cid:214) Θ(𝑖)(cid:1) |=G𝜓
hasanacceptingrunDAG. 𝑖∈Agts
StrategyquantificationupdatesthebindinginΔ(asinHyperSL),
B ADDITIONALMATERIALFORSECTION5
whereasstrategybindingupdatestheassignmentofagentsinΘ.
WeprovidesomebackgroundonthetemporallogicsHyperLTL,
ForeachpathformulaweusethestrategyprofileΘ(mappingeach
SL,HyperATL∗,andHyperATL∗ andgivetheirfullsemantics.
𝑆 agenttoastrategy)toconstructthepathonwhichweevaluate𝜓.
B.1 SLandHyperSL
WewriteG |=SL𝜑if𝑠0,{},{} |=G 𝜑intheSLsemantics.
Inthissubsection,weprovideadditiondetailsontherelationof Encoding. We can easily encode SL into HyperSL. Instead of
SLandHyperSL(cf.Section5.1).WeconsideravariantofSLthat usingexplicitagentbindingsasinSL,inHyperSL,eachpathis
allowsmultipleagentstosharethestrategybyusingexplicitagent annotatedwithanexplicitstrategyprofilethatassignsastrategy
binding,butdisallowsagentbindingsundertemporaloperators. (variable) to each agent. We assume that in the SL formula no
two quantifiers quantify the same strategy variable (which we
Remark1. ThestrategylogicbyMogaveroetal.[45]allowsarbi- canalwaysensureby𝛼-renaming).Let𝜋(cid:164)denotesomefixedpath
trarynestingofagentbindingwithintemporaloperators.Ourvariant variable. In our translation, we maintain an auxiliary mapping
isequivalenttoSL[BG][45]–afragmentthatfollowsastrictsep- 𝑥(cid:174) : Agts ⇀ X mapping agents to strategy variables. We then
arationbetweenstateandpathformulasandtherebyforbidsagent translatepathformulasasfollows:
bindingundertemporaloperators.NotethatSL[BG]strictlysubsumes
thestrategylogicbyChatterjeeetal.[24].Wechoosetorestricttothe 𝑎 :=𝑎 𝜋(cid:164) ¬𝜓 :=¬𝜓 𝜓1∧𝜓2 := 𝜓1 ∧ 𝜓2
SL[BG]fragmentasitissyntacticallyclosertotemporallogicslike (cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77)
CTL∗andHyperCTL∗and,thereby,alsotoHyperSL. 𝜑 := 𝜑 {} X𝜓 :=X 𝜓 𝜓1U𝜓2 := 𝜓1 U 𝜓2
(cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77)Forstateformulaswedefine: {𝑓
𝑖
|𝑖 ∈𝐴}wedefineoutG(cid:0)𝑠,{𝑓
𝑖
|𝑖 ∈𝐴}(cid:1) ⊆𝑆𝜔 as
𝜑1∧𝜑2 𝑥(cid:174) := 𝜑1 𝑥(cid:174)∧ 𝜑2 𝑥(cid:174) 𝜑1∨𝜑2 𝑥(cid:174) := 𝜑1 𝑥(cid:174)∨ 𝜑2 𝑥(cid:174) outG(cid:0)𝑠,{𝑓 𝑖 |𝑖 ∈𝐴}(cid:1) :=
(cid:76) ∀𝑥.𝜑(cid:77) 𝑥(cid:174) :=∀(cid:76) 𝑥.(cid:77) 𝜑 𝑥(cid:174)(cid:76) (cid:77) (cid:76) ∃𝑥.𝜑(cid:77) 𝑥(cid:174) :=(cid:76) ∃𝑥.(cid:77) 𝜑 𝑥(cid:174)(cid:76) (cid:77) (cid:110) Play G(𝑠, (cid:214) 𝑓 𝑖) |∀𝑖 ∈Agts\𝐴.𝑓 𝑖 ∈Str(G)(cid:111) .
(cid:76) 𝜓(cid:77)
𝑥(cid:174) := 𝜓
[(cid:76) 𝜋(cid:164)(cid:77)
:𝑥(cid:174)]
((cid:76) 𝑖,𝑥)𝜑(cid:77)
𝑥(cid:174) := 𝜑
𝑥(cid:174)(cid:76) [𝑖↦→(cid:77)
𝑥]
𝑖∈Agts
(cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77) (cid:76) (cid:77) Thatis,outG(cid:0)𝑠,{𝑓 𝑖 |𝑖 ∈𝐴}(cid:1)containsallpossiblepathscompatible
Forpathformulas,weresolveallatomicpropositionsonthefixed withthestrategiesin{𝑓 𝑖 | 𝑖 ∈ 𝐴}.Wecanthenevaluateastate
pathvariable𝜋(cid:164).Forstateformulas,werecordthestrategyvariable formulainthecontextofastate𝑠andpathassignmentΠ.
playedbyeachagentinthefunction𝑥(cid:174),andwheneverwereach
apathformula,use𝑥(cid:174)toconstructthefixedpath𝜋(cid:164).Notethatthe
𝑠,Π |=G𝜓 iff Π |=G𝜓
formularesultingfromthetranslationusesbooleancombinationof 𝑠,Π |=G ⎷𝐴⌄𝜋.𝜑 iff ∃{𝑓 𝑖 |𝑖 ∈𝐴}.
stateformulas.AsalreadyarguedinSection4,wecanbringsuch ∀𝑝 ∈outG(cid:0)𝑠,{𝑓 𝑖 |𝑖 ∈𝐴}(cid:1).𝑠,Π[𝜋 ↦→𝑝] |=G 𝜑
formulasintotheHyperSLsyntaxbyintroducingmultiplepaths
(seeExample1).Wecanshowthatourtranslationiscorrectand 𝑠,Π |=G 𝐴 𝜋.𝜑 iff ∀{𝑓 𝑖 |𝑖 ∈𝐴}.
(cid:74) (cid:75)
thusproveLemma1: ∃𝑝 ∈outG(cid:0)𝑠,{𝑓 𝑖 |𝑖 ∈𝐴}(cid:1).𝑠,Π[𝜋 ↦→𝑝] |=G 𝜑
Lemma1. ForanySLformula𝜑thereexistsaHyperSLformula Thatis,aformula⎷𝐴⌄𝜋.𝜑 holdswhenthereexiststrategiesfor
𝜑′suchthatforanyCGSG,G |= SL𝜑iffG |=𝜑′. allagentsin𝐴suchthatallpossibleoutcomesunderthosefixed
strategies, when bound to 𝜋, satisfy𝜑. Likewise, 𝐴 𝜋.𝜑 holds
whenallpossiblestrategiesadmitssomepaththat,(cid:74)w(cid:75)henbound
Proof. WecaneasilyshowthatforanygamestructureGand
SLformula𝜑,wehavethatG |=SL𝜑ifanonlyifG |= 𝜑 {}. □ t Ho y𝜋 p, ers Aat Tis Lfi ∗e ss em𝜑. aW nte icsw .riteG |=HyperATL∗ 𝜑 if𝑠0,{} |=G 𝜑 inthe
(cid:76) (cid:77)
B.2 HyperATL∗ andHyperSL Encoding. SimilartothefactthatATL∗ canbeencodedinSL
Inthissubsection,weprovideadditiondetailsontherelationof
[24],wecanencodeHyperATL∗inHyperSL.Theideaistotreat
HyperATL∗andHyperSL(cf.Section5.2). theATL-quantifier⎷𝐴⌄asastrategyquantifierthatexistentially
Ourhypervariantofstrategylogicconsidersstrategiesasfirst- quantifiesoverstrategiesforagentsin𝐴andthenuniversallyover
orderobjectsthatcanbecomparedindifferentstrategyprofiles.
strategiesforagentsoutsideof𝐴.HyperATL∗pathformulascanbe
A weaker form of strategic reasoning is offered in ATL∗ [2] by translatedverbatimintoHyperSLpathformulas.Totranslatestate
onlyreasoningabouttheoutcomeofastrategicinteraction.The formulaswemaintainaauxiliarymapping𝒍 : V ⇀ XAgts from
ATL∗ formula⎷𝐴⌄𝜓 expressesthattheagentsin𝐴haveajoint pathvariablestostrategyprofiles:
strategytoenforcethatthesystemfollowssomepaththatsatisfies
𝜓 𝒍 :=𝜓[𝜋1:𝒍(𝜋1),...,𝜋 𝑚 :𝒍(𝜋 𝑚)]
𝜓.HyperATL∗ [14,17]isahyper-variantofATLthatcombines
(cid:76) (cid:77)
strategic reasoning with the ability to express hyperproperties. ⎷𝐴⌄𝜋.𝜑 𝒍 := ∃𝑥 𝑖. ∀ 𝑥 𝑖. 𝜑 𝒍[𝜋↦→(cid:206) 𝑖∈Agts𝑥𝑖]
Similar to ATL∗, HyperATL∗ only considers the outcomes of a (cid:76) (cid:77) 𝑖∈𝐴 𝑖∈Agts\𝐴 (cid:76) (cid:77)
strategybutbindsthisoutcometoapathvariablewhichallows 𝐴 𝜋.𝜑 𝒍 := ∀𝑥 𝑖. ∃ 𝑥 𝑖. 𝜑 𝒍[𝜋↦→(cid:206) 𝑖∈Agts𝑥𝑖]
comparison w.r.t. a hyperproperty. Formulas in HyperATL∗ are (cid:76)(cid:74) (cid:75) (cid:77) 𝑖∈𝐴 𝑖∈Agts\𝐴 (cid:76) (cid:77)
generatedbythefollowinggrammar:
Inthefirstcase,weassumethat𝜋1,...,𝜋
𝑚
arethepathvariables
𝜓 :=𝑎 𝜋 |¬𝜓 |𝜓 ∧𝜓 |X𝜓 |𝜓U𝜓 usedin𝜓.Inthesecondandthirdcase,weassumethat𝑥1,...,𝑥 𝑛
arefreshstrategyvariablesforeachagent.Intuitively,wereplace
𝜑 :=⎷𝐴⌄𝜋.𝜑 | 𝐴 𝜋.𝜑 |𝜓
(cid:74) (cid:75) each ⎷𝐴⌄𝜋 quantifier with existential quantification over fresh
where𝑎∈AP,𝜋 ∈V,and𝐴⊆Agts. strategiesfor𝐴,followedbyuniversalquantificationoverstrategies
forAgts\𝐴.Intheauxiliarymapping𝒍,werecordwhichstrategy
Semantics. ThesemanticsofHyperATL∗operatesonapathas- profilewelaterwanttousetoconstruct𝜋.Forthepathformula𝜓
signmentΠ : V ⇀ 𝑆𝜔.Forpathformulas,wefollowasimilar wethenreconstructallpathsusedintheformulausingthestrategy
semanticsasusedinHyperSL(cf.Section4):
profilesrecordedin𝒍.WecanuseourtranslationtoproveLemma2:
Π |=G 𝑎 𝜋 iff 𝑎∈𝐿(Π(𝜋)(0)) Lemma2. ForanyHyperATL∗formula𝜑thereexistsaHyperSL
Π |=G𝜓1∧𝜓2 iff Π |=G𝜓1andΠ |=G𝜓2 formula𝜑′suchthatforanyCGSG,G |= HyperATL∗ 𝜑iffG |=𝜑′.
Π |=G ¬𝜓 iff Π̸|=G𝜓 Proof. Aneasyinductionshowsthatforanygamestructure
Π |=G X𝜓 iff Π[1,∞] |=G𝜓 GandHyperATL∗formula𝜑 itholdsthatG |=HyperATL∗ 𝜑 ifand
Π |=G𝜓1U𝜓2 iff ∃𝑗 ∈N.Π[𝑗,∞] |=G𝜓2and onlyifG |= 𝜑 {}. □
∀0≤𝑘 < 𝑗.Π[𝑘,∞] |=G𝜓1 HyperATL(cid:76) ∗.(cid:77)
Asourtranslation 𝜑 {} explicitlyquantifiesover
𝑆
Forstateformulas,weneedtoconsiderallpossibleoutcomesunder strategiesforallagents,wecaneasi(cid:76)ly(cid:77)enforcethattwoagentsshare
strategiesforasubsetoftheagents.Given𝐴⊆Agtsandstrategies astrategybysimplyusingthesamestrategy(variable)forboth.Usingaslightmodificationoftheprevioustranslation,wecanthus action𝑎inthelaststep.Thatis,forall𝑠 ∈𝑆 andallactionprofile
handlethesharingconstraintsfromHyperATL 𝑆∗ [18]: (cid:206) 𝑖∈Agts𝑎 𝑖,wehave
Lemma3. ForanyHyperATL 𝑆∗ formula𝜑thereexistsaHyperSL 𝐿(cid:0)𝜅(𝑠, (cid:214) 𝑎 𝑖)(cid:1)∩{⟨𝑖,𝑎⟩ |𝑖 ∈Agts,𝑎∈A}= (cid:216) {⟨𝑖,𝑎 𝑖⟩}.
formula𝜑′suchthatforanyCGSG,G |= HyperATL𝑆∗ 𝜑iffG |=𝜑′. 𝑖∈Agts 𝑖∈Agts
WecanalwaysensurethatG isinjectivelylabeledbyadding
B.3 SL
ii
andHyperSL atmost⌈log|𝑆|⌉freshatomicpropositions.Theevaluationofall
Inthissubsection,weprovideadditiondetailsontherelationof formulas(whichdonotrefertothesefreshpropositions)remains
SL andHyperSL(cf.Section5.3). unchangedwhenaddingsuchfreshpropositions.Similarly,wecan
ii
SL [12]extendsSL(cf.Section5.1)byallowingstrategiesthat alwaysensurethatastructurerecordsactions.Thisincreasesthe
ii
only observe parts of the system. The formal model of SL are numberofstatesbyafactorof|A||Agts| butdoesnotincreasethe
ii
gamestructuresthatareendowedwithanobservations.LetG= branchinginthesystem,nordoesitchangethesemanticsofSL iiif
(𝑆,𝑠0,A,𝜅,𝐿) beafixedgamestructureandletObsbeafixedfi- weextend∼𝑜 tothenewstatesintheobviousway:
nitesetofso-calledobservations.Anobservationfamily{∼𝑜}𝑜∈Obs Lemma 7. Given an SLii MC instance (G,{∼𝑜}𝑜∈Obs,𝜑) there
𝑝a ids ,es 𝑝Fo
n
′oc
tr
ii ∈ca
a
at 𝑆e l.ss
+t
Ta
r
ahan
rt
i
esee gq 𝑜nyu
-a
ii
t
nv
w
u
da ril
it
ae
sh
l
tn
l
iyc noe
b ges
ur xee
it
sl
r
ea
hv
nt
a
ai do
t
bsin
lo
etn∼
o
,w𝑜
𝑜
fi⊆
,
rn
it
i
t𝑆
w
t te
e×
o
np𝑆
s
l
𝑝atw
a
y
∼t
si et
:
𝑜sh
T𝑠
𝑝we ′a
∼
o
,c i𝑜h
fi
f𝑜
n
|𝑠
𝑝i′∈
t
|ea
=O
p
ppb
l
|as
e
𝑝.
ya ′sr
|
e
w
(x Ghis
′e
,t rs
{e
∼a
(
𝑜′n
1 })
𝑜eff
G
∈Oe ′c bt sii
s
)ve
|I
=l Ly SLac iino 𝜑dm ′p .Au Rta ,b al ne dSL (2ii )in (Gst ,a {n ∼c 𝑜e }( 𝑜G ∈O′, b{ s∼ )𝑜′ |} =𝑜 S∈ LO iibs 𝜑,𝜑 i′ ff)
andforeach0≤𝑖 < |𝑝|,𝑝(𝑖)∼𝑜 𝑝′(𝑖).An𝑜-strategyisafunction Proof. AssumeG=(𝑆,𝑠0,A,𝜅,𝐿).DefineAP′ :=AP⊎{⟨𝑖,𝑎⟩ |
𝑓 :𝑆+ →Athatcannotdistinguishbetween𝑜-indistinguishable 𝑖 ∈Agts,𝑎∈A}.Wethendefine
plays,i.e.,forall𝑝,𝑝′ ∈𝑆+with𝑝 ∼𝑜 𝑝′wehave𝑓(𝑝)=𝑓(𝑝′).We G′ =(𝑆×(Agts→A),(𝑠0,(cid:206) 𝑖∈Agts𝑎),A,𝜅′,𝐿′)
denotewithStr(G,𝑜)thesetofall𝑜-strategiesinG.Weconsider
where𝑎∈Aissomearbitraryaction(intheinitialstate,wedonot
SL formulasthataregeneratedbythefollowinggrammar:
ii needtotrackthelastplayedaction).Foranactionprofile(cid:206) 𝑎 ,
𝑖∈Agts 𝑖
𝜓 :=𝑎 |¬𝜓 |𝜓 ∧𝜓 |X𝜓 |𝜓U𝜓 wedefine𝜅′and𝑙′by
𝜑 :=𝜓 |𝜑∧𝜑 |𝜑∨𝜑 |∀𝑥𝑜.𝜑 |∃𝑥𝑜.𝜑 | (𝑖,𝑥)𝜑 𝜅′(cid:0)(𝑠,_), (cid:214) 𝑎 𝑖(cid:1) :=(𝜅(𝑠, (cid:214) 𝑎 𝑖), (cid:214) 𝑎 𝑖)
where𝑎 ∈ AP,𝑥 ∈ X,𝑖 ∈ Agts,and𝑜 ∈ Obs isanobservation.
𝑖∈Agts 𝑖∈Agts 𝑖∈Agts
Compared to SL, strategy quantification in SL does not range 𝐿′(𝑠, (cid:214) 𝑎 𝑖):=𝐿(𝑠)⊎{⟨𝑖,𝑎 𝑖⟩ |𝑖 ∈Agts}.
ii
overarbitrarystrategiesbutoverstrategiesthatrespectagiven 𝑖∈Agts
observation. TheideabehindG′ isthatwerecordtheactionprofilethatwas
lastusedinthesecondcomponentofeachstate.Ineachtransition,
Semantics. ThesemanticsofSL(cf.AppendixB.1)onlyneedsto
weignoretheactionprofileinthecurrentstep,andrecordthenew
bechangedinthecaseofstrategyquantification:
actionprofilenthesecondcomponent.Inthelabelingfunction,we
𝑠,Δ,Θ|=G ∀𝑥𝑜.𝜑 iff ∀𝑓 ∈Str(G,𝑜).𝑠,Δ[𝑥 ↦→𝑓],Θ|=G 𝜑 canthenusetheactionprofile(cid:206) 𝑖∈Agts𝑎 𝑖 inthesecondcomponent
𝑠,Δ,Θ|=G ∃𝑥𝑜.𝜑 iff ∃𝑓 ∈Str(G,𝑜).𝑠,Δ[𝑥 ↦→𝑓],Θ|=G 𝜑 tosettheAPs⟨𝑖,𝑎 𝑖⟩forall𝑖 ∈Agts.Wedefine{∼𝑜′}𝑜∈Obsby
(cid:110) (cid:111)
where we restrict quantification to 𝑜-strategies. Given a game
∼𝑜′:= (cid:0)(𝑠,_),(𝑠′,_)(cid:1) |𝑠 ∼𝑜 𝑠′ .
structureG,afamily{∼𝑜}𝑜∈Obs,andanSL
ii
formula𝜑 wewrite Thatis,foranyobservationcannotdistinguishstatesbasedonthe
(G,{∼𝑜}𝑜∈Obs) |=SL
ii
𝜑if𝑠0,{},{} |=G 𝜑intheSL iisemantics.See secondposition.Inparticularnotethat(𝑠,_)and(𝑠,_)arealways
[12,13]forconcreteexamplesofSL . indistinguishable,i.e.,allstatesweexpandedthatweaddedare
ii
indistinguishableunderthenewobservation.
n ine seI tn d aj ne tc cot ei t sv r .e a InL na s olb a re t dl ei en rSg L ta oiin tMd raA C nc sit lni ao s tn t eaR tn he cc eeo s mrd i oi nn dtg o e. le -T cqo hu ep i csr a ko t iv i ne s gfiT a ih nbe sleo tar He nm cy ep1 se ,, r ww SL ee I( nG aI ′t , s{i es ∼ ce 𝑜′ oa } ns 𝑜 dy ∈ st Oo tb es s p)e ,e w|=t S eh La ciit a𝜑G n.′ eN nis o suA te rR etha than atd twt Gh ea ′dt ii s( dG an l, so{ ot∼ Ic𝑜 Lh} a b𝑜 n y∈ gO seb ims t) h pe|= lyfS oL ari di m d𝜑 u ini lff a g.
firstmodifytheunderlyinggamestructure.Thereasonforthis
sufficientlymanynewpropositions.Asthosenewpropositionsare
issimple:Strategiesaredefinedasfunctions𝑆+ → Aand∼𝑜 is
neverusedin𝜑thesemanticsisunchanged. □
definedasadirectrelationonstates,i.e.,botharedefineddirectly
oncomponentsofthegamestructure.Incontrast,withinourlogic, IdentifyingIndistinguishableStates. Inthenextstep,weconstruct
weonlyobservetheevaluationoftheatomicpropositions.Inafirst aformulathatidentifiespairsofstatesthatareindistinguishable
step,wethusmodifythegamestructureprovideduswithsufficient accordingto∼𝑜.For𝑜 ∈ Obs,wedefineformulaind𝑜(𝜋1,𝜋2) as
informationwithinitsatomicpropositions: follows:
(cid:220) (cid:16) (cid:219) (cid:219) (cid:219) (cid:219) (cid:17)
Definition4. AgamestructureG=(𝑆,𝑠0,A,𝜅,𝐿)isinjectively 𝑎 𝜋 ∧ ¬𝑎 𝜋 ∧ 𝑎 𝜋′ ∧ ¬𝑎 𝜋′
labeled(IL),if𝐿:𝑆 →2AP isinjective,i.e.,twolabelsareequaliff (𝑠,𝑠′)∈∼𝑜 𝑎∈𝐿(𝑠) 𝑎∈AP\𝐿(𝑠) 𝑎∈𝐿(𝑠′) 𝑎∈AP\𝐿(𝑠′)
thestateisequal.Agamestructureisactionrecording(AR)iffor It is easy to see that on any injectively labeled game structure
eachagent𝑖 ∈Agtsandeveryaction𝑎 ∈A,thereexistsanatomic ind𝑜(𝜋1,𝜋2)holdsifthetwopathsboundto𝜋1,𝜋2are∼𝑜-related
proposition⟨𝑖,𝑎⟩ ∈ AP thatholdsinastateexactlywhen𝑖 played intheirfirststate.EnforcingPartialInformation. Givenanobservation𝑜 ∈Obs,and onsimulateprocedure(Algorithm1)andtheresultingproperties
strategyvariable𝑥,wedefineaformulaindStrat𝑜(𝑥)thatholdsona (Proposition2).WededicatetheentireAppendixDtoaproofof
strategyiffthisstrategyisan𝑜-strategy(inallreachablesituations Proposition2,andherefocusonthecorrectness(andcomplexity)
andforallagents)asfollows: ofAlgorithm2.
indStrat𝑜(𝑥):=∀𝑦1,...,𝑦 𝑛,𝑦 1′,...,𝑦 𝑛′.
C.1 CorrectnessProofofAlgorithm2
(cid:219)𝑛
𝜓𝑖
(cid:20)𝜋1:(𝑦1,...,𝑦 𝑖−1,𝑥,𝑦 𝑖+1,...,𝑦 𝑛)(cid:21)
Asalreadyarguedinthemainpartofthepaper,ourcorrectness
𝑖=1
𝑜 𝜋2:(𝑦 1′,...,𝑦 𝑖′ −1,𝑥,𝑦 𝑖′ +1,...,𝑦 𝑛′)
proof relies on an inductive argument that establishes that we
where
compute(G,𝑠(cid:164),𝑘)-summariesforeach1≤𝑘 ≤𝑚+1.
𝜓 𝑜𝑖 := (cid:16) X(cid:16) (cid:219) ⟨𝑖,𝑎⟩𝜋1 ↔⟨𝑖,𝑎⟩𝜋2(cid:17)(cid:17) W(cid:16) ¬ind𝑜(𝜋1,𝜋2)(cid:17) . Lemma4. Inline7,A𝑘 isa(G,𝑠(cid:164),𝑘)-summary.
𝑎∈A
Proof. Weshowthestatementbyinductionon1≤𝑘 ≤𝑚+1
Thepathformula𝜓 𝑜𝑖 comparestwopaths𝜋1,𝜋2 andstatesthat (from𝑘 =𝑚+1to𝑘 =1).Forthebasecase(𝑘 =𝑚+1),weobserve
as long as a prefix on those to paths is𝑜-indistinguishable (i.e., thattheAPAA𝑚+1(computedinline4)isa(G,𝑠(cid:164),𝑚+1)-summary.
ind𝑜(𝜋1,𝜋2)holdsineachstep),theactionselectedbyagent𝑖 is Fortheinductionstepwecanassume–byinductionhypothesis–
thesameonbothpaths(usingthefactthatthestructurerecords thatpriortoline6,A𝑘+1isa(G,𝑠(cid:164),𝑘+1)-summary.RecallthatA𝑘+1
actions).Aswedonotknowwhichagentsmightendupplaying isanAPAover({𝜋1,...𝜋 𝑘}→𝑆)andA𝑘 over({𝜋1,...𝜋 𝑘−1}→
strategy𝑥 weassertthat𝑥 behavesasa𝑜-strategyforallagents. 𝑆).WeclaimthatA𝑘 isa(G,𝑠(cid:164),𝑘)-summary.Toshowthis,takeany
F alo lr oe ta hc eh r𝑖 ag∈ eA ntg sts pw lae yt sh ou ms eco am rbp ia trr ae rt yw so trp aa tt eh gs yw ,ah ne dre a𝑖 ssp el ra tys th𝑥 a, tb 𝜓u 𝑜𝑖t oΠ f: (G{𝜋 ,1 𝑠(cid:164), ,. 𝑘. ). -𝜋 su𝑘 m−1 m} a→ ry)𝑆 z𝜔 ipa (n Πd )w ∈e Lne (e Ad 𝑘t )o is fh ao nw dt oh na lt y( ic ff.Definition2
holdsforthosetwopaths.Strategy𝑥 mustthusrespondtotwo
𝑜 si- ti un ad ti is ot nin sg fu oi rs ah la lb al ge ep nr te sfi .xeswiththesameactioninallreachable ♭(cid:101)𝑘···♭(cid:102)𝑚.Π(cid:104) 𝜋 𝑗 ↦→Play G(cid:0)𝑠(cid:164), 𝑖∈(cid:214) Agts𝑓 𝑥(cid:174)𝑗(𝑖)(cid:1)(cid:105)𝑚
𝑗=𝑘
|=G𝜓.
TheTranslation. UsingindStrat𝑜(𝑥)asabuildingblock,wecan Byaddingparenthesis,thelatterholdsifandonlyif
m ino std ei afy dt th rae nt sr la an tesla thti eon mo uf chSL sti rn ot no gH ey rp Se Lr iS i.LfromAppendixB.1,and ♭(cid:101)𝑘.(cid:16) ♭(cid:103)𝑘+1···♭(cid:102)𝑚.Π(cid:104) 𝜋 𝑗 ↦→Play G(cid:0)𝑠(cid:164), (cid:214) 𝑓 𝑥(cid:174)𝑗(𝑖)(cid:1)(cid:105)𝑚
𝑗=𝑘
|=G𝜓(cid:17)
𝑖∈Agts
Theorem1. ForanySLii MCinstance (cid:0)(G,{∼𝑜}𝑜∈Obs),𝜑(cid:1) ,we whichholdsifandonlyif
caneffectivelycomputeaHyperSLMCinstance(cid:0)G′,𝜑′(cid:1)
,suchthat
(G,{∼𝑜}𝑜∈Obs) |= SLii 𝜑iffG′ |=𝜑′. ♭(cid:101)𝑘.(cid:16) ♭(cid:103)𝑘+1···♭(cid:102)𝑚.Π′(cid:104) 𝜋 𝑗 ↦→Play G(cid:0)𝑠(cid:164), (cid:214) 𝑓 𝑥(cid:174)𝑗(𝑖)(cid:1)(cid:105)𝑚
𝑗=𝑘+1
|=G𝜓(cid:17)
Proof. Inafirststep,weuseLemma7toensurethatG isIL
𝑖∈Agts
andAR.Wecanthentranslate𝜑usingasimilartranslationtothe whereΠ′ =Π[𝜋 𝑘 ↦→Play G(cid:0)𝑠(cid:164),(cid:206) 𝑖∈Agts𝑓 𝑥(cid:174)𝑘(𝑖)(cid:1)(cid:3).Bytheassumption
oneusedinAppendixB.1.Theonlycasesthatrequirechangening thatA𝑘+1isa(G,𝑠(cid:164),𝑘+1)-summarywecanreplacetheinnerpart
arethetranslationofquantification: andgetthattheaboveisequivalentto
∀𝑥𝑜.𝜑 𝑥(cid:174) :=∀𝑥.indStrat𝑜(𝑥)→ 𝜑 𝑥(cid:174) ♭(cid:101)𝑘.zip(Π′) ∈L(A𝑘+1).
(cid:76) (cid:77) (cid:76) (cid:77)
∃𝑥𝑜.𝜑 𝑥(cid:174) :=∃𝑥.indStrat𝑜(𝑥)∧ 𝜑 𝑥(cid:174) AfterunfoldingthedefinitionofΠ′,thisbecomes
(cid:76) (cid:77) (cid:76) (cid:77)
N foo rmte ut lh asat wt hh ie chre is su nlt oi tn sg upfo pr om rtu el da bu yse ths eim Hp yl pic ea rSti Lon sys nb te at xw .Ie te in s,s ht oa wte - ♭(cid:101)𝑘.zip(cid:16) Π(cid:2)𝜋 𝑘 ↦→Play G(cid:0)𝑠(cid:164), (cid:214) 𝑓 𝑥(cid:174)𝑘(𝑖)(cid:1)(cid:3)(cid:17) ∈L(A𝑘+1).
𝑖∈Agts
ever,easytoseethatwecanpushthebooleanoperationsintothe
pathformulaasobservedinExample1. NowrecallthatwedefinedA𝑘 =simulate(G,𝑠(cid:164),𝜋 𝑘,𝑥(cid:174)𝑘,♭ 𝑘,A𝑘+1).
WeclaimthatforanySL iiMCinstance(G,{∼𝑜}𝑜∈Obs,𝜑)where ByProposition2wenowhavethattheaboveholdsiff
Gi Ts oIL pa ron vd eA tR h, ew ae bh ovav ee wth ea nt e( eG d,{ to∼𝑜 a} r𝑜 g∈ uO eb ts h) a|= tS iL ni di S𝜑 tri aff t𝑜G (𝑥|= )(cid:76)r𝜑 ea(cid:77)l{ ly}. zip(Π) ∈L(A𝑘).
asrequired. □
expressesthat𝑥isa𝑜-strategy.Itiseasytoseethatforanystrategy
𝑓 ∈ Str(G) wehave𝑠,[𝑥 ↦→ 𝑓] |= indStrat𝑜 ifandonlyif 𝑓 isa Lemma5. Forany(G,𝑠(cid:164),1)-summaryA,wehavethatL(A)≠∅
𝑜-strategyinallreachablesituationsfrom𝑠.Thatis, 𝑓 doesnot
necessarilybehaveasan𝑜-strategyinallsituations,butatleast
ifandonlyif𝑠(cid:164),{} |=G 𝜑.
in those situations that are actually reachable under 𝑓. As any Proof. NotethatthealphabetofAisthesingletonset(∅→𝑆).
strategywillonlyeverbequeriedonplaysthatarecompatiblewith WethusgetthatL(A) ≠ ∅iffzip({}) ∈ L(A) where{}isthe
thestrategyitself,thissufficestoencodetheSL iisemantics. □ uniquepathassignment∅→𝑆𝜔sozip({})istheuniquewordover
(∅→𝑆).NowbyDefinition2wehavethatzip({}) ∈L(A)iff
C ADDITIONALMATERIALFORSECTION6
In this section we prove the correctness of our HyperSL[SPE] ♭(cid:101)1···♭(cid:102)𝑚.{}(cid:104) 𝜋 𝑗 ↦→Play G(cid:0)𝑠(cid:164), (cid:214) 𝑓 𝑥(cid:174)𝑗(𝑖)(cid:1)(cid:105)𝑚
𝑗=1
|=G𝜓
model-checkingalgorithm(Algorithm2).Ouralgorithmhinges 𝑖∈Agtswhereweaddallpathstotheemptypathassignment{}.Aswe D PROOFOFPROPOSITION2
addtotheemptypathassignment,theaboveisthusequivalentto Inthissection,weproveProposition2:
♭(cid:101)1···♭(cid:102)𝑚.(cid:104) 𝜋 𝑗 ↦→Play G(cid:0)𝑠(cid:164), 𝑖∈(cid:214) Agts𝑓 𝑥(cid:174)𝑗(𝑖)(cid:1)(cid:105)𝑚
𝑗=1
|=G𝜓 X,P ar qo up ao ns ti it fii eo rn bl2 o. ckG ♭iv se un c𝑠 h(cid:164)∈ th𝑆 at,𝜋 for∈ eV ver, ya 𝑖st ∈ra Ate gg ty s,p 𝑥(cid:174)ro (fi 𝑖)le is𝑥(cid:174) q: uA ang tt is fi→
ed
whichexactlyexpresses𝑠(cid:164),{} |=G 𝜑intheHyperSLsemantics. □ in♭,andanAPAA overalphabet (𝑉 ⊎{𝜋} → 𝑆).LetB bethe
resultsofsimulate(G,𝑠(cid:164),𝜋,𝑥(cid:174),♭,A).Thenforanypathassignment
C.2 Model-CheckingComplexity Π:𝑉 →𝑆𝜔 ,wehavezip(Π) ∈L(B)iff
Theorem3. ModelcheckingforaHyperSL[SPE]formulawith (cid:101)♭.zip(cid:16) Π(cid:2)𝜋 ↦→Play G(cid:0)𝑠(cid:164), (cid:214) 𝑓 𝑥(cid:174)(𝑖)(cid:1)(cid:3)(cid:17) ∈L(A). (1)
block-rank𝑚isin2𝑚-EXPTIME.
𝑖∈Agts
Proof. Eachtimeweinvokesimulate(Algorithm1)theautoma- Forany𝑚∈N,wedefine[𝑚] :={1,...,𝑚}.Tomaketheproof
tonsizeincreasesbytwoexponents.Aformulawithblock-rank𝑚 ofitscorrectnesseasier,weassumethat
requires𝑚applicationsofsimulate(cf.Algorithm2),sothefinal
♭=∀1.∃2.∀3...∃2𝑚. (2)
automatonA1hassizethatis2𝑚-timesexponentialinthesizeof
𝜓 andG.AutomatonA1operatesonasingletonalphabet(∅→𝑆), Thatis,weassumethatthestrategyvariablesarenumberin[2𝑚].
sowecandecideitsemptinessinpolynomialtime.Modelchecking And,moreover,weassumethequantifierblockalternatesstrictly
isthusin2𝑚-EXPTIMEinthesizeof𝜓 andG. □ in every step: odd strategy variables (numbers) are universally
quantifiedandevenvariablesareexistentiallyquantified.Notethat
Lemma6. ModelcheckingforaHyperSL[SPE]formulawithblock- thisassumptionisw.l.o.g.,wecanalwaysaddquantificationover
rank𝑚is(2𝑚−1)-EXPSPACE-hard. additionalstrategyvariablesthatwilneverbeusedforthecon-
structionof𝜋.Havingafixedalternationmakesformalreasoning
Proof. For HyperATL∗ it is known that checking a formula
andnotationeasier.
with𝑚quantifiersis (2𝑚−1)-EXPSPACE-hard(inthesizeofthe
formula)[17,Thm.7.1and7.2].AsthetranslationofaHyperATL∗ The Candidate. Let A
det
= (𝑄,𝑞0,𝛿,𝑐) be the DPA constructed
formulawith𝑚qunatifiersintoaHyperSL[SPE]formulaislinear from A in line 2 of Algorithm 1 (using Proposition 1). Follow-
(cf.Lemma2andAppendixB.2)andyieldsaformulawithblock- ingtheconstructioninAlgorithm1,wegetthatB(theresultof
rank𝑚,thelowerboundfollows. □ simulate(G,𝑠(cid:164),𝜋,𝑥(cid:174),♭,A))satisfies
B= (cid:0)𝑄×𝑆,(𝑞0,𝑠(cid:164)),𝛿′,𝑐′(cid:1),
C.3 BeyondHyperSL[SPE]
AswearguedinSection6.7,anyHyperSLformulawheretheprefix
where𝑐′(𝑞,𝑠):=𝑐(𝑞),andfor𝑡(cid:174)∈𝑆𝑉 ,𝛿′(cid:0)(𝑞,𝑠),𝑡(cid:174)(cid:1)isdefinedasas
c ga en nn ero at lb ue ng dr eo cu idp ae bd lei .ntoblocksasinDefinition1,MCbecomesin (cid:219) (cid:220) ··· (cid:220) (cid:16) 𝛿(cid:0)𝑞,𝑡(cid:174)[𝜋 ↦→𝑠](cid:1),𝜅(cid:0)𝑠, (cid:214) 𝑎 𝑥(cid:174)(𝑖)(cid:1)(cid:17) ,
𝑎1∈A𝑎2∈A 𝑎2𝑚∈A 𝑖∈Agts
Lemma8. ModelcheckingforaHyperSLformulaoftheform Withthisconstructionfixed,itremainstoarguethatitacceptsthe
(cid:20)𝜋1:(𝑥,𝑧)(cid:21) desiredlanguage.Expressedasalemma:
∃𝑥.∃𝑦.∀𝑧.∀𝑤.𝜓
𝜋2:(𝑦,𝑤) Lemma9. ForanypathassignmentΠ:𝑉 →𝑆𝜔 wehavezip(Π) ∈
L(B)ifandonlyif
is,ingeneral,undecidable.
Proof. WeencodetheHyperLTLrealizabilityproblemofa∀2 (cid:101)♭.zip(cid:16) Π(cid:2)𝜋 ↦→Play G(𝑠(cid:164), (cid:214) 𝑓 𝑥(cid:174)(𝑖)(cid:17)(cid:3)(cid:17) ∈L(A). (3)
formula,whichisknowntobeundecidable[32].GivenaHyperLTL 𝑖∈Agts
formula𝜑 =∀𝜋1.∀𝜋2.𝜓 over𝐼⊎𝑂wedefine
D.1 ConcurrentParityGames
𝜓′ :=𝜓 ∧(cid:16)(cid:16) X(cid:0) (cid:219) 𝑎 𝜋1 ↔𝑎 𝜋2(cid:1)(cid:17) W(cid:0)(cid:220) 𝑎 𝜋1 ↮𝑎 𝜋2(cid:1)(cid:17) ThemainproveideainshowingthatBacceptsthelanguagedesired
𝑎∈𝑂 𝑎∈𝐼 byProposition2,goesviathedeterminacyofconcurrentparity
Thatis,thetwopaths𝜋1,𝜋2shouldsatisfy𝜓and,inaddition,when games.
giventhesamesequenceofinputs,theoutputshouldbethesame.
Definition5(ConcurrentParityGame). Aconcurrentparity
Weclaimthat𝜑 =∀𝜋1.∀𝜋2.𝜓 isrealizableifandonlyif
game(CPG)isaatupleP =(𝑉,𝑣0,A,𝑚,𝜇,𝑐)where𝑉 isa(possibly
G (𝐼,𝑂)
|=∃𝑥.∃𝑦.∀𝑧.∀𝑤.𝜓′(cid:20)𝜋 𝜋1 2: :( (𝑦𝑥 ,, 𝑤𝑧) )(cid:21) i an cfi tin onit se ,) 𝑚set ∈o Nfv ge ir vt eic se ts h, e𝑣0 nu∈ m𝑉 bei rs oa fn ai ln tei rti na al tv ioe nr ste (x s, oA 2𝑚is ia stfi hn eit ne us met bo erf
ofplayer),𝜇 :𝑉 ×([2𝑚] →A) →𝑉 isatransitionfunction,and
whereG
(𝐼,𝑂)
istheCGSinwhichagent1cansettheinputs𝐼 and
𝑐 :𝑉 →𝐶isacoloringforsomefinite𝐶 ⊆N.
agent2cansettheoutputs𝑂(see,e.g.,[2]).Theintuitionisthatthe
additionalconjunctrequiresthatthetwostrategiesboundto𝑥 and WerefertotheprotagonistinCPGsasplayerstodistinguish
𝑦denotethesamestrategy.Theaboveformulathusstatesthatthere themfromtheagentsinagamestructure.Similartothesimplyfying
existssomestrategythatcontrolstheoutputssuchthatallpairsof assumptionwemadeof♭,wewilllaterquantifyuniversallyover
tracesunderthatstrategysatisfy𝜓.Decidingtheexistenceofsuch strategies for odd players and existentially for even players. A
astrategyisundecidable[32],sowegetthedesiredresult. □ strategy in P is a function 𝑓 : 𝑉+ → A and we write Str(P)for the set of all strategies in P. When given a strategy profile D.3 TheFirstImplication
𝑓(cid:174) : [2𝑚] → Str(P) assigningastrategyforeachplayer,anda Asafirststep,wewillshowthatPΠiswonbytheexistentialplayer
vertex 𝑣 ∈ 𝑉, we define Play (𝑣,𝑓(cid:174)) ∈ 𝑉𝜔 as the unique play ifandonlyΠsatisfiesEq.(3).Thisstepiseasy:Thequantification
P
𝑝 ∈ 𝑉𝜔 such that 𝑝(0) = 𝑣, and for every 𝑗 ∈ N, 𝑝(𝑗 +1) = inPΠ andEq.(3)isverysimilar(i.e.,occurs“outside”thegame).
𝜇(cid:0)𝑝(𝑗),(cid:206) 𝑙∈[2𝑚]𝑓(cid:174)(𝑙)(𝑝[0,𝑗])(cid:1) (similartothedefinitioninCGSs, Wecan,therefore,transferstrategiesbetweenGandPΠasfollows:
cf.Section3).Wesayaninfiniteplay𝑝 ∈𝑉𝜔 iseveniftheminimal
Lemma10. Thefollowingholds:
colorthatoccursinfinitymanytimes(asgivenby𝑐)iseven.Inthis
casewewriteeven(𝑝). • ForanyΔ : [2𝑚] →Str(PΠ)thereexistsa(cid:101)Δ : [2𝑚] →Str(G)
suchthat
Definition6. TheCPGPiswonbytheexistentialteamif
∀𝑓1 ∈Str(P).∃𝑓2 ∈Str(P).∀𝑓3 ∈Str(P)...∃𝑓2𝑚 ∈Str(P). zip(cid:16) Π(cid:2)𝜋 ↦→Play G(cid:0)𝑠(cid:164), (cid:214) (cid:101)Δ(𝑥(cid:174)(𝑖))(cid:1)(cid:3)(cid:17) ∈L(A).
(cid:16) (cid:214) (cid:17)
𝑖∈Agts
even Play P(𝑣0, 𝑙∈[2𝑚]𝑓 𝑙) .
ifandonlyifeven(Play PΠ(𝑣0,Δ)).
• ForanyΔ : [2𝑚] →Str(G)thereexistsa(cid:101)Δ : [2𝑚] →Str(PΠ)
ThatiswequantifyoverstrategiesinPforallplayer𝑙 ∈ [2𝑚];
suchthat
universallyforoddplayerandexistentiallyforevenplayerinal-
ternatingfashion.Thegameiswon(bytheexistentialteam)ifthe zip(cid:16) Π(cid:2)𝜋 ↦→Play (cid:0)𝑠(cid:164), (cid:214) Δ(𝑥(cid:174)(𝑖))(cid:1)(cid:3)(cid:17) ∈L(A).
G
existentialquantifiercanensurethattheresultingplayiseven. 𝑖∈Agts
D.2 ConstructionofPΠ ifandonlyifeven(Play PΠ(𝑣0, (cid:101)Δ)).
AssumewearegivenafixedstrategyassignmentΠ:𝑉 →𝑆𝜔.We
Proof. Weshowbothclaimsseparately.
designaninfinite-stateCPGPΠas
• WetranslatestrategiesinPΠtostrategiesinG.Let𝑓 :𝑉+→A
PΠ =(𝑄×𝑆×N,(𝑞0,𝑠(cid:164),0),A,𝑚,𝜇,𝑐′) besomestrategyinPΠ.Wedefine𝑓 (cid:101):𝑆+ →Aasfollows:Let
where𝑄isthesetofstatesinA det,𝑐′(𝑞,𝑠,𝑁):=𝑐(𝑞)andforeach 𝑢 ∈ 𝑆+ begiven.Define𝒒 ∈ 𝑄+ asfollows:Wedefine𝒒(0) =
actionprofile𝑎(cid:174): [2𝑚] →Awedefine𝜇(cid:0)(𝑞,𝑠,𝑁),𝑎(cid:174)(cid:1)as 𝑞0 (the initial state of A det). For 0 ≤ 𝑖 < |𝑢| we then define
(cid:16) 𝛿(cid:0)𝑞,zip(Π)(𝑁)[𝜋 ↦→𝑠](cid:1),𝜅(cid:0)𝑠, (cid:214) 𝑎(cid:174)(𝑥(cid:174)(𝑖))(cid:1),𝑁 +1(cid:17) g𝒒 i( v𝑖 e+ s1 th) e:= un𝛿 i( q𝒒 u( e𝑖) s, tz ai tp e( sΠ e) q( u𝑖) e[ n𝜋 ce↦→ in𝑢 A(𝑖)]) w.T hh ee ns re eq au die nn gce th𝒒 et fih ru ss
t
𝑖∈Agts |𝑢|statesofzip(Π)extendedwith𝑢.Node wt considerthefiniteplay
Inthefollowingweabbreviate𝑉 :=𝑄×𝑆×Nfortheverticesin inPΠ
PΠ,anddefine𝑣0:=(𝑞0,𝑠(cid:164),0)astheinitialvertexofPΠ.
Letusdiscusstheconstructionof PΠ.Actionsin PΠ arethe 𝜏 = (cid:0) 𝒒(0),𝑢(0),0(cid:1)···(cid:0) 𝒒(|𝑢|−1),𝑢(|𝑢|−1),|𝑢|−1(cid:1).
sameasinG(i.e.,A).Foreachquantifiedstrategyvariable1,...,2𝑚
The intuition is that𝜏 corresponds to the unique path in PΠ
(cf.Equation(2)),wehaveacorrespondingplayerinPΠ(i.e.,there
that,whenprojectedontothesystemstate,gives𝑢.Wedefine
are𝑚alternations,sothesetofplayersis [2𝑚]).Weoperateon
vertices(𝑞,𝑠,𝑁),where𝑞 ∈𝑄and𝑠 ∈𝑆aresimilartotheconstruc-
𝑓 (cid:101)(𝑢):=𝑓(𝜏).
tionofB.Inadditionwetrackthecurrentstep𝑁.Toupdate𝑞we
Foranystrategyassignment Δ : [2𝑚] → Str(PΠ) in PΠ we
invokethetransitionfunction𝛿ofA onthecurrentautomaton
define (cid:101)Δ: [2𝑚] →Str(G)astheassignmentobtainedbyapply-
det ing·pointwise.
s thta ete ina pn ud tl oe ftt Ber :Bzip r( eΠ ad) s(𝑁 th) e[𝜋 zip↦→ pi𝑠 n] g.N ofo ate stt rh aa tt egth yis asc so igrr ne msp eo nn td Πs ato s Itis(cid:101) noweasytoseethatPlay G(cid:0)𝑠(cid:164),(cid:206) 𝑖∈Agts(cid:101)Δ(𝑥(cid:174)(𝑖))(cid:17) ) ∈𝑆𝜔equals
aninputandthusthe𝑁thletteroftheinputiszip(Π)(𝑁).Thatis, Play PΠ(𝑣0,Δ)(whenprojectingverticesin𝑄×𝑆×Non𝑆).By
we“hardcode”Πintothegame.Forthis,wemaintainthecurrent construction,theautomatoncomponentineachvertexofPΠ
stepviacounter𝑁 and“pretend”theinputinthe𝑁thstepwas simplysimulatesA onthegeneratedsequenceofsystemstate
det
zip(Π)(𝑁).SimilartoB,weupdatetheautomatonstatebypass- andthusacceptsplayiffthecorrespondingautomatonsequence
ingzip(Π)(𝑁)[𝜋 ↦→ 𝑠] toA ’stransitionfunction.Toupdate isaccepting.Wethusgetthatthe
det
t fuh ne cs tt ia ot ne 𝑎(cid:174)of :t [h 2𝑚es ]im →ul Aat ti hon ato fif xG esw ace tip or no sce foe rd aa ls lsi tn raB te, gi y.e. v, ag ri iv ae bn lea s zip(cid:16) Π(cid:2)𝜋 ↦→Play G(cid:0)𝑠(cid:164), (cid:214) (cid:101)Δ(𝑥(cid:174)(𝑖))(cid:1)(cid:3)(cid:17) ∈L(A)=L(A det)
(or,equivalently,playersinPΠ),eachagent𝑖 ∈ Agtswillsimply 𝑖∈Agts
p twla eTy eh nt eh te i hda eec a tt aio o rgn f ePa ts
Π
ls ai ng is gn ute od agst eeo r (s v Et er qa .at (se 3g )i )y n atv e na r dr mi ta e hb d el ie a d𝑥 t(cid:174) ee fi(𝑖 r n) e, ip ti i. r oe e n. s, e𝑎(cid:174) on( f𝑥 t(cid:174) Ba( t𝑖 .i) o I) nn. tb he e-
•
i Lf ea tn 𝑓d :on 𝑆l +y →ifev Aen b( eP ala sy tP raΠ t( e𝑣 g0 y,Δ in)), Ga .s Wre equ di er fie nd.
e 𝑓 (cid:101):𝑉+ → Ain
semanticsofCPGsthequantificationoverstrategiesfortheplayers
PΠ asfollows:Forany𝑢 ∈𝑉+ let𝒔 ∈ 𝑆+ betheprojectionon
occurs“outside”,i.e.,strategiesarefixedglobally(cf.Definition6).
thesystemstatein𝑢.Wedefine𝑓 (cid:101)(𝑢):=𝑓(𝒔),i.e.,onlyquery𝑓
onthesequencesofsystemstates.Foranystrategyassignment
AsplayersinPΠcorrespondexactlytothestrategyvariablesused
in♭([2𝑚]),this“outer”quantificationmimicsthequantification
Δ: [2𝑚] →Str(G)inPΠwedefine (cid:101)Δ: [2𝑚] →Str(PΠ)asthe
assignmentobtainedbyapplying·pointwise.Asinthefirstcase,
foundinEq.(3).Ontheotherhand,theupdatesofautomatonand (cid:101)
systemstateinPΠaresimilartotheupdatesperformedinB. itiseasytoseethatPlay G(cid:0)𝑠(cid:164),(cid:206) 𝑖∈AgtsΔ(𝑥(cid:174)(𝑖))(cid:17) ) ∈𝑆𝜔 isequaltoPlay PΠ(𝑣0, (cid:101)Δ)(whenprojectingverticesin𝑄×𝑆×Non𝑆).As and𝒐intoamappingcom(𝒆,𝒐) : [2𝑚] →Str(P)asfollows.Fora
PΠsimulatesA
det
onthesequenceofsystemstateswethusget path𝑢 ∈𝑉+,wedefinelast(𝑢) ∈𝑉 asthelastvertexin𝑣.Foranodd
zip(cid:16) Π(cid:2)𝜋 ↦→Play (cid:0)𝑠(cid:164), (cid:214) Δ(𝑥(cid:174)(𝑖))(cid:1)(cid:3)(cid:17) ∈L(A).
index2𝑘−1wethendefinecom(𝒆,𝒐)(2𝑘−1):𝑉+→Aas
G
𝑖∈Agts
com(𝒆,𝒐)(2𝑘−1)(𝑢):=𝒐(𝑘)(cid:0) last(𝑢)(cid:1)
ifandonlyifeven(Play PΠ(𝑣0, (cid:101)Δ)),asrequired. □
Foranevenindex2𝑘wedefinecom(𝒆,𝒐)(2𝑘):𝑉+→Aas
com(𝒆,𝒐)(2𝑘)(𝑢):=𝒆(𝑘)(cid:0) last(𝑢),(𝒐(1)(last(𝑢)),
Proposition3. PΠiswonbytheexistentialteamifandonlyif
𝒐(3)(last(𝑢)),
(cid:101)♭.zip(cid:16) Π(cid:2)𝜋 ↦→Play G(cid:0)𝑠(cid:164), (cid:214) 𝑓 𝑥(cid:174)(𝑖)(cid:1)(cid:3)(cid:17) ∈L(A). (4) ...,
𝑖∈Agts
𝒐(2𝑘−1)(last(𝑢)))(cid:1).
Proof. InPΠwequantifyoverstrategiesinPΠforeachplayer
in[2𝑚](cf.Definition6).Conversely,Eq.(4)usesthesamequan-
Theideaofcom(𝒆,𝒐)istocombinetheSkolemstrategiesin𝒆
titationorder(intheprefix(cid:101)♭)butquantifiesoverstrategiesinG
andthepositionalstrategiesin𝒐intoastrategyforeachplayer.For
via strategy variables 1,...,2𝑚 (Eq. 2). Using the translation in
oddplayerwesimplytakethestrategygivenby𝒐(applyingitto
thelastvertexinthegivensequence).Forevenplayers,wequery
L eqe um ivm aa le1 n0 tw one ec ia nn Gtr ,a an ns dla vte ica en vy ers st ara .t Ae sgy tha es ts yig pn em (ie .en .,t uin niP veΠ rst ao la on
r
theSkolemstrategygivenby𝒆andprovideitwiththeactionsthat
alluniversallyquantified(odd)strategiesbeforeithaveselected.
existential)andorderofquantificationisPΠandEq.(4)isthesame
WecannowstatethatCPGarepositionallydeterminedbymaking
(cf.Eq.2)andwecantranslatestrategiesbetweenGandPΠ,the
useofSkolemfunctions:
resultfollows. □
Proposition4([40]). LetP = (𝑉,𝑣0,A,𝑚,𝜇,𝑐) beaCPG.We
D.4 PositionalDeterminacy havethatPiswonbytheexistentialplayersifandonlyif
ThemorechallengingdirectionistoshowthatPΠiswonbythe ∃ 𝜁
𝑘
∈SkoStr(P,𝑘). ∀ 𝑓
𝑘
∈PosStr(P).
existentialteamiffBacceptszip(Π).Thekeychallengeisthatthe
𝑘∈[𝑚] 𝑘∈[𝑚]
waystrategiesarequantifiedisfundamentallydifferent:InPΠwe
(cid:16) (cid:214) (cid:17)
quantifyoverfullstrategiesinadvance(i.e.,“outside”)andinB even Play P(𝑣0, com(𝒆,𝒐)(𝑘))
we(conjunctivelyordisjunctively)pickactionsineachstepofthe 𝑘∈[2𝑚]
automaton(i.e.,“inside”).Thekeyingredientweuseisthepositional where𝒆(𝑘):=𝜁 𝑘 and𝒐(𝑘):=𝑓 𝑘 for𝑘 ∈ [𝑚].
determinacyofCPGs.Intuitively,apositionalstrategyisonethat
Proposition4statesthatinsteadoffollowingthequantifierprefix
decidesonanactionbasedsolelyonthecurrentvertexofthegame.
asinDefinition6wecaninsteadquantifyoverSkolemfunctions
Definition7. ApositionalstrategyinP =(𝑉,𝑣0,A,𝑚,𝜇,𝑐)is 𝜁1,...,𝜁 𝑚forallexistentiallyquantifiedvariables.Putinformally,
afunction𝑓 :𝑉 →A.WewritePosStr(P)forthesetofallpositional thepropositionthusstatesthatexistentiallyquantifiedstrategies
strategiesinP. onlyneedtoknowthecurrentvertexandallactionsselectedby
universallyquantifiedstrategiesquantifiedbeforeit.AproofPropo-
Positionaldeterminacyinthecontextof(classical)turn-based
sition4followsdirectlyfromthetheconstructionin[40,Thm.4.1].
2-playerparitygamesmeansthatplayerscanpickanactionbased
solelyonthecurrentvertexofthegame.Incontrast,thequantifi-
D.5 TheSecondImplication
cationoverstrategiesinCPGscanhavemultiplealternations,the
strategyforeachplayerthusdependsonthecurrentvertexofthe UsingProposition4wecannowprove:
gameandtheactionselectedbyallstrategiesquantifiedbefore
Proposition5. PΠiswonbytheexistentialteamifandonlyif
it.Wewillrepresenttheexistentiallyquantifiedstrategiesusing
zip(Π) ∈L(B).
Skolemfunctions(known,e.g.,fromfirst-orderlogicandsometimes
calleddependencemap[45])thatgettheactionsselectedbystrate- WeprovebothdirectionsofProposition5separately(inLem-
giesquantifiedearlierasanexplicitinput. mas11and12).
Definition8. Apositional𝑘-SkolemstrategyCPGP =(𝑉,𝑣0,A, Lemma11. IfPΠ iswonbytheexistentialteamthenzip(Π) ∈
𝑚,𝜇,𝑐)isafunction𝜁 :𝑉 ×A𝑘 →A.WewriteSkoStr(P,𝑘)forthe L(B).
setofpositional𝑘-SkolemstrategiesinP.
Proof. AssumethatPΠiswonbytheexistentialplayer.Using
Apositional𝑘-Skolemstrategy𝜁 canpickanactionbasedonthe Proposition4wethusgetpositionalsklolemfunctions𝜁1,...,𝜁 𝑚
currentvertexofthegameand𝑘actionsthathavebeenselected suchthatfor
p egre yv vio aru is al by l. eT )h 2𝑘e (i wnt hu ii ct hio in seis xit sh ta et ntt ih ae llyst qra ut ae ng ty ifif eo dr )p cl aa ny oer bs( eo rr vs etr that e- ∀ 𝑓 𝑘 ∈PosStr(P).even(cid:16) Play PΠ(𝑣0, (cid:214) com(𝒆,𝒐)(𝑘)(cid:17) (5)
𝑘∈[𝑚] 𝑘∈[2𝑚]
actionsselectedbythe𝑘-universallyquantifiedstrategiesbeforeit.
where𝒆(𝑘):=𝜁 𝑘 and𝒐(𝑘):=𝑓 𝑘 for𝑘 ∈ [𝑚].
Definition9. Assume𝒆isafunctionthatmapseach𝑘 ∈ [𝑚] WeusetheSkolemfunctionstoconstructanacceptingrunDAG
toapositional𝑘-SkolemstrategyinPandlet𝒐: [𝑚] →PosStr(P) DofBonzip(Π).WeconstructDiteratively.WebeginwithaDAG
mapeacheach𝑘 ∈ [𝑚]toapositionalstrategyinP.Wecombine𝒆 thatconsistofthesinglenode ((𝑞0,𝑠(cid:164)),0),i.e.,westartwiththeuniqueinitialstateofB(notethatbydefinitionofrunDAGs,nodes WedefineananalogouspathinPΠasfollows(bysimplyregrouping
areindexedbytheircurrentdepth,cf.AppendixA).Nowassume parenthesis):
thatthereexistssomenodethatwehavenotvisited.Letthisnote
𝜏′ =(𝑞0,𝑠0,0)(𝑞1,𝑠1,1)(𝑞2,𝑠2,2)···
be((𝑞,𝑠),𝑁).Weobservethat(𝑞,𝑠,𝑁)isavertexinPΠ.
The𝑁thinputreadbyBonzip(Π)iszip(Π)(𝑁).Bydefinition InconstructionD,wealwaysmimickedthechoiceforeachdistinc-
ofBthetransitionfunctionfrom(𝑞,𝑠)onthe𝑁thinputis tivelychosenactionbyusingtheSkolemfunctions𝜁1,...,𝜁 𝑚.We
thusgetthat𝜏′isaplayinPΠundertheseSkolemfunctions:That
𝛿′(cid:0)(𝑞,𝑠),zip(Π)(𝑁)(cid:1) = (cid:219) (cid:220) ··· (cid:220) (𝑞′,𝑠′) (6) is,thereexist𝑓1,𝑓2,...,𝑓 𝑚 ∈PosStr(PΠ)suchthat
𝑎1∈A𝑎2∈A 𝑎2𝑚∈A Play PΠ(𝑣0, (cid:214) com(𝒆,𝒐)(𝑘))=𝜏′
wh Wer ee n𝑞 e′ e= dt𝛿 o(𝑞 a, dz dip ch(Π ild) r( e𝑁 n) o[𝜋 fth↦→ en𝑠 o]) dean (d (𝑞𝑠 ,′ 𝑠)= ,𝑁𝜅 )(cid:0)𝑠 t, h(cid:206) at𝑖 f∈ uA lg lt ts h𝑎 e𝑥(cid:174) a( b𝑖) o(cid:1) v. e where𝒆(𝑘) := 𝜁 𝑘 and 𝒐(𝑘𝑘 )∈[ :2 =𝑚] 𝑓 𝑘 for𝑘 ∈ [𝑚].Bythechoiceof
formula.Wewillconstructaset𝑌 ⊆𝑄×𝑆thatisamodelforthe 𝜁1,...,𝜁 𝑚 (cf.Eq.(5))wethusgetthateven(𝜏′).
above,i.e.,𝑌 |=𝛿′(cid:0)(𝑞,𝑠),zip(Π)(𝑁)(cid:1).Wewillconstruct𝑌 byfol- Nowthesequenceofcolorstraversedin𝜏′ isthesameasthe
lowingalltheactionselectionintheprefixof𝛿′(cid:0)(𝑞,𝑠),zip(Π)(𝑁)(cid:1) sequenceofcolorsinthepath𝜏intherunDAG.Theminimalcolor
andconstructanintermediatesetoffunctions𝑍 ⊆ ([2𝑚] ⇀A). thatappearsinfinitelyoftenin𝜏 isthusalsoevenandsothepath
Wecanthinkof𝑍ascombinationsofactions𝑎1,...,𝑎2𝑚thatwese- isaccepting.Asthisholdsforallpaths,Disaccepting.
lectintheprefixofEq.(6).Thisset𝑍 isconstructedinaccordance WehaveconstructedanacceptingrunDAGofBonzip(Π),so
with the Skolem functions 𝜁1,...,𝜁 𝑚, i.e., for every disjunctive zip(Π) ∈L(B)asrequired. □
choicewewillselectedtheactionthatispickedbytherespective
Lemma12. Ifzip(Π) ∈ L(B)thenPΠ iswonbytheexistential
Skolemfunction.Initially,weset𝑍 = {{}} asthesingletonset
team.
containingonlytheemptyfunction{} : [2𝑚] ⇀ A.Forevery𝑘
from1to2𝑚wedothefollowing:If𝑘isodd,soaction𝑎
𝑘
ischo- Proof. Assumethatzip(Π) ∈L(B),andletDbeanaccepting
senconjunctivelyweaddallpossibleactions.Thatis,weupdate runDAGofB.WewillusethisDAGtoconstructSkolemfunctions
𝑍 := {𝑎(cid:174)[𝑘 ↦→𝑎] |𝑎(cid:174)∈𝑍,𝑎 ∈ A}.If𝑘 iseven,so𝑘 =2𝑘′forsome 𝜁1,...,𝜁 𝑚 suchthat
𝑘 (s′ o,w 𝑎(cid:174)e isc aan fup nic ck tioo nne {1a ,c .ti .o .n ,𝑘fo −r 1𝑘 }fo →re Aac )h we ele dm efien nt ei tn h𝑍 e. aG cti iv oe nn 𝑎𝑎(cid:174) 𝑎(cid:174)∈ as𝑍 𝑘∈∀ [𝑚]𝑓 𝑘 ∈PosStr(P).even(cid:16) Play PΠ(𝑣0, 𝑘∈(cid:214) [2𝑚]com(𝒆,𝒐)(𝑘))(cid:17) (7)
𝑎 𝑎(cid:174):=𝜁 𝑘′(cid:0)(𝑞,𝑠,𝑁),(𝑎(cid:174)(1),𝑎(cid:174)(3),...,𝑎(cid:174)(2𝑘′−1))(cid:1). where𝒆(𝑘):=𝜁 𝑘 and𝒐(𝑘):=𝑓 𝑘 for𝑘 ∈ [𝑚].ByProposition4this
wouldimplythatPΠiswonbytheexistentialteam.
Thatis,weusethe𝑘′thSkolemfunctionsandqueryitwiththe Foranynode𝑥 =((𝑞,𝑠),𝑁)intherunDAGD,thechildrenof
currentvertex (𝑞,𝑠,𝑁) andtheactionselectedbyallpreviously ((𝑞,𝑠),𝑁)satisfy
c uh po
d
As
a
fe
t
tn
e
er𝑍co re:n
=
pju
e{
an
𝑎(cid:174)
tc
[
it n𝑘iv g↦→e tha 𝑎c ist 𝑎(cid:174)i p]o rn
|
o𝑎c
(cid:174)
ch e∈o di u𝑍c re
}
es
.
,( wat eo hd ad vp eo cs oi nti so tn rs u) ci tn ed𝑎(cid:174). aW see tt 𝑍he ⊆n 𝛿′(cid:0)(𝑞,𝑠),zip(Π)(𝑁)(cid:1) = 𝑎(cid:219) 1∈A𝑎(cid:220) 2∈A··· 𝑎2(cid:220) 𝑚∈A(𝑞′,𝑠′) (8)
([2𝑚] →A)thatmapsallplayerstoactions.Informally,thiscorre- where𝑞′ =𝛿(𝑞,zip(Π)(𝑁)[𝜋 ↦→𝑠])and𝑠′ =𝜅(cid:0)𝑠,(cid:206) 𝑖∈Agts𝑎 𝑥(cid:174)(𝑖)(cid:1).
s op fo 𝛿n ′d (cid:0)(s 𝑞t ,o 𝑠)a ,zp io ps (s Πib )l (e 𝑁as )s (cid:1)i .g Fn om re en at chof 𝑎(cid:174)th ∈e 𝑍ac wtio en cs as ne dle ec fite nd ei an uth ne iqp ur eefi
𝑠
𝑎x
(cid:174)
wilW lpe icw kil al cc ho on is ct eru foct rf eu an cc hti do in sjs u𝛼 n1𝑥 ct, i. o. n., b𝛼 a𝑚𝑥 sedw oh ner te h𝛼 e𝑘𝑥 pr: eA vi𝑘 ou→ scA hot ih cea st
byfollowingtheconstructioninthedefinitionofB.Thatis,we foreachconjunction.Wefirstdefine𝛼𝑥 :A→A:Forany𝑎1 ∈A
1
define𝑠 𝑎(cid:174)=𝜅(cid:0)𝑠,(cid:206) 𝑖∈Agts𝑎(cid:174)(𝑥(cid:174)(𝑖))(cid:1).Wethendefine wedefine𝛼 1𝑥(𝑎1)byfixingthefirstconjunctivelychosenaction𝑎1
(cid:110) (cid:111)
inEq.(8)tobe𝑎1.As𝑎1waschosenconjunctivley,thechildrenof
𝑌 := (cid:0)𝛿(𝑞,zip(Π)(𝑁)[𝜋 ↦→𝑠]),𝑠 𝑎(cid:174)(cid:1) |𝑎(cid:174)∈𝑍 . 𝑥 = ((𝑞,𝑠),𝑁)stillsatisfyEq.(8)with𝑎1fixedto𝑎1.Nowdefine
𝑎2 ∈Aassomevalidchoiceforthe(disjunctivelychosen)𝑎2.That
Itiseasytoseethat𝑌 |=𝛿′(cid:0)(𝑞,𝑠),zip(Π)(𝑁)(cid:1):Intheselectionof is,wedefine𝑎2suchthatthechildrenof𝑥 = ((𝑞,𝑠),𝑁)inDstill
actions(whenconstructing𝑍)wehaveconsiderallpossibleactions formamodelofEq.(8)withactions𝑎1:=𝑎1,𝑎2:=𝑎2fixed.Weset
foreachconjunctivechoiceandpickedaparticularactionforeach 𝛼𝑥(𝑎1):=𝑎2.Afterhavingdefined𝛼𝑥 wecandefine𝛼𝑥(𝑎1,𝑎3):We
1 1 2
disjunctivechoice. fixthefirstconjunctivelychosenactionbe𝑎1,theseconddisjunctive
InourrunDAGwenowaddanode ((𝑞′,𝑠′),𝑁 +1) foreach actionbe𝛼𝑥(𝑎1)andthesecondconjunctiveactionbe𝑎3,andthe
1
(𝑞′,𝑠′) ∈𝑌,andaddanedgefrom((𝑞,𝑠),𝑁)to((𝑞′,𝑠′),𝑁 +1). define𝛼𝑥(𝑎1,𝑎3)assomeactionthatwecanselectforthesecond
2
LetDbetheinfiniteDAGobtainedbyfollowingthisconstruction. disjunctivechoicesuchthatthechildrenof𝑥 = ((𝑞,𝑠),𝑁) inD
ItiseasytoseethatDisavalidrunofBonzip(Π)(aswehave satisfythesubformulawiththoseactionsfixed.Theconstructionof
arguedaboveallchildrenthatweaddtoanygivennodesatisfythe theremaining𝛼𝑥,...,𝛼𝑥 isanalogous.Intuitively,each𝛼𝑥 serves
1 𝑚 𝑘
transitionformula). asaSkolemfunctionforthe𝑘thdisjunctiveactionbyfixingan
ItremainstoarguethatDisaccepting.Forthisweconsideran actionbasedsolelyontheearlierconjunctiveactions.Togetherthey
arbitrarilyinfinitepath𝜏 inD,s.t., guaranteethatbyfollowingtheselectedactionbyeachSkolem
functionforeachdisjunctivechoice,wealwaysreachsomechild
𝜏 =((𝑞0,𝑠0),0)((𝑞1,𝑠1),1)((𝑞2,𝑠2),2)···
of𝑥 =((𝑞,𝑠),𝑁)inD.We can now define the desired positional Skolem functions APandagentsAgts(TheseCGSareobtainedautomaticallyfrom
𝜁1,...,𝜁 𝑚 forPΠ.Wedefine𝜁 𝑘 asfollows:Givenanyvertex𝑣 = theISPLmodelsfrom[39]).
(𝑞,𝑠,𝑁)inPΠandactions𝑎1,...,𝑎
𝑘
∈A(correspondingtotheac-
Security (Sec). We select some agent𝑖 ∈ Agts and some AP
tionsselectedbyalluniversallyquantifiedstrategiesbefore2𝑘)we
𝑔∈APmodelingagoal,anAPℎ∈APmodellingahigh-security
checkif𝑥 :=((𝑞,𝑠),𝑁)isanodeinD.Iftheredoesnotexistssuch
input,andanAP𝑜 ∈APmodelinganobservableoutput.Wethen
anodewecanreturnanarbitraryaction(wewilllaterarguethat
constructthefollowingHyperSL[SPE]formula:
thissituationwillneverbereachedinanyplayPΠ).Otherwise𝑥is
anodeinDandwegettheSkolemfunctions𝛼 1𝑥,...,𝛼 𝑚𝑥 wehave ∃𝑥.∀𝑦1,...,𝑦 𝑖−1,𝑦 𝑖+1,...,𝑦 𝑛.∃𝑧1,...,𝑧 𝑛.
constructedearlier.Wedefine𝜁 𝑘(𝑣,(𝑎1,...,𝑎𝑘)):=𝛼 𝑘𝑥(𝑎1,...,𝑎𝑘), (F𝑔 𝜋 ∧G(𝑜 𝜋 ↔𝑜 𝜋′)∧F(ℎ 𝜋 ↮ℎ 𝜋′))
i.e.,weselecttheactionthat𝛼 𝑘𝑥 picksforthe𝑘thdisjunctionwhen (cid:34)𝜋 :(𝑦1,...,𝑦 𝑖−1,𝑥,𝑦 𝑖+1,...,𝑦 𝑛)(cid:35)
usingtheactions𝑎1,...,𝑎𝑘 fortheprevious𝑘conjunctions.
𝜋′ :(𝑧1,...,𝑧 𝑛)
ItremainstoarguethattheSkolemfunctions𝜁1,...,𝜁
𝑚
fulfill
Eq.(7).Let𝑓1,....𝑓
𝑚
∈PosStr(PΠ)andconsidertheresultingplay Thisformulastatesthat𝑖hasastrategytoeventuallyreach𝑔.More-
over,itmaynotleakallinformationaboutℎvia𝑜.Wemodelthis
𝜏 =Play PΠ(cid:0)𝑣0, (cid:214) com(𝒆,𝒐)(𝑘)(cid:1) usingtheideaofnon-inference[43].Theideaisthatthebehavior
𝑘∈[2𝑚] in𝑜shouldnotleakℎ,sotheremustbe“plausibledeniability”.That
=(𝑞0,𝑠0,0)(𝑞1,𝑠1,1)(𝑞2,𝑠2,2)··· is,thesameobservationvia𝑜 isalsopossibleforsomedifferent
inputsequenceviaℎ.
where𝒆(𝑘) := 𝜁 𝑘 and 𝒐(𝑘) := 𝑓 𝑘 for𝑘 ∈ [𝑚].Weconsiderthe Concretely,𝑖 should be able to reach𝑔 on path 𝜋 no matter
equivalentpathintherunDAG(byregroupingparenthesis):
whattheotheragentsplay.Inaddition,theremustexistssome
𝜏′ =((𝑞0,𝑠0),0)((𝑞1,𝑠1),1)((𝑞2,𝑠2),2)··· . path𝜋′(whichwestatebyquantifyingthestrategiesofallagents
B diy sjc uo nn cs tt ivru ec lytio chn oo sf e𝜁 n1, in.. a., c𝜁
c𝑚
ordw ae na cl ew way its hp Dic .k Itth ise ta hc et rio fon rs et eh aa st ya tr oe
e dx iffis et re en nt tia hl il gy h), -t sh ea cut rh ia tyst inh pe us ta (m Fe (ℎo 𝜋bs ↮erv ℎa 𝜋t ′i )o )n .sG(𝑜
𝜋
↔𝑜 𝜋′)buta
seethat𝜏′ isaninfinitepathinD.BytheassumptionthatDis Good-EnoughSynthesis(GE). Inmanysituations,askingfora
acceptingtheminimalcolorthatappearsinfinitelyofteniseven. strategythatwinsinallsituationsistoorestrictive.Instead,itof-
Astheautomatonstatesequenceagreeswiththatof𝜏,wethusget tensufficestolookforstrategiesthataregood-enough(GE),i.e.,
thateven(𝜏) holds.So𝜁1,...,𝜁 𝑚 satisfyEq.(7).ByProposition4 strategiesthatwinoneverypossibleinputsequenceforwhich
thisimpliesthatPΠiswonbytheexistentialteam,asrequired. □ there exists a winning output sequence [1, 3]. We can express
thisformallyusingHyperSL[SPE].Concretely,assumethat𝜑 =
ByProposition3,wegetthatΠsatisfiesEq.(3)iffPΠ iswon Q 1𝑥1,...,Q 𝑚𝑥 𝑚.𝜓[𝜋 :𝑥(cid:174)] isanyHyperSLformulaoverasingle
bytheexistentialteam(Proposition3).ByProposition5, PΠ is pathvariable(or,equivalently,aSL[1G]formula).Wewanttoex-
wonbytheexistentialteamiffzip(Π) ∈ L(B).Consequently,Π pressthatthat𝜑onlyneedstoholdsontraceswithinput𝑖 ∈AP,
satisfiesEq.(3)iffzip(Π) ∈ L(B),provingLemma9andthusof onwhichsomepathwiththesameinputactuallysatisfies𝜓.
Proposition2. Wecanexpressthat𝜑isaGE-strategyasfollows:
E DETAILSONTHESECTION7
Q 1𝑥1,...,Q 𝑚𝑥 𝑚.∀𝑦1,...,𝑦 𝑚.
Inthissection,weprovideadditionaldetailsontheformulaschecked
(G(𝑖
𝜋
↔𝑖 𝜋′)∧𝜓[𝜋′/𝜋])→𝜓
inSection7. wherewewrite𝜓[𝜋′/𝜋]fortheformulawithalloccurrencesof𝜋
replacedwith𝜋′.
E.1 DetailsonSection7.1 Intheformula,wequantifyoverstrategies𝑥1,...,𝑥
𝑚
asin𝜑
WecheckthefollowingHyperSL[SPE]formula: andusethesestrategiestoconstructpath𝜋.Afterwards,weuniver-
sallyquantifyoveranypath𝜋′inthesystembypickingstrategies
(cid:32) 𝑛 (cid:33)
∃𝑥.∀𝑥1,...,𝑥 𝑛. (cid:219) G(cid:0)⟨wt,𝑖⟩𝜋 →F¬⟨wt,𝑖⟩𝜋(cid:1) 𝑦 o1 n,. 𝜋.. p, r𝑦 o𝑛 vif do er dal 𝜋l ′a hg ae snt ts h. eW sae mth ee in npst ua tte ant dha st a𝜓 tiso fin el sy 𝜓n .e Pe hd rs at so edho dl id
f-
𝑖=1
ferently,𝜋 onlyneedstowin,providedsomepathwiththesame
[𝜋 :(𝑠𝑐ℎ𝑒𝑑 ↦→𝑥,𝑦1↦→𝑥1,...,𝑦 𝑛 ↦→𝑥 𝑛)]
inputscanensure𝜓.Notethat,dependingontheprefixin𝜑,this
Thisformulastatesthattheschedulingagentschedhasastrategy isnotexpressibleinweakerhyperlogicssuchasHyperATL∗and
suchthatnoneoftheworkingagents𝑦1,...,𝑦 𝑛 starves,i.e.,when- HyperATL∗.
𝑆
everagent𝑦
𝑖
waitsforagrant(modeledbyproposition⟨wt,𝑖⟩),it
willeventuallynotwaitanymore.Notethatthisformulaisequiv- Random(Rnd). Fortherandomcategory,weusearandomLTL
alenttotheSL[1G]specificationusedbyCermáketal.[23].We
formula(sampledusingspot[30])andaddaprefixofquantifiers
toyieldaHyperSL[SPE]formula.
checkitforvariousvaluesof𝑛∈NandgivetheresultsinTable1.
E.2 DetailsonSection7.2
InSection7.2,wecheckrandomformulasfromarangeofdifferent
families.WeassumewearegivenaCGSGoveratomicproposition