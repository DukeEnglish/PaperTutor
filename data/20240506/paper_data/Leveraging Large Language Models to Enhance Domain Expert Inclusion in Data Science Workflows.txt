Leveraging Large Language Models to Enhance Domain Expert
Inclusion in Data Science Workflows
JasmineY.Shih VishalMohanty
StanfordUniversity StanfordUniversity
USA USA
jyshih@stanford.edu vmohanty@stanford.edu
YannisKatsis HariharanSubramonyam
IBMResearch StanfordUniversity
USA USA
yannis.katsis@ibm.com harihars@stanford.edu
ABSTRACT 1 INTRODUCTION
Domainexpertscanplayacrucialroleinguidingdatascientists Whenbuildingmachinelearning(ML)models,collaboratingwith
tooptimizemachinelearningmodelswhileensuringcontextual domainexpertssuchaseducators,publichealthexperts,agricul-
relevancefordownstreamuse.However,incurrentworkflows,such turalspecialists,etc.isessentialtoensuretheaccuracy,fairness,and
collaborationischallengingduetodifferingexpertise,abstractdoc- contextualapplicabilityofMLmodels[46].Forinstance,thedomain
umentationpractices,andlackofaccessandvisibilityintolow-level expertmightprovideknowledgeaboutspecificdatapatternsuseful
implementationartifacts.Toaddressthesechallengesandenable formissingvalueimputations;basedoncurrentmodelperformance,
domainexpertparticipation,weintroduceCellSync,acollabora- theymaysuggestcreatingnewfeaturessuchascalculatingblood
tionframeworkcomprising(1)aJupyterNotebookextensionthat sugarlevelsovera3-monthperiod.Domainexpertsplayacritical
continuouslytrackschangestodataframesandmodelmetricsand roleinensuringMLsolutionsaretailoredtothebroaderdomain
(2)aLargeLanguageModelpoweredvisualizationdashboardthat goals,includingfairness,transparency,andaccountability[33,53].
makesthosechangesinterpretabletodomainexperts.Through GiventhedynamicanditerativenatureofMLmodelingpro-
CellSync’s cell-level dataset visualization with code summaries, cesses,cross-disciplinecollaborationshouldbecontinuousthrough
domainexpertscaninteractivelyexaminehowindividualdataand constantevaluationandfeedback[20,44].However,currentsup-
modelingoperationsimpactdifferentdatasegments.Thechatfea- portfordomainexpertinvolvementislargelylimitedtoabstract
turesenabledata-centricconversationsandtargetedfeedbackto summarizationsofmodelingdecisionsintheformofdocumenta-
datascientists.OurpreliminaryevaluationshowsthatCellSync tion.ArtifactssuchasDatasheets[14],Factsheets[3],andModel
providestransparencyandpromotescriticaldiscussionsaboutthe Cards[28]areonlycreatedtowardstheendofthedevelopment
intentsandimplicationsofdataoperations. process[16],makingitdifficultfordomainexpertstoactivelypar-
ticipateinupstreammodelingtasks.Furthermore,domainexperts
CCSCONCEPTS notproficientindata-drivenworkmayfacechallengesinaccessing
• Human-centered computing → User interface program- andinterpretingcomputationalartifactssuchascode[55].This
ming;Collaborativeandsocialcomputingsystemsandtools;Infor- knowledgegapnecessitatesextraworkfromengineeringteams
mationvisualization. totranslatecomplexdecisionsintoformatsaccessibletodomain
experts.However,alackofsharedunderstandingofeachother’s
KEYWORDS tasksandterminologycanleadtomisunderstandings,inconsistent
assumptions,andevenconflicts[31].
CollaborativeML,promptengineering,tabulardatasets,computa-
ToaddresscurrentchallengesincollaborativeML,weexplorethe
tionalnotebooks,datasubsetvisualization
potentialoflargelanguagemodels(LLMs)toenhancetransparency
ACMReferenceFormat: andfacilitatetheinvolvementofdomainexpertsindatascience
Jasmine Y. Shih, Vishal Mohanty, Yannis Katsis, and Hariharan Subra-
workflows.WedevelopedCellSync,whichconsistsofavisualization
monyam.2024.LeveragingLargeLanguageModelstoEnhanceDomain
dashboardpoweredbyLLMsthatprovidesdomainexpertswith
ExpertInclusioninDataScienceWorkflows.InExtendedAbstractsofthe
an‘alternate’viewofcomputationalnotebookscommonlyutilized
CHI Conference on Human Factors in Computing Systems (CHI EA ’24),
by data science practitioners. Complementing the visualization
May11–16,2024,Honolulu,HI,USA.ACM,NewYork,NY,USA,11pages.
https://doi.org/10.1145/3613905.3651115 interfaceisaJupyterNotebook[22]extensionthatparsesandrelays
computationaloperationstothedashboard.Asthedatascientist
Permissiontomakedigitalorhardcopiesofpartorallofthisworkforpersonalor performseachdataoperationinJupyterNotebook,adataversion
classroomuseisgrantedwithoutfeeprovidedthatcopiesarenotmadeordistributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation card containing a text summary and a grid-based visualization
onthefirstpage.Copyrightsforthird-partycomponentsofthisworkmustbehonored. (SnapGrid)isaddedtothedashboardtoexplainthedataoperation.
Forallotheruses,contacttheowner/author(s).
CellSyncleveragesLLMone-shot,few-shot,andchain-of-thought
CHIEA’24,May11–16,2024,Honolulu,HI,USA
©2024Copyrightheldbytheowner/author(s). prompting[1,27,52]togeneratetextsummariesofPythoncode
ACMISBN979-8-4007-0331-7/24/05. andextractinformationforvisualizationpurposes.Additionally,
https://doi.org/10.1145/3613905.3651115
4202
yaM
3
]CH.sc[
1v06220.5042:viXraCHIEA’24,May11–16,2024,Honolulu,HI,USA Shih,etal.
CellSyncsupportsachatfeaturebetweenthedashboardandthe system[48]thatenablesdatascientiststoworktogetherincompu-
notebookfordomainexpertstodirectlysharefeedbackwithdata tationalnotebookswithcontext-richchatfeatures,aswellasstudies
scientists. In the current instantiation of our work, we focused thatrevealcollaborationpatternsamongdatascientists[41,47],
ontabulardatagiventheirwidespreadprevalenceinpredictive wedevelopedaJupyterNotebookextensionthatissituatedwithin
modelingtasks.ToevaluatehowCellSyncsupportsdomainexperts’ datascientists’MLworkenvironmentandprovidesachatinterface
understandingofMLdataoperations,weconductedacontrolled fordata-centriccommunicationwithdomainexperts.Inourwork,
studywith10pairsofdomainexpertsanddatascientists.Ourwork wefocusspecificallyontabulardataduetoitshighavailabilityin
contributes1)anLLM-poweredvisualizationdashboardthatmakes healthandeducationdomains.Weselectedpredictivemodelde-
itpossiblefordomainexpertstofollowalongwithdatascientists’ velopmentastheMLtasktodesignforbecausepredictivemodels
workinJupyterNotebookand2)apreliminaryevaluationofthe havehighimplicationsinourchosendomains[4,12,15,19,34].
dashboardfeatures.
2 RELATEDWORK
3 USEREXPERIENCE
IncollaborativeML,researchershaveinvestigatedhowdatascience
CellSyncconsistsofaJupyterNotebookextensionandawebvisu-
andMLpractitionersmayworkwithdomainexpertsindifferent
alizationdashboard.Theextensiontracksdatascientists’dataoper-
stagesoftheMLpipeline[5,26,30,31,38,40,43,49].Currentcol-
ationsineachnotebookcell.Thevisualizationdashboard,designed
laborationapproachesarelargelythroughlivemeetings,messaging
for domain experts, communicates each change to a dataframe
channels,and,inafewinstances,speciallydesignedgraphicalinter-
withatextsummaryandagrid-basedvisualization(SnapGrid)on
faces[5,8,10,25,37,40].CollaborativeMLteamsengageinamix
adataversioncard(Figure1a).Boththeextensionandthedash-
ofsynchronousandasynchronouscommunicationtoolsdepend-
boardprovideachatfeaturefordomainexperts(Figure1d)and
ingonwhetherthecurrentdiscussionrequirescontent-based(e.g.
datascientists(Figure2)toexchangecomments.EachSnapGrid,
JupyterNotebookandGitversioncontrolsystems)orprocess-based
inspiredbySmallsetTimelines[24]whichvisualizesdatachanges
communication(e.g.emailsandSlack)[26,42].Toensureeffective
ingrid-basedsnapshots,showsastatic9-by-9subsetofthedata;
collaboration,datascientistsanddomainexpertsmustcontinueto
thesubsetisselectedtomaximizethecoverageofthechangestied
establishcontentcommonground(sharedunderstandingofwork
tothedataoperation.Oneachsquare thatrepresentsacellin
subject)andprocesscommonground(sharedunderstandingof
thedataframe,thecell’spreviousandnewvaluesaredisplayedwith
procedures)throughoutthelifecycleofMLtasks[26].However,
anarrowbetweenthem.Cells,rows,orcolumnsthathavebeen
thelackofcentralizedtoolsandprotocolsmakesitdifficultfor
modified,added,orremovedarehighlightedwithdifferentcolors–
multidisciplinaryteamstosustaincollaborationacrossMLstages.
blue formodificationofcells,purple fornewcolumnsand
Asaresult,theinteractionsbetweendatascientistsanddomain
boxes aroundrelatedcolumns,andred forremovedcolumns
expertsareoftenlimitedtoonestageoftheMLpipeline[30,43].
orrows.Anavigatorontheleftofthepageprovidesacompactview
Differencesinexpertisebetweendomainexpertsanddatascien-
ofthedataoperationhistorywithclickablecirclesfornavigation
tistsposeadditionalchallenges.Datascientistsoftenspendlarge
(Figure1b).
amountsoftimepreparingconcretedataexamplestocommuni-
ToillustrateCellSync’sfeaturesanduserexperience,wepresent
catewithdomainexperts[37],andmeaningfulMLstakeholder
afictionaljourneyofSandy,adatascientist,andEllis,aneducation
participationrequiresscaffoldstoaidtheexchangeoftechnical
domain expert, who work together on an ML model to predict
andnon-technicalconsiderations[45].Tobridgetheexpertisegap,
students’writingscores.
systemsshouldbedesignedtoaiddomainexpertsinunderstanding
datasciencetechniquesinamannerthatbettermatchestheirmen- Set-up:Sandyobtainsadatasetwith600rowsofstudentback-
talmodelofdata[21].Visualizationsofdatachanges[17,24,32] groundinformationandexamscores.Sheloadsthedatasetintoa
haveprovedtobeaneffectivemeansofsupportingunderstand- pandasdataframevariablenameddfbyexecutingaJupyterNote-
ingbeyondservingthefunctionofdocumentation.Recentwork bookcell.Inthewebdashboard,Ellisseesatextsummaryabout
inExplainableAI[7,9,11,18,50]hasalsodemonstratedwaysto theoperationalongwithaSnapGridshowingasubsetoftheloaded
makeMLcomponentsmoreinterpretabletonon-expertsthrough datainthecorrespondingdataversioncard.Heclicksonthethumb-
visualizationanddirectmanipulationinteractions[2,29,39]. nailhistogram undereachcolumnnameonthecardtoopen
Informedbythechallengesandpotentialsolutionsidentifiedin thehistogramandcolumnstatisticsinthesidepanel(Figure1c).
priorresearch,weexploretheuseofLLMstosupplementhuman MissingValueAnalysis:Sandyfillsinthemissingvaluesinthe
effortintranslatingcodeintonaturallanguageandexplainable “EthnicGroup” column,whichcontainscategoricalvalues,withthe
visualizations.InCellSync,webuildontheSmallsetTimelinesvi- mostfrequentcategory.Inthewebdashboard,Ellisattemptsto
sualizationtechnique[24]toselectandvisualizeadigestiblesubset understandthenewlyexecutedoperationbyreadingthecodesum-
ofrowsandcolumnsfordomainexperts.Further,weutilizeLLMs’ maryandviewingtheSnapGrid.Asmorethan9valueshavebeen
codesummarizationcapabilities[1]andrefinethesesummaries modified,all9cellsinthecolumnarecoloredinblue ,anda
throughtargetedpromptengineeringtotailorthemtowardsdo- numberabovethefirstcellinthecolumnindicatesthetotalnumber
mainexperts.Tobettersupportdatascientistsintheircollaboration ofvalueschanged.Concernedabouttheimplicationsofassuming
withdomainexperts,welookedtopriorworkstodesignthedata- missingdata,EllissendsacommenttoSandytosuggestshereplace
scientist-facingcomponentofCellSync.InspiredbytheCallisto themissingvalueswith“Unknown”instead.LLMsforDomainExpertInclusioninDataScience CHIEA’24,May11–16,2024,Honolulu,HI,USA
Figure1:TheCellSyncvisualizationdashboardinterface:(a)dataversioncardcontainingcodesummaryandSnapGridalong
withcolumnhistograms,(b)clickablecardnavigatordisplayingareddotindicatingnewcomments,(c)detailedviewforthe
selectedcolumn,(d)commentssectionforthecurrentcard,(e)bottombarforswitchingbetweeninitialdatasettableanddata
operationhistory,(f)dropdownmenuforvariableselection,(g)notificationfornewcomments,and(h)collapsiblelegendfor
SnapGrid.
FeatureEncoding:Sandyperformsone-hotencodingonacate- 75andSportsPracticeFrequencyislessthan2”.TheupdatedSnap-
goricalcolumn,therebycreatinganewcolumnforeachcategory Gridhighlightsvaluesthatmeetthecriteriawithayellowborder
andremovingtheoriginalcolumnfromthedataframe.Inthecor- (Figure3b).ThisfeatureenablesEllistoexaminethedataina
respondingSnapGrid,thecellsinthenewcolumnsarecolored flexibleandnaturalmanner.
inpurple ,andthecellsintheremovedcolumnarecoloredin ModelTraining:Sandysplitsthedatasetintoatrainingsetstored
whitewitharedborder .Inaddition,alightpurplebox is asvariableX_trainandatestingsetstoredasX_test.Thenew
placedaroundtheremovedcolumntoindicatethatthenewcolumns dataframevariablesleadtotheadditionoftwonewdataversion
havebeencreatedbasedonvaluesinthisoriginalcolumn.Ellis cardsinthevisualizationdashboard.Toaccessanewcard,Ellis
viewsthedataversioncardfortheone-hotencodingoperationand clicksonthevariablesdrop-downmenuinthebottombarand
understandsthattheencodingoperationtransformstheoriginal selectstheX_trainvariabletoswitchthedataoperationhistory
categoricalvaluesintobinaryvalues. viewtothenewvariable.Sandythentrainsa“LinearRegression”
Feature Selection: Sandy observes that the “SportsPracticeFre- modelwiththeX_trainvariableandevaluatesthemodelbycal-
quency”columndoesnotseemtobecorrelatedwith“WritingScore” culatingmodelperformancemetricssuchasmeansquarederror,
anddecidestoremoveit.EllisinquiresSandyaboutthedeletionof meanabsoluteerror,andR2score.Inthevisualizationdashboard,
data.Sandyexplainsthatthecolumnisnotcorrelatedwith“Writ- EllisisabletoviewthemodelnameandmetricsintheX_train
ingScore” andthereforeisnotusefulforthepredictivemodel.To dataversioncard(Figure3c).
filtertherawdataforhisownexamination,Ellisusesthenatural
languagequeryfeatureinthesidepanel(Figure3a).Heclickson
4 SYSTEMIMPLEMENTATION
thepreviousdataversioncardwherethe“SportsPracticeFrequency”
CellSyncconsistsofaJupyterNotebookextensionandwebvisu-
columnisstillpresentandsubmitsthequery“WritingScoreisbelow
alizationdashboard.BothcomponentsofthesystemaresyncedCHIEA’24,May11–16,2024,Honolulu,HI,USA Shih,etal.
4.1.1 NaturalLanguageCodeDescription. Toautomaticallycreate
textsummariesofdataframechanges,weapplypromptengineer-
ing[54]togeneratedescriptionsoftheexecutedPythoncode.The
promptweengineeredisgivenbelow,with<dataframe_var>and
<code>asplaceholdersforthevariablenameandcodeinthegiven
notebookcell.
Iwanttoexplainadatatransformationtoadomainexpertwho
maynotbefamiliarwithtechnicaltermslike‘dataframe’or‘trans-
formation’asaveryshortsummary.Thegoalistomakeiteasily
understandable.Pleaseexplainwhatishappeningtothedatainthe
<dataframe_var>variable.Ifanyspecificrowsorcolumnsarebeing
modified,kindlymentionthem.Itdoesn’thavetobetooverbose.
Avoidusingtermslike‘dataframe’.Ifthecodeloadsadataset,donot
inferwhattypeofinformationisincludedinthedatasetunlessthe
informationisexposedinthecode.
<code>
Thispromptmakesuseofzero-shotprompting[51]withspe-
cificinstructionsaimedtomaketheLLMoutputmorefriendlyto
non-technicalreaders.Inourpromptengineeringprocess,weob-
Figure2:TheCellSyncdata-scientist-facingchatinterface servedthattheLLMtendedtoprovideincorrectinformationabout
renderedbytheJupyterNotebookextension. adatasetbasedsolelyonthedatasetnamepresentinthecode(e.g.
falselystatingwhatcolumnsthedatasetincludes).Tocounterthese
LLMhallucinations[56],weexplicitlyinstructtheLLMtonotinfer
thetypeofinformationincludedinadatasetreferencedinthecode.
withthesharedAmazonDynamoDBdatabaseevery15seconds
usingtheserverlessAmazonLambdafunctionsasthebackend.The 4.1.2 ComputingSubsetforSnapGrid. BuildingupontheSmallset
extensionisalsolinkedtoOpenAI’stext-davinci-003LLMmodel Timelinessubsetcomputation[24],wedeviseanalgorithmtoselect
[35]tosupportseveralfeaturesinthebackend. asubsetof9rowsby9columnsthatmaximizesthecoverageof
valuechangesforSnapGrid.Thealgorithmselectsthedatasetrows
4.1 JupyterNotebookExtension withthehighestnumberofchangedvalues,andthecolumnsthat
OurextensionisbuiltontheJupyterNbextensionsframework1and havebeendirectlyaffectedorareimplicitlyinvolvedincolumn
providesthecorefunctionalitytoautomaticallysharethedataoper- changes(e.g.usedtocomputenewcolumns).Todeterminethe
ationandmodeltraininghistorywiththevisualizationdashboard. involvedcolumns,weusethetext-davinci-003LLMtoinferand
TocapturethedataoperationsintheMLmodeldevelopmentpro- extracttherelationshipsbetweencolumnsinthegivencode.Inthe
cess,weutilizeaPythonscriptthatisinvokedeachtimeacodecell LLMprompt,wefirstprovidetheexecutedcode,followedbylistsof
isexecutedinthenotebooktoobtainvariablecontents.Ourscript existingcolumnsandnewlyaddedcolumnsinthedataframe,and
extendsthescriptusedintheopen-sourcedVariableInspectorex- thenasktheLLMtoreturnaJSONobjectindicatingtherelation-
tension2,whichlistsallthevariablesinthecontextofthenotebook shipsbetweenthecolumnsinvolved.Wedemonstratetheprompt
usingNamespaceMagics3,tocomparethecurrentandpriorstates withanillustrativeexampleintheappendix(A.1.1).Byleveraging
ofdataframevariables.Ifadataframevariablehasbeenmodified, theabilityoftheLLMtomakeinferencesoncolumndependency
weobtainanLLM-generatedsummaryofthecode(describedin usingpatternrecognitionanddatascienceknowledge,weobtain
4.1.1)andcomputeasubsetofthedataframetobedisplayedin columnrelationshipsinarobustmanner.
thevisualizationdashboard(describedin4.1.2).Thisinformation 4.1.3 Extracting Model Metrics. When a model is trained on a
ispackagedinaJSONobjectalongwithcontextualdataaboutthe dataframevariableandevaluatedwithperformancemetricscal-
notebookcell.TheJSONobjectisthensenttotheAmazonDy- culations,weextractthefollowingmodelinformationusingthe
namoDBdatabasetoallowinformationtobesharedbetweenthe text-davinci-003 LLMandthevariablecontentsprovidedbythe
notebookandthevisualizationdashboard.Inaddition,eachversion Pythonscript:(1)ModelName:Thenameofthemodel,suchas
ofthefulldatasetisstoredinourAmazonS3databaseasaCSV LinearRegression,(2)Trainvariables:Thevariablesusedintrain-
file. ing,e.g.X_train, Y_train,(3)Testvariables:Thevariablesused
fortesting,e.g.X_test, Y_test,and(4)Metrics:Alistofmetric
1https://github.com/ipython-contrib/jupyter_contrib_nbextensions names(suchasRMSerror,Precision,Recall,Accuracy,etc.),their
2https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/nbextensions/ correspondingPythonvariablenames,andthemetricvalues.To
varInspector/README.html#variable-inspector
getstructuredmodelmetricsintheaboveformat,weutilizefew-
3https://ipython.org/ipython-doc/2/api/generated/IPython.core.magics.namespace.
html shotchain-of-thoughtprompting[52]toteachtheLLMthekindofLLMsforDomainExpertInclusioninDataScience CHIEA’24,May11–16,2024,Honolulu,HI,USA
Figure3:(a)TextfieldforenteringanaturallanguagequerytoupdatetheselectedSnapGrid.(b)Cellswithvaluesthatmeet
thequerycriteriaarehighlighted.(c)Tabledisplayofmodelmetricsinformation.
outputweexpectgiventheinput.Intheprompt,wefirstspecify hadatleast1.5yearsofexperienceintheirrespectivefieldsand
thedesiredoutputformatandthenprovideseveralexamplesof receiveda$60giftcardfortwohoursoftheirtime.
input and expected output, followed by the code input that we Ineachsession,weintroducedthedomainexpertandthedata
needtheLLMtogenerateoutputfor.Wefoundthat,toincrease scientisttoadatasetrelevanttothedomainexpert’sfieldandan
therobustnessoftheLLM,itisnecessarytoprovideadiverseset MLpredictiontaskforthemtocollaborateon(seeTable2inthe
ofcodeandoutputexamplescoveringdifferentmodelsandperfor- appendixforstudydetails).Tomaximizethedomainexperts’use
mancemetrics,aswellascounterexamplesthatteachthemodel ofthedashboardfeatures,weplacedthedomainexpertandthe
whattypesofinputshouldresultinemptyoutput.Thefullprompt datascientistintwodifferentZoomrooms.Afterthemaintask,
canbefoundintheappendix(A.1.2). webroughttheparticipantsbacktothesameroomandconcluded
thesessionwitha15-minutesemi-structuredinterview.Duringthe
session,bothparticipants’screensandtheinterviewwererecorded.
4.2 VisualizationDashboard
ThevisualizationdashboardisbuiltwithReact.jsforthefrontend
5.1 Findings
andserverlessAmazonLambdafunctionsasthebackend.TheSnap-
Overall,thedomainexpertparticipantsfoundthecodesummary
Gridandtheinteractivecolumnhistogramsaredevelopedwith
(seeTable3intheappendixforexamples)andthevisualization
theD3library.Weprovidethedomainexpertwithanaturaland
featuresintheCellSyncdashboardtobeeffectiveinaidingtheir
flexiblemechanismtoupdatetherowsintheSnapGridbysubmit-
understandingofdataoperations.Someparticipantspreferredto
tinganaturallanguagequery.Toachievethedesiredoutcome,we
readthetextsummariestogainahigh-levelunderstandingofthe
againapplyfew-shotchain-of-thoughtpromptingtotrainthetext-
data operation before deciding whether they needed to closely
davinci-003LLMmodeltotransformthegivennaturallanguage
examinetheSnapGrid.OtherparticipantsreliedontheSnapGrid
querytofilterconditions(seefullpromptinA.1.3intheappendix).
tounderstandthetypeandextentofdatachange.Asthedomain
TheLLMprovidesroomforerrorinthenaturallanguagequeryas
expertE7commented,SnapGridshelpedherunderstandwhyitmay
itunderstandstheintentionofthedomainexpertinthecontextof
thedataset.Evenifthedomainexpertfailstomakeexactreferences
benecessaryfordatascientiststoperformcertainoperations:“I
tocolumnnamesintheirqueries(incorrectcase,addedspacing, reallylikedseeingthedifferencesinthedatahighlighted...tosomeone
etc.),theLLMstillcorrectlytransformsthequerytoconditionsthat whoisn’tadatascientist,seeingthechangesvisualizedthiswayhelps
canbeusedtofiltertherowsinthebackend. bridgethatgapofwhyanoperationisimportantforadatascientistto
dotomakethedataeasiertoworkwith.” Theparticipants’differing
preferencesforthecodesummaryandtheSnapGridsuggestthat
5 PRELIMINARYEVALUATION displayingbothcomponentscansupportawiderangeofdomain
Inevaluatingoursystem,ourgoalwastounderstandwhetherCell- expertsinunderstandingdataoperations.
Sync’sfeaturesallowdomainexpertstounderstandtheunderlying Mostparticipantsexpressedthatthevisualizationdashboard
datasciencecode,andwhetherthatunderstandingleadstocom- hadahighlearningcurve.Thissentimentstemmedfromboththe
municationandfeedbacktodatascientists.Weconductedavirtual shortnessoftheevaluationsessionandthelargenumberoffeatures
userstudyonZoomwithpairsofdomainexpertsanddatascientists thatthedashboardsupported.Nonetheless,participantsexpressed
(atotaloftenpairs).Fiveofthedomainexpertshadaneducation appreciationforseveralfeaturesbesidesthecodesummaryandthe
backgroundandtheotherfivehadpublichealthexpertise(seeTa- SnapGrid.Inparticular,thecolumnhistogramswereextensively
ble1intheappendixforparticipants’demographicinformation). used.AccordingtoE3,“Icanusethemtomakerecommendationsto
Theparticipantswererecruitedthroughourprofessionalnetwork thedatascientistonwhattopayattentiontoinsteadofrelyingon
andspecializedcommunitiesonsocialplatforms.Allparticipants himtoprovidethesebasicstatistics.” Inaddition,domainexpertsCHIEA’24,May11–16,2024,Honolulu,HI,USA Shih,etal.
foundthedataversioncardnavigatortobehelpful,asitclearly efforts.Inaddition,becauseCellSynccanserveasalearningtoolfor
indicatedthepositionofthecurrentcardandeliminatedtheneed datascienceeducation,weplantointegrateCellSyncintouniversity
toscrollexcessivelyinthehistoryview. datasciencecoursestoexamineitseducationalutility.
ThroughCellSync,theparticipantpairsactivelyexchangeda Inconclusion,oursystempresentsanapproachtomakingcom-
varietyofmessagesastheycollaboratedonthepredictiontask.For putationalnotebooksaccessibletodomainexperts,whichcanen-
instance,manydomainexpertparticipantsinquiredaboutthepur- hancetheirparticipationinupstreamMLtasks.TheuseofLLMs
poseofone-hotencodingoperations,andtheircollaboratorswould forcodesummarizationanddatachangevisualizationscanallevi-
explainthatitwasadatasciencetechnique.Thedomainexperts atetheengineeringworkloadrequiredtoclarifydecision-making
alsoraisedconcernsaroundmissingvalueimputation,providing processesandreducefrictionincollaborativeMLpractices.
domain-specificreasonsforwhyitmaybeproblematic.Forexam-
ple,publichealthexpertsarguedthatpatients’missing“Region” ACKNOWLEDGMENTS
datashouldnotbeimputedgiventhehealthcaredisparitiesbetween ThisworkwaspartiallysupportedbyIBMasafoundingmemberof
U.S.regions.Inthesecases,participantpairsengagedindiscussions StanfordInstituteforHuman-centeredArtificialIntelligence(HAI).
aboutthetrade-offsbetweenkeepingthedatatrueandmakingit
usablebyMLmodels,astheyattemptedtoreachcommonground.
REFERENCES
OurLLM-supportedfeatureshelpeddomainexpertstounderstand
[1] ToufiqueAhmedandPremkumarDevanbu.2023. Few-ShotTrainingLLMs
whatchangedinthedata,enablingthemtoinitiateconversations forProject-SpecificCode-Summarization.InProceedingsofthe37thIEEE/ACM
withdatascientistsaboutwhycertaindataoperationsneededto InternationalConferenceonAutomatedSoftwareEngineering(Rochester,MI,USA)
beperformed.
(ASE’22).AssociationforComputingMachinery,NewYork,NY,USA,Article
177,5pages. https://doi.org/10.1145/3551349.3559555
[2] GulsumAliciogluandBoSun.2022.AsurveyofvisualanalyticsforExplainable
ArtificialIntelligencemethods.Computers&Graphics102(2022),502–520. https:
6 DISCUSSIONANDCONCLUSION //doi.org/10.1016/j.cag.2021.09.002
[3] MatthewArnold,RachelKEBellamy,MichaelHind,StephanieHoude,Sameep
Tobridgethegapinexpertisebetweendomainexpertsanddata Mehta,AleksandraMojsilović,RaviNair,KNatesanRamamurthy,Alexandra
scientistsonMLcollaborationtasks,weleveragedvisualization Olteanu,DavidPiorkowski,etal.2019.FactSheets:IncreasingtrustinAIservices
throughsupplier’sdeclarationsofconformity. IBMJournalofResearchand
andcodesummariestohelpdomainexpertsunderstandtheimpact Development63,4/5(2019),6–1.
ofdatascienceoperationsintheMLmodelingpipeline.Further, [4] RyanS.BakerandAaronHawn.2021.AlgorithmicbiasinEducation.International
theuseofLLMsservedmultiplepurposesinoursystem.First,the
JournalofArtificialIntelligenceinEducation32,4(2021),1052–1092. https:
//doi.org/10.1007/s40593-021-00285-9
LLM-generatedcodesummaryreducesthecommunicationburden [5] WesleyHanwenDeng,NurYildirim,MonicaChang,MotahhareEslami,Kenneth
ondatascientistsinthecollaborationprocess,allowingthemto Holstein,andMichaelMadaio.2023.InvestigatingPracticesandOpportunities
forCross-FunctionalCollaborationaroundAIFairnessinIndustryPractice.In
spendmoreoftheireffortondata-specificcommunicationrather
Proceedingsofthe2023ACMConferenceonFairness,Accountability,andTrans-
thancode-specificcommunication.Second,byusinganLLMto parency(Chicago,IL,USA)(FAccT’23).AssociationforComputingMachinery,
extractdataframe-andmodel-relatedinformationfromcode,we NewYork,NY,USA,705–716. https://doi.org/10.1145/3593013.3594037
[6] Des.andRoyceKimmons.2023.Studentsexamscores:Extendeddataset. https:
utilizeitscapacitytounderstandthecontextandmakeinferences, //www.kaggle.com/datasets/desalegngeb/students-exam-scores
increasingthesystem’srobustnessagainstawiderangeofinput. [7] DerekDoran,SarahSchulz,andTarekR.Besold.2017.WhatDoesExplainable
Basedonthepreliminaryevaluationfindings,weaimtoinvesti-
AIReallyMean?ANewConceptualizationofPerspectives.CoRRabs/1710.00794
(2017).arXiv:1710.00794 http://arxiv.org/abs/1710.00794
gatehowtoapplydifferentLLMtuningandpromptingtechniques [8] JunDuandCharlesX.Ling.2010.AskingGeneralizedQueriestoDomainExperts
tobettersupportdomainexpertsinourfuturework.Onedirection toImproveLearning.IEEETransactionsonKnowledgeandDataEngineering22,6
(2010),812–825. https://doi.org/10.1109/TKDE.2010.33
maybetocontextualizeLLMmodelsinthegivenapplicationdo- [9] RudreshDwivedi,DevamDave,HetNaik,SmitiSinghal,RanaOmer,Pankesh
main,providingtheLLMswithinformationaboutthecollaboration Patel,BinQian,ZhenyuWen,TejalShah,GrahamMorgan,andRajivRanjan.
task,objectives,andinputdata.Asoureducationdomainexpert 2023.ExplainableAI(XAI):CoreIdeas,Techniques,andSolutions.ACMComput.
Surv.55,9,Article194(jan2023),33pages. https://doi.org/10.1145/3561048
participantE1explainedthateducationexpertstypicallyapproach [10] BaharFarahani,MojtabaBarzegari,andFereidoonShamsAliee.2019.Towards
educationdatawithastandardsetofconsiderations(e.g.corre- CollaborativeMachineLearningDrivenHealthcareInternetofThings.InPro-
lationbetweensocioeconomicfactorsandstudentperformance),
ceedingsoftheInternationalConferenceonOmni-LayerIntelligentSystems(Crete,
Greece)(COINS’19).AssociationforComputingMachinery,NewYork,NY,USA,
LLMscanbepre-instructedwithdomain-specificinformationto 134–140. https://doi.org/10.1145/3312614.3312644
guidedomainexpertstomoreefficientlyandthoroughlyexamine [11] KrishnaGade,SahinCemGeyik,KrishnaramKenthapadi,VarunMithal,and
AnkurTaly.2019. ExplainableAIinIndustry.InProceedingsofthe25thACM
datatransformationsandmodeloutputs.Inaddition,asresearch SIGKDDInternationalConferenceonKnowledgeDiscovery&DataMining(An-
onusingLLMsforcodegeneration[23,36]beginstomature,we chorage,AK,USA)(KDD’19).AssociationforComputingMachinery,NewYork,
aimtoincreaseoursystem’ssupportfordatascientistsbyprovid- NY,USA,3203–3204. https://doi.org/10.1145/3292500.3332281
[12] JoshGardner,ChristopherBrooks,andRyanBaker.2019.EvaluatingtheFairness
ingautomaticcodesuggestionsbasedondomainexperts’natural ofPredictiveStudentModelsThroughSlicingAnalysis.InProceedingsofthe9th
languagefeedback. InternationalConferenceonLearningAnalytics&Knowledge(Tempe,AZ,USA)
Our preliminary evaluation study was conducted over short
(LAK19).AssociationforComputingMachinery,NewYork,NY,USA,225–234.
https://doi.org/10.1145/3303772.3303791
periods of synchronous collaboration between the participants, [13] Ayush Garg and Vaccine Adverse Event Reporting System (VAERS). 2021.
resultinginlimitediterationinthemodelingprocessandmaynot Covid-19worldvaccineadversereactions. https://www.kaggle.com/datasets/
ayushggarg/covid19-vaccine-adverse-reactions
reflectmostcollaborationandcommunicationscenariosinreality. [14] TimnitGebru,JamieMorgenstern,BrianaVecchione,JenniferWortmanVaughan,
Toevaluateoursysteminmorerealisticsettings,weplantodeploy HannaWallach,HalDauméIii,andKateCrawford.2021.Datasheetsfordatasets.
CellSynctoindustryteamsthatperformcollaborativeMLworkand Commun.ACM64,12(2021),86–92.
[15] MilenaA.Gianfrancesco,SuzanneTamang,JinoosYazdany,andGabrielaSchma-
collectusagedataoverlongerperiodsoftimeinourfutureresearch juk.2018. PotentialBiasesinMachineLearningAlgorithmsUsingElectronicLLMsforDomainExpertInclusioninDataScience CHIEA’24,May11–16,2024,Honolulu,HI,USA
HealthRecordData. JAMAInternalMedicine178,11(112018),1544–1547. [37] SoyaPark,AprilYiWang,BanKawas,Q.VeraLiao,DavidPiorkowski,and
https://doi.org/10.1001/jamainternmed.2018.3763 MarinaDanilevsky.2021.FacilitatingKnowledgeSharingfromDomainExperts
[16] AmyK.Heger,LizB.Marquis,MihaelaVorvoreanu,HannaWallach,andJennifer toDataScientistsforBuildingNLPModels.In26thInternationalConferenceon
WortmanVaughan.2022.UnderstandingMachineLearningPractitioners’Data IntelligentUserInterfaces(CollegeStation,TX,USA)(IUI’21).Associationfor
DocumentationPerceptions,Needs,Challenges,andDesiderata. Proc.ACM ComputingMachinery,NewYork,NY,USA,585–596. https://doi.org/10.1145/
Hum.-Comput.Interact.6,CSCW2,Article340(nov2022),29pages. https: 3397481.3450637
//doi.org/10.1145/3555760 [38] SamirPassiandStevenJ.Jackson.2018.TrustinDataScience:Collaboration,
[17] FredHohman,KanitWongsuphasawat,MaryBethKery,andKayurPatel.2020. Translation,andAccountabilityinCorporateDataScienceProjects.2,CSCW,
UnderstandingandVisualizingDataIterationinMachineLearning.InProceedings Article136(nov2018),28pages. https://doi.org/10.1145/3274405
ofthe2020CHIConferenceonHumanFactorsinComputingSystems(Honolulu, [39] MateusM.PereiraandFernandoV.Paulovich.2020.RankViz:Avisualization
HI,USA)(CHI’20).AssociationforComputingMachinery,NewYork,NY,USA, frameworktoassistinterpretationofLearningtoRankalgorithms.Computers&
1–13. https://doi.org/10.1145/3313831.3376177 Graphics93(2020),25–38. https://doi.org/10.1016/j.cag.2020.09.017
[18] AndreasHolzinger,ChrisBiemann,ConstantinosS.Pattichis,andDouglasB.Kell. [40] DavidPiorkowski,SoyaPark,AprilYiWang,DakuoWang,MichaelMuller,and
2017.WhatdoweneedtobuildexplainableAIsystemsforthemedicaldomain? FelixPortnoy.2021.HowAIDevelopersOvercomeCommunicationChallenges
CoRRabs/1712.09923(2017).arXiv:1712.09923 http://arxiv.org/abs/1712.09923 inaMultidisciplinaryTeam:ACaseStudy.Proc.ACMHum.-Comput.Interact.5,
[19] JonathanHuang,GalalGalal,MozziyarEtemadi,andMaheshVaidyanathan.2022. CSCW1,Article131(apr2021),25pages. https://doi.org/10.1145/3449205
Evaluationandmitigationofracialbiasinclinicalmachinelearningmodels: [41] DeepthiRaghunandan,AayushiRoy,ShenzhiShi,NiklasElmqvist,andLeilani
Scopingreview.JMIRMedicalInformatics10,5(2022). https://doi.org/10.2196/ Battle.2023. CodeCodeEvolution:UnderstandingHowPeopleChangeData
36388 ScienceNotebooksOverTime.InProceedingsofthe2023CHIConferenceon
[20] AnnaJobin,MarcelloIenca,andEffyVayena.2019.ThegloballandscapeofAI HumanFactorsinComputingSystems(Hamburg,Germany)(CHI’23).Association
ethicsguidelines. https://www.nature.com/articles/s42256-019-0088-2 forComputingMachinery,NewYork,NY,USA,Article863,12pages. https:
[21] JuYeonJung,TomSteinberger,JohnL.King,andMarkS.Ackerman.2022. //doi.org/10.1145/3544548.3580997
HowDomainExpertsWorkwithData:SituatingDataScienceinthePractices [42] AayushiRoy,DeepthiRaghunandan,NiklasElmqvist,andLeilaniBattle.2023.
andSettingsofCraftwork. 6,CSCW1,Article58(apr2022),29pages. https: HowIMetYourDataScienceTeam:ATaleofEffectiveCommunication.In2023
//doi.org/10.1145/3512905 IEEESymposiumonVisualLanguagesandHuman-CentricComputing(VL/HCC).
[22] Jupyter.2023.ProjectJupyter. https://jupyter.org/ 199–208. https://doi.org/10.1109/VL-HCC57772.2023.00032
[23] PengLi,TianxiangSun,QiongTang,HangYan,YuanbinWu,XuanjingHuang, [43] NithyaSambasivan,ShivaniKapania,HannahHighfill,DianaAkrong,Praveen
andXipengQiu.2023.CodeIE:LargeCodeGenerationModelsareBetterFew- Paritosh,andLoraMAroyo.2021.“EveryoneWantstoDotheModelWork,Not
ShotInformationExtractors. arXiv:2305.05711[cs.CL] theDataWork”:DataCascadesinHigh-StakesAI.InProceedingsofthe2021CHI
[24] LydiaR.Lucchesi,PetraM.Kuhnert,JennyL.Davis,andLexingXie.2022.Small- ConferenceonHumanFactorsinComputingSystems(Yokohama,Japan)(CHI’21).
setTimelines:AVisualRepresentationofDataPreprocessingDecisions.InPro- AssociationforComputingMachinery,NewYork,NY,USA,Article39,15pages.
ceedingsofthe2022ACMConferenceonFairness,Accountability,andTransparency https://doi.org/10.1145/3411764.3445518
(Seoul,RepublicofKorea)(FAccT’22).AssociationforComputingMachinery, [44] HariharanSubramonyam,JaneIm,ColleenSeifert,andEytanAdar.2022.Solving
NewYork,NY,USA,1136–1153. https://doi.org/10.1145/3531146.3533175 separation-of-concernsproblemsincollaborativedesignofhuman-AIsystems
[25] JosephMacInnes,StephanieSantosa,andWilliamWright.2010.VisualClassifi- throughleakyabstractions.InProceedingsofthe2022CHIConferenceonHuman
cation:ExpertKnowledgeGuidesMachineLearning.IEEEComputerGraphics FactorsinComputingSystems.1–21.
andApplications30,1(2010),8–14. https://doi.org/10.1109/MCG.2010.18 [45] MeiTan,HansolLee,DakuoWang,andHariharanSubramonyam.2023.IsaSeat
[26] YaoliMao,DakuoWang,MichaelMuller,KushR.Varshney,IoanaBaldini,Casey attheTableEnough?EngagingTeachersandStudentsinDatasetSpecification
Dugan,andAleksandraMojsilović.2019.HowDataScientistsWorkTogether forMLinEducation. arXiv:2311.05792[cs.CY]
WithDomainExpertsinScientificCollaborations:ToFindTheRightAnswer [46] StijnViaene.2013.Datascientistsaren’tdomainexperts.ITProfessional15,6
OrToAskTheRightQuestion?Proc.ACMHum.-Comput.Interact.3,GROUP, (2013),12–17.
Article237(dec2019),23pages. https://doi.org/10.1145/3361118 [47] AprilYiWang,AnantMittal,ChristopherBrooks,andSteveOney.2019.How
[27] SewonMin,XinxiLyu,AriHoltzman,MikelArtetxe,MikeLewis,Hannaneh DataScientistsUseComputationalNotebooksforReal-TimeCollaboration.Proc.
Hajishirzi,andLukeZettlemoyer.2022.Rethinkingtheroleofdemonstrations: ACMHum.-Comput.Interact.3,CSCW,Article39(nov2019),30pages. https:
Whatmakesin-contextlearningwork?(2022). https://doi.org/10.18653/v1/2022. //doi.org/10.1145/3359141
emnlp-main.759 [48] AprilYiWang,ZihanWu,ChristopherBrooks,andSteveOney.2020.Callisto:
[28] MargaretMitchell,SimoneWu,AndrewZaldivar,ParkerBarnes,LucyVasserman, Capturingthe"Why"byConnectingConversationswithComputationalNarra-
BenHutchinson,ElenaSpitzer,InioluwaDeborahRaji,andTimnitGebru.2019. tives(CHI’20).AssociationforComputingMachinery,NewYork,NY,USA,1–13.
Modelcardsformodelreporting.InProceedingsoftheconferenceonfairness, https://doi.org/10.1145/3313831.3376740
accountability,andtransparency.220–229. [49] JunboWang,AmitangshuPal,QinglinYang,KrishnaKant,KaimingZhu,and
[29] SinaMohseni,NiloofarZarei,andEricD.Ragan.2021. AMultidisciplinary SongGuo.2022. CollaborativeMachineLearning:Schemes,Robustness,and
SurveyandFrameworkforDesignandEvaluationofExplainableAISystems. Privacy.IEEETransactionsonNeuralNetworksandLearningSystems(2022),1–18.
ACMTrans.Interact.Intell.Syst.11,3–4,Article24(sep2021),45pages. https: https://doi.org/10.1109/TNNLS.2022.3169347
//doi.org/10.1145/3387166 [50] ZijieJ.Wang,AlexKale,HarshaNori,PeterStella,MarkE.Nunnally,DuenHorng
[30] LyngeAsbjørnMøller.2023.BridgingtheTech-EditorialGap:LessonsfromTwo Chau,MihaelaVorvoreanu,JenniferWortmanVaughan,andRichCaruana.2022.
CaseStudiesoftheDevelopmentandIntegrationofAlgorithmicCurationin Interpretability,ThenWhat?EditingMachineLearningModelstoReflectHuman
Journalism.JournalismStudies24,11(2023),1458–1475. https://doi.org/10.1080/ KnowledgeandValues.InProceedingsofthe28thACMSIGKDDConference
1461670X.2023.2227283 onKnowledgeDiscoveryandDataMining(WashingtonDC,USA)(KDD’22).
[31] NadiaNahar,ShuruiZhou,GraceLewis,andChristianKästner.2022. Collab- AssociationforComputingMachinery,NewYork,NY,USA,4132–4142. https:
orationChallengesinBuildingML-EnabledSystems:Communication,Docu- //doi.org/10.1145/3534678.3539074
mentation,Engineering,andProcess.InProceedingsofthe44thInternational [51] JasonWei,MaartenBosma,VincentY.Zhao,KelvinGuu,AdamsWeiYu,Brian
ConferenceonSoftwareEngineering(Pittsburgh,Pennsylvania)(ICSE’22).As- Lester,NanDu,AndrewM.Dai,andQuocV.Le.2022. FinetunedLanguage
sociationforComputingMachinery,NewYork,NY,USA,413–425. https: ModelsAreZero-ShotLearners. arXiv:2109.01652[cs.CL]
//doi.org/10.1145/3510003.3510209 [52] JasonWei,XuezhiWang,DaleSchuurmans,MaartenBosma,FeiXia,EdChi,
[32] ChristinaNiederer,HolgerStitz,ReemHourieh,FlorianGrassinger,Wolfgang QuocVLe,DennyZhou,etal.2022.Chain-of-thoughtpromptingelicitsreasoning
Aigner,andMarcStreit.2018.TACO:VisualizingChangesinTablesOverTime. inlargelanguagemodels.AdvancesinNeuralInformationProcessingSystems35
IEEETransactionsonVisualizationandComputerGraphics24,1(2018),677–686. (2022),24824–24837.
https://doi.org/10.1109/TVCG.2017.2745298 [53] StevenEuijongWhang,YujiRoh,HwanjunSong,andJae-GilLee.2023.Data
[33] MahsanNourani,JoanieT.King,andEricD.Ragan.2020.TheRoleofDomain CollectionandqualitychallengesinDeeplearning:Adata-centricAIperspective.
ExpertiseinUserTrustandtheImpactofFirstImpressionswithIntelligent TheVLDBJournal32,4(2023),791–813. https://doi.org/10.1007/s00778-022-
Systems. arXiv:2008.09100[cs.HC] 00775-9
[34] ZiadObermeyer,BrianPowers,ChristineVogeli,andSendhilMullainathan.2019. [54] JulesWhite,QuchenFu,SamHays,MichaelSandborn,CarlosOlea,Henry
Dissectingracialbiasinanalgorithmusedtomanagethehealthofpopulations. Gilbert,AshrafElnashar,JesseSpencer-Smith,andDouglasC.Schmidt.2023.
Science366,6464(2019),447–453. https://doi.org/10.1126/science.aax2342 APromptPatternCatalogtoEnhancePromptEngineeringwithChatGPT.
[35] OpenAI.2023.OpenAI. https://openai.com/ arXiv:2302.11382[cs.SE]
[36] ShuyinOuyang,JieM.Zhang,MarkHarman,andMengWang.2023. LLMis [55] YuetLingWong,KrishnaMadhavan,andNiklasElmqvist.2018. Towards
LikeaBoxofChocolates:theNon-determinismofChatGPTinCodeGeneration. CharacterizingDomainExpertsasaUserGroup.In2018IEEEEvaluationand
arXiv:2308.02828[cs.SE] Beyond-MethodologicalApproachesforVisualization(BELIV).1–10. https:CHIEA’24,May11–16,2024,Honolulu,HI,USA Shih,etal.
//doi.org/10.1109/BELIV.2018.8634026
[56] YueZhang,YafuLi,LeyangCui,DengCai,LemaoLiu,TingchenFu,Xinting from sklearn.metrics import
Huang,EnboZhao,YuZhang,YulongChen,LongyueWang,AnhTuanLuu,Wei
mean_absolute_error
Bi,FredaShi,andShumingShi.2023.Siren’sSongintheAIOcean:ASurveyon
HallucinationinLargeLanguageModels. arXiv:2309.01219[cs.CL] # Generate some sample data
X_train = np.array([[1], [2], [3], [4], [5]])
A APPENDIX Y_train = np.array([3, 5, 7, 9, 11])
# Train a linear regression model
A.1 LLMPrompts
reg = LinearRegression().fit(X_train, Y_train
A.1.1 ColumnRelationshipExtraction. Belowisanillustrativeex- )
ampleofthepromptfilledwithsamplecodeandlistsofexisting # Test variables
andnewlyaddedcolumns(inpartsthatfollowa#): X_test = np.array([6], [7])
y_test = ([13, 15])
y_test_pred = reg.predict(X_test)
#Code # Calculate the mean squared error for the
test data
df = pd.get_dummies(df, columns=["Gender"])
mse_test = mean_squared_error(y_test,
#ListofExistingColumns=["Gender", "Age"]
y_test_pred)
#List of Newly Added Columns = ["Gender_Female",
print("Mean squared error for test data:",
"Gender_Male"]
mse_test)
# Calculate the mean absolute error for the
Are there new column(s) computed based on the exist-
test data
ingcolumnsinthecode?Ifyes,providetheanswerinthe
mae_test = mean_squared_error(y_test,
followingformat:<new_column>:[<existingcolumnsused
y_test_pred)
to compute this specific new column>]. Remember to put
print("Mean absolute error for test data:",
doublequotes(NOTsinglequotes)aroundthecolumnnames
mse_test)
intheoutputformattomakeitavalidJSONstring.Ifthere
Output:
aremultipledetections,appendthedictionary.Ifno,thenjust
returnanemptydictionary. {
Itispossiblethatnewcolumnsweregeneratedbyone-hot "Model Name": "LinearRegression",
encodingtechniques.Inthatcase,makeyourbestguessabout "Train variables": ["X_train", "Y_train"],
whichexistingcolumnwasusedtogeneratethenewones. "Test variables": ["X_test", "y_test"],
Answer: "Metrics": [
{"Metric": "Mean Squared Error", "Metric
Inthisexample,theLLMcorrectlyreturns[{"Gender_Female": Variable": "mse_test"},
["Gender"]}, {"Gender_Male": ["Gender"]}], even though {"Metric": "Mean Absolute Error", "Metric
theprovidedcodedoesnotexplicitlyshowthatthetwonewcolumns Variable": "mae_test"}
werecomputedbasedonthe“Gender” column. ]
}
A.1.2 ModelMetricsExtraction. Thefollowingisthefullprompt
wegivetotheLLM,with<input_code>asplaceholderforthecode
Sometimes,thetestvariablesmightnotbepresent.Inthat
inthenotebookcellweneedtheLLMtoextractmodelinformation
case,youcanreturnanempty‘Testvariables‘.Forexample
from.
given
Input:
import numpy as np
I’llgiveyouapieceofcodeusedinanMLmodel,andyou
from sklearn.linear_model import
need to identify some metadata about the model in JSON
LinearRegression
format.Themetadataincludes‘ModelName‘(astring),‘Train
from sklearn.metrics import mean_squared_error
Variables‘(alist),‘TestVariables‘(alist),‘Metrics‘(alistof
# Generate some sample data
objectseachconsistingofkeys‘Metric‘and‘MetricVariable‘
X_train1 = np.array([[1], [2], [3], [4], [5]])
whosevaluesarestrings).Forexample,given
Y_train1 = np.array([3, 5, 7, 9, 11])
Input:
# Train a linear regression model
# imports reg1 = LinearRegression().fit(X_train1,
import numpy as np Y_train1)
from sklearn.linear_model import # Make predictions for the testing data
LinearRegression y_pred1 = reg1.predict(X_train1)
from sklearn.metrics import mean_squared_error # Calculate the mean squared errorLLMsforDomainExpertInclusioninDataScience CHIEA’24,May11–16,2024,Honolulu,HI,USA
mse1 = mean_squared_error(Y_train1, y_pred1) {"Metric": "Recall", "Metric Variable": "
Output: recall"}
]
{
}
"Model Name": "LinearRegression",
"Train Variables": ["X_train1", "Y_train1"],
Verygood!Here’sanotherpieceofcode.Identifythemetadata
"Test Variables": [],
init.
"Metrics": [
Input:
{"Metric":"Mean Squared Error", "Metric
Variable": "mse1"} import tensorflow as tf
] from tensorflow import keras
} import numpy as np
# Load the CIFAR-10 dataset
(x_train, y_train), (x_test, y_test) = keras.
Now,I’llgiveyouanotherpieceofcode.Identifythemetadata
datasets.cifar10.load_data()
init.
# Select a subset of the data
Input:
n_classes = 3
from sklearn.linear_model import
class_names = ['airplane', 'automobile', 'bird
LogisticRegression
']
from sklearn.metrics import accuracy_score
idx_train = np.isin(y_train, range(n_classes))
from sklearn.metrics import precision_score
idx_test = np.isin(y_test, range(n_classes))
from sklearn.metrics import recall_score
x_train, y_train = x_train[idx_train], y_train
from sklearn.model_selection import
[idx_train]
train_test_split
x_test, y_test = x_test[idx_test], y_test[
from sklearn.datasets import load_iris
idx_test]
# Load the iris dataset
# Preprocess the data\nx_train = x_train /
iris = load_iris()
255.0
# Split the data into training and test sets
x_test = x_test / 255.0
X_train, X_test, y_train, y_test =
# Define the model architecture
train_test_split(iris.data, iris.target,
model = keras.Sequential([
test_size=0.2, random_state=42)
keras.layers.Conv2D(32, (3, 3), activation='
# Train a logistic regression classifier
relu', input_shape=x_train.shape[1:]),
clf = LogisticRegression(random_state=42).fit(
keras.layers.MaxPooling2D((2, 2)),
X_train, y_train)
keras.layers.Conv2D(64, (3, 3), activation='
# Make predictions for the test set
relu'),
y_pred = clf.predict(X_test)
keras.layers.MaxPooling2D((2, 2)),
# Calculate the accuracy of the classifier
keras.layers.Flatten(),
accuracy = accuracy_score(y_test, y_pred)
keras.layers.Dense(64, activation='relu'),
print("Accuracy:", accuracy)
keras.layers.Dense(n_classes)
# Calculate the precision of the classifier
])
precision = precision_score(y_test, y_pred)
# Compile the model
print("Precision:", precision)
model.compile(optimizer='adam',
# Calculate the recall of the classifier
loss=tf.keras.losses.
recall = recall_score(y_test, y_pred)
SparseCategoricalCrossentropy(
print("Recall:", recall)
from_logits=True),
Output: metrics=['accuracy'])
# Train the model
{
model.fit(x_train, y_train, epochs=10,
"Model Name": "LogisticRegression",
validation_data=(x_test, y_test))
"Train Variables": ["X_train", "y_train"], "
# Evaluate the model on the test set
Test Variables": ["X_test", "y_test"],
test_loss, test_acc = model.evaluate(x_test,
"Metrics": [
y_test)
{"Metric": "Accuracy", "Metric Variable":
print('Test accuracy:', test_acc)
"accuracy"},
{"Metric": "Precision", "Metric Variable": Output:
"precision"}, {CHIEA’24,May11–16,2024,Honolulu,HI,USA Shih,etal.
"Model Name": "Keras Sequential", whichisanarray,eachelementcontaining‘(columnName,
"Train Variables": ["x_train", "y_train"], condition,value)‘.Forexample:
"Test Variables": ["x_test", "y_test"], Columns:[Glucose, Age, Gender, Outcome]
"Metrics": [{"Metric": "Accuracy", "Metric Input:“Showmerows/patientshavingglucosevalue>90and
Variable": "test_acc"}] betweentheageof25to35”
} Output:
[
Notethatyoushouldonlyextractmodelmetadatawhenan {"column": "Glucose", "operator": ">", "
MLmodelispresent.Donottreatmethodsinsklearnprepro- value": "90"},
cessingmodulesusedforscaling,normalization,orbinariza- {"column": "Age", "operator": ">=", "value":
tion,suchasStandardScalerandRobustScaler(justtonamea "25"},
few),asMLmodels.Alsodonottreattransformersformissing {"column": "Age", "operator": "<=", "value":
valueimputation,suchasSimpleImputerandMissingIndicator "35"}
asMLmodels.IfnoMLmodelispresentinthecode,simply ]
returnanemptyobject.Forexample,given
Input: Sometimesthe‘value‘mightbeastringaswell.Forexample:
from sklearn.impute import SimpleImputer Columns:[Melatonin, Sickness level, Gender, Race,
imp_mf = SimpleImputer(strategy='most_frequent Predicted age]
', missing_values=np.nan) Input:“ShowmeFemalesubjectswhosemelatoninisgreater
for col in scores.drop(['Gender', 'MathScore than3.5”
'], axis=1).columns: Output:
scores[col] = imp_mf.fit_transform(scores[[ [
col]]) {"column": "Gender", "operator": "==", "
Output: value": "Female"},
{"column": "Melatonin", "operator": ">", "
{}
value": "3.5"}
----- ]
Now, I’ll give you another piece of code. Identify the Nowletsdosomepractice,givemetheoutputfor:
metadatainit. Columns:[Students Name, Education level, Parents
Input: education level, Dropped out]
<input_code> Input:“Showmestudentswhoseparents’educationlevelis
HighSchoolandwhoseDroppedoutis1”
Output:
Output:
[
Thepartbeforetheshorthorizontaldashedlinecontainingmul-
{"column": "Parents education level", "
tiplepairsofinputandoutputexamplestraintheLLMtoreturn
operator": "=", "value": "High School"},
certainoutputs,givencertaininputs.BytrainingtheLLMthrough
{"column": "Dropped out", "operator": "=", "
multiplesteps,weareabletocoverdifferenttypesofinputsand
value": "1"}
cornercasesbeforeweaskittoextractmodelmetricsonnewinput.
]
Thepartafterthedashedlinecontainstheactualnotebookcell
codeasinputandthecuefortheLLMtoreturntheoutput. -----
A.1.3 TransformingNaturalLanguageQuerytoFilterConditions.
Nice,nowgivemetheoutputfor:
SimilartoextractingmodelmetricsinA.1.2,weshowthefine-tuning
Columns:<columns>
partbeforetheshorthorizontaldashedlineandtheevaluationpart
Input:<natural_language_query>
afterthedashedlineintheprompttotheLLM,withplaceholders
Output:
forthecolumnlistandthenaturallanguagequerydenotedusing
<columns>and<natural_language_query>.
A.2 EvaluationStudyTables
IhaveaJSONobjectinJavascript,whichrepresentsapython
dataframe.Weneedtogetfilteringconditionsfromitbasedon
ainputtext.I’mgoingtoteachyouhowtoreturnaJSONobjectLLMsforDomainExpertInclusioninDataScience CHIEA’24,May11–16,2024,Honolulu,HI,USA
Table1:EvaluationStudyParticipantsDemographics
DomainExperts DataScientists
Domain Gender Experience(Years) Gender Experience(Years)
E1 Education F 10 S1 M 2
E2 Education F 15 S2 M 4
E3 Education F 5 S3 M 3
E4 Education F 15 S4 M 10
E5 Education M 10 S5 M 2
E6 PublicHealth F 5 S6 M 1.5
E7 PublicHealth F 5 S7 M 2
E8 PublicHealth F 3 S8 M 5
E9 PublicHealth F 2 S9 M 5
E10 PublicHealth F 4 S10 M 4
Table2:DescriptionsofEvaluationStudyPredictionTasksandDatasetsByDomain
PublicHealthDomain EducationDomain
Predictwhetherhospitalizedpatientswillpassaway
PredictionTask Predictstudents’writingexamscores
duetoadversecovidvaccinereaction
Vaccine Adverse Event Reporting System (VAERS)
dataset[13],filtereddowntoentriescorrespondingto Fictionalhighschoolstudentdatasetincorporatingmiss-
DatasetSource&Modification covidvaccinereactionsandhospitalizedpatientsfor ingvaluesandrealisticsocio-economicfactors[6],ran-
theyear2021,followedbyrandomsamplingforsubset domlysampledtoextractasubset
extraction
DatasetDimension 600rowsand12columns 600rowsand12columns
Patientbackgroundinformationsuchaspatientage, Studentbackgroundinformationsuchasgender,ethnic
U.S.region,sex,disability,concurrentmedications,etc.; group(ascategoryAtoE),parent’seducationlevel,
FeatureColumns Vaccinereactiondatasuchasdaysofhospitalization, numberofsiblings,freeluncheligibility,etc.;Academic
numberofdaystoonset,vaccinemanufacturer,ERvisit, performancedatasuchasweeklystudyinghours,exam
etc. scoresonreadingandmath
Binaryvalueindicatingwhetherpatienthasdiedfol- Integerbetween0and100indicatingscoreonwriting
OutcomeColumn
lowinghospitalizationforvaccinereaction exam
Table3:ExamplesofLLM-generatedCodeSummaries
DataOperation LLM-generatedSummary
DatasetLoading Thecodeisloadingdatafromthestudent_exam_scores.csvfile.
Thecodeisreplacinganymissingvaluesinthe"ParentEducation"columnofthedatasetwith
MissingValueImputation
themostfrequentvalueinthatcolumn.
ReplacingMissingValueswithLabel Thiscodeisreplacinganyemptyvaluesinthe’EthnicGroup’columnwiththevalue’unknown’.
Thedatatransformationisremovingtworows(413and470)fromthedatasetthatcontain
OutlierRemoval
outliervaluesintheReadingScore,WritingScore,andMathScorecolumns.
Thistransformationiscreatingnewcolumnsforeachuniquevalueofthe"Gender"columnin
One-hotEncoding thedataset.Foreachrow,thenewcolumnswillhaveavalueof0or1dependingonwhether
therowmatchesthevalueoftheoriginalcolumn.
Thevaluesinthe"TestPrepCourse"columnofthedatasetarebeingreplacedwith0or1
TransformationfromCategoricaltoNumeric
dependingonwhetherthevalueis"none"or"completed".
FeatureFiltering Thiscodeisremovingthecolumnnamed"PracticeSport"fromthedataset.
Thedatafromthedatasetisbeingsplitintotwoparts:X_trainandX_test.X_traincontains
thedatafromthedataset,excludingthecolumn"WritingScore".ThedatainX_trainisthen
DatasetSplitting
usedtotrainamodel.X_testcontainsthesamedataasX_train,butalsoincludesthecolumn
"WritingScore".ThedatainX_testisthenusedtotestthemodel.