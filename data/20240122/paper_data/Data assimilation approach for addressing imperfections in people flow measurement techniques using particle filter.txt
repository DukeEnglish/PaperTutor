DATA ASSIMILATION APPROACH FOR ADDRESSING
IMPERFECTIONS IN PEOPLE FLOW MEASUREMENT TECHNIQUES
USING PARTICLE FILTER
APREPRINT
RyoMurata KenjiTanaka
GraduateSchoolofEngineering, GraduateSchoolofEngineering,
DepartmentofTechnologyManagementforInnovation DepartmentofTechnologyManagementforInnovation
TheUniversityofTokyo TheUniversityofTokyo
January18,2024
ABSTRACT
Understanding and predicting people flow in urban areas is useful for decision-making in urban
planning and marketing strategies. Traditional methods for understanding people flow can be
dividedintomeasurement-basedapproachesandsimulation-basedapproaches. Measurement-based
approacheshavetheadvantageofdirectlycapturingactualpeopleflow,buttheyfacethechallengeof
dataimperfection. Ontheotherhand,simulationscanobtaincompletedataonacomputer,butthey
onlyconsidersomeofthefactorsdetermininghumanbehavior,leadingtoadivergencefromactual
peopleflow. Bothmeasurementandsimulationmethodshaveunresolvedissues,andcombiningthe
twocancomplementarilyovercomethem.Thispaperproposesamethodthatappliesdataassimilation,
afusiontechniqueofmeasurementandsimulation, toagent-basedsimulation. Dataassimilation
combinestheadvantagesofbothmeasurementandsimulation, contributingtothecreationofan
environment that can reflect real people flow while acquiring richer data. The paper verifies the
effectiveness of the proposed method in a virtual environment and demonstrates the potential of
data assimilation to compensate for the three types of imperfection in people flow measurement
techniques. Thesefindingscanserveasguidelinesforsupplementingsparsemeasurementdatain
physicalenvironments.
Keywords Dataassimilation Agent-basedsimulation Paticlefilter Peopleflow
· · ·
1 Introduction
Recentadvancementsinmobiledeviceshavemadeitpossibletoobservepeople’sbehaviorsindetail. Forexample,GPS
insmartphonescantrackthetwo-dimensionalmovementsofpeopleacrosswideareas,likeentirecities. Additionally,
by using Wi-Fi or Bluetooth signals, it’s possible to track three-dimensional movements in areas where GPS has
limitedreach,suchasinsidebuildingsorunderground. Theobservationofhumanbehaviorinurbanareasisbecoming
increasinglycapableofcoveringourrangeofactivities. Thiswealthofinformationobtainedfromnumeroussensors
canbeusefulindecision-makingforurbanplanning(Lietal.[2019])andmarketingstrategies(Erevellesetal.[2015]).
However,currentmeasurementtechniqueshavelimitations. Forexample,traditionalcamera-basedmeasurementcan
onlytrackmovementswithinthecamera’sfieldofview,makingwide-areameasurementdifficult. Bluetooth/Wi-Fi-
basedmeasurementarelimitedtopeoplewhohaveinstalledspecificapps,hinderingcomprehensivemeasurement.
Theseimperfectionsinpeopleflowmeasurementmethodslimittheacquisitionofinformationforunderstandinghuman
behaviororleadtoincorrectdecisionsduetobiasedsampling(Malinovskiyetal.[2012]).
Alongside measurements, people flow simulations have been used to understand human behavior. In simulations,
modelsarecreatedbasedonvariablesinfluencinghumanbehavior,allowingforcomputer-basedpseudo-verificationfor
understandingphenomenaandprediction. Unlikemeasurements,simulationscanacquirecompletedataaspeople’s
4202
naJ
71
]CH.sc[
1v41090.1042:viXraAPREPRINT
movementsarerecordedonthecomputer. Especially,advancementsincomputingpowerhaveenabledtheexecution
ofmethodslikeagent-basedsimulations,whichaccountforthediversebehavioralcharacteristicsofeachindividual.
Suchmodelscandescribenotjustcrowdbehaviorduringeventsorevacuationsbutalsoeverydaybehaviorslikecity
roaming(Malleson et al. [2022]), and purchasing activities(Ghazavi and Lotfi [2016]). This expands the scope of
simulationstoincludeeverydayscenarios,notjustspecificsituationswherecrowdsform.
However, simulations alone can diverge from actual people flow, making it challenging to extract practical in-
sight(Wijermansetal.[2016]). Thisisbecausehumanflowmodelsextractonlyaportionofthefactorsthatinfluence
people’sbehaviors,whiledisregardingotherfactors. Especiallyinscenarioswithdiversityinindividualdestinations,
suchasroamingbehavior,thedifferencebetweensimulationandactualpeopleflowscanbecomesignificant.
Toaddresstheimperfectionsofpeopleflowmeasurementandthedivergencefromrealenvironmentsinsimulation,
thetechniqueofdataassimilation,rootedinearthsciences,canbeemployed. Dataassimilationisahybridmethod
ofmeasurementandsimulation,incorporatingobservationaldataintosimulationtomakeaccuratestateestimations.
Inearthsciences,thismethodhasbeenusedtoreasonablyestimatehard-to-observephysicalquantitiesfromother
observationaldata. Applyingdataassimilationtothesimulationofpeopleflowcancomplementthelimitationsof
measurementtechniques. Thisapproachallowsfortheacquisitionofcomprehensivedatathataccuratelyreflectsactual
peopleflow.
Thispaperproposesadataassimilationmethodthatcombinesagent-basedsimulationandparticlefilteringtosupplement
the imperfection in people flow measurement data. First, we organize the current major measurement techniques
anddescribestheimperfectionstheyarefacing. Then,weexplainhowtheproposedmethodcancomplementthese
imperfections. Finally,tovalidateourproposedmethod,weconductanexperimentinavirtualcommercialfacility,
estimatingtheoverallpeopleflowfromtheindividualstore’speopleinflowcountdataandcomparingtheseestimates
withpseudo-observationaldata.
Thecontributionsofthispaperareasfollows:
• Organizingthemainimperfectionsincurrentpeopleflowmeasurementtechniquesandclassifyingtheminto
threecategories.
• Proposingafusionmethodofmeasurementandsimulationtosupplementtheimperfectionsinpeopleflow
measurementtechniques.
• Conductingexperimentsinavirtualenvironmentanddemonstratingtheeffectivenessoftheproposedmethod.
2 RelatedWork
2.1 Measurementtechniquesforpeopleflowtracking
Techniquesformeasuringpeopleflowaredividedintovision-basedandnon-vision-basedmethods(Singhetal.[2020]).
Vision-based methods mainly use cameras and typically involve recognizing people through supervised learning.
Camerascanestimateattributeslikeageandgenderfromimagedataandassociatethemwiththetrajectories. However,
cameras cannot track people flow outside their field of view, making them unsuitable for wide-area measurement
suchasOrigin-Destination(OD)data. Additionally,camera-basedmeasurementofteninvolvespersonalinformation,
necessitatingcautiousmanagementtoensureprivacyprotection.
Non-vision-basedtechniques,whichhaveemergedasalternativestovision-basedmethods,enablewide-areameasure-
mentandaremoreprivacy-conscious. TypicalexamplesincludeGPS,Bluetooth/Wi-Fi,LiDAR,andRFID(Singhetal.
[2020]).
GPStrackscontinuoustrajectoriesbasedonsatellite-devicecommunicationandcantrackwide-areapeoplemovements.
GPSdataisfrequentlylinkedwithattributeinformation, enablingthemeasurementofpeopleflowcategorizedby
attributes. However, GPS cannot measure indoors or underground where satellite signals are unavailable(Li et al.
[2019]).
Bluetooth/Wi-Fiprimarilydetectssignalsemittedfromsmartphonesusingbeacons. Byinstallingbeaconsatmultiple
locations,it’spossibletoidentifypointsvisitedbytargetsoverawidearea,makingitsuitableforunderstandingOD
information. However, this method is limited to measuring only devices that have Wi-Fi/Bluetooth turned on and
specificapplicationsinstalled,whichrestrictsthescopeofmeasurementtargets.
LiDARdetectsthepassageofpeoplebyacquiringthethree-dimensionalshapeofanobjectthroughlaserillumination.
LiDARisprivacy-consciousmeasurementtechniquesbecauseitdetectspeoplebycapturingpointclouddatathatdoes
notidentifyindividuals. However,itisnotsuitablefortrackingwide-areamovementssuchasODinformation.
2APREPRINT
Table1: Thelistofmeasurableandnon-measurablequantitiesbytypicalpeopleflowmeasurementtechniques.
Count OD Attribute Indoor Coverage
GNSS No Yes Yes No No
Camera Yes No Yes Yes Yes
Bluetooth/Wifi Yes Yes No Yes No
LiDAR Yes No No Yes Yes
RFID Yes Yes No Yes No
RFIDdetectspeoplemovementsbyreadingRFIDtags. Byinstallingreadersatmultiplelocations,itcanmeasure
wide-areamovementsofpeople. However,RFIDmeasurementcanonlytrackthoseequippedwithRFIDtags,which
restrictsthescopeofmeasurementtargets.
ThecharacteristicsoftheserepresentativesensorsaresummarizedinTable1.
Eachsensorexhibitsparticularadvantagesandlimitations,resultinginanunavoidableimperfectionofmeasurementsin
capturingcomprehensiveinformation.
2.2 Agent-basedmodelforpeopleflowsimulation
Agent-based simulation is a bottom-up approach for revealing the mechanisms of macro phenomena like people
flowbydefiningthebehaviorrulesandinteractionsofagents. Evenwithsimplebehavioralrulesforeachagent,the
accumulationofprobabilisticbehaviorchoicesandinteractionsallowsforsimulatingcomplexsystems.
People flow models are broadly divided into macro models, which view people flow as a fluid to describe overall
behavior,andmicromodels,whichdescribethebehaviorofindividualpeople(Martinez-Giletal.[2017]). Theagent-
basedmodelisclassifiedasamicromodel,capableofdescribingpeopleflowconsideringdifferencesinindividual
behavioralcharacteristics.
Agent-basedmodelsoftendescribepeopleflowinspecificscenariossuchasevacuation(Shietal.[2009])andinfection
spread(Lorigetal.[2021]). Insuchcases,modelsliketheSocialForceModel(HelbingandMolnar[1995]),whichfocus
onbehaviorsthatmaintainacertaindistancewhilemovingtowardsadestination,arecommonlyused. Whilethese
modelsareeffectiveinscenariosinvolvinghigh-densitycrowdsandlimiteddestinations,theyarenotaswell-suitedfor
situationswithavarietyofdestinationsandpaths,suchasroamingbehaviors.
Examples of roaming behavior models include models describing purchasing behavior(Ghazavi and Lotfi [2016],
Dijkstraetal.[2014])andeverydaymovementsinurbanareas(CrolsandMalleson[2019]). Thispaperproposesadata
assimilationmethodapplicabletoroamingbehaviormodelswithsignificantdifferencesinindividualbehaviors. Since
roamingbehaviorisdiverse,itischallengingtoaccuratelydescribeitsdynamicssolelywithmodels. Therefore,by
combiningthedataassimilationmethodwithagent-basedsimulation,weaimtoimprovetheaccuracyofpeopleflow
estimation.
2.3 Agent-basedsimulationswithdataassimilation
Applyingdataassimilationtoagent-basedsimulationenableshigh-accuracysimulationofreal-worldpeopleflow. The
KalmanFilter,astandardmethodindataassimilation,isapplicabletolinear,Gaussianstatetransitionmodels(Welch
andBishop[1995]). However,forrule-basedmodelslikeagent-basedmodelsthatdetermineindividualstatetransitions,
ananalyticalstatedescriptionischallenging,sotheKalmanFilteritselfisnotdirectlyusable. ExtensionsoftheKalman
FilterincludetheensembleKalmanfilter(Togashietal.[2018])andtheunscentedKalmanfilter(Clayetal.[2020]),
applicabletononlinearmodels. Thesemethodscanperformdataassimilationfornonlinearstatetransitionmodels
withrelativelylowcomputationalcost,buttheyrequireGaussianassumptionsinstatetransitionmodels,limitingtheir
application.
The particle filter is applicable to nonlinear and non-Gaussian state transition models. Previous studies that have
usedparticlefiltersinagent-basedsimulationsincludethosethatimproverouteselectionparametersinevacuation
behavior(MakinoshimaandOishi[2022])orthoseintegratingdatafrommultiplesensorsatliveevents(Luecketal.
[2019]). Theseareexamplesofdescribingtheflowofpeoplewhencrowdsmoveinaunifiedmanner.
Forpeopleflowswithsignificantdifferencesinindividualbehaviors,suchasroaming,examplesincludesimulationsin
atrainstation(Ternesetal.[2021],Mallesonetal.[2019])orasinglefloorofabuilding(WangandHu[2015]). These
focusonreal-timeoperation,targetingpartsoffacilitiesorveryfewindividuals. Whilethemethodproposedinthis
studyalsohaspotentialforreal-timeestimationapplications,weuseparticlefilterstocomplementtheimperfectionsof
3APREPRINT
peopleflowmeasurementtechniques. Therefore,thestudyproposesadataassimilationmethodforscenarioswherea
largenumberofpeopleroaminextensivespaceslikeentirefacilities.
3 DataAssimilationFramework
3.1 Particlefilter
TheparticlefilterisadataassimilationmethodthatapproximatesthesystemmodelusingMonteCarlosampling(Djuric
etal.[2003]). Itconstructsadistributionbasedonagroupofsamplesextractedfrommodels,makingitapplicable
tonon-linearandnon-Gaussianstate-spacemodels. Thisflexibilityallowsittobeappliedtocomplexphenomena
resultingfrominteractionsbetweenagents,asseeninagent-basedsimulations.
Theprimarygoalofaparticlefilteristoestimatethecurrentstateofthesystembasedonaccumulatedobservational
datauptothepresent. Let’sconsiderthesituationwherethestateattimet 1isestimatedbasedonobservationaldata
−
uptotimet 1. Thestateattimet 1canberepresentedasfollows:
− −
x p(x y ) (1)
t 1 t 1 1:t 1
− ∼ − | −
wherex representsthestateattimet 1andy representsthemeasurementfromtime0tot. Next,thestateat
t 1 1:t 1
timetis−estimatedbasedontheobservat− ionsattime−t 1asfollows:
−
N
1
p(x y )= δ(x x(i) ) (2)
t | 1:t −1 N t − t |t −1
i=1
(cid:88)
whereδrepresentstheDiracdeltafunction,andN isthetotalnumberofparticles. x(i) isthestateofthei-thparticle
tt 1
estimatedbythetransitionmodel. Thisexpressionimpliesthatthestateattimetisap|p−roximatedbyanensembleofN
particlesbasedontheobservationaldatauptotimet 1.
−
Then,thestateestimationattimetisperformedbasedontheobservationsobtainedattimet. Thiscanberepresented
asfollows:
N
p(x y )= w(i)δ(x x(i) ) (3)
t | 1:t t t − tt 1
| −
i=1
(cid:88)
Initial distribution <latexit sha1_base64="7qmvNgDcDPQNuRcUP6YyT5/v6cQ=">AAACe3ichVHLSsNAFD2N7/qqCiK4KRZFRctEfOFKdOPSV1WoEpI4rcE0Ccm0WNP+gD/gwpWCiOhfuPEHXPgJ4lLBjYI3aUC0qHeYmTNn7rlzZkZzTMMTjD3GpIbGpuaW1rZ4e0dnV3eip3fLs4uuzjO6bdrujqZ63DQsnhGGMPmO43K1oJl8WztcDva3S9z1DNvaFGWH7xXUvGXkDF0VRCmJfmf0SPHFpFxNVpJlxZcXAjymJFIszcJI1gM5AilEsWonrrCLfdjQUUQBHBYEYRMqPGpZyGBwiNuDT5xLyAj3OaqIk7ZIWZwyVGIPaczTKhuxFq2Dml6o1ukUk7pLyiSG2QO7Zi/snt2wJ/b+ay0/rBF4KdOs1bTcUbpPBjbe/lUVaBY4+FL96Vkgh/nQq0HenZAJbqHX9KXj05eNhfVhf4RdsGfyf84e2R3dwCq96pdrfP0McfoA+edz14OtqbQ8m55Zm04tLkVf0YpBDGGU3nsOi1jBKjJ0bgUXuMFt7ENKSePSRC1VikWaPnwLaeYTSdORuA==</latexit>p(x t 1 y 1:t 1)
  |  
<latexit sha1_base64="XeZSjEcNWsjnRYQqaIvaLzfrQgA=">AAACsHichVFNaxQxGH46ftWt2lUvgpfgUtk9dMkUW6VQKHoRhNIPt13otkNmmq2x88VMdumazh/wD3jwpCBSevI3ePEPiPRWj+KxghcPfWd2oGhR35DkyZP3efMkcWNfpZrzwxHr3PkLFy+NXq6MXbl6bbx6/cZqGvUST7a8yI+StitS6atQtrTSvmzHiRSB68s1d+dRvr/Wl0mqovCpHsRyIxDboeoqT2iinOqTuL7raLbHBo6xZ/WknTXYHOt0E+EZOzMLGeukvcAxas7ONhdYZ0v6WhSSSbbrGL2XSzZNXTWyhlOt8SYvgp0FdglqKGMxqr5HB1uI4KGHABIhNGEfAim1ddjgiInbgCEuIaSKfYkMFdL2KEtShiB2h8ZtWq2XbEjrvGZaqD06xaeekJJhgn/m+/yYf+IH/Bv/9ddapqiRexnQ7A61MnbGX95a+flfVUCzxrNT1T89a3TxoPCqyHtcMPktvKG+/+LV8crs8oS5y9/y7+T/DT/kH+kGYf+H925JLr9GhT7A/vO5z4LVqaY905xeulebf1h+xShu4w7q9N73MY/HWESLzv2ALzjCV2vKaluOJYap1kipuYnfwnp+Aip5pTQ=</latexit> N
1
(i)
Prediction p(x t |y 1:t  1) = N  (x t  x t |t  1)
i=1
X
<latexit sha1_base64="iwmm2bpKmJbTYur+Bwx+Skt6ZUY=">AAACsXichVHLTttAFD24LY9QILQbJDYWEVVYNBqXp5CQorJh0QWPhocINbY7gSF+yZ6kpE5+oD/QBatWqirEjl/opj+AVJbtruqSSt10wbVjCfG+lmfOnHvOnTszpm+LUDJ22qE8ePios6u7J9P7uK9/IDv4ZDX0aoHFS5Zne8G6aYTcFi4vSSFtvu4H3HBMm6+Z1fk4v1bnQSg897Vs+HzLMXZcURGWIYnSs6/e6fJNlBdjLXVOLVcCw4r8fEOXalPd1yPZlM+1Vjs/1orKYc3R99SbBHuxQM/mWIEloV4HWgpySGPRy35FGW/hwUINDjhcSMI2DIT0bUIDg0/cFiLiAkIiyXO0kCFvjVScFAaxVRp3aLWZsi6t45ph4rZoF5v+gJwqRtkJO2Rn7Ds7Yr/Z/1trRUmNuJcGzWbby3194MPQyr97XQ7NErsXrjt7lqhgJulVUO9+wsSnsNr++vuPZyuzy6PRM/aZ/aH+P7FT9o1O4Nb/Wl+W+PIBMvQA2tXrvg5WXxS0qcLk0kSu+DJ9im4MYwR5uu9pFLGARZRo32P8wE/8UsaVDWVbMdtSpSP1PMWlUKrn0tim2A==</latexit> (i)
p(y x )
Weighting w(i) = t | t |t  1
t (j)
p(y x )
j t | tt 1
|  
<latexit sha1_base64="KaNXjLImImgD94jSlifr6m81+Nw=">AAACrHichVFNSxtBGH5crU3TVlO9FLwMDUpyMMyK/SAgSD3YU/ErKiRx2V0nOrhf7E6i6Zo/4B/w4KmFUkT8Fb14lx4E/QHi0UIvHvpms1BaafsuO/PM8z7PO+/MWIEjI8X5RZ/WP/Bg8GHmUfbxk6dDw7lnI6uR3wxtUbF9xw/XLTMSjvRERUnliPUgFKZrOWLN2pnr5tdaIoyk762odiDqrrnlyYa0TUWUkZsPCnuGYvusbcR6WXWKbIbVoqZrxHJG72y8Z7uG2ogLsthhtU3hKDORT7I9I1b7apIkSbJo5PK8xJNg94GegjzSWPBzX1DDJnzYaMKFgAdF2IGJiL4qdHAExNURExcSkkleoIMseZukEqQwid2hcYtW1ZT1aN2tGSVum3Zx6A/JyTDOv/FjfsvP+Am/5nd/rRUnNbq9tGm2el4RGMMHz5d//Nfl0qyw/cv1z54VGniT9Cqp9yBhuqewe/7Wh8Pb5fLSeDzBP/Eb6v8jv+Bf6QRe67v9eVEsHSFLD6D/ed33wepUSX9Verk4nZ99mz5FBmN4gQLd92vM4h0WUKF9T3GOS1xpJW1Fq2r1nlTrSz2j+C20xk9dkqOh</latexit> P N
(i) (i)
Resampling p(x t |y 1:t) = w t  (x t  x tt 1)
|  
i=1
X
Figure1: Thebasicprocessofparticlefiltering. Initially,alargenumberofparticlesaregeneratedforeachentity,with
themodelprojectingthestateforthenextstep. Theweightofeachparticleisdeterminedbythelikelihoodcalculated
fromobservationaldata. Aresamplingprocessbasedonthislikelihoodisthenconductedtoestablishthedistributionof
thepredictedstateforthenextstep.
4APREPRINT
wherew(i) representstheweightofparticlei. Duringtheresamplingprocess,particlesaregeneratedinaccordance
t
withtheseweights. Theweightw(i)iscalculatedasfollows:
t
p(y x(i) )
w(i) = t | t |t −1 (4)
t p(y x(j) )
j t | tt 1
| −
(cid:80)
wherep(y x(i) )representstheprobabilitydistributionoftheobservationalvaluegiventhestate,whichisknownas
t | tt 1
thelikelihood|.−Likelihoodindicateshowwelleachparticleexplainstheobservationaldata. Byresamplingparticles
basedonlikelihood,particlesclosertotheobservationaldataarepreferentiallyselected.
Figure1showsadiagramofaparticlefilterprocess. Bystatepredictionthroughthemodelandresamplingweightedby
likelihood,thesimulationcanestimatethesystemstateaccurately.
3.2 Integratingagent-basedsimulationwithparticlefilters
Whenincorporatingaparticlefilterintoagent-basedsimulation,thekeyconsiderationsare1)definingthestatevariables
and2)definingtheobservationvariablesandlikelihood. Thestatevariablesshouldbechosentocharacterizeroaming
behavior. Observationvariablesshouldbedefinedasthosethatprovidevaluableinformationforestimatingactual
state. Likelihoodshouldbedefinedinawaythatreducestheuncertaintyofthesimulationbasedontheobservation
variables. Byconsideringtheseaspects,wecanincorporatereal-worldroamingtendenciesintoagent-basedsimulation
viaparticlefiltering.
Firstly,thestatevariableisdefinedaseachagent’slocation. Thisisbecausecomprehensivemeasurementofagent’s
locationisdifficult,andtheinformationisimportantforcharacterizingtheroamingbehavior. Toestimatethenextstep
locationsofagents,particlesaregeneratedforeachagentbasedonmodels. Theseparticlesstochasticallydeterminethe
destination,influencedbyotheragents.
Observationvariablesarechosenastheinflowcountdataateachpoint. Thisisbecausebysequentiallymeasuringthe
inflowdataateachlocation,itispossibletocalculatethelikelihoodbasedonthereal-worldvisitationtendencies. In
otherwords,byusinginflowcountdatatodeterminewhichstoresaremoreorlesslikelytobevisited,itispossibleto
aligntheroamingtendenciesoftheagentsmorecloselywiththoseintherealworld. Thisallowsforthetransitionof
agentsbasedontransitionmodelsandsomemeasureddatatoreflectrealpeopleflowtendencies.
Basedonthesemethods,thesimulationproceedsasfollows:
1. Selectanagentandperformstatetransitionsforthenumberofparticles.
2. Calculatethelikelihoodofeachparticle.
3. Normalizethelikelihoodstoconvertthemintoaprobabilitydistribution.
4. Resampleparticlesbasedontheprobabilitydistribution.
5. Selectoneparticlefromtheresampledonesastheagent’slocationforthenextstep.
Performingthesefivestepsforallagentsbridgesthegapbetweenthesimulationandreal-worldpeopleflow.
3.3 Addressingtheimperfectionofhumanflowdata
Asmentionedinrelatedworks,sensorimperfectioncanbebroadlyclassifiedintothreecategories. Below,wediscuss
guidelinesfordataassimilationtoaddressthesethreetypesofimperfection.
3.3.1 Missingtraveldata
Whenthemeasurementrangeofsensorsislimited,itcanleadtotheabsenceofcomprehensivetraveldata,including
detailedpoint-to-pointtransitioninformation. ThisissueisparticularlyprevalentwithdeviceslikecamerasorLiDAR,
whichhindersthecollectionofcompleteODdataacrossentireareas.
Toaddressthetraveldatamissingwithinagent-basedsimulations,weproposeamethodthatleverageslocalmeasurement
data. Theapproachinvolvesdeterminingthelikelihoodofanagent’snextdestinationbasedonvisitationtendencies.
Asoutlinedintheprecedingsection,thismethodutilizesinflowcountdatafromeachlocationtogaugethevisitation
tendencieswithinthespace,andthenincorporatesthesetendenciesintothesimulationthroughaparticlefilter.
5APREPRINT
3.3.2 Lackofattributedata
Lackofattributedatareferstotheinabilitytolinkattributeinformationwithtraveldata. Thislimitationiscommon
inmanysensors,withtheexceptionofGPSdevices. Inroamingbehavior,attributeinformation,whichclarifiesthe
behavioralcharacteristicsforeachattribute,isessentialforconductingadetailedanalysis.
Inagent-basedsimulations,linkingattributeinformationwithtransitiondatacanbeachievedbyestimatingthetransition
ofagentsbasedonobservationaldatathatincludestheattributeinformation. Currently,camerasserveastheprimary
means of capturing attribute information in both indoor and outdoor settings. However, they fall short in tracking
comprehensivemovements,liketransitionsbetweenpoints. Giventhelimitationsofcurrentmeasurementtechniques,it
isnecessarytoestimatetransitiondatafromlocalpeopleflowdatawithattributeinformationgatheredthroughcamera
observations.
Forestimatingtransitiondatawithattributesusingcameras,itiseffectivetogatherinflowcountdataforeachattribute
andestimatethetransitiontendencies. Thisapproachappliesthemethoddiscussedintheprevioussubsectiontoeach
attributeidentifiedbycameras. Itsmainbenefitliesinreducingpredictionuncertainty. Inthepreviouslymentioned
method,inflowcountdatadoesnotspecifyindividualagents,sopredictionsarebasedsolelyonthegeneralmovement
tendenciesofallagents. However,thiscouldleadtosignificanterrorsinpredictionsiftherearevariationsinbehavioral
characteristicsamongdifferentattributegroups. Byusingcamerastoidentifyattributesandestimatetransitionsforeach
one,it’spossibletoaccountforthesedifferencesinbehavior. Thisapproachleadstoimprovedaccuracyinpredicting
overalltransitiontendencies.
3.3.3 Limitedmeasurementscope
Alimitedmeasurementscoperestrictstheabilitytoobserveeveryoneinatargetarea,acommonissuewithsensorslike
Bluetooth/WiFiandRFID.Whilethesesensorscancapturetransitionsequence,theyriskbiasedsampling,leading
toinaccurateestimations. Forexample,considerascenariowhereindividualswithattribute’A’haveahigherrate
ofsmartphoneownershipandoftenoptfortransitionsequence’a’,whilethosewithattribute’B’havealowerrate
ofsmartphoneownershipandtendtoprefertransitionsequence’b’. Inthisscenario,usingBluetooth/WiFidetection
wouldlikelyresultinahigherdetectionrateofindividualswithattribute’A’duetotheirhighersmartphoneownership.
Thiscouldleadtoanoverestimationoftransitionsequence’a’andanunderestimationoftransitionsequence’b’. As
thisexampleindicates,limitingmeasurementscopetoonlyasubsetcanleadtobiasedestimations.
To address the sampling bias by agent-based simulations, an effective approach is to assign measured transition
sequencestoagentsbyweightingthesequencesusingdatafromsensorscapableofcomprehensivemeasurement. Inflow
countdataisparticularlyusefulforthispurpose. Thereasonisthatcountdatacanrevealthevisitationtendencyof
eachlocation,allowingforanindirectestimationofthefrequencyofoccurrenceoftransitionsequences. Transition
sequencesincludinglocationswithahighervisitationratecanbeassumedtohaveahigherfrequencyofoccurrence,
while those with a lower visitation rate can be assumed to have a lower frequency. By adjusting the frequency of
Current position Particles Next position
Particle Weight Particle State
generation calculation resampling estimation
Observed inflowcount data
Figure2: Theapplicationofparticlefilteringinagent-basedsimulation. Particlesaregeneratedforeachagent,andthe
modelpredictstheirnextlocation. Eachparticle’slikelihoodisdeterminedbasedonanonymousinflowcountdata,and
thenexttransitionlocationisdeterminedthroughresamplingbasedonthislikelihood.
6APREPRINT
occurrenceoftransitionsequencesbasedontheweightingofcountdata,itispossibletomitigatethebiascausedby
sampling.
4 Experiment
Weevaluatetheefficacyofadataassimilationmethodthatintegratesagent-basedsimulationandparticlefiltering. This
methodisdesignedtotacklethethreetypesofimperfectionsinpeopleflowmeasurementtechniqueshighlightedinthe
previouschapter. Weestimatethetransitiontendenciesofpseudo-observationaldatabyapplyingaparticlefilter. The
simulationsettinginvolvesavirtualcommercialfacility,whichisusedtosimulatetheshoppingbehaviorofcustomers
4.1 Model
Theproposedmethodcanbeappliedtoanyagent-basedmodel. Forthisexperiment,weuseasimplifiedversionofthe
purchasingbehaviormodelproposedbyHuietal(Huietal.[2009]). Thismodelhasbeenvalidatedforitsreliability
basedontrajectorydataofthousandsofcustomers.
Themodelisrepresentedbythefollowingformula:
exp k A + A j′ +ω ρ
P =
i j j′ ̸=j (1+d j,j′)λ i j,t
(5)
i,j ex(cid:104) p k(cid:16) A +(cid:80) A j′ (cid:17) +ω ρ(cid:105)
j i j j′ ̸=j (1+d j,j′)λ i j,t
(cid:104) (cid:16) (cid:17) (cid:105)
(cid:80) (cid:80)
whereP
i,j
istheprobabilityofagentivisitingstorej,A
j
istheuniqueattractivenessofstorej,d
j,j′
isthedistance
betweenstoresjandj ,ρ isthecongestionlevelofstorejattimet,andω,k,λarecoefficients. Thismodelindicates
′ j,t
thattheprobabilityofvisitingastoreisdeterminedbyitsuniqueattractiveness,theattractivenessofsurroundingstores,
andthestore’scongestionlevel.
4.2 Experimentalcondition
4.2.1 Environment
Toassesstheeffectivenessofdataassimilationusingparticlefiltering,weconductedtestsinthreedistinctscenarios.
These tests aim to evaluate if our method can effectively address the imperfections in people flow measurement
techniques. Initially,weoutlinetheconditionsthatareconsistentacrossallscenarios.
Thesimulationisconductedinavirtualcommercialfacilitywith18stores. Intheimplementation,thecommercial
facilityisrepresentedasagraph,witheachstoredepictedasanode. Allnodesofthestoresareinterconnected,allowing
eachagenttomovefreelybetweenfacilities. Weonlyrecordthetransitionsbetweenstores,withoutconsideringthe
specificroutestaken.
Weinitiatedthesimulationwith100agents,assigningthemrandomstartingstores. Eachagentspends2to3stepsina
storebeforemovingontothenext. Aftermakingthistransitionbetweenstoresthreetimes,theagentsstoproaming.
Oncethenumberofstationaryagentsreaches40,weintroduceanadditional40agentstoreplacethem. Thisprocess
of replenishment continues, simulating the roaming patterns of a total of 2000 agents over 200 steps. We ran the
simulationsthirtytimesandaveragedtheresultstoobtainthefinaloutcome.
Wedividedthe2000agentsintofourdistinctgroups,with500ineachgroup,allexhibitinguniquebehavioralpatterns.
Thesepatternsareinfluencedbyhowattractiveeachstoreis. We’vesetparameterAtodifferentlevelsbasedonthe
storeanditscorrespondinggroup: 7.5forstores0-2ingroup1,8forstores3-5ingroup2,8.5forstores6-8ingroup3,
and10forstores9-11ingroup4. Allotherstoresineachgroupdefaulttoavalueof5. Thevaluesoftheremaining
parametersω,k,andλaresetto0.005,1,and6,respectively.
4.2.2 Generationofpseudoobservationaldata
In this paper, we perform data assimilation based on pseudo-observational data generated from simulations. This
approachisknownasthetwinexperimentmethod,anditisaneffectivewaytoevaluatedataassimilationtechniques
beforetheacquisitionofrealdata.
Toproperlyvalidatetheeffectivenessofthedataassimilationmethodintwinexperiments,wechangethevaluesof
thesimulationparametersfromthoseusedinthedataassimilationenvironment. Inthisexperiment,theattractiveness
ofeachstore,representedbyA,isvariedbetweenbothenvironments. Withinthepseudo-observationalenvironment,
7APREPRINT
parametersaresetasdescribedintheprevioussubsection. Forthedataassimilationenvironment,allparametersare
uniformlysetto5. Thisapproachteststheefficacyofourproposedmethodinscenarioswhereinformationaboutthe
relativeattractivenessofeachstoreisnotavailable.
4.2.3 Simulationcase
Theexperimentisconductedunderthreedifferentcasesusingparticlefiltersfordataassimilation:
Case1—CountDataAvailableatEachStore
Inthiscase,weestimatethetransitiontendenciesfromtheobserveddatausingthetime-seriesinflowcountdatafor
eachstore. ThesensorsassumedinthissetuparecamerasandLiDAR.Wecalculatethelikelihoodofanagentmoving
toaspecificstoreusingtheformulabelow:
w(i) (t) =exp(inflow(i)(t)) (6)
store ∗ obs
whereinflow(i)(t)representthenumberofagentsenteringstoreiatstept. Updatingthelikelihoodinthiswayenables
obs
thesimulationtoaccuratelymirrorthevisitingtendenciesintherealworld. Thenumberofparticlesissetat100. The
resamplingprocedureissummerizedinAlgorothm1.
Algorithm1Resamplingprocessusinginflowcountdata
procedureRESAMPLINGPROCESS
fort=1toT do
fori=1toN do
store
w˜(i) (t) =exp(inflow(i)(t))
store ∗ obs
endfor
w(i) (t)= w˜ s(i t) ore(t)
store (cid:80)N w˜(j) (t)
j=1 store
foralli New_agentdo
∈
Store(i)=select(w (t))
store
endfor
endfor
endprocedure
Case2—CountDatawithAttributesAvailable
Inthiscase,weestimatethetransitiontendencieswithattributefromtheobserveddatausingthetime-seriesattribute
taggedinflowcountdataforeachstore. Thesensorsassumedinthissetuparecameras. Wecalculatethelikelihoodof
anagentmovingtoaspecificstoreusingtheformulabelow:
w(i) (attr,t) =exp(inflow(i)(attr,t)) (7)
store ∗ obs
whereinflow(i)(attr,t)representsthenumberofagentswiththeattributeattrenteringstoreiatstept.Thecalculation
obs
oflikelihoodforeachattributefollowsthesameformulaasinCase1. Thenumberofparticlesissetat100. The
resamplingprocedureissummerizedinAlgorothm2.
Case3—Countdataandpartialtransitionsequencedataavailable
Inthiscase,weestimatethetransitiontendenciesusingthetime-seriesinflowcountdataforeachstoreandandbiased
samples of transition sequence. The sensors assumed in this setup are Bluetooth/Wi-Fi and RFID. Differing from
previouscaseswhereparticlesweresolelymodel-generated,hereweutilizethemeasuredtransitionsequencesamples
astheparticles. Thisisbecauseusingsamplesofreal-worldtransitionsequencesallowsforthereplicationoflonger
overalltransitiontendencies. Wecalculatethelikelihoodofthetransitionsequencesusingtheformulabelow:
w(i) (t) =exp(inflow(i)(t)) (8)
store ∗ obs
w(i) (t)= w(k) (t) (9)
sequence store
k ∈seq(cid:88)uence(i)
8APREPRINT
Algorithm2Rresamplingprocessusinginflowcountdatawithattributeinformation
procedureRESAMPLINGPROCESS
fort=1toT do
forattr=1toN do
attr
fori=1toN do
store
w˜(i) (attr,t) =exp(inflow(i)(attr,t))
store ∗ obs
endfor
w(i) (attr,t)= w˜ s(i t) ore(attr,t)
store (cid:80)N w˜(j) (attr,t)
j=1 store
foralliinNew_agentdo
Store(attri,i)=select(w (attr,t))
store
endfor
endfor
endfor
endprocedure
wherew(k) (t)representstheweightofthetransitionsequencek. Thisimpliesthatsequencesincludingstoreswith
store
highinflowcountsaremorelikelytobeselected. ThislikelihoodcalculationissimilarmannertothatofNakamuraet
al(Nakamuraetal.[2013]). Inthiscase,weassumethatthesamplesarebiasedandconsiderascenariowhereagents
withfourdifferentattributesaresampledatrespectiveratiosof0.4,0.25,0.2,and0.15. Toevaluatetheeffectivenessof
ourproposedmethodunderconditionsofbiasedsampling,wecomparetheaccuracyofselectingsequencesrandomly
versusselectingthembasedonthelikelihood. Thenumberofparticlesissetat400. Theresamplingprocedureis
summerizedinAlgorothm3.
Algorithm3Resamplingprocessusinginflowcountdataandpartialtransitionsequencedata
procedureRESAMPLINGPROCESS
fort=1toT do
Updatestoreweightsbasedonagentinflow
fori=1toN do
store
w˜(i) (t) w˜(i) (t) exp(inflow(i)(t))
store ← store · obs
endfor
NormalizestoreWeights
w(i) (t) w˜ s(i t) ore(t)
store ← (cid:80)N w˜(j) (t)
j=1 store
Sequenceweightsarethetotalsumofstoreweightsitpassesthrough
fori=1toN do
sequence
w˜(i) (t) w(k) (t)
sequence ← k sequence(i) store
endfor ∈
(cid:80)
NormalizesequenceWeights
w(i) (t) w˜ s(i e) quence(t)
sequence ← (cid:80)N j=1w˜s(j e) quence(t)
Setagentsequencesbasedonsequenceweights:
fori New_agentdo
∈
Sequence(i)(t) select(w (t))
sequence
←
endfor
endfor
endprocedure
5 ResultandDiscussion
Figure3(a)and3(b)comparetheODmatrixfromtheobservedenvironmentwiththosefromthedataassimilation
environmentinCase1. Itisclearthatestimatingpedestrianmovementtendenciesbetweenstoresbasedsolelyon
9APREPRINT
(a) (b) (c)
Figure3: Comparisonofobservationalandsimulatedtransitiontendenciesincase1. (a)representsobservationalvalues
oftheOD(Origin-Destination)matrix,and(b)showstheestimatedvaluesbasedondataassimilation. Theaxisvalues
representstorenumbers,withtheverticalaxisindicatingthestoreofdepartureandthehorizontalaxisindicatingthe
arrival store. (c) compares the top 20 most frequent three-store transition sequences observed and estimated. The
horizontalaxisnumbersrepresenttherankingoftransitionfrequency,andtheverticalaxisshowstheirfrequencies.
(a) (b) (c) (d) (e)
Figure4: ComparisonoftheobservationalandsimulatedODmatricesforeachattribute(from(a)to(d)),alongwith
thecombinedODmatrix(e),inCase2. TheODmatricesfrom(a)to(d)arederivedfromdataassimilation,utilizing
inflowcountdatathatcandistinguishbetweenattributes.
inflowcountdataisnoteffective. Figure3(c)presentsacomparisonofthetransitiontendenciesamongthreestores,
furtherindicatingthattheproposedmethodfallsshortinestimationaccuracy. Thisdifficultyarisesfromtheuncertainty
associatedwithinflowcountdata,whichdoesnotallowforindividualidentification. Asthisexperimentassumesa
varietyofroamingbehaviors,manystoresexhibithighinflowcounts,resultinginawiderangeoftransitoptionsfor
them. Thisuncertaintyleadstoimpreciseestimations.
Figure4comparestheODmatricesfromtheobservedenvironmentwiththosefromthedataassimilationenvironment
foreachattributeinCase2. Thetransitiontendenciesofeachattributearerelativelywellreplicated. Thisimproved
accuracyresultsfromtheadditionofattributeinformation,whichreducesuncertaintyofestimation. However,this
scenariopresumesanidealsituationwhereagents’behavioralcharacteristicsarecategorizedbyattributes. Inreality,
individualssharingthesameattributeoftendisplaydiversebehaviors,whichcouldincreaseuncertainty. Thepractical
effectivenessofthismethodinreal-worldobservationswillneedtobeverifiedinfuturework.
Figure5comparestheODmatricesfromtheobservedenvironment(a)withthosefromthesimulationenvironment,both
with(b)andwithout(c)dataassimilation,inCase3. Thefiguresdemonstratethatdataassimilationmoreeffectively
replicatesobservationaltransitiontendenciesinscenarioswithbiasedsampling. Wecalculatedthediscrepancybetween
thetwoODmatrices,definedasthetotalsumoftheabsolutedifferencesinthevaluesofthematrices. Thediscrepancy
10APREPRINT
is715forthedataassimilationenvironment,comparedto1061fortheenvironmentwithoutdataassimilation,indicating
amoreaccuratequantitativeestimationofoveralltransitiontendencies.Figure6examinestransitiontendenciesbetween
threestores,revealingthatthedataassimilationenvironmentalsoachievesrelativelyhighestimationaccuracy. These
findingssuggestthatcomprehensivemeasurementofinflowcountdatahelpstomitigatethebiasinsequentialtransition
data.
(a) (b) (c)
Figure 5: Comparison of observational OD matrix (a) and the estimated OD matrices when data assimilation was
performed(b)andnotperformed(c)incase3.
Figure6: Comparisonofthefrequencyofoccurrenceofthree-storetransitionsequencesamongobservationalvalues
(red),andtheestimatedvalueswhendataassimilationwasperformed(blue)andnotperformed(lightblue)incase3.
Theexperimentsinthesethreecasesindicatethefollowingregardingthethreetypesofimperfectionsinpeopleflow
measurementmethods:First,compensatingfor’missingtraveldata’ischallengingwithonlyinflowcountdata;however,
incorporatingattributeinformationorpartiallysampledtransitionsequencesappearseffective. Toaddressthe’lackof
attributedata’,usingattribute-taggedinflowcountdatatocomplementtransitionsequencesisbeneficial. Lastly,to
overcomethe’limitedmeasurementscope’,integratingcomprehensiveinflowcountdataproveseffectiveinreducing
samplebias.
11APREPRINT
6 LimitationandFutureWork
6.1 Evaluationbasedonactualmeasurementdata
Inthisstudy,theobservationaldatautilizedfordataassimilationwerepseudo-generatedfromamodelanddidnot
accuratelyrepresentreal-worldpeopleflow. Therefore,it’sessentialtoassessthesystem’seffectivenessusingactual
datareflectingdiversehumanbehaviors.
Inaddition,whencollectingreal-worlddata,it’simportanttotakeintoaccountthepotentialimpactofmeasurement
errors. Forinstance,whengatheringinflowcountdata,sensorssuchascamerasandLiDARaresusceptibletoerrors
causedbyissueslikeocclusion. Futureworkshouldfocusondetermininghowsignificantlytheseerrorsinfluencethe
proposedsystem.
6.2 Verificationofthedynamismoftheproposedsystem
Thedataassimilationmethodimplementedinthisstudyissequential,enablingadynamicrepresentationofreal-world
peopleflowbyprogressivelyincorporatingobservationaldata(SwarupandMortveit[2020]). Understandingpeople
flowinreal-timeisvaluableformakingdecisionsaboutcongestionreliefmeasuresanddigitaladvertisingstrategies.
However,forreal-timeoperationtobefeasible,maintainingalowcomputationalloadiscritical. Especially,theparticle
filterusedinthisresearchincreasesthecomputationalburdenasthenumberofparticlesgrows,necessitatingcareful
determinationoftheoptimalnumberofparticlesandassimilationfrequency,informedbyempiricalexperiments.
7 Conclusion
Thispaperproposedadataassimilationframeworkcombiningagent-basedsimulationandparticlefilteringtocomple-
menttheimperfectioninpeopleflowmeasurementtechniques.Weidentifiedthreemainshortcomingsofexistingpeople
flowmeasurementtechniquesas’missingtraveldata’,’lackofattributedata’,and’limitedmeasurementscope’. To
addresstheseimperfections,weproposedanintegrativeapproachofmeasurementandsimulation,usingacombination
ofagent-basedsimulationandparticlefiltertechniquesfordataassimilation.
Asanevaluationofourproposedmethod,weconducteddataassimilationbasedonpseudo-observationaldataand
estimatedtransitiontendenciesofpeopleinavirtualcommercialfacility. Themeasurementdatawerebasedoninflow
countdatafromsensorsinstalledineachstore,andwetestedwhethertheproposedmethodcouldcompensateforthe
threeidentifiedimperfectionsofthemeasurementtechniques. Theresultsindicatedthatestimatingtransitiontendencies
betweentwopointsusingonlyinflowcountdataisdifficultduetothehighlevelofuncertaintyinvolved. However,the
estimationaccuracyimproveswhenattributeinformationisincorporatedwiththeinflowcountdata. Thisindicates
sensorssuchascamerashavepotentialusageforcombiningattributeinformationandroamingtendenciesofpeople.
Furthermore,transitiontendenciesbetweentwoorthreepointscanbeestimatedusingacombinationofsampleof
actualtransitionsequencedataandinflowcountdata,evenwhenthesamplesarebiased. Thisindicatesthatdistributed
inflowcountdatacanmodifiedbiasedsamplingpathdataobtainedfromsensorssuchasbluetooth/wifi. Theinsights
gainedfromthisstudyarecrucialforfutureeffortstogatherpeopleflowdata,whichisoftenchallengingtocapture
solelythroughconventionalmeasurementtechniques.
8 Acknowledgement
ThisworkwassupportedbyJSTSPRING,GrantNumberJPMJSP2108.
References
Kai Li, Chau Yuen, Salil S. Kanhere, Kun Hu, Wei Zhang, Fan Jiang, and Xiang Liu. An experimental study for
trackingcrowdinsmartcities,-092019.
SunilErevelles,NobuyukiFukawa,andLindaSwayne.Bigdataconsumeranalyticsandthetransformationofmarketing,
-07-192015.
YegorMalinovskiy,NicolasSaunier,andYinhaiWang. Analysisofpedestriantravelwithstaticbluetoothsensors,-01
2012.
NickMalleson,MarkBirkin,DanielBirks,JiaqiGe,AlisonHeppenstall,EdManley,JosieMcculloch,andPatricia
Ternes. Agent-basedmodellingforurbananalytics: Stateoftheartandchallenges,-09-202022.
12APREPRINT
ElahehGhazaviandM.M.Lotfi. Formulationofcustomers’shoppingpathinshelfspaceplanning: Asimulation-
optimizationapproach,-082016.
Nanda Wijermans, Claudine Conrado, Maarten Van Steen, Claudio Martella, and Jie Li. A landscape of crowd-
managementsupport: Anintegrativeapproach,-03-052016.
UtkarshSingh,Jean-FrançoisDeterme,FrançoisHorlin,andPhilippeDeDoncker. Crowdmonitoring: State-of-the-art
andfuturedirections,-08-132020.
FranciscoMartinez-Gil,MiguelLozano,IgnacioGarcía-Fernández,andFernandoFernández. Modeling,evaluation,
andscaleonartificialpedestrians,-09-262017.
JianyongShi,AizhuRen,andChiChen. Agent-basedevacuationmodeloflargepublicbuildingsunderfireconditions,
-052009.
Fabian Lorig, Emil Johansson, and Paul Davidsson. Agent-based social simulation of the covid-19 pandemic: A
systematicreview. JASSS:JournalofArtificialSocietiesandSocialSimulation,24(3),2021.
DirkHelbingandPeterMolnar. Socialforcemodelforpedestriandynamics. PhysicalreviewE,51(5):4282,1995.
JanDijkstra,HarryTimmermans,andJoranJessurun. Modelingplannedandunplannedstorevisitswithinaframework
forpedestrianmovementsimulation,2014.
TomasCrolsandNickMalleson. Quantifyingtheambientpopulationusinghourlypopulationfootfalldataandan
agent-basedmodelofdailymobility,-04-272019.
GregWelchandGaryBishop. Anintroductiontothekalmanfilter. 1995.
FumiyaTogashi,TakashiMisaka,RainaldLöhner,andShigeruObayashi. Usingensemblekalmanfiltertodetermine
parametersforcomputationalcrowddynamicssimulations,-10-222018.
RobertClay,Le-MinhKieu,JonathanA.Ward,AlisonHeppenstall,andNickMalleson. Towardsreal-timecrowd
simulationunderuncertaintyusinganagent-basedmodelandanunscentedkalmanfilter. InInternationalconference
onpracticalapplicationsofagentsandmulti-agentsystems,pages68–79.Springer,2020.
FumiyasuMakinoshimaandYusukeOishi. Crowdflowforecastingviaagent-basedsimulationswithsequentiallatent
parameterestimationfromaggregateobservation,-07-012022.
J. Lueck, J. H. Rife, S. Swarup, and N. Uddin. Who goes there? using an agent-based simulation for tracking
population movement. In 2019 Winter Simulation Conference (WSC), pages 227–238, 2019. ISBN 0891-7736.
doi:10.1109/WSC40007.2019.9004861. ID:1.
Patricia Ternes, Jonathan A. Ward, Alison Heppenstall, Vijay Kumar, Le-Minh Kieu, and Nick Malleson. Data
assimilationandagent-basedmodelling: towardstheincorporationofcategoricalagentparameters,-10-272021.
NickMalleson,KevinMinors,Le-MinhKieu,JonathanA.Ward,AndrewA.West,andAlisonHeppenstall. Simulating
crowdsinrealtimewithagent-basedmodellingandaparticlefilter*apreprint,-09-232019.
MinghaoWangandXiaolinHu. Dataassimilationinagentbasedsimulationofsmartenvironmentsusingparticlefilters,
-05-222015.
PetarM.Djuric,JayeshH.Kotecha,JianquiZhang,YufeiHuang,TadesseGhirmai,MónicaF.Bugallo,andJoaquin
Miguez. Particlefiltering. IEEESignalProcessingMagazine,20(5):19–38,2003.
SamK.Hui,EricT.Bradlow,andPeterS.Fader. Testingbehavioralhypothesesusinganintegratedmodelofgrocery
storeshoppingpathandpurchasebehavior,-04-082009.
ToshikazuNakamura,YoshihideSekimoto,andRyosukeShibasaki. Estimationofpeopleflowinacityusingparticle
filterwithpersontripsurvey,buildingdataandtrafficcount,2013.
SamarthSwarupandHenningS.Mortveit. Livesimulations. InProceedingsofthe19thInternationalConferenceon
AutonomousAgentsandMultiAgentSystems,pages1721–1725,2020.
13