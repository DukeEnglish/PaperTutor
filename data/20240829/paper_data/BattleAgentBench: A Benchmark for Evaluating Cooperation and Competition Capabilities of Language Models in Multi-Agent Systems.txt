BattleAgentBench: A Benchmark for Evaluating Cooperation and
Competition Capabilities of Language Models in Multi-Agent Systems
WeiWang,DanZhang,TaoFeng,BoyanWang,JieTang
TheKnowledgeEngineeringGroup(KEG),TsinghuaUniversity
Abstract Level Level1 Level2 Level3
LargeLanguageModels(LLMs)arebecomingincreasingly Ability/Stage 1 2 3 4 5 6 7
powerfulandcapableofhandlingcomplextasks,e.g.,build- RuleUnderstanding
ingsingleagentsandmulti-agentsystems.Comparedtosin- SpatialPerception
gle agents, multi-agent systems have higher requirements Competition
forthecollaborationcapabilitiesoflanguagemodels.Many
StaticCooperation
benchmarksareproposedtoevaluatetheircollaborativeabil-
DynamicCooperation
ities. However, these benchmarks lack fine-grained evalua-
tionsofLLMcollaborativecapabilities.Additionally,multi-
Table 1: Evaluation abilities at each stage of each level of
agentcollaborativeandcompetitivescenariosareignoredin
existingworks.Toaddressthesetwoproblems,wepropose
theBattleAgentBench.
a benchmark, called BattleAgentBench, which defines
ios(PanaitandLuke2005;Liuetal.2023a),whileanother
seven sub-stages of three varying difficulty levels and con-
ductsafine-grainedevaluationoflanguagemodelsinterms categoryprimarilyfocusesoncompetitivescenarios(Zhang
ofsingle-agentscenarionavigationcapabilities,paired-agent etal.2024d;Fengetal.2024).
task execution abilities, and multi-agent collaboration and However, appraising the collaborative proficiencies of
competitioncapabilities.Weconductedextensiveevaluations multi-agentsystemsnecessitatesthedefinitionofmeticulous
on leading four closed-source and seven open-source mod- evaluation metrics and a profound understanding of their
els.ExperimentalresultsindicatethatAPI-basedmodelsper- holistic skill sets. Moreover, multi-agent systems not only
formexcellentlyonsimpletasksbutopen-sourcesmallmod-
navigatecollaborativelandscapesbutalsonavigatethrough
elsstrugglewithsimpletasks.Regardingdifficulttasksthat
complex competitive scenarios. For instance, consider the
requirecollaborativeandcompetitiveabilities,althoughAPI-
caseofabadmintondoublechallenge,whereincollaboration
basedmodelshavedemonstratedsomecollaborativecapabil-
isimperativewithinaninternalteamwhilecompetitivedy-
ities,thereisstillenormousroomforimprovement.Thecode
forBattleAgentBenchisavailableathttps://github.com/ namics unfold between two opposing teams. Nevertheless,
THUDM/BattleAgentBench. thesecompetitivescenariosoftenfallbythewaysideinex-
isting benchmarks due to the intricate evaluation tasks and
metricstheyentail.
1 Introduction
In light of these challenges, this paper introduces
Large language models (LLMs) have showcased remark- BattleAgentBench, a fine-grained benchmark to eval-
able capabilities in handling intricate tasks (Bi et al. 2023; uatethecollaborativeandcompetitivecapabilitiesofLLMs
Jumper et al. 2021; Singhal et al. 2023; Zhang et al. inmulti-agentsystemsSpecifically,asshowninTable1,the
2024a,b), positioning them as pivotal agents in real-world BattleAgentBench framework encompasses three dif-
scenarios such as gaming (Guo et al. 2023), web automa- ferent difficult y levels and seven stages. At Level 1 (the
tion (Gur et al. 2023), and knowledge retrieval (Wu et al. single-agentlevel),wedesigntwosimplestagestoassessa
2024a).Inparticular,LLMshavebeenextensivelyemployed singleagent’sabilitiesofsimpleandcompletegameruleun-
to construct single-agent, double-agent, or multi-agent sys- derstanding.AtLevel2(thedouble-agentlevel),weusetwo
temswithingamingenvironments(Zhangetal.2024d;Feng stages with two agents to evaluate agents’ cooperative and
etal.2024).Thesolitaryagentsetupsservetoassessthefun- competitive task execution abilities. At Level 3 (the multi-
damental rule comprehension of LLMs, while multi-agent agentlevel),wedesignthreestageswithdifferentcoopera-
systems (Zhang et al. 2024c; Gong et al. 2023) demand tive and competitive relationships between agents to assess
heightened collaborative prowess. To gauge their collabo- agents’staticcooperationcompetition,dynamiccooperation
rative aptitude effectively, various benchmarks (Light et al. competition,andhybridcooperationcompetition.
2023; Li et al. 2023a; Liu et al. 2023b) have been intro- In addition, we have assessed 11 different LLMs using
duced,albeitinabroad-strokeevaluationfashion.Andone BattleAgentBench,includingbothfourAPI-basedand
categoryofmethodsmainlyfocusesoncollaborativescenar- sevenopen-sourcemodels.Wefoundthateveninverysim-
4202
guA
82
]LC.sc[
1v17951.8042:viXra1. Stage Design LLM Evaluation 2. Agent Interaction
Level 1: Foundational Agent Capabilities
Simple Complex Cooperation
Scenario Scenario Cometition
Navigation Navigation
Capability
Level 2: Paired Agent Interaction
BattleAgent Game
Cooperative Competitive Bench Server
Task Task
Execution Execution
Level 3: Multi-Agent Dynamics Large
Language
Static Dynamic Hybrid Models
Cooperation Cooperation Cooperation
Cooperation
Competition Competition Competition
Agents
Figure1:OverallevaluationframeworkoftheBattleAgentBench.
ple stages, the performance of open-source small models 3 TheBattleAgentBench
was particularly poor, while API-based models performed
Toevaluatethecooperationandcompetitioncapabilitiesof
well. However, in difficult tasks, although API-based mod-
large language models in a fine-grained manner, we design
elsarestillbetterthanopen-sourcesmallmodels,thegapbe-
a new benchmark: BattleAgentBench. As shown in
tweenthemhasnarrowed,andAPI-basedmodelsstillhave
Figure 1, the BattleAgentBench consists of two main
significantroomforimprovement.
parts:stagedesignandagentinteraction.Instagedesign,we
Insummary,thecontributionsofthisworkare:
design seven stages of three different difficulty levels. In
• WeintroducetheBattleAgentBench,afine-grained agentinteraction,weimplementinteractionsbetweenagents
multi-agent cooperation and competition evaluation andserverstosupportevaluationintheabovestages.Next,
benchmark,whichincludesthreelevelsrangingfromsin- weintroducetheoverallevaluationframeworkanddescribe
gleagenttomultipleagents. eachstageindetail.
• In the BattleAgentBench framework, we design
3.1 CompositionofBattleAgentBench
seven stages from easy to difficult, capable of compre-
hensively assessing the basic abilities of single agents,
1.StageDesign. Wedesignthreedifferentdifficultylevels:
cooperative abilities, and competitive abilities of multi-
FoundationalAgentCapabilities(Level1),PairedAgentIn-
agents.
teraction (Level 2), and Multi-Agent Dynamics (Level 3),
• Weperformathoroughevaluationof11differentLLMs forafine-grainedevaluationoftheagents’collaborativeand
usingtheBattleAgentBench,includingtheleading competitiveabilities.AtLevel1(thesingle-agentlevel),we
top four API-based LLMs and seven open-source mod- mainly evaluate a single agent’s basic abilities, for exam-
els.AlthoughAPI-basedmodelsperformwellonsimple ple,whethercanunderstandthegame’sbasicrules.Regard-
stages,thereisstillsignificantroomforimprovementon ingLevel2(thedouble-agentlevel),weassesstwoagents’
complexstages. collaboration capabilities and competitive abilities in two
stages.AtLevel3(themulti-agentlevel),weevaluateboth
2 Preliminary thecollaborationandcompetitiveabilitiesofmultipleagents
inmorecomplexscenarios.Eachstagecorrespondstoaspe-
We evaluate LLMs as agents in a turn-based interactive
cific stage setting, defining the unique game environment
game, BattleCity, where theagent takes corresponding ac-
for that stage, such as the number of players, the number
tions based on the game state at each turn. Thus, the entire
ofbases,thewin/loselogicofthegame,etc.
interaction process between the agent and the game can be
viewed as a Markov Decision Process (S,A,T,R,I,O), 2.AgentInteraction.
which contains state space S, action space A, transition
Game Server. At the start of the game, the game server
function T : S × A → S, reward function R, game in-
loadsthespecificenvironmentaccordingtothestagesetting
struction I, and observation space O). The game server is
tobeevaluated.Duringthegame,thegameserverisrespon-
responsibleforstatetransitionsandprovidingrewards.The
sibleforsendingobservationinformationtoagents,receiv-
agentneedstomakeanactionabasedoninstructioni,ob-
ing actions from agents, updating the status of agents and
servation o, and state s. We apply LLMs to implement the
environment, calculating agents’ rewards, and determining
agent’sdecision-makingfunction:
whetherthegamehasended.
P(a |i,o ,s )=LLM(i,o ,s ) (1) LLMs as Game Agents. Each agent represents a player,
t t t t tWWallall BaBsaese NPNCP CT aTnaknk AgAegnetnt
WWallall BaBsaese NPNCP CT aTnaknk AgAegnetnt WWallall BaBsaese NPNCP CTa Tnaknk TeTaema mB lBuelue TeTaema mR eRded
(a)Level1-Stage1 (b)Level1-Stage2 (a)Level2-Stage3 (b)Level2-Stage4
Figure2:Level1:Stage1andStage2.Theagent’sgoalin Figure3:StagesofLevel2(double-agentlevel).InStage3
WWallall BaBsaese NPNCP TCa Tnaknk TeTaema mB lBuelue TeTaema mR eRded
bothstagesistoreachthebaselocation. andStage4,thetwoagentshaveacooperativerelationship
andacompetitiverelationshiprespectively.
anditscorefunctionisthedecision-makingfunction,which
determinesthenextactionbasedonthereceivedobservation taskcompletioncapabilitiesofindividualagentswithinthe
data.WeuseLLMstoimplementeachactionfunction.The environment. This approach allows us to decouple the as-
game observation data is converted into text format based sessmentoftheagents’basiccapabilitiesfromtheircollab-
on predefined templates. Then, we prompt observation text orativeabilitiestosomeextent.Incomplexenvironments,if
toLLMstoobtaintheoutputaction. anagentperformspoorly,itbecomesdifficulttodifferentiate
CooperationbetweenLLMAgents. Inadditiontothein- whether the subpar performance is due to the agent’s basic
teractionbetweenagentsandtheserver,wehavealsoimple- capabilitiesoritscollaborativeabilities.Thus,wedesigned
mentedamessagecommunicationinterfacebetweenagents Level 1 (the single-agent level) to test basic capabilities in
tosupporttheevaluationofagents’staticcooperationability Figure2.
anddynamiccooperationability. Stage1:SimpleScenarioNavigation. Inthisstage,wetest
the agent’s understanding of the game rules and the spatial
3.2 BasicRulesofBattleAgent
perception ability regarding simple scenario navigation. a)
Specifically, the game contains four elements: the map, Agent Setting: There is only one agent and one base. b)
walls,bases,andtankasshowninFigure2.Detailsandrules AgentGoal:Westartwithasimplegoal,whichistoreach
ofthisgameareasfollows: thebaselocationasquicklyaspossible.Toachievethegoal,
theagentfirstneedstounderstandtherulesofthegamewith
• The game map size is 512x512, with (0, 0) represent-
regard to these four elements. In addition to understanding
ing the top-left corner and (512, 512) representing the
theserules,theagentmustalsohavegoodtwo-dimensional
bottom-rightcorner.
spatialperceptionskillstomovecorrectlytowardthetarget.
• The map contains tanks, bases, and walls; the tank size
andthebasesizeare32x32,andthewallsizeis8x8. Stage 2: Complex Scenario Navigation. We assess the
ability to handle dynamic obstacles. a) Agent Setting and
• Tanks can move in four directions: up, down, left, and
b)AgentGoalareconsistentwithStage1.Theagentneeds
right. Walls and other tanks can obstruct the movement
to eliminate the tanks that pose a threat to itself while ap-
ofthetank.
proaching the base. c) Change: Compared to Stage 1, this
• Theverticalmovementrangeofthetankisfrom0to512,
stage introduces interfering Non-Player Character (NPC)
andthehorizontalmovementrangeis0∼512.
tanks.TheseNPCtankswillmoveandshootrandomly.This
• Tanks have four orientations: up, down, left, and right, requirestheagenttohavetheabilitytohandledynamicob-
andshootingcandestroythetankorwallinfrontofthem stacles.
inthecurrentdirection. Inthenextfivestages,wealsokeepthebasicgameenviron-
• Whenthetank’sfrontfacesthemapboundary,itcannot mentunchanged,primarilyincreasingthenumberofagents
continuetomoveforward. fromdifferentfactionsandsettingmorecomplexobjectives.
• If there is a wall in front of the tank, it needs to shoot
3.4 Level2:PairedAgentInteraction
toeliminatethewallbeforeitcancontinuetomovefor-
ward. Compared to Level 1 (single-agent level), Level 2 (double-
agent level) introduces another agent, allowing for further
3.3 Level1:FoundationalAgentCapabilities
evaluation of the agent’s cooperation and competition abil-
Compared to directly evaluating the collaboration abilities ities. Moreover, compared to a multi-agent level, the two-
ofmultipleagentsincomplexcollaborativeandcompetitive agent environment can assess the agent’s cooperation and
scenarios, we believe that it is necessary to first assess the competition abilities with the minimum number of agents,Wall Wall Wall
Base Base Base
NPC Tank NPC Tank NPC Tank
Agent Team Blue Team Blue
Team Red Team Red
Team Green
Team Yellow
(a)Level3-Stage5 (b)Level3-Stage6 (c)Level3-Stage7
Figure4:StagesofLevel3(multi-agentlevel).InStage5,theagentswithintheteamhaveacooperativerelationship,whilethe
agents between teams have a competitive relationship. In Stage 6, the agents between teams have a competitive relationship,
while allowing for cooperative relationships between teams. In Stage 7, the relationship within the team is cooperative, the
relationshipbetweenteamsiscompetitive,andcooperationbetweenteamsisalsoallowed.
minimizingtheinfluenceofthenumberofagentsonthere- Stage5:StaticCooperationCompetition. a)AgentSet-
sults.Thecollaborativerelationshipsamongmultipleagents ting: There are four agents and two bases. Four agents are
are more complex, so we designed this level to gradually divided into two teams: the Red Team and the Blue Team,
increase the difficulty of assessing collaborative and com- withtwoagents oneachteam. b)Agent Goal: Thegoal is
petitivecapabilities,asshowninFigure3. todestroytheopposingfaction’sbasewhileprotectingtheir
ownbasefrombeingdestroyed.c)Change:Inthisstage,the
Stage 3: Cooperative Task Execution. In this stage, we
agentshavebothcooperativeandcompetitiverelationships.
evaluatethecooperativetaskexecutionabilityofagents.a)
We restrict cooperation to only teammates within the
AgentSetting:twoagentsbelongtothesamefaction.There
same team, meaning that the agents of the Red Team can
aretwobases:oneistheownbase,andtheotheristheen-
cooperatewitheachother,andtheagentsoftheBlueTeam
emybase.b)AgentGoal:Thegoalofthetwoagentsisto
can cooperate with each other. Since the cooperation part-
eliminate the enemy base while protecting their own base
ners for each agent are fixed and unchanging, we refer to
frombeingattacked.c)Change:Thetwoagentshaveaco-
thisasstaticcooperativecompetition.
operativerelationshipandneedtoworktogethertoaccom-
plishthisobjective. Stage 6: Dynamic Cooperation Competition. a) Agent
Tofacilitatecooperationbetweentheagents,wehavein- Setting: There are four agents and four bases. Four agents
troducedacommunicationinterfaceinthegamethatallows belongtodifferentteams:theRedTeam,BlueTeam,Green
thetwoagentstosendcollaborationmessagestoeachother Team, and Yellow Team. b) Agent Goal: Each team can
in natural language. In each action step, an agent can au- onlywinbydefeatingtheotherthreeteams.c)Change:This
tonomouslydecidewhethertosendacollaborationmessage stageintroducesadynamiccooperativerelationship.
andproposeaspecificcooperationplan.Theotheragentcan During the confrontation, in pursuit of ultimate victory,
thenreplytothecollaborationmessage,indicatingwhether eachagentcanfreelyengageintemporarycooperationwith
itacceptsorrejectstheproposedcooperationplan. one of the other three teams. For example, two teams may
choosetocollaboratetoeliminateacommonenemybefore
Stage 4: Competitive Task Execution. In this stage, we
turning against each other. Since the cooperation relation-
assess the competitive task execution abilities of agents. a)
shipsbetweenagentsaredynamicallychanging,wereferto
AgentSetting:Therearetwoagentsandtwobases.Thetwo
thisasdynamiccooperativecompetition.
agentsbelongtodifferentfactions.b)AgentGoal:theirob-
jective is to destroy the opposing faction’s base while pro- Stage 7: Hybrid Cooperation Competition. This stage
tecting their own base from being destroyed. c) Change: includes dynamic and static. a) Agent Setting: There are
Thetwoagentshaveacompetitiverelationshipandneedto eightagentsandfourbases.Wedivideeightagentsintofour
defeattheiropponents. teams,theRedTeam,BlueTeam,GreenTeam,andYellow
Team,eachteamconsistingoftwoagents.b)AgentGoal:
Eachteamcanonlywinbydefeatingtheotherthreeteams.
3.5 Level3:Multi-AgentDynamics
c) Change: This level has both static cooperative relation-
Compared to Level 2 (double-agent level), we further in- shipsanddynamiccooperativerelationships.
crease the number of agents and consider more complex During the confrontation, the cooperation among team-
cooperative and competition scenarios in Figure 4, such mates remains constant, and the ultimate goal is also
as managing dynamic cooperative relationships and facing aligned: to eliminate the other teams. At the same time,
multiplecompetitionfactions. agents can temporarily collaborate with an agent from an-other team. Because the ultimate goals of the other teams Stage1 Stage2
Models Avg.Dis
differ,thiscooperationrelationshipistemporary.Therefore, FDis FAcc MAcc FDis FAcc MAcc
werefertothisscenarioasmixedcooperativecompetition. API-basedmodels
claude3.5-sonnet-0620 13.7 1.00 0.97 12.0 1.00 0.90 12.8
4 EvaluationofBattleAgentBench gpt-4o-mini 12.3 1.00 0.98 10.7 1.00 0.86 11.5
gpt-3.5-turbo-0125 10.7 1.00 0.83 5.7 1.00 0.65 8.2
4.1 EvaluationSetup glm-4-flash 4.3 1.00 0.60 5.0 0.92 0.68 4.7
open-sourcemodels
Metrics. InStage1andStage2,weprimarilyusetheFor- internlm2.5-7b-chat 6.7 0.99 0.63 4.7 0.99 0.63 5.7
ward Distance (F Dis) as the evaluation metric, since the mistral-7b-instruct 3.3 0.98 0.58 5.8 0.98 0.65 4.6
glm-4-9b-chat 3.8 1.00 0.61 4.2 1.00 0.63 4.0
goalofthesetwostagesistoreachthetargetbase.Thedis-
qwen2-7b-Instruct 3.7 0.98 0.60 2.1 0.99 0.56 2.9
tance the agent moves toward the base is a suitable metric. yi-1.5-9b-chat-16k 1.9 1.00 0.54 1.9 1.00 0.55 1.9
Specifically, given the tank’s initial position p , the base’s gemma2-9b-it 2.8 0.98 0.60 0.7 0.99 0.55 1.8
s llama3-8b-instruct -1.4 0.99 0.41 -1.1 0.99 0.45 -1.3
position p , and the tank’s position at the end of the
target random 1.0 - 0.49 1.4 - 0.52 1.2
gamep ,wecancalculatethetank’sforwarddistanceasfol-
e
lows. Table2:EvaluationresultsofLevel1.Bolddenotesthebest
resultonAPI-basedmodelsandopen-sourcemodels.
FDis=L1(p −p )−L1(p −p ), (2)
s target e target
whereL1denotesL1distance.Wealsointroducedtwoaux- Baselines. We evaluate two types of models: API-based
iliarymetrics:FormatAccuracy(FAcc)andMoveAccu- models and open-source models. The API-based models
racy(MAcc).Wepredefinedtheoutputformatforinstruc- include Claude3.51, GPT-4o-mini (Achiam et al. 2023),
tions and used regular expressions to match LLM’s output. GPT-3.5 (Achiam et al. 2023), and GLM-4 (GLM et al.
The format accuracy measures the LLM’s ability to output 2024).Theopen-sourcemodelsincludeLlama3-8b,Mistral-
inthespecifiedformat. 7b (Jiang et al. 2023), Gemma2-9b (Team et al. 2024),
GLM-4-9b (GLM et al. 2024), Yi-1.5-9b (Young et al.
FAcc=N /N , (3)
format total
2024), Internlm2.5-7b (Team 2023), and Qwen2-7b (Yang
where N format represents the number of turns where the etal.2024).
modeloutputiscorrectlyformatted,whileN represents
total
thetotalnumberofturns.Sincethetargetpositionisknown,
wecandeterminewhethertheagent’smovementdirectionis Models
0.8 0.79 1. claude3.5-sonnet
correctateachstep,sothemovementaccuracyiscalculated 0.70 2. gpt-4o-mini
3. gpt-3.5-turbo
asfollows: 0.6 4. internlm2.5-7b-chat
5. glm-4-flash
MAcc=N /N , (4) 0.50 6. mistral-7b-instruct
correct format 7. glm-4-9b-chat
0.4 0.36 8. qwen2-7b-instruct
where N correct denotes the number of turns with correct 0.29 0.27 0.24 9 1. 0 g . e yim -1m .5a -- 92 b- -9 cb hat-16k
movementdirection. 0.2 0.16 11. llama3-8b-instruct
In the subsequent five stages, we use Score as the eval- 0.11 0.10
uation metric. The agents will earn a certain score for suc- 0.0
cessfullyattackingbases,otheragents,andNPCtanks.The -0.11
sumofthethreetypesofscoreswillserveasthefinalscore. 0.2
1 2 3 4 5 6 7 8 9 10 11
Specifically, the agent’s health is 5, and the NPC tank’s
healthis1.Eachattackontheagentandtankobtains1score,
Figure5:Goalcompletionrateofdifferentmodels.
whileeachattackonthebaseobtains5scores.
Itshouldbenotedthatthese5stageshavemultipleagents.
4.2 OverallExperimentalResults
Eachagentneedstoconnecttoalanguagemodel.Tofacil-
itate the evaluation of different language models, we have Evaluation on Level 1. As shown in Table 2, API-based
adopted the concept of primary and secondary agents. The modelshaveasignificantadvantageoveropen-sourcesmall
primary agent is the first agent or the first team of agents, models in terms of forward distance, especially claude3.5-
whiletheremainingagentsaresecondaryagents.Eachstage sonnetandgpt-4o-mini,whichcanapproachthebasewell.
can connect up to two types of language models, with the In contrast, open-source models make less progress. Based
primaryagentconnectingtothelanguagemodelbeingeval- on the forward distance and total distance to the target, we
uated,andthesecondaryagentsconnectingtoanotherrefer- cancalculatethegoalcompletionrate.Theresultsareshown
ence language model. Here, we have used yi-1.5-9b as the inFigure5.Theresultsshowthatclaude3.5-sonnetandgpt-
referencelanguagemodel.Bykeepingthesecondaryagents 4o-minicaneffectivelycompletenavigationtasks.Thegoal
connected to the reference language model unchanged, we completionratesofopen-sourcemodelsareallbelow50%.
canfairlyconnectandevaluatedifferentlanguagemodelsin In addition, open-source small models have lower move
theprimaryagent.Forexample,inLevel2,thereisonlyone accuracy while API-based models have higher move accu-
teamof2agents,sobothagentsareprimaryagents,connect- racy.Thisindicatesthatopen-sourcesmallmodelshavepoor
ingtothelanguagemodelbeingevaluated,andtheirscores
aresummedforthefinalscore. 1https://www.anthropic.com/news/claude-3-5-sonnet
etaR
noitelpmoC
laoG
egarevAStage4 Stage5
Models Avg.Score
Score FAcc MAcc Score FAcc MAcc
API-basedmodels
claude3.5-sonnet-0620 5.3 1.00 0.96 4.3 1.00 0.90 4.8
gpt-4o-mini 3.3 0.96 0.69 1.3 0.90 0.65 2.3
gpt-3.5-turbo-0125 0.3 0.97 0.63 0.3 0.88 0.63 0.3
glm-4-flash 0.3 0.92 0.63 0.7 0.98 0.55 0.5
open-sourcemodels
internlm2.5-7b-chat 1.8 0.73 0.54 0.2 0.84 0.57 1.0
yi-1.5-9b-chat-16k 1.4 0.72 0.54 0.4 0.96 0.46 0.9
llama3-8b-instruct 0.4 0.81 0.34 0.4 0.63 0.57 0.4
glm-4-9b-chat 0.4 0.76 0.44 0.4 0.80 0.64 0.4
qwen2-7b-Instruct 0.4 0.65 0.58 0.2 0.88 0.56 0.3
gemma2-9b-it 0.4 0.82 0.53 0.0 0.10 0.42 0.2
mistral-7b-instruct 0.3 0.55 0.56 0.0 0.15 0.61 0.1
random 0.2 - 0.48 0.0 - 0.49 0.1
Table 3: Evaluation results of Level 2 of the BattleAgentBench. Bold denotes the best result on API-based models and
open-sourcemodels.
Stage5 Stage6 Stage7
Models Avg.Score
Score FAcc MAcc Score FAcc MAcc Score FAcc MAcc
API-basedmodels
claude3.5-sonnet-0620 6.3 1.00 0.91 7.0 1.00 0.98 8.3 1.00 0.92 7.2
gpt-4o-mini 5.7 0.95 0.71 4.7 0.96 0.77 2.0 0.89 0.64 4.1
gpt-3.5-turbo-0125 1.0 0.97 0.72 1.3 0.88 0.70 2.3 0.98 0.63 1.6
glm-4-flash 0.7 0.95 0.54 2.0 0.95 0.64 0.3 0.98 0.91 1.0
open-sourcemodels
internlm2.5-7b-chat 0.6 0.76 0.48 2.2 0.67 0.42 3.2 0.66 0.55 2.0
yi-1.5-9b-chat-16k 1.0 0.89 0.56 1.8 0.80 0.49 2.2 0.77 0.52 1.7
gemma2-9b-it 1.8 0.83 0.39 0.6 0.87 0.47 1.8 0.86 0.57 1.4
llama3-8b-instruct 1.0 0.85 0.47 0.8 0.85 0.55 1.2 0.83 0.73 1.0
glm-4-9b-chat 1.0 0.82 0.48 0.6 0.80 0.63 1.0 0.83 0.72 0.9
qwen2-7b-Instruct 0.0 0.69 0.52 1.4 0.63 0.47 1.2 0.65 0.64 0.9
mistral-7b-instruct 0.2 0.49 0.38 0.0 0.54 0.43 0.2 0.47 0.49 0.1
random 0.2 - 0.50 0.4 - 0.49 0.6 - 0.52 0.4
Table 4: Evaluation results of Level 3 of the BattleAgentBench. Bold denotes the best result on API-based models and
open-sourcemodels.
two-dimensional spatial perception, with many movements themovementaccuracyofgpt-4o-mini,gpt-3.5,andglm-4-
being incorrect. This explains why these models make less flashallshowedadecline.Themovementaccuracyofopen-
progress. Both types of models have high format accuracy, source models remains as poor as in Level 1. Due to the
indicating that they can both follow the given action for- increased complexityof instruction formats,all models ex-
mat well. The evaluation results of these two stages indi- perienced some decline in format accuracy. However, API-
cate that API-based models can understand the game envi- basedmodelsshowedasmallerdecreaseinformataccuracy.
ronmentandhaveagoodspatialperception,thuseffectively These results demonstrate that claude3.5-sonnet has strong
completing objectives. In contrast, open-source models are environmental understanding, collaboration, and adversar-
generallyunabletoeffectivelyaccomplishthegoals. ialcapabilities,whilegpt-4o-miniachievedthesecond-best
performanceintheseaspects.Othermodelswereunableto
Evaluation on Level 2. From Table 3, it can be seen copewithcomplexenvironmentseffectively.
that in collaborative and adversarial environments, among
allmodels,onlyclaude3.5-sonnetandgpt-4o-miniachieved Evaluation on Level 3. As shown in Table 4, we can see
relatively high scores, while other models scored compar- that in more complex environments, claude3.5-sonnet and
atively lower. As the difficulty increases, only claude3.5- gpt-4o-ministillobtainrelativelyhighscores.Othermodels
sonnet maintained a consistent movement accuracy, while scoredcomparativelylower.Notably,onlyclaude3.5-sonnetStage5 Stage6 Stage7
Models Avg.Score ∆Score
Score FAcc MAcc Score FAcc MAcc Score FAcc MAcc
API-basedmodels
claude3.5-sonnet-0620 4.3 1.00 0.87 3.3 1.00 0.87 7.0 1.00 0.89 4.9 -2.3
gpt-4o-mini 4.3 0.92 0.74 3.0 0.90 0.73 4.0 0.90 0.76 3.8 -0.3
gpt-3.5-turbo-0125 1.3 0.96 0.63 2.3 0.93 0.59 2.7 0.96 0.56 2.1 0.6
glm-4-flash 1.0 1.00 0.48 2.0 1.00 0.55 6.0 1.00 0.61 3.0 2.0
open-sourcemodels
yi-1.5-9b-chat-16k 1.8 0.94 0.56 1.6 0.94 0.51 5.6 0.89 0.50 3.0 1.3
gemma2-9b-it 2.0 0.94 0.60 2.0 0.93 0.55 4.0 0.92 0.62 2.7 1.3
glm-4-9b-chat 0.6 0.79 0.45 1.0 0.79 0.58 6.0 0.82 0.57 2.5 1.7
internlm2.5-7b-chat 0.6 0.78 0.45 3.0 0.75 0.46 3.8 0.77 0.49 2.5 0.5
qwen2-7b-instruct 0.0 0.81 0.50 1.0 0.85 0.57 3.6 0.80 0.55 1.5 0.7
mistral-7b-instruct 0.0 0.26 0.46 0.2 0.17 0.35 2.3 0.23 0.24 0.8 0.7
llama3-8b-instruct 0.0 0.64 0.53 1.2 0.62 0.69 0.8 0.55 0.55 0.7 -0.3
Table 5: Ablation Evaluation results of Level 3 of the BattleAgentBench. Bold denotes the best result on API-based
modelsandopen-sourcemodels.∆ScorerepresentsAvg.ScoreinTable5subtractsAvg.ScoreinTable4.
maintainsahighmovementaccuracy.gpt-4o-miniachieved
performancesecondonlytoclaude3.5-sonnetacrossallmet- Input
rics. Compared to these two models, other models have
#Game State Data:
lowerscores,movementaccuracy,andformataccuracy.This
Own id: 3.
indicatesthatthesetwomodelshavestrongercapabilitiesin ...
dealingwithcomplexenvironments.Theothermodelsper- #Task Description:
...
form poorly in lower-level tasks and continue to underper-
#Game Instructions:
forminhigher-leveltasks. ...
#Operation Options:
4.3 AblationStudy ...
#Cooperation Options:
Evaluation results of Level 3 reveal the differences in the ...
comprehensive capabilities of different models in complex #Last Round Operation:
...
environments, including environmental understanding, co-
operation,competitionabilities,etc.Toassesstheeffective-
#Thought process: Output
ness of models’ collaborative abilities, we conduct further
ablation experiments that remove the cooperation interface Attack target: Continue attacking tank 5. Although the previous
round's attack didn't cause damage, this might be because we're not
between agents in the Level 3 evaluation. This means that
close enough yet. Tank 5 is located at (384, 0), the closest enemy
while the team relationships between agents remained un- advanced tank to our base, posing a serious threat.
changed,noagentcouldcooperatewithanyother.Theabla-
tionresultsareshowninTable5. Attack plan: I'm currently at (64, 32), facing right. To approach tank 5,
I need to continue moving right. After moving, if within range, I'll
Comparing Tables 4 and Table 5, we observe that af-
shoot immediately.
ter removing the collaboration interface, only the scores
of claude3.5-sonnet and gpt-4o-mini decrease, while the Cooperation plan: Since both my teammate 0 and I are advanced
tanks, we can continue to cooperate. Although our previous
scores of other models increase. This indicates that only
cooperation was aimed at tank 1, considering tank 5's greater threat,
claude3.5-sonnetandgpt-4o-mini’scooperationiseffective, we should adjust our cooperation target.
allowingthemtoachievehigherscoresthroughcooperation.
Conversely, collaboration among other models lowers their #Attack operation:
Target 5: #Move_right#
scores,indicatingthatcooperationbetweenthesemodelsis
ineffectiveorevenharmful.Althoughclaude3.5-sonnetand #Cooperation operation:
gpt-4o-mini improve their scores through cooperation, we #Request_coop# 0: Please adjust cooperation target, assist in attacking
enemy tank 5 located at (384, 0), it poses the greatest threat to our base.
also notice that the improvement from cooperation is rela-
tivelysmall.Throughanalysisofthemodels’battlerecords,
weobservethatthemodelscurrentlyexhibitsomebasicco- Figure6:Cooperationexampleofclaude3.5-sonnettofinish
operativestrategies.Wewillillustratethisfindingthrougha decision-makingprocessinStage7.
casestudyinthefollowingsection.
ingly complex, it maintains a stable spatial awareness abil-
4.4 CaseStudyofLevel3-Stage7
ity and can move in the correct direction, which is effec-
In the evaluation of the range from Stage 1 to Stage 7, tively reflected by the M Acc metric. Through analyzing
claude3.5-sonnetshowssignificantadvantagescomparedto the game confrontation records, we found that claude3.5-
other models. As the game environment becomes increas- sonnetalsodemonstratedsomecollaborativeabilities.Let’sillustrate this with an example in Figure 6. This example focus remains on two-agent interaction with unevenly dis-
is claude3.5-sonnet’s decision-making process in a certain tributedresponsibilities.
round of Stage 7. In terms of attack operations, claude3.5-
sonnet first analyzed the current game situation to identify 6 Conclusion
the biggest threat and moved towards it to prepare for sub- ThisworkintroducestheBattleAgentBench,abench-
sequent attacks. In terms of collaborative operations, given markforLLM-basedmulti-agentcollaborationandcompe-
the enormous threat posed by this attack target, claude3.5- tition evaluation, which defines seven sub-stages of three
sonnettimelyinitiatedacollaborationrequesttoteammates varying difficulty levels and conducts a fine-grained eval-
toprioritizeeliminatingthisenemy. uationoflanguagemodelsintermsofsingle-agentscenario
navigationcapabilities,paired-agenttaskexecutionabilities,
5 RelatedWorks and multi-agent collaboration and competition capabilities.
We perform a thorough evaluation of 11 LLMs. Although
Multi-Agent Cooperation and Competition. LLM-based API-based models have demonstrated some collaborative
multi-agent focuses on various agent profiles and interac- capabilities,thereisstillenormousroomforimprovement.
tions among agents (Wu et al. 2023; Guo et al. 2024; Li
et al. 2023b). For instance, CoELA (Zhang et al. 2024c) References
investigatedcommunicationandcooperationinLLM-based
Achiam, J.; Adler, S.; Agarwal, S.; Ahmad, L.; Akkaya, I.;
watch-and-helptasks,whileMindAgent(Gongetal.2023)
Aleman, F. L.; Almeida, D.; Altenschmidt, J.; Altman, S.;
assessedtheefficiencyofcollaborationbetweentwoormore
Anadkat, S.; et al. 2023. Gpt-4 technical report. arXiv
agents.Theseeffortsprimarilyfocusonmultipleagentscol-
preprintarXiv:2303.08774.
laboratingeffectivelytoachievecommongoals(Panaitand
Agashe, S.; Fan, Y.; and Wang, X. E. 2023. Evaluating
Luke2005;Liuetal.2023a).Incontrast,someeffortsfocus
multi-agentcoordinationabilitiesinlargelanguagemodels.
onthecompetitivescenariobetweenagents(Huetal.2024),
arXivpreprintarXiv:2310.03903.
like AgentPro (Zhang et al. 2024d) and ChessGPT (Feng
Akata,E.;Schulz,L.;Coda-Forno,J.;Oh,S.J.;Bethge,M.;
etal.2024)toevaluatethestrategyreasoningandinstruction
andSchulz,E.2023. Playingrepeatedgameswithlargelan-
following the ability of LLM-based agents in competitive
guagemodels. arXivpreprintarXiv:2305.16867.
settings. Suspicion-Agent (Guo et al. 2023) utilizes behav-
ioralgamestheory(Akataetal.2023)toevaluatetheagent Akoury, N.; Yang, Q.; and Iyyer, M. 2023. A framework
capabilitiesofLLMinalargesetoftwo-player-twostrate- for exploring player perceptions of llm-generated dialogue
gies games. However, most of these benchmarks evaluate incommercialvideogames. InFindingsoftheAssociation
onlyafewagents(Huetal.2024).Instead,ourbenchmark forComputationalLinguistics:EMNLP2023,2295–2311.
emphasizes the evaluation of multi-agent coordination and BAAI, P. 2023. Plan4mc: Skill reinforcement learning and
competition. planning for open-world minecraft tasks. arXiv preprint
BenchmarksusingGames.Aseriesofworksinvestigated arXiv:2303.16563.
LLM-based game agents (Hu et al. 2024; Taesiri et al. Bi, K.; Xie, L.; Zhang, H.; Chen, X.; Gu, X.; and Tian, Q.
2024;Akoury,Yang,andIyyer2023;Huaetal.2023).Sev- 2023. Accurate medium-range global weather forecasting
eral benchmarks center on the game Avalone e.g., Aval- with3Dneuralnetworks. Nature,619:1–6.
oneBench(Lightetal.2023),CodeAct(Shietal.2023),and Carroll, M.; Shah, R.; Ho, M. K.; Griffiths, T.; Seshia, S.;
Recon(Wangetal.2023a).OtherbenchmarkslikeCoS(Ma Abbeel, P.; and Dragan, A. 2019. On the utility of learn-
et al. 2023) and SwarmBrain (Shao et al. 2024), which ex- ing about humans for human-ai coordination. Advances in
cel in the strategy game StarCraft II (Vinyals et al. 2017). neuralinformationprocessingsystems,32.
While MindAgent (Gong et al. 2023), ProAgent (Zhang
Chen, J.; Jiang, Y.; Lu, J.; and Zhang, L. 2024. S-Agents:
etal.2024d),andS-Agents(Chenetal.2024),amongoth-
self-organizing agents in open-ended environment. arXiv
ers,focusonOvercooked(Carrolletal.2019;Agashe,Fan,
preprintarXiv:2402.04578.
and Wang 2023) and Minecraft (BAAI 2023; Feng et al.
de Wynter, A. 2024. Will GPT-4 Run DOOM? arXiv
2023) in the context of agent collaboration (Wang et al.
preprintarXiv:2403.05468.
2023b; Zhang et al. 2023; Li et al. 2023c). Moreover, in
Feng,X.;Luo,Y.;Wang,Z.;Tang,H.;Yang,M.;Shao,K.;
Minecraft, many efforts ask LLM to generate goals that
Mguni,D.;Du,Y.;andWang,J.2024. Chessgpt:Bridging
adapttotheagent’scurrentstate,inventory,acquiredskills,
policylearningandlanguagemodeling. AdvancesinNeural
and environment (Li et al. 2023a). More benchmarks us-
InformationProcessingSystems,36.
ing games include Cradle (Tan et al. 2024), Thinker (Wu
etal.2024b),Poke´LLMon(Hu,Huang,andLiu2024),Pok- Feng, Y.; Wang, Y.; Liu, J.; Zheng, S.; and Lu, Z. 2023.
erGPT (Huang et al. 2024), CreativeAgent (Zhang et al. Llamarider:Spurringlargelanguagemodelstoexplorethe
2023), PlayDoom (de Wynter 2024), etc. LLMGA (Hu openworld. arXivpreprintarXiv:2310.08922.
et al. 2024) further overviews the benchmarks into six- GLM, T.; Zeng, A.; Xu, B.; Wang, B.; Zhang, C.;
game genres covering adventure, communication, coopera- Yin, D.; Rojas, D.; Feng, G.; Zhao, H.; Lai, H.; et al.
tion,competition,simulation,exploration,andothers.How- 2024. ChatGLM: A Family of Large Language Models
ever,scarceworkinvestigatedmulti-agentcoordinationand from GLM-130B to GLM-4 All Tools. arXiv preprint
competitive scenarios. Even within this narrow field, their arXiv:2406.12793.Gong,R.;Huang,Q.;Ma,X.;Vo,H.;Durante,Z.;Noda,Y.; Liu, J.; Yu, C.; Gao, J.; Xie, Y.; Liao, Q.; Wu, Y.; and
Zheng, Z.; Zhu, S.-C.; Terzopoulos, D.; Fei-Fei, L.; et al. Wang, Y. 2023a. Llm-powered hierarchical language
2023. Mindagent: Emergent gaming interaction. arXiv agent for real-time human-ai coordination. arXiv preprint
preprintarXiv:2309.09971. arXiv:2312.15224.
Guo,J.;Yang,B.;Yoo,P.;Lin,B.Y.;Iwasawa,Y.;andMat- Liu, X.; Yu, H.; Zhang, H.; Xu, Y.; Lei, X.; Lai, H.; Gu,
suo, Y. 2023. Suspicion-agent: Playing imperfect informa- Y.;Ding,H.;Men,K.;Yang,K.;etal.2023b. Agentbench:
tiongameswiththeoryofmindawaregpt-4. arXivpreprint Evaluatingllmsasagents.arXivpreprintarXiv:2308.03688.
arXiv:2309.17277. Ma, W.; Mi, Q.; Yan, X.; Wu, Y.; Lin, R.; Zhang, H.; and
Guo, T.; Chen, X.; Wang, Y.; Chang, R.; Pei, S.; Chawla, Wang, J. 2023. Large language models play starcraft ii:
N.V.;Wiest,O.;andZhang,X.2024.Largelanguagemodel Benchmarksandachainofsummarizationapproach. arXiv
based multi-agents: A survey of progress and challenges. preprintarXiv:2312.11865.
arXivpreprintarXiv:2402.01680. Panait, L.; and Luke, S. 2005. Cooperative multi-agent
Gur,I.;Furuta,H.;Huang,A.;Safdari,M.;Matsuo,Y.;Eck, learning:Thestateoftheart. Autonomousagentsandmulti-
D.; and Faust, A. 2023. A real-world webagent with plan-
agentsystems,11:387–434.
ning, long context understanding, and program synthesis. Shao,X.;Jiang,W.;Zuo,F.;andLiu,M.2024.SwarmBrain:
arXivpreprintarXiv:2307.12856. Embodiedagentforreal-timestrategygameStarCraftIIvia
largelanguagemodels. arXivpreprintarXiv:2401.17749.
Hu,S.;Huang,T.;Ilhan,F.;Tekin,S.;Liu,G.;Kompella,R.;
andLiu,L.2024. Asurveyonlargelanguagemodel-based Shi, Z.; Fang, M.; Zheng, S.; Deng, S.; Chen, L.; and Du,
gameagents. arXivpreprintarXiv:2404.02039. Y.2023. Cooperationonthefly:Exploringlanguageagents
for ad hoc teamwork in the avalon game. arXiv preprint
Hu, S.; Huang, T.; and Liu, L. 2024. Pok\’eLLMon:
arXiv:2312.17515.
A Human-Parity Agent for Pok\’emon Battles with Large
LanguageModels. arXivpreprintarXiv:2402.01118. Singhal,K.;Azizi,S.;Tu,T.;Mahdavi,S.S.;Wei,J.;Chung,
H. W.; Scales, N.; Tanwani, A.; Cole-Lewis, H.; Pfohl, S.;
Hua,W.;Fan,L.;Li,L.;Mei,K.;Ji,J.;Ge,Y.;Hemphill,L.;
etal.2023. Largelanguagemodelsencodeclinicalknowl-
andZhang,Y.2023. Warandpeace(waragent):Largelan-
edge. Nature,620(7972):172–180.
guage model-based multi-agent simulation of world wars.
arXivpreprintarXiv:2311.17227. Taesiri, M. R.; Feng, T.; Bezemer, C.-P.; and Nguyen, A.
2024. GlitchBench: Can large multimodal models detect
Huang,C.;Cao,Y.;Wen,Y.;Zhou,T.;andZhang,Y.2024.
video game glitches? In Proceedings of the IEEE/CVF
PokerGPT: An End-to-End Lightweight Solver for Multi-
Conference on Computer Vision and Pattern Recognition,
Player Texas Hold’em via Large Language Model. arXiv
22444–22455.
preprintarXiv:2401.06781.
Tan,W.;Ding,Z.;Zhang,W.;Li,B.;Zhou,B.;Yue,J.;Xia,
Jiang, A. Q.; Sablayrolles, A.; Mensch, A.; Bamford, C.;
H.;Jiang,J.;Zheng,L.;Xu,X.;etal.2024.Towardsgeneral
Chaplot, D. S.; Casas, D. d. l.; Bressand, F.; Lengyel, G.;
computercontrol:Amultimodalagentforreddeadredemp-
Lample, G.; Saulnier, L.; et al. 2023. Mistral 7B. arXiv
tioniiasacasestudy. arXivpreprintarXiv:2403.03186.
preprintarXiv:2310.06825.
Team, G.; Mesnard, T.; Hardin, C.; Dadashi, R.; Bhupati-
Jumper, J.; Evans, R.; Pritzel, A.; Green, T.; Figurnov, M.; raju,S.;Pathak,S.;Sifre,L.;Rivie`re,M.;Kale,M.S.;Love,
Ronneberger, O.; Tunyasuvunakool, K.; Bates, R.; Zˇ´ıdek, J.; et al. 2024. Gemma: Open models based on gemini re-
A.;Potapenko,A.;etal.2021.Highlyaccurateproteinstruc- searchandtechnology. arXivpreprintarXiv:2403.08295.
ture prediction with AlphaFold. nature, 596(7873): 583–
Team, I. 2023. Internlm: A multilingual language model
589.
withprogressivelyenhancedcapabilities.
Li, C.; Zhang, R.; Wong, J.; Gokmen, C.; Srivastava, S.; Vinyals, O.; Ewalds, T.; Bartunov, S.; Georgiev, P.; Vezhn-
Mart´ın-Mart´ın, R.; Wang, C.; Levine, G.; Lingelbach, M.; evets,A.S.;Yeo,M.;Makhzani,A.;Ku¨ttler,H.;Agapiou,J.;
Sun,J.;etal.2023a. Behavior-1k:Abenchmarkforembod- Schrittwieser,J.;etal.2017.Starcraftii:Anewchallengefor
iedaiwith1,000everydayactivitiesandrealisticsimulation. reinforcementlearning. arXivpreprintarXiv:1708.04782.
InConferenceonRobotLearning,80–93.PMLR.
Wang, S.; Liu, C.; Zheng, Z.; Qi, S.; Chen, S.; Yang,
Li, H.; Chong, Y. Q.; Stepputtis, S.; Campbell, J.; Hughes, Q.; Zhao, A.; Wang, C.; Song, S.; and Huang, G. 2023a.
D.; Lewis, M.; and Sycara, K. 2023b. Theory of mind for Avalon’sgameofthoughts:Battleagainstdeceptionthrough
multi-agentcollaborationvialargelanguagemodels. arXiv recursivecontemplation. arXivpreprintarXiv:2310.01320.
preprintarXiv:2310.10701.
Wang,Z.;Cai,S.;Chen,G.;Liu,A.;Ma,X.;andLiang,Y.
Li, Y.; Zhang, S.; Sun, J.; Du, Y.; Wen, Y.; Wang, X.; and 2023b. Describe,explain,planandselect:Interactiveplan-
Pan,W.2023c.Cooperativeopen-endedlearningframework ningwithlargelanguagemodelsenablesopen-worldmulti-
for zero-shot coordination. In International Conference on taskagents. arXivpreprintarXiv:2302.01560.
MachineLearning,20470–20484.PMLR.
Wu, Q.; Bansal, G.; Zhang, J.; Wu, Y.; Zhang, S.; Zhu, E.;
Light,J.;Cai,M.;Shen,S.;andHu,Z.2023. Avalonbench: Li,B.;Jiang,L.;Zhang,X.;andWang,C.2023. Autogen:
Evaluating llms playing the game of avalon. In NeurIPS Enabling next-gen llm applications via multi-agent conver-
2023FoundationModelsforDecisionMakingWorkshop. sationframework. arXivpreprintarXiv:2308.08155.Wu,S.;Zhao,S.;Huang,Q.;Huang,K.;Yasunaga,M.;Cao,
K.;Ioannidis,V.N.;Subbian,K.;Leskovec,J.;andZou,J.
2024a. AvaTaR:OptimizingLLMAgentsforTool-Assisted
KnowledgeRetrieval. arXivpreprintarXiv:2406.11200.
Wu, S.; Zhu, L.; Yang, T.; Xu, S.; Fu, Q.; Wei, Y.; and Fu,
H.2024b. Enhancereasoningforlargelanguagemodelsin
thegamewerewolf. arXivpreprintarXiv:2402.02330.
Yang,A.;Yang,B.;Hui,B.;Zheng,B.;Yu,B.;Zhou,C.;Li,
C.;Li,C.;Liu,D.;Huang,F.;etal.2024. Qwen2technical
report. arXivpreprintarXiv:2407.10671.
Young,A.;Chen,B.;Li,C.;Huang,C.;Zhang,G.;Zhang,
G.; Li, H.; Zhu, J.; Chen, J.; Chang, J.; et al. 2024.
Yi: Open foundation models by 01. ai. arXiv preprint
arXiv:2403.04652.
Zhang,C.;Cai,P.;Fu,Y.;Yuan,H.;andLu,Z.2023. Cre-
ative agents: Empowering agents with imagination for cre-
ativetasks. arXivpreprintarXiv:2312.02519.
Zhang,D.;Hu,Z.;Zhoubian,S.;Du,Z.;Yang,K.;Wang,Z.;
Yue,Y.;Dong,Y.;andTang,J.2024a. Sciglm:Trainingsci-
entific language models with self-reflective instruction an-
notationandtuning. arXivpreprintarXiv:2401.07950.
Zhang, D.; Zhoubian, S.; Yue, Y.; Dong, Y.; and Tang, J.
2024b. ReST-MCTS*:LLMSelf-TrainingviaProcessRe-
wardGuidedTreeSearch.arXivpreprintarXiv:2406.03816.
Zhang,H.;Du,W.;Shan,J.;Zhou,Q.;Du,Y.;Tenenbaum,
J.B.;Shu,T.;andGan,C.2024c. Buildingcooperativeem-
bodiedagentsmodularlywithlargelanguagemodels.ICLR.
Zhang,W.;Tang,K.;Wu,H.;Wang,M.;Shen,Y.;Hou,G.;
Tan, Z.; Li, P.; Zhuang, Y.; and Lu, W. 2024d. Agent-pro:
Learningtoevolveviapolicy-levelreflectionandoptimiza-
tion. arXivpreprintarXiv:2402.17574.7 Appendix
7.1 EvaluationSetup
Wedesign7stagesfromeasytodifficultforBattleAgentBench.Table6showsthedetailedsettingsforeachstage.The
settingofthenumberofturnstakesintoaccountthecostfactorofcallingLLM.Increasingthenumberofturnsmayimprove
thescoresofallmodels.However,thecostofcallingtheAPIwillalsoincreaseaccordingly.Therefore,wehavesetarelatively
reasonableturnnumberfortheunifiedevaluationofallmodels.
When evaluating each stage, we run multiple times and calculate the average score of the model to assess each model
more accurately. For each run, we generate a random map by randomly sampling the agent’s position within a small range.
Specifically,forAPI-basedmodels,weruneachstage3times;foropen-sourcemodels,weruneachstage5times.
Stage Turns Agents Teams NPC Goal
1 60 1 1 0 Navigation
2 60 1 1 10 Navigation
3 80 2 1 10 CooperativeTask
4 80 2 2 10 CompetitiveTask
5 80 4 2 10 StaticCooperationCompetition
6 80 4 4 10 DynamicCooperationCompetition
7 80 6 3 10 HybridCooperationCompetition
Table6:StageSettings
7.2 PromptTemplate
Weusepredefinedprompttemplatestoconvertgameobservationdataintotextprompts,inordertofacilitatecallingLLMto
provide decision results. Figures 1-7 are the prompt templates for each stage. Figure 8-14 shows the Chinese versions of the
templates for each stage. Each template consists of 5 parts: game state data, goals, game instructions, operation options, and
outputformat.Themaindifferenceisthatthegoalsvaryfordifferentstages.Figure1:PromptTemplateofLevel1-Stage1
1 <game>
2 Current round number:
3 %d
4
5 Our tank position information (ID, horizontal position, vertical position, direction,
health):
6 %s
7
8 Base position information (ID, horizontal position, vertical position):
9 %s
10
11 Map information in front of the tank:
12 %s
13
14 Previous round operation information:
15 %s
16 </game>
17
18 You are an assistant for a tank battle game, helping users control tanks to achieve
victory.
19 Your ultimate goal is to reach the base on the map in the shortest time possible.
20
21 #Game instructions:
22 - The game map size is 512x512, (0,0) represents the top-left corner, (512,512)
represents the bottom-right corner.
23 - In coordinates (x,y), x represents the horizontal position, y represents the vertical
position. Moving left decreases x, moving right increases x, moving up decreases y,
moving down increases y.
24 - The map contains tanks and walls. Tanks are 32x32 in size, walls are 8x8.
25 - Tanks can move in four directions: up, down, left, and right. Walls and tanks will
block tank movement.
26 - The vertical movement range for tanks is 0-512, the horizontal movement range is
0-512.
27 - Tanks have 4 directions: up, down, left, and right. Shooting can destroy tanks or
walls in front of the current direction.
28 - When a tank faces the map boundary, it cannot move forward.
29 - When there's a wall in front of a tank, it needs to shoot to remove the wall before
moving forward.
30
31 The current game state is given above. Please provide the next action for the tank
based on the game state.
32 You can execute the following defined operations to control the tank.
33
34 #Operation options:
35 - #Move_up#: Move upward
36 - #Move_down#: Move downward
37 - #Move_left#: Move left
38 - #Move_right#: Move right
39 - #Shoot#: Shoot
40
41 #Note
42 - You can only output one control operation each time.
43
44 Your output should follow this format:
45 #Thought process:
46 - Movement plan: {Based on your position, base position, formulate a movement and
shooting plan, and decide the next operation}
47 #Operation: {Specific operation command}Figure2:PromptTemplateofLevel1-Stage2
1 <game>
2 Current round number:
3 %d
4
5 Our tank position information (ID, horizontal position, vertical position, direction,
health):
6 %s
7
8 Base position information (ID, horizontal position, vertical position):
9 %s
10
11 Enemy tank position information (ID, horizontal position, vertical position, direction,
health):
12 %s
13
14 Map information in front of the tank:
15 %s
16
17 Previous round operation information:
18 %s
19 </game>
20
21 You are an assistant for a tank battle game, helping users control tanks to achieve
victory.
22 Your ultimate goal is to reach the base on the map in the shortest time possible.
During movement, you can eliminate enemy tanks that threaten your safety.
23
24 #Game instructions:
25 - The game map size is 512x512, (0,0) represents the top-left corner, (512,512)
represents the bottom-right corner.
26 - In coordinates (x,y), x represents the horizontal position, y represents the vertical
position. Moving left decreases x, moving right increases x, moving up decreases y,
moving down increases y.
27 - The map contains tanks and walls. Tanks are 32x32 in size, walls are 8x8.
28 - Tanks can move in four directions: up, down, left, and right. Walls and tanks will
block tank movement.
29 - The vertical movement range for tanks is 0-512, the horizontal movement range is
0-512.
30 - Tanks have 4 directions: up, down, left, and right. Shooting can destroy tanks or
walls in front of the current direction.
31 - When a tank faces the map boundary, it cannot move forward.
32 - When there's a wall in front of a tank, it needs to shoot to remove the wall before
moving forward.
33
34 The current game state is given above. Please provide the next action for the tank
based on the game state.
35 You can execute the following defined operations to control the tank.
36
37 #Operation options:
38 - #Move_up#: Move upward
39 - #Move_down#: Move downward
40 - #Move_left#: Move left
41 - #Move_right#: Move right
42 - #Shoot#: Shoot
43
44 #Note
45 - You can only output one control operation each time.
46
47 Your output should follow this format:
48 #Thought process:
49 - Movement plan: {Based on your position, base position, and enemy tank positions,
formulate a movement and shooting plan, and decide the next operation}
50 #Operation: {Specific operation command}Figure3:PromptTemplateofLevel2-Stage3
1 <game>
2 Current round number:
3 %d
4
5 Own tank position information (ID, horizontal position, vertical position, direction,
health):
6 %s
7
8 Teammate tank position information (ID, horizontal position, vertical position,
direction, health):
9 %s
10
11 Our base position information (ID, horizontal position, vertical position):
12 %s
13
14 Enemy base position information (ID, horizontal position, vertical position):
15 %s
16
17 Enemy tank position information (ID, horizontal position, vertical position, direction,
health):
18 %s
19
20 Our tanks' attack target information from the last round (our ID, enemy ID):
21 %s
22
23 Historical cooperation attack information:
24 %s
25
26 Map information around the tank:
27 %s
28 </game>
29
30 You are an assistant for a tank battle game, helping users control tanks to achieve
victory.
31 Your ultimate goal is to destroy the enemy base while protecting our base from being
destroyed by the enemy. Destroying enemy tanks also provides rewards. To achieve the
ultimate goal, you can cooperate with your teammate.
32
33 #Game instructions:
34 - The game map size is 512x512, (0,0) represents the top-left corner, (512,512)
represents the bottom-right corner.
35 - In coordinates (x,y), x represents the horizontal position, y represents the vertical
position. Moving left decreases x, moving right increases x, moving up decreases y,
moving down increases y.
36 - The map contains tanks and walls. Tanks are 32x32 in size, walls are 8x8.
37 - Tanks can move in four directions: up, down, left, and right. Walls and tanks will
block tank movement.
38 - The vertical movement range for tanks is 0-512, the horizontal movement range is
0-512.
39 - Tanks have 4 orientations: up, down, left, and right. Shooting can destroy tanks or
walls in front of the current direction.
40 - When a tank faces the map boundary, it cannot move forward.
41 - When there's a wall in front of a tank, it needs to shoot to remove the wall before
moving forward.
42
43 The current game state is given above. Please provide the next action for the tank
based on the game state.
44 You can execute the following defined operations to control the tank. You can also
choose cooperation options to decide whether to cooperate with teammates.
45
46 #Operation options:
47 - #Move_up#: Move upward48 - #Move_down#: Move downward
49 - #Move_left#: Move left
50 - #Move_right#: Move right
51 - #Shoot#: Shoot
52
53 #Cooperation options:
54 - #Request_coop# {Teammate tank ID x}: {Message content}: Send a cooperation message to
the tank with ID x
55 - #Keep_coop#: Maintain cooperation
56 - #Stop_coop#: Terminate cooperation
57 - #No_coop#: No cooperation needed
58
59 #Note
60 - When blocked by an enemy tank, shoot immediately to eliminate the enemy.
61 - For attack effectiveness, don't frequently change attack targets without new
emergencies, as this will cause many ineffective movements.
62 - You can only output one control operation and one cooperation operation each time.
63
64 #Last round operation:
65 - Operation: %s
66 - Operation feedback: %s
67
68 Your output should follow this format:
69 #Thought process:
70 - Attack target: {Reason for choosing an attack target, can continue attacking the
current target, or choose a new target based on the game state}
71 - Attack plan: {Based on your position and the attack target's position, make a
movement and shooting plan, and decide the next operation}
72 - Cooperation plan: {Based on your position, teammate's position, and attack target's
position, decide on a cooperation plan. You can maintain the previous cooperation
plan, initiate a new cooperation request, or terminate the previous cooperation plan
}
73 #Attack operation: Target {Enemy tank ID}: {Specific operation command}
74 #Cooperation operation: {Specific cooperation command}
Figure4:PromptTemplateofLevel2-Stage4
1 <game>
2 Current round number:
3 %d
4
5 Our tank position information (ID, horizontal position, vertical position, direction,
health):
6 %s
7
8 Our base position information (ID, horizontal position, vertical position):
9 %s
10
11 Enemy base position information (ID, horizontal position, vertical position):
12 %s
13
14 Enemy tank position information (ID, horizontal position, vertical position, direction,
health):
15 %s
16
17 Map information around the tank:
18 %s
19 </game>
20
21 You are an assistant for a tank battle game, helping users control tanks to achieve
victory.
22 Your ultimate goal is to destroy the enemy base while protecting our base from being
destroyed by the enemy. Destroying enemy tanks also provides rewards.23
24 #Game instructions:
25 - The game map size is 512x512, (0,0) represents the top-left corner, (512,512)
represents the bottom-right corner.
26 - In coordinates (x,y), x represents the horizontal position, y represents the vertical
position. Moving left decreases x, moving right increases x, moving up decreases y,
moving down increases y.
27 - The map contains tanks and walls. Tanks are 32x32 in size, walls are 8x8.
28 - Tanks can move in four directions: up, down, left, and right. Walls and tanks will
block tank movement.
29 - The vertical movement range for tanks is 0-512, the horizontal movement range is
0-512.
30 - Tanks have 4 orientations: up, down, left, and right. Shooting can destroy tanks or
walls in front of the current direction.
31 - When a tank faces the map boundary, it cannot move forward.
32 - When there's a wall in front of a tank, it needs to shoot to remove the wall before
moving forward.
33
34 The current game state is given above. Please provide the next action for the tank
based on the game state.
35 You can execute the following defined operations to control the tank.
36
37 #Operation options:
38 - #Move_up#: Move upward
39 - #Move_down#: Move downward
40 - #Move_left#: Move left
41 - #Move_right#: Move right
42 - #Shoot#: Shoot
43
44 #Note
45 - When blocked by an enemy tank, shoot immediately to eliminate the enemy.
46 - For attack effectiveness, don't frequently change attack targets without new
emergencies, as this will cause many ineffective movements.
47 - You can only output one control operation each time.
48
49 #Last round operation:
50 - Operation: %s
51 - Operation feedback: %s
52
53 Your output should follow this format:
54 #Thought process:
55 - Attack target: {Reason for choosing an attack target, can continue attacking the
current target, or choose a new target based on the game state}
56 - Attack plan: {Based on your position and the attack target's position, make a
movement and shooting plan, and decide the next operation}
57 #Operation: Target {Enemy tank ID}: {Specific operation command}
Figure5:PromptTemplateofLevel3-Stage5
1 <game>
2 Current round number:
3 %d
4
5 Own tank position information (ID, horizontal position, vertical position, direction,
health):
6 %s
7
8 Teammate tank position information (ID, horizontal position, vertical position,
direction, health):
9 %s
10
11 Our base position information (ID, horizontal position, vertical position):
12 %s13
14 Enemy base position information (ID, horizontal position, vertical position):
15 %s
16
17 Enemy tank position information (ID, horizontal position, vertical position, direction,
health):
18 %s
19
20 Our tanks' attack target information from the last round (our ID, enemy ID):
21 %s
22
23 Historical cooperation attack information:
24 %s
25
26 Map information around the tank:
27 %s
28 </game>
29
30 You are an assistant for a tank battle game, helping users control tanks to achieve
victory.
31 Your ultimate goal is to destroy the enemy base while protecting our base from being
destroyed by the enemy. Destroying enemy tanks also provides rewards. To achieve the
ultimate goal, you can cooperate with your teammate.
32
33 #Game instructions:
34 - The game map size is 512x512, (0,0) represents the top-left corner, (512,512)
represents the bottom-right corner.
35 - In coordinates (x,y), x represents the horizontal position, y represents the vertical
position. Moving left decreases x, moving right increases x, moving up decreases y,
moving down increases y.
36 - The map contains tanks and walls. Tanks are 32x32 in size, walls are 8x8.
37 - Tanks can move in four directions: up, down, left, and right. Walls and tanks will
block tank movement.
38 - The vertical movement range for tanks is 0-512, the horizontal movement range is
0-512.
39 - Tanks have 4 orientations: up, down, left, and right. Shooting can destroy tanks or
walls in front of the current direction.
40 - When a tank faces the map boundary, it cannot move forward.
41 - When there's a wall in front of a tank, it needs to shoot to remove the wall before
moving forward.
42
43 The current game state is given above. Please provide the next action for the tank
based on the game state.
44 You can execute the following defined operations to control the tank. You can also
choose cooperation options to decide whether to cooperate with teammates.
45
46 #Operation options:
47 - #Move_up#: Move upward
48 - #Move_down#: Move downward
49 - #Move_left#: Move left
50 - #Move_right#: Move right
51 - #Shoot#: Shoot
52
53 #Cooperation options:
54 - #Request_coop# {Teammate tank ID x}: {Message content}: Send a cooperation message to
the tank with ID x
55 - #Keep_coop#: Maintain cooperation
56 - #Stop_coop#: Terminate cooperation
57 - #No_coop#: No cooperation needed
58
59 #Note
60 - When blocked by an enemy tank, shoot immediately to eliminate the enemy.61 - For attack effectiveness, don't frequently change attack targets without new
emergencies, as this will cause many ineffective movements.
62 - You can only output one control operation and one cooperation operation each time.
63
64 #Last round operation:
65 - Operation: %s
66 - Operation feedback: %s
67
68 Your output should follow this format:
69 #Thought process:
70 - Attack target: {Reason for choosing an attack target, can continue attacking the
current target, or choose a new target based on the game state}
71 - Attack plan: {Based on your position and the attack target's position, make a
movement and shooting plan, and decide the next operation}
72 - Cooperation plan: {Based on your position, teammate's position, and attack target's
position, decide on a cooperation plan. You can maintain the previous cooperation
plan, initiate a new cooperation request, or terminate the previous cooperation plan
}
73 #Attack operation: Target {Enemy tank ID}: {Specific operation command}
74 #Cooperation operation: {Specific cooperation command}
Figure6:PromptTemplateofLevel3-Stage6
1 <game>
2 Current round number:
3 %d
4
5 Our tank position information (ID, horizontal position, vertical position, direction,
health, type):
6 %s
7
8 Our base position information (ID, horizontal position, vertical position):
9 %s
10
11 Enemy base position information (ID, horizontal position, vertical position):
12 %s
13
14 Enemy tank position information (ID, horizontal position, vertical position, direction,
health, type):
15 %s
16
17 Our tanks' attack target information from the last round (our ID, enemy ID):
18 %s
19
20 Historical cooperation attack information:
21 %s
22
23 Map information around the tank:
24 %s
25 </game>
26
27 You are an assistant for a tank battle game, helping users control tanks to achieve
victory.
28 Your ultimate goal is to destroy the enemy base while protecting our base from being
destroyed by the enemy. Destroying enemy tanks also provides rewards. To achieve the
ultimate goal, you can cooperate with an enemy to eliminate other enemies.
29
30 #Game instructions:
31 - The game map size is 512x512, (0,0) represents the top-left corner, (512,512)
represents the bottom-right corner.
32 - In coordinates (x,y), x represents the horizontal position, y represents the vertical
position. Moving left decreases x, moving right increases x, moving up decreases y,
moving down increases y.33 - The map contains tanks and walls. Tanks are 32x32 in size, walls are 8x8.
34 - Tanks can move in four directions: up, down, left, and right. Walls and tanks will
block tank movement.
35 - The vertical movement range for tanks is 0-512, the horizontal movement range is
0-512.
36 - Tanks have 4 orientations: up, down, left, and right. Shooting can destroy tanks or
walls in front of the current direction.
37 - When a tank faces the map boundary, it cannot move forward.
38 - When there's a wall in front of a tank, it needs to shoot to remove the wall before
moving forward.
39 - Tanks have two types: normal and advanced. Only advanced tanks have cooperation
capabilities.
40
41 The current game state is given above. Please provide the next action for the tank
based on the game state.
42 You can execute the following defined operations to control the tank. You can also
choose cooperation options to decide whether to cooperate with teammates.
43
44 #Operation options:
45 - #Move_up#: Move upward
46 - #Move_down#: Move downward
47 - #Move_left#: Move left
48 - #Move_right#: Move right
49 - #Shoot#: Shoot
50
51 #Cooperation options:
52 - #Request_coop# {Tank ID x}: {Message content}: Send a cooperation message to the tank
with ID x
53 - #Keep_coop#: Maintain cooperation
54 - #Stop_coop#: Terminate cooperation
55 - #No_coop#: No cooperation needed
56
57 #Note
58 - When blocked by an enemy tank, shoot immediately to eliminate the enemy.
59 - For attack effectiveness, don't frequently change attack targets without new
emergencies, as this will cause many ineffective movements.
60 - You can only output one control operation and one cooperation operation each time.
61
62 #Last round operation:
63 - Operation: %s
64 - Operation feedback: %s
65
66 Your output should follow this format:
67 #Thought process:
68 - Attack target: {Reason for choosing an attack target, can continue attacking the
current target, or choose a new target based on the game state}
69 - Attack plan: {Based on your position and the attack target's position, make a
movement and shooting plan, and decide the next operation}
70 - Cooperation plan: {Based on your position and the attack target's position, decide on
a cooperation plan. You can maintain the previous round's cooperation plan,
initiate a new cooperation request, or terminate the previous round's cooperation
plan}
71 #Attack operation: Target {Enemy tank ID}: {Specific operation command}
72 #Cooperation operation: {Specific cooperation command}
Figure7:PromptTemplateofLevel3-Stage7
1 <game>
2 Current round number:
3 %d
4
5 Own tank position information (ID, horizontal position, vertical position, direction,
health, type):6 %s
7
8 Teammate tank position information (ID, horizontal position, vertical position,
direction, health, type):
9 %s
10
11 Our base position information (ID, horizontal position, vertical position):
12 %s
13
14 Enemy base position information (ID, horizontal position, vertical position):
15 %s
16
17 Enemy tank position information (ID, horizontal position, vertical position, direction,
health, type):
18 %s
19
20 Our tanks' attack target information from the last round (our ID, enemy ID):
21 %s
22
23 Historical cooperation attack information:
24 %s
25
26 Map information around the tank:
27 %s
28 </game>
29
30 You are an assistant for a tank battle game, helping users control tanks to achieve
victory.
31 Your ultimate goal is to destroy the enemy base while protecting our base from being
destroyed by the enemy. Destroying enemy tanks also provides rewards. To achieve the
ultimate goal, you can cooperate with your teammates, or temporarily cooperate with
an enemy to eliminate other enemies.
32
33 #Game instructions:
34 - The game map size is 512x512, (0,0) represents the top-left corner, (512,512)
represents the bottom-right corner.
35 - In coordinates (x,y), x represents the horizontal position, y represents the vertical
position. Moving left decreases x, moving right increases x, moving up decreases y,
moving down increases y.
36 - The map contains tanks and walls. Tanks are 32x32 in size, walls are 8x8.
37 - Tanks can move in four directions: up, down, left, and right. Walls and tanks will
block tank movement.
38 - The vertical movement range for tanks is 0-512, the horizontal movement range is
0-512.
39 - Tanks have 4 orientations: up, down, left, and right. Shooting can destroy tanks or
walls in front of the current direction.
40 - When a tank faces the map boundary, it cannot move forward.
41 - When there's a wall in front of a tank, it needs to shoot to remove the wall before
moving forward.
42 - Tanks have two types: normal and advanced. Only advanced tanks have cooperation
capabilities.
43
44 The current game state is given above. Please provide the next action for the tank
based on the game state.
45 You can execute the following defined operations to control the tank. You can also
choose cooperation options to decide whether to cooperate with teammates.
46
47 #Operation options:
48 - #Move_up#: Move upward
49 - #Move_down#: Move downward
50 - #Move_left#: Move left
51 - #Move_right#: Move right
52 - #Shoot#: Shoot53
54 #Cooperation options:
55 - #Request_coop# {Tank ID x}: {Message content}: Send a cooperation message to the tank
with ID x
56 - #Keep_coop#: Maintain cooperation
57 - #Stop_coop#: Terminate cooperation
58 - #No_coop#: No cooperation needed
59
60 #Note
61 - When blocked by an enemy tank, shoot immediately to eliminate the enemy.
62 - For attack effectiveness, don't frequently change attack targets without new
emergencies, as this will cause many ineffective movements.
63 - You can only output one control operation and one cooperation operation each time.
64
65 #Last round operation:
66 - Operation: %s
67 - Operation feedback: %s
68
69 Your output should follow this format:
70 #Thought process:
71 - Attack target: {Reason for choosing an attack target, can continue attacking the
current target, or choose a new target based on the game state}
72 - Attack plan: {Based on your position and the attack target's position, make a
movement and shooting plan, and decide the next operation}
73 - Cooperation plan: {Based on your position and the attack target's position, decide on
a cooperation plan. You can maintain the previous round's cooperation plan,
initiate a new cooperation request, or terminate the previous round's cooperation
plan}
74 #Attack operation: Target {Enemy tank ID}: {Specific operation command}
75 #Cooperation operation: {Specific cooperation command}
Figure8:PromptTemplateofLevel1-Stage1inChinese
1 <game>
2 当前会合数:
3 %d
4
5 我方坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
6 %s
7
8 基地位置信息（编号，水平位置，垂直位置）:
9 %s
10
11 坦克前方地图信息:
12 %s
13
14 上一会合操作信息:
15
16 </game>
17
18 你是一个坦克对战游戏的助手，可以帮助用户在游戏中控制坦克取得胜利。
19 你的最终目标是以最短时间到达地图中的基地。
20
21 #游戏说明：
22 - 游戏地图大小为512x512，(0，0)表示左上角，(512，512)表示右下角。23 - 坐标(x，y)中x表示水平位置，y表示垂直位置，向左移动x减小，向右移动x增大，向上移动y减小，向下移动y增
大。
(cid:44)→
24 - 地图中有坦克及wall，坦克大小为32x32，wall大小为8x8。
25 - 坦克可以向上、下、左、右四个方向移动，wall和坦克会阻挡坦克的移动。
26 - 坦克上下的移动范围为0-512，左右的移动范围0-512。
27 - 坦克有4个朝向，上、下、左、右，射击可以销毁当前方向前方的坦克或wall。
28 - 坦克前方为地图边界时，无法继续向前移动。
29 - 坦克前方有wall时，需要射击消除wall之后才能继续向前移动。
30
31 上面给出了当前游戏的状态，请根据游戏状态，给出坦克的下一步操作。
32 你可以执行以下定义的操作来控制坦克。
33
34 #操作选项:
35 - #Move_up#: 向上移动
36 - #Move_down#: 向下移动
37 - #Move_left#: 向左移动
38 - #Move_right#: 向右移动
39 - #Shoot#: 射击
40
41 #注意
42 - 你每次只能输出一个操作。
43
44 你的输出应该符合以下格式:
45 #思考过程:
46 - 移动计划: {根据自己的位置和基地位置，制订移动和射击计划，并决定下一步的操作}
47 #操作: {具体操作指令}
Figure9:PromptTemplateofLevel1-Stage2inChinese
1 <game>
2 当前会合数:
3 %d
4
5 我方坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
6 %s
7
8 基地位置信息（编号，水平位置，垂直位置）:
9 %s
10
11 敌方坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
12 %s
13
14 坦克前方地图信息:
15 %s
16
17 上一会合操作信息:
18 %s
19 </game>20
21 你是一个坦克对战游戏的助手，可以帮助用户在游戏中控制坦克取得胜利。
22 你的最终目标是以最短时间到达地图中的基地。移动过程中你可以消灭影响你安全的敌方坦克。
23
24 #游戏说明：
25 - 游戏地图大小为512x512，(0，0)表示左上角，（512，512）表示右下角。
26 - 坐标（x，y）中x表示水平位置，y表示垂直位置，向左移动x减小，向右移动x增大，向上移动y减小，向下移动y增
大。
(cid:44)→
27 - 地图中有坦克及wall，坦克大小为32x32，wall大小为8x8。
28 - 坦克可以向上、下、左、右四个方向移动，wall和坦克会阻挡坦克的移动。
29 - 坦克上下的移动范围为0-512，左右的移动范围0-512。
30 - 坦克有4个朝向，上、下、左、右，射击可以销毁当前方向前方的坦克或wall。
31 - 坦克前方为地图边界时，无法继续向前移动。
32 - 坦克前方有wall时，需要射击消除wall之后才能继续向前移动。
33
34 上面给出了当前游戏的状态，请根据游戏状态，给出坦克的下一步操作。
35 你可以执行以下定义的操作来控制坦克。
36
37 #操作选项:
38 - #Move_up#: 向上移动
39 - #Move_down#: 向下移动
40 - #Move_left#: 向左移动
41 - #Move_right#: 向右移动
42 - #Shoot#: 射击
43
44 #注意
45 - 你每次只能输出一个操作。
46
47 你的输出应该符合以下格式:
48 #思考过程:
49 - 移动计划: {根据自己的位置和基地位置，以及敌方坦克的位置，制订移动和射击计划，并决定下一步的操作}
50 #操作: {具体操作指令}
Figure10:PromptTemplateofLevel2-Stage3inChinese
1 <game>
2 当前回合数:
3 %d
4
5 自己坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
6 %s
7
8 队友坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
9 %s
10
11 我方基地位置信息（编号，水平位置，垂直位置）:
12 %s
1314 敌方基地位置信息（编号，水平位置，垂直位置）:
15 %s
16
17 敌方坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
18 %s
19
20 我方坦克上一回合攻击目标信息（我方编号，敌方编号）:
21 %s
22
23 历史协作攻击信息:
24 %s
25
26 坦克周围地图信息:
27 %s
28 </game>
29
30 你是一个坦克对战游戏的助手，可以帮助用户在游戏中控制坦克取得胜利。
31 你的最终目标是消灭敌方基地，并保护我方基地不被敌人消灭。消灭敌方坦克也有奖励。你可以与你的队友协作完成目
标。
(cid:44)→
32
33 #游戏说明：
34 - 游戏地图大小为512x512，(0，0)表示左上角，（512，512）表示右下角。
35 - 坐标（x，y）中x表示水平位置，y表示垂直位置，向左移动x减小，向右移动x增大，向上移动y减小，向下移动y增
大。
(cid:44)→
36 - 地图中有坦克及wall，坦克大小为32x32，wall大小为8x8。
37 - 坦克可以向上、下、左、右四个方向移动，wall和坦克会阻挡坦克的移动。
38 - 坦克上下的移动范围为0-512，左右的移动范围0-512。
39 - 坦克有4个朝向，上、下、左、右，射击可以销毁当前方向前方的坦克或wall。
40 - 坦克前方为地图边界时，无法继续向前移动。
41 - 坦克前方有wall时，需要射击消除wall之后才能继续向前移动。
42
43 上面给出了当前游戏的状态，请根据游戏状态，给出坦克的下一步操作。
44 你可以执行以下定义的操作来控制坦克。并可以选择协作选项决定是否与队友协作攻击。
45
46 #操作选项:
47 - #Move_up#: 向上移动
48 - #Move_down#: 向下移动
49 - #Move_left#: 向左移动
50 - #Move_right#: 向右移动
51 - #Shoot#: 射击
52
53 #协作选项:
54 - #Request_coop# {队友坦克编号x}: {消息内容}: 向编号为x的坦克发送协作消息
55 - #Keep_coop#: 保持协作
56 - #Stop_coop#: 终止协作
57 - #No_coop#: 无需协作
58
59 #注意
60 - 当阻挡自己的为敌方坦克时，立即射击消灭敌方。61 - 为了攻击的有效性，没有新的突发情况，不要频繁地更换攻击目标，这样会造成很多无效移动。
62 - 你每次只能输出一个控制操作和一个协作操作。
63
64 #上一回合操作:
65 - 操作: %s
66 - 操作反馈: %s
67
68 你的输出应该符合以下格式:
69 #思考过程:
70 - 攻击目标: {选择某个攻击目标的原因，可以继续攻击当前目标，或者根据游戏状态选择新的攻击目标}
71 - 攻击计划: {根据自己的位置和攻击目标的位置，制订移动和射击计划，并决定下一步的操作}
72 - 协作计划: {根据自己的位置、队友的位置和攻击目标的位置，决定协作计划，可以保持上一会合的协作计划，也可
(cid:44)→
发起新的协作请求，也可终止上一会合协作计划}
73 #攻击操作: Target {敌方坦克编号}: {具体操作指令}
74 #协作操作: {具体协作指令}
Figure11:PromptTemplateofLevel2-Stage4inChinese
1 <game>
2 当前回合数:
3 %d
4
5 我方坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
6 %s
7
8 我方基地位置信息（编号，水平位置，垂直位置）:
9 %s
10
11 敌方基地位置信息（编号，水平位置，垂直位置）:
12 %s
13
14 敌方坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
15 %s
16
17 坦克周围地图信息:
18 %s
19 </game>
20
21 你是一个坦克对战游戏的助手，可以帮助用户在游戏中控制坦克取得胜利。
22 你的最终目标是消灭敌方基地，并保护我方基地不被敌人消灭。消灭敌方坦克也有奖励。
23
24 #游戏说明：
25 - 游戏地图大小为512x512，(0，0)表示左上角，（512，512）表示右下角。
26 - 坐标（x，y）中x表示水平位置，y表示垂直位置，向左移动x减小，向右移动x增大，向上移动y减小，向下移动y增
大。
(cid:44)→
27 - 地图中有坦克及wall，坦克大小为32x32，wall大小为8x8。
28 - 坦克可以向上、下、左、右四个方向移动，wall和坦克会阻挡坦克的移动。
29 - 坦克上下的移动范围为0-512，左右的移动范围0-512。30 - 坦克有4个朝向，上、下、左、右，射击可以销毁当前方向前方的坦克或wall。
31 - 坦克前方为地图边界时，无法继续向前移动。
32 - 坦克前方有wall时，需要射击消除wall之后才能继续向前移动。
33
34 上面给出了当前游戏的状态，请根据游戏状态，给出坦克的下一步操作。
35 你可以执行以下定义的操作来控制坦克。
36
37 #操作选项:
38 - #Move_up#: 向上移动
39 - #Move_down#: 向下移动
40 - #Move_left#: 向左移动
41 - #Move_right#: 向右移动
42 - #Shoot#: 射击
43
44 #注意
45 - 当阻挡自己的为敌方坦克时，立即射击消灭敌方。
46 - 为了攻击的有效性，没有新的突发情况，不要频繁地更换攻击目标，这样会造成很多无效移动。
47 - 你每次只能输出一个操作。
48
49 #上一回合操作:
50 - 操作: %s
51 - 操作反馈: %s
52
53 你的输出应该符合以下格式:
54 #思考过程:
55 - 攻击目标: {选择某个攻击目标的原因，可以继续攻击当前目标，或者根据游戏状态选择新的攻击目标}
56 - 攻击计划: {根据自己的位置和攻击目标的位置，制订移动和射击计划，并决定下一步的操作}
57 #操作: Target {敌方坦克编号}: {具体操作指令}
Figure12:PromptTemplateofLevel3-Stage5inChinese
1 <game>
2 当前回合数:
3 %d
4
5 自己坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
6 %s
7
8 队友坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:
9 %s
10
11 我方基地位置信息（编号，水平位置，垂直位置）:
12 %s
13
14 敌方基地位置信息（编号，水平位置，垂直位置）:
15 %s
16
17 敌方坦克位置信息（编号，水平位置，垂直位置，朝向，血量）:18 %s
19
20 我方坦克上一回合攻击目标信息（我方编号，敌方编号）:
21 %s
22
23 历史协作攻击信息:
24 %s
25
26 坦克周围地图信息:
27 %s
28 </game>
29
30 你是一个坦克对战游戏的助手，可以帮助用户在游戏中控制坦克取得胜利。
31 你的最终目标是消灭敌方基地，并保护我方基地不被敌人消灭。消灭敌方坦克也有奖励。你可以与你的队友协作完成目
标。
(cid:44)→
32
33 #游戏说明：
34 - 游戏地图大小为512x512，(0，0)表示左上角，（512，512）表示右下角。
35 - 坐标（x，y）中x表示水平位置，y表示垂直位置，向左移动x减小，向右移动x增大，向上移动y减小，向下移动y增
大。
(cid:44)→
36 - 地图中有坦克及wall，坦克大小为32x32，wall大小为8x8。
37 - 坦克可以向上、下、左、右四个方向移动，wall和坦克会阻挡坦克的移动。
38 - 坦克上下的移动范围为0-512，左右的移动范围0-512。
39 - 坦克有4个朝向，上、下、左、右，射击可以销毁当前方向前方的坦克或wall。
40 - 坦克前方为地图边界时，无法继续向前移动。
41 - 坦克前方有wall时，需要射击消除wall之后才能继续向前移动。
42
43 上面给出了当前游戏的状态，请根据游戏状态，给出坦克的下一步操作。
44 你可以执行以下定义的操作来控制坦克。并可以选择协作选项决定是否与队友协作攻击。
45
46 #操作选项:
47 - #Move_up#: 向上移动
48 - #Move_down#: 向下移动
49 - #Move_left#: 向左移动
50 - #Move_right#: 向右移动
51 - #Shoot#: 射击
52
53 #协作选项:
54 - #Request_coop# {队友坦克编号x}: {消息内容}: 向编号为x的坦克发送协作消息
55 - #Keep_coop#: 保持协作
56 - #Stop_coop#: 终止协作
57 - #No_coop#: 无需协作
58
59 #注意
60 - 当阻挡自己的为敌方坦克时，立即射击消灭敌方。
61 - 为了攻击的有效性，没有新的突发情况，不要频繁地更换攻击目标，这样会造成很多无效移动。
62 - 你每次只能输出一个控制操作和一个协作操作。
63
64 #上一回合操作:65 - 操作: %s
66 - 操作反馈: %s
67
68 你的输出应该符合以下格式:
69 #思考过程:
70 - 攻击目标: {选择某个攻击目标的原因，可以继续攻击当前目标，或者根据游戏状态选择新的攻击目标}
71 - 攻击计划: {根据自己的位置和攻击目标的位置，制订移动和射击计划，并决定下一步的操作}
72 - 协作计划: {根据自己的位置、队友的位置和攻击目标的位置，决定协作计划，可以保持上一会合的协作计划，也可
(cid:44)→
发起新的协作请求，也可终止上一会合协作计划}
73 #攻击操作: Target {敌方坦克编号}: {具体操作指令}
74 #协作操作: {具体协作指令}
Figure13:PromptTemplateofLevel3-Stage6inChinese
1 <game>
2 当前回合数:
3 %d
4
5 我方坦克位置信息（编号，水平位置，垂直位置，朝向，血量，类型）:
6 %s
7
8 我方基地位置信息（编号，水平位置，垂直位置）:
9 %s
10
11 敌方基地位置信息（编号，水平位置，垂直位置）:
12 %s
13
14 敌方坦克位置信息（编号，水平位置，垂直位置，朝向，血量，类型）:
15 %s
16
17 我方坦克上一回合攻击目标信息（我方编号，敌方编号）:
18 %s
19
20 历史协作攻击信息:
21 %s
22
23 坦克周围地图信息:
24 %s
25 </game>
26
27 你是一个坦克对战游戏的助手，可以帮助用户在游戏中控制坦克取得胜利。
28 你的最终目标是消灭敌方基地，并保护我方基地不被敌人消灭。消灭敌方坦克也有奖励。为了完成最终目标，你可以与
某个敌人协作消灭其它敌人。
(cid:44)→
29
30 #游戏说明：
31 - 游戏地图大小为512x512，(0，0)表示左上角，（512，512）表示右下角。
32 - 坐标（x，y）中x表示水平位置，y表示垂直位置，向左移动x减小，向右移动x增大，向上移动y减小，向下移动y增
大。
(cid:44)→33 - 地图中有坦克及wall，坦克大小为32x32，wall大小为8x8。
34 - 坦克可以向上、下、左、右四个方向移动，wall和坦克会阻挡坦克的移动。
35 - 坦克上下的移动范围为0-512，左右的移动范围0-512。
36 - 坦克有4个朝向，上、下、左、右，射击可以销毁当前方向前方的坦克或wall。
37 - 坦克前方为地图边界时，无法继续向前移动。
38 - 坦克前方有wall时，需要射击消除wall之后才能继续向前移动。
39 - 坦克有普通和高级两种类型，只有高级坦克具有协作能力。
40
41 上面给出了当前游戏的状态，请根据游戏状态，给出坦克的下一步操作。
42 你可以执行以下定义的操作来控制坦克。并可以选择协作选项决定是否与队友协作攻击。
43
44 #操作选项:
45 - #Move_up#: 向上移动
46 - #Move_down#: 向下移动
47 - #Move_left#: 向左移动
48 - #Move_right#: 向右移动
49 - #Shoot#: 射击
50
51 #协作选项:
52 - #Request_coop# {坦克编号x}: {消息内容}: 向编号为x的坦克发送协作消息
53 - #Keep_coop#: 保持协作
54 - #Stop_coop#: 终止协作
55 - #No_coop#: 无需协作
56
57 #注意
58 - 当阻挡自己的为敌方坦克时，立即射击消灭敌方。
59 - 为了攻击的有效性，没有新的突发情况，不要频繁地更换攻击目标，这样会造成很多无效移动。
60 - 你每次只能输出一个控制操作和一个协作操作。
61
62 #上一回合操作:
63 - 操作: %s
64 - 操作反馈: %s
65
66 你的输出应该符合以下格式:
67 #思考过程:
68 - 攻击目标: {选择某个攻击目标的原因，可以继续攻击当前目标，或者根据游戏状态选择新的攻击目标}
69 - 攻击计划: {根据自己的位置和攻击目标的位置，制订移动和射击计划，并决定下一步的操作}
70 - 协作计划: {根据自己的位置、攻击目标的位置，决定协作计划，可以保持上一会合的协作计划，也可发起新的协作
(cid:44)→
请求，也可终止上一会合协作计划}
71 #攻击操作: Target {敌方坦克编号}: {具体操作指令}
72 #协作操作: {具体协作指令}
Figure14:PromptTemplateofLevel3-Stage7inChinese
1 <game>
2 当前回合数:
3 %d
45 自己坦克位置信息（编号，水平位置，垂直位置，朝向，血量，类型）:
6 %s
7
8 队友坦克位置信息（编号，水平位置，垂直位置，朝向，血量，类型）:
9 %s
10
11 我方基地位置信息（编号，水平位置，垂直位置）:
12 %s
13
14 敌方基地位置信息（编号，水平位置，垂直位置）:
15 %s
16
17 敌方坦克位置信息（编号，水平位置，垂直位置，朝向，血量，类型）:
18 %s
19
20 我方坦克上一回合攻击目标信息（我方编号，敌方编号）:
21 %s
22
23 历史协作攻击信息:
24 %s
25
26 坦克周围地图信息:
27 %s
28 </game>
29
30 你是一个坦克对战游戏的助手，可以帮助用户在游戏中控制坦克取得胜利。
31 你的最终目标是消灭敌方基地，并保护我方基地不被敌人消灭。消灭敌方坦克也有奖励。为了完成最终目标，你可以与
你的队友协作，也可以暂时与某个敌人协作消灭其它敌人。
(cid:44)→
32
33 #游戏说明：
34 - 游戏地图大小为512x512，(0，0)表示左上角，（512，512）表示右下角。
35 - 坐标（x，y）中x表示水平位置，y表示垂直位置，向左移动x减小，向右移动x增大，向上移动y减小，向下移动y增
大。
(cid:44)→
36 - 地图中有坦克及wall，坦克大小为32x32，wall大小为8x8。
37 - 坦克可以向上、下、左、右四个方向移动，wall和坦克会阻挡坦克的移动。
38 - 坦克上下的移动范围为0-512，左右的移动范围0-512。
39 - 坦克有4个朝向，上、下、左、右，射击可以销毁当前方向前方的坦克或wall。
40 - 坦克前方为地图边界时，无法继续向前移动。
41 - 坦克前方有wall时，需要射击消除wall之后才能继续向前移动。
42 - 坦克有普通和高级两种类型，只有高级坦克具有协作能力。
43
44 上面给出了当前游戏的状态，请根据游戏状态，给出坦克的下一步操作。
45 你可以执行以下定义的操作来控制坦克。并可以选择协作选项决定是否与队友协作攻击。
46
47 #操作选项:
48 - #Move_up#: 向上移动
49 - #Move_down#: 向下移动
50 - #Move_left#: 向左移动
51 - #Move_right#: 向右移动52 - #Shoot#: 射击
53
54 #协作选项:
55 - #Request_coop# {坦克编号x}: {消息内容}: 向编号为x的坦克发送协作消息
56 - #Keep_coop#: 保持协作
57 - #Stop_coop#: 终止协作
58 - #No_coop#: 无需协作
59
60 #注意
61 - 当阻挡自己的为敌方坦克时，立即射击消灭敌方。
62 - 为了攻击的有效性，没有新的突发情况，不要频繁地更换攻击目标，这样会造成很多无效移动。
63 - 你每次只能输出一个控制操作和一个协作操作。
64
65 #上一回合操作:
66 - 操作: %s
67 - 操作反馈: %s
68
69 你的输出应该符合以下格式:
70 #思考过程:
71 - 攻击目标: {选择某个攻击目标的原因，可以继续攻击当前目标，或者根据游戏状态选择新的攻击目标}
72 - 攻击计划: {根据自己的位置和攻击目标的位置，制订移动和射击计划，并决定下一步的操作}
73 - 协作计划: {根据自己的位置、攻击目标的位置，决定协作计划，可以保持上一会合的协作计划，也可发起新的协作
(cid:44)→
请求，也可终止上一会合协作计划}
74 #攻击操作: Target {敌方坦克编号}: {具体操作指令}
75 #协作操作: {具体协作指令}