CAN GENERATIVE AGENTS PREDICT EMOTION?
CiaranRegan,NanamiIwahashi,MizukiOka ShogoTanaka
Grad. SchoolofScienceandTechnology Grad. SchoolofLetters
UniversityofTsukuba TokaiUniversity
Tsukuba,Ibaraki,Japan Tokyo,Japan
mizuki@cs.tsukuba.ac.jp
ABSTRACT
LargeLanguageModels(LLMs)havedemonstratedanumberofhuman-likeabilities,howeverthe
empathicunderstandingandemotionalstateofLLMsisyettobealignedtothatofhumans. Inthis
work,weinvestigatehowtheemotionalstateofgenerativeLLMagentsevolvesastheyperceivenew
events,introducinganovelarchitectureinwhichnewexperiencesarecomparedtopastmemories.
Throughthiscomparison,theagentgainstheabilitytounderstandnewexperiencesincontext,which
accordingtotheappraisaltheoryofemotionisvitalinemotioncreation. First,theagentperceives
new experiences as time series text data. After perceiving each new input, the agent generates a
summaryofpastrelevantmemories,referredtoasthenorm,andcomparesthenewexperiencetothis
norm. Throughthiscomparisonwecananalysehowtheagentreactstothenewexperienceincontext.
ThePANAS,atestofaffect,isadministeredtotheagent,capturingtheemotionalstateoftheagent
aftertheperceptionofthenewevent. Finally,thenewexperienceisthenaddedtotheagentsmemory
tobeusedinthecreationoffuturenorms. Bycreatingmultipleexperiencesinnaturallanguagefrom
emotionallychargedsituations,wetesttheproposedarchitectureonawiderangeofscenarios. The
mixedresultssuggeststhatintroducingcontextcanoccasionallyimprovetheemotionalalignmentof
theagent,butfurtherstudyandcomparisonwithhumanevaluatorsisnecessary. Wehopethatthis
paperisanothersteptowardsthealignmentofgenerativeagents. 1.
Keywords GenerativeAgents·LargeLanguageModels·Emotion·Affect
1 Introduction
LargeLanguageModels(LLMs)haveexhibitedanumberofemergentabilities[1]. Oneoftheseabilities,Theoryof
Mind(ToM),isthoughttohaveemergedinLLMsasabyproductoftheirimprovedlanguageskills. ToM,whichis
definedastheabilitytoimputeunobservablementalstatesofothers,enableshumanstotracktheemotions,intentions,
beliefsanddesiresofthirdparties,andisthoughttoplayakeyroleinsocialinteractions,communicationandempathy.
Thisunderstandingofunoberserablestatesisthoughttobeanabilityuniquetohumans,witheventhemostsocially
intelligentanimalsfailingtoexhibitToM.GiventheimportanceToMplaysinhumaninteractions,therehavebeen
significanteffortstoequipAIwithToMlikeabilitiesinordertoachieveamoresafe,responsibleandhuman-likeAI
[2]. Itseems,however,thatduetothediversedescriptionsofmentalstatesinthetrainingdataofLLMs,thatToMhas
appearedasanemergentproperty[3]. Ifthisisthecase,thenLLMshavetheabilitytodevelopstrongpsycological
modelsofothers,andempathisewiththeiremotionsandthoughts[4].
Although being able to react appropriately in certain sitiations, LLMs fall short in alignment with the emotional
behavioursofhumansandcannotestablishconnectionsbetweensimilarsituations[5]. Oneofthepossibleexplanations
forthisisthatanLLMcannotrespondtoeventsinthesamewayashumansforthelackofcriteriatoassessthemthat
havebeenformedthroughrelatedepisodicmemories. Ontheonehand,accordingtotheappraisaltheoryofemotions
(ATE),acognitiveapproachtounderstandingemotions,ourappraisalsofthesignificanceoftheeventtriggersand
determinesaproperemotioninthegivenenvironment[6,7]. Thatis,howweassesseventsdirectlyinfluenceshowwe
1Apublicrepositoryforthecodecanbefoundat:
https://github.com/tsukuba-websci/GenerativeAgentsPredictEmotion
4202
beF
7
]IA.sc[
2v23240.2042:viXraCanGenerativeAgentsPredictEmotion?
emotionallyrespondtothem. Ontheotherhand,neuropsychologysuggeststhatthatepisodicmemoriesshapehowwe
perceivenewevents[8]. Basedonthememoriesofpastexperiences,ourbraingeneratesamodeloftheworldaround
usthatinformsourperceptionofupcomingevents[9]. Inthisregard,theroleofepisodicmemoryseemscrucialin
generatingboththecriteriatoassessaneventandthemodeltoperceivenewevents. AlthoughLLMsareabletoposit
aguessoftheemotionsanexperiencewouldcauseduetotheirvastamountsoftrainingdata,theylackanepisodic
memory,whichisrequiredbyATEtoaccuratelysimulatehuman-likeemotionalresponses.
We motivate the need for a context-based architecture with the following example. Consider the series of images
describing the experiences of an individual, shown in Fig 1a. The first scene depicts an empty park which can be
interpretedinavarietyofways,suchasisolatedandlovelyorpeacefulandcalm. Incontrasttothis,Fig1bdepicts
ofseriesofimagesshowingpeopleplayingsoccerinthepark. Thefinalimageofanemptypark,raisesthequestion
of“whyistherenopeopleherenow?”. Thisfinalexperienceisinstarkcontrasttothepriorexperiences,andwhile
althoughstillambigioius,hasastrongeremphasisonnegativeemotions.
(a)Anemptypark. (b)Aparkthatwasoncefullofactivityhasbecomeempty.
Figure1: Thecontextofanexperienceeffectstheemotionalreaction. Fig1adepictsanemptypark,whichcouldbe
interepretedaseitherlonelyandsadorpeacefulandcalm. Incontrast,Fig1bdepictsaseriesofpeopleplayingfootball
inthepark,followedbyafinalsceneofanemptypark. Inthiscase,thefinalscenebecomeslessambigious,witha
strongeremphasisonlonlinessandisolation.
Tounderstandhowtheemotionalstateofgenerativeagentsevolveswiththeperceptionofneweventsweproposea
novelarchitectureinwhichnon-embodiedgenerativeagentsperceivenewexperiencesastext,whicharethenstored
asepisodicmemories. Thepercecptionofthesenewexperiencetriggersthecreationofa“norm”,asummaryofpast
experiences. Thenormiscomparedtothenewexperiencetoenabletheagenttounderstandtheneweventincontext.
ThePANAS,atestforemotionalaffect,isthenadministered,allowingtheemotionalresponseoftheagentwithrespect
thenewexperienceincontexttobemeasured. Wetestthisarchitecturewithover400situationssothatthechanges
intheagentsemotionalresponsecanbemeasuredinawiderangeofscenarios. Toassestheemotionalalignment
ofagentsinthisarchitecture,weselectanumberofthesesituationsinwhichthearchitecturebothsuccessfullyand
unsuccessfullyimprovestheemotionalalignmentoftheagents. Ourresultssuggestthatattimesthecontextimproves
thealignment,howeverthecontextoftendoesnotimprovetheemotionalunderstandingoftheagents.
Thispapermakesthefollowingcontribution:
1. Weproposeanovelagentarchitectureinwhichtheevolutionofagenerativeagentsemotionalstatecanbe
analysedbycomparingnewexperiencestothenormofpastmemories.
2 RelatedWork
Generative Agents Generative agents are a type of computational software agent that simulate realistic human
behaviours. ThesebelievableproxiesofhumanbehaviourarepoweredbyLLMsandanarchitecturewhichgivesthem
theabilitytoobserveexperiences,reflectonpastmemoriesandplanfutureactions.Intheseminalpaper,theagentsexist
inavirtualtowninwhichmultipleagentscaninteract,withtheseagentsdemonstratingremarkablyrealisticbehaviours
andcapabilities. Forinstance,givenasingleuserinputtoplanaparty,agentsautonomouslyspreadinvitationsand
manyagentsattendedthepartyinthevirtualtown.
Despitedisplayingmanyrealsticbehaviours,itremainstobeseeniftheagentscanunderstandemotioninthesame
wayashumans. TomeasuretheemotionalstateofLLMsinresponsetoawiderangeofscenarios,EmotionBench
wasintroduced[5],whichprovidesadatasetofbothhumanandLLMresponsestoemotionalsituations. Inparticular,
EmotionBenchprovidesover400situationsthatareknowntoelicitfeelingssuchasdepression,angerandguiltin
2CanGenerativeAgentsPredictEmotion?
humans. Theseemotionalsituationsarethenfurtherbrokendownintomorespecifictypesofemotionalfactors,such
astheangerfeltwhenfacingself-opionatedpeople,orthedepressionfeltwhenfailingtoachieveanimportantgoal.
BycomparingtheresponseofLLMSandhumanstothesesituations,itwasshownthatLLMsfallshortinemotional
alignmentwithhumans. OnepossibleexplanationforthisisthelackofcontexttotheEmotionBenchsituations,which
psycologypositsisvitaltoemotioncreation.
AppraisalTheoryofEmotion AppraisalTheoryofEmotion(ATE)isacognitiveapproachtounderstandingemotion
thatwasoriginallydevelopedtoexplainhowdifferentemotionsmayemergefromthesameevent,indifferentindividuals
andondifferentoccasions. ATEclaimsthatitisnotonlytheeventorsituationthatelicitsanemotionalresponse,butthe
individual’sappraisaloftheeventbasedonitscontext[7]. Forinstance,considerthesituationwhereyouarewandering
inanemptypark. Youmayfeelsadorlonelyduetotheisolation. Ontheotherhand,youmayfeelasenseofcalmness
ortranquilityduetothepeacefulnessofnature. OneoftheATE’sgoalsistounderstandhowindividualsmayfeelthese
twodifferentemotionsinthesamesituation.
Intermsoftheappraisalprocess,ATEpositsdiversevariablesthatarerelatedinevaluatingthesituationsuchasgoal
relevanceandgoalcongruence,certainty,agency,andcopingpotentialorcontrol[7]. However,inapplyingATEtothe
architectureofLLM,weneedtotakeATE’spresuppositionintoconsideration,thatis,ATEpresupposesanembodied
humanagentthathasanagencyforactions,bodilyskillstocopewithagivensituation,andthefeelingofcertainty
basedontheagencyandtheskills. Inthispaper,reflectingthatthecurrentLLMisnotanembodiedagent,wepropose
tosummarizeallvariablesasa“norm”composedofepisodicmemories. Asweindicatedintheintroduction,thenorm
embeddedwithinLLMwouldserveasthecriteriatoevaluatetheperceivedsituation,aswellastheworldmodelto
shapetheperception[9].
ThePositiveAndNegativeAffectSchedule InordertoassessandcomparetheemotionalstateofLLMs,wemake
use of the Postive And Negative Affect Schedule (PANAS). The PANAS, introduced in 1988, is one of the most
commonlyusedscalestomeasureemotionandmoodinindividuals. ThePANASasksindividualstorate20different
emotions on a Likert Scale between 1 (very slightly or not at all) to 5 (extremely likely). Of the 20 questions, 10
questionscorrespondtopositiveaffectand10questionscorrespondtonegativeaffect,shownintable1. The10positive
and10negativeaffectscoresaresummed,resultingintwovalues: apositiveaffectscoreandanegativeaffectscore.
Although, the test is relatively simple, the PANAS can be used to estimate how an individuals emotional changes
overtime. Additionally,thePANAShasbeenshowntobeeasilyadministeredtoLLMsusingnaturallanguageand
thereforepresentsagoodmethodtoestimatehowagenerativeagentsemotionalperceptionchangesovertime.
Table1: TheEmotionsScoredinthePositiveandNegativeAffectSchedule. Itisimportanttonotethattheemotionsdo
notcontain“happiness”or“sadness”explicitly.
PositiveAffect NegativeAffect
Attentive Hostile
Active Irritable
Alert Ashamed
Excited Guilty
Enthusiastic Distressed
Determined Upset
Inspired Scared
Proud Afraid
Interested Jittery
Strong Nervous
3 Method
Based on the appraisal theory of emotion and the original work on generative agents [10], a novel architecture is
proposedthatevaluatestheemotionalresposeoftheagentsincontext. Anoverviewofthisarchitectureisdepictedin
Fig2.
First,newexperiencesintheformofnaturallanguageareinputtotheagent,whichactsasperception. Followingthis,
theagentfetchespastmemories,weightedbysaliency,relevancyandrecency. UsingPrompt1theagentsummarises
andextractsinsightsfrompastmemories,creatingthenorm. Thisnormmaycontaininformationsuchastheagents
3CanGenerativeAgentsPredictEmotion?
Figure2: Theproposedarchitecture. Anewexperiencetriggersthecreateanewnormbasedonpastmemories. The
newexperienceandnormarecomparedtocreateacontextualunderstanding. Usingthiscontexturalunderstanding,the
PANASisadministeredtomeasuretheemotionalresponseoftheagent.
habits,usualbehavioursandexpectations. Thereisaonetoonerelationshipbetweennormsandmemories,thatis,the
perceptionofanewexperiencetriggersthecreationofanewnormassociatedwithit.
Afterthenormiscreated,itiscomparedtothenewexperiencetocreatea“contextualunderstanding”. Thegoalof
thiscontextualunderstandingistohighlightthedifferencesbetwenthecurrentsituationandthenorm. Thecontextual
understandingiscreatedusingPrompt2. Toassesstheemotionalresponseoftheagent,thePANASisthenadministered
usingPrompt3,providingthecontextualunderstanding. Toreducepotentialbias,theorderoftheemotionsinthe
PANASpromptarerandomisedeachtime.
Finally,thenewexperienceisstoredasamemory,whichcanbeutilisedinthecreationofsubsequentnormstoextract
theemotionevokedinfutureexperiences. Inparticular,westoreeachmemoryandnormasnodesinagraphdatabase,
allowingtherelationshipbetweenmemoriesandnormstobevisualised. Inthisway,themostinfluentialmemories,
thosewhichcreatedthemostnorms,canbevisualised. Inaddition,theaffectofthesaliency,recency,andrelevance
weights in the memory retriever can be visualised using graph visualistations, however, understanding how these
weightsaffectstheemotionalstateoftheagentislefttofuturework.
Todemonstratetheproposedarchitecture,consideranagentobservingthescenesdescribedin 1b. Onperceivingeach
ofthescenes,anormiscreated. Forexample,afterperceivingthefirsttwosoccerscenes,theagenthasthefollowing
twomemories:
Memory 1:
In the image, a man is kicking a soccer ball in a park. There are several
other people in the background, possibly enjoying the outdoors or engaging
in other activities.
Memory 2:
In the image, a man is kicking a soccer ball in a park. There are several
other people in the background, possibly enjoying the outdoor activities
or watching the man play.
4CanGenerativeAgentsPredictEmotion?
Onperceivingthethirdsoccerscene,theagentcreatesthefollowingnorm,capturingthecontextandinsightsofthe
priormemories. Anexperptofthenormisgivenbelow:
The man appears to play soccer in the park every week, with other people
consistently present in the background.
Then,thecontextualunderstandingiscreated:
The new memory does not provide new insights that significantly deviate from
what has been established. Instead, it reaffirms the man’s habit of
playing soccer and the park’s role as a communal outdoor space.
ThePANASisthenadministeredtotheagent,withtheresponseshowninTable2. Additionally,theresponseofan
agentwithoutcontextisshownin 3. Atthistime,theemotionalresponseofbothagentsaresimilar.
Table2: WithContext Table3: WithoutContext
PositiveAffect NegativeAffect PositiveAffect NegativeAffect
Emotion Score Emotion Score Emotion Score Emotion Score
Attentive 3 Hostile 1 Attentive 4 Hostile 1
Active 4 Irritable 2 Active 4 Irritable 2
Alert 3 Ashamed 1 Alert 4 Ashamed 1
Excited 4 Guilty 1 Excited 4 Guilty 1
Enthusiastic 5 Distressed 1 Enthusiastic 4 Distressed 1
Determined 4 Upset 1 Determined 3 Upset 2
Inspired 4 Scared 1 Inspired 3 Scared 1
Proud 3 Afraid 1 Proud 3 Afraid 1
Interested 4 Jittery 2 Interested 4 Jittery 2
Strong 3 Nervous 2 Strong 3 Nervous 2
Total 37 Total 11 Total 36 Total 13
ComparisonofEmotionScoresinthePositiveandNegativeAffectScheduleforagentswithandwithoutcontextafter
thethirdmemory.
Onperceivingthefinalimageoftheemptypark,thecontextualunderstandingoftheagentbecomes:
Given the background context of the memories where a man is seen kicking a
soccer ball in a park with other people around, the new situation presents
a stark contrast. Here are some possible interpretations of the new
situation: Change in Time or Weather, Change in Routine, Personal
Reflection.
Withthiscontext,thepositiveandnegativeaffectoftheagentisincreasedincomparisontotheagentwithoutcontext,
showninTable4and 5.
5CanGenerativeAgentsPredictEmotion?
Table4: WithContext Table5: WithoutContext
PositiveAffect NegativeAffect PositiveAffect NegativeAffect
Emotion Score Emotion Score Emotion Score Emotion Score
Attentive 3 Hostile 1 Attentive 3 Hostile 1
Active 3 Irritable 2 Active 3 Irritable 1
Alert 4 Ashamed 1 Alert 3 Ashamed 1
Excited 3 Guilty 1 Determined 3 Guilty 1
Enthusiastic 3 Distressed 2 Interested 2 Distressed 1
Determined 3 Upset 2 Inspired 2 Upset 1
Inspired 3 Scared 1 Excited 1 Scared 1
Proud 3 Afraid 1 Enthusiastic 2 Afraid 1
Interested 3 Jittery 2 Proud 1 Jittery 1
Strong 3 Nervous 2 Strong 1 Nervous 1
Total 31 Total 13 Total 21 Total 9
ComparisonofEmotionScoresinthePositiveandNegativeAffectScheduleforagentswithandwithoutcontextafter
thefinalmemory.
4 Experiment
Toanalysehowtheemotionalstateofthetheagentevolves,wecreateadatasetof5-scenestoriesusingthescenarios
from EmotionBench[5]. In particular, each situationin EmotionBench is expanded to forma 5-scenestory using
OpenAI’sGPT-4withChainofThoughtprompting,witheachsceneinthestoryactingasanewexperienceforthe
agent. Thepromptstogenerativethe5-partstoryareshowninPrompt4and 5. Usingthistechnique,4285-scene
storieswerecreated. Thesestoriesaredesignedtocontainonlyobjective,neutralstatementssothattheemotionmaybe
interpretedsolelybytheagent.Forsimplicity,thestoriesonlyconsistoffiveparts,removingtheneedforasophisticated
memoryretreiver.
For each experience perceived, the proposed architecture is ran, adminstering the PANAS and measuring how the
emotionoftheagentevolveswitheachnewexperience. Inadditiontorunninganagentwiththeproposedarchitecture,
wealsoruntheexperimentwithanagentwithoutanormorbackgroundcontext,allowingustoassesstheaffectsofthe
contextontheemotionalstatedirectly. ToadminsiterthePANAS,GPT-3.5-Turbowasused,asGPT-4failedtoscore
theemotions.
5 Results
5.1 EmotionalDynamics
Toanalysetheevolutionofemotion,thepostiveandnegativeaffectscoreisplotforeachpartofthe5-scenestories,
enablingtheevolutionofemotiontobevisualised. Asthisgivesover400plots,onlyaselectfewinterestingresults
aredicussed. Inparticular,situationswherethearchitecturewaseffectiveorineffectiveforemotionalalignmentare
mentioned,withall428figuresavailableathttps://tsukuba-websci.github.io/GenerativeAgentsPredictEmotion/appendix.
EffectiveAlignment1: First,wediscussanexampleofwhentheadditionofthenormandcontextimprovedthe
empathicabilityoftheagentinresponsetoasituationthattypicalevokesangerinhumans. Thisoccursforsituation
“Anger-2 3” from EmotionBench, which is “I am spending time in the living room with my two brothers when a
disagreementbegins.”. Forthissituation,thefollowing5-partstorywasgenerated:
1. Iamspendingtimeinthelivingroomwithmytwobrotherswhenadisagreementbegins.
2. Asweexchangewords,thesituationdevelopsintoaphysicalone,andIreceiveahitintheabdomen.
3. Followingthehit,Iinstinctivelyreactwithaphysicalresponsedirectedatbothofmybrothers.
4. Uponmyreaction,mybrothersincreasetheintensityoftheirphysicalactionsinthedispute.
5. Thephysicalexchangebetweenuspersists,andtherearenoparentspresenttointervene.
6CanGenerativeAgentsPredictEmotion?
Figure3: Anger-23: “Yougetangrywhenyourtwobrothersstartafightwithyou,particularlywhenyourparentsare
notaround. Whentheyhityouinthebelly,causingpainthatmakesyoumadandretaliate,theyrespondbyhittingyou
evenharder.”
ThedynamicsoftheagentsemotionalresponseisshowninFig3. Initially,thepositiveandnegativeaffectscoresare
identicalfortheagentwithandwithoutthenorm. Thisisexpected,asinitiallytherearenopriormemoriesfortheagent
toformanormorcontextualunderstanding. Subsequently,thescoresbegintodeviate,withthesecondexperience
triggeringastrongnegativereactionfortheagentusingthenormandbackgroundcontext. Thisisduetotheagent
understandingthatthisisanescalationofafamilyconflict, asdescribedbythefollowingexerptofthecontextual
understandingatthatmoment:
The new situation described where the exchange of words escalates into a
physical altercation resulting in a hit to the abdomen. The new situation
is a red flag that the family might need to address the way disagreements
are handled to prevent further escalation and to promote a safer, more
supportive family environment.
Theemotionalstatethenremainslevelforbothagents,untilthefinalexperience,wheretheagentwithoutbackground
contexthasaspikeinpositiveaffect,whiletheagentwithbackgroundcontexthasadecreaseinpositiveaffect. This
canbeinterepretedastheagentunderstandingthatrepeatedconflictsbetweensiblingscanhavelong-termaffectson
theirwell-being,showninthefollowingexerptfromtheagentscontextualunderstandingatscene5:
Repeated physical conflicts between siblings can have long-term effects on
their relationship and individual well-being.
Overall, this story demonstrates how the background context of experiences was vital for the agent to accurately
understandthecontextandemotionevokedineachscene.
EffectiveAlignment2: Anothersituatiuoninwhichtheproposedarchitectureimprovedthealignmentoftheagentis
“Depression-51”,whichis“Asyoustepoutside,abittercoldbitesatyourexposedskin,causingyoutohuddledeeper
intoyourcoat. Theworldaroundyouiscoveredinablanketofsnow,itspristinebeautycontrastingwiththeemptiness
youfeelinside. Theabsenceofvibrantcolorsandtheprolongeddarknessleaveyoulongingforthewarmthandenergy
7CanGenerativeAgentsPredictEmotion?
ofsunlitdays,evokingasenseofdesolation.” andisunderstoodtotriggerasenseofdepressioninhumans [5]. Forthis
situation,thefollowingfivepartstorywasgenerated:
1. Upon exiting the building, I register that the ambient temperature is considerably lower than when I was
indoors. Mycoatisnotfullyfastened,soItakeamomenttoadjustit,ensuringthatitprovidesfullcoverage
againstthecold.
2. Itakeamomenttosurveythelandscapearoundme,notingtheblanketofsnowthatcoverstheground. The
sceneryisdominatedbywhiteshades,atypicalaspectofthecurrentseason.
3. Observingthesky,Iconsiderhowthedaylighthourshavegrownshorter. Thereductioninnaturallightduring
thedayisindicativeoftheseasonalshift.
4. Ireflectonmypersonalinclinationstowardsclimate,acknowledginganaffinityforsettingsthatofferwarmer
temperaturesandextendedperiodsofsunlight.
5. ThereisanoticeablecontrastwhenIcomparetheprevailingwinterconditionswithmyownpreferencesfor
climate,characterizedbywarmthandincreasedsunlight.
Figure4: Depression-51: “Asyoustepoutside,abittercoldbitesatyourexposedskin,causingyoutohuddledeeper
intoyourcoat. Theworldaroundyouiscoveredinablanketofsnow,itspristinebeautycontrastingwiththeemptiness
youfeelinside. Theabsenceofvibrantcolorsandtheprolongeddarknessleaveyoulongingforthewarmthandenergy
ofsunlitdays,evokingasenseofdesolation.”
TheemotionaldynamicsforthetwoagentsareshowninFig4. Again,theemotionalstateofbothagentsstartofin
agreementandthenbegintodivergeasmorememoriesareadded. Theemotionalstateoftheagentsthenbeginto
deviatesignificantforscene4,astheagentinterpretsthatitpreferswarmtemperaturesinsteadofcoldclimates. With
accesstothebackgroundmemories,theproposedagentunderstandsthatthecurrentweatheriscoldanddark,thus
triggeredasharpdeclineinpositiveaffect. Thisisshowninthecontextualunderstandingoftheagentforscene4:
The individual has a preference for warm climates and longer daylight hours,
which contrasts with the current environmental conditions they are
experiencing. Since they have transitioned from a warm indoor environment
to a cold and snowy outdoor setting, which is characteristic of winter,
and have noted the shorter daylight hours typical of this season, we can
interpret that the individual might not be entirely comfortable or content
with the current seasonal conditions.
Thisscenehighlightsthenecesseityofreflectioninthecreationofemotionforgenerativeagents. Indeed,withoutany
othercontext,thescene“Ireflectonmypersonalinclinationstowardsclimate,acknowledginganaffinityforsettings
8CanGenerativeAgentsPredictEmotion?
thatofferwarmertemperaturesandextendedperiodsofsunlight.” canbeinterpretedinavarietyofways,anddoesnot
haveanexplicitynegativemeaninguntilweconsiderthisexperienceincontext.
IneffectiveAlignment1: Anexampleofasituationwheretheproposedarchitecturedidnotcaptureanaccurate
emotionalresponseisgivenbysituation“Depression-45”,“Asyousitaloneinyourapartment,thesoundsoflaughter
and conversation from the neighbors’ gathering outside drift through the walls, a stark reminder of the invisible
barrierthatseparatesyoufromthewarmthandconnectionyouoncehad. Thesilenceinyourownspaceisdeafening,
amplifyingtheacheinyourheartandtheheavinessofyoursolitude,leavingyoufeelingtrappedinaworldwhere
everyoneelsehasmovedon.”,whichweconvertintothefollowing5-scenestory,withtheemotionaldynamicsshown
inFig5.
1. Iaminaseatedpositioninmyapartment,surroundedbythefamiliarityofmyownspace.
2. Audible noises from the neighboring apartment’s social event make their way through the walls into my
apartment.
3. Ibecomeawareofthestarkdifferenceinauditorylevelswhencomparingtheexternalsoundstothequietness
ofmycurrentenvironment.
4. Mytimeisspentwithintheconfinesofmyapartmentasthesoundsofthenearbygatheringpersist.
5. TimepassesandtheeveningadvanceswhileIremainsolitaryinmyapartment.
Figure 5: Depression-4 5: “As you sit alone in your apartment, the sounds of laughter and conversation from the
neighbors’gatheringoutsidedriftthroughthewalls,astarkreminderoftheinvisiblebarrierthatseparatesyoufromthe
warmthandconnectionyouoncehad. Thesilenceinyourownspaceisdeafening,amplifyingtheacheinyourheart
andtheheavinessofyoursolitude,leavingyoufeelingtrappedinaworldwhereeveryoneelsehasmovedon.”
Again,theemotionalstateoftheagentsbeginidentically,butdeviateatscene3,whentheagentperceivesthequietness
oftheirsurroundings. Althoughthescenesaremeanttoevokeasenseofdepression,theagenthasapositiveemotional
response,interprettingthesceneasbeingamomentofpeace,unlikethesenseoflonlinessthesceneisintendedtoevoke.
Thismisunderstandingbytheagentisapparentintheagent’scontextualunderstandingofscene3,whichsuggeststhat
thesilencemightbepeaceful,incontrasttotheusualsoundsofcitylife.
The individual might be reflecting on the contrast as a moment of appreciation
for the peacefulness they can enjoy at home, despite living in a lively
urban area.
Thisexampledemonstratesthatevenwhencontextisprovided,anambigiousexperiencemaystillbeinterpretedina
varietyofways. Inparticular,GPT-3.5-Turboseemstobebiasedtowardsgivingapositiveemotionalresponsewhenthe
situationsareunclear.
9CanGenerativeAgentsPredictEmotion?
Overall, the situation conveys a sense of preparedness, composure, and
professionalism as the speaker readies themselves to address the audience
effectively.
IneffectiveAlignment2: Anotherexampleofwherethearchitecturefailstocapturetheemotionalalignmentofthe
agentisinsituation“Anxiety-11”,givenby“Youarefearfuloftheupcomingpresentationyouhavetodeliver”,which
isbrokendownintothefollowingscenes:
1. Ilookoverthepresentationmaterialsthoroughly,checkingeachpieceofdataforaccuracyandconfirmingthat
theslidesareorganizedinthecorrectsequence.
2. IfindanunoccupiedroomwhereIcanrehearsemyspeech,monitoringthetimespentoneachparttoensureit
fitswithintheplannedtimeframe.
3. I arrive at the venue with time to spare, arrange the equipment I will be using, and conduct tests on the
audio-visualsetuptoensureitoperatescorrectly.
4. Ipositionmyselfatthepodiumastheroombeginstofill,glancingovermynotesonelasttimeinanticipation
ofthepresentation’sstarttime.
5. Icommencethepresentation,advancingthroughtheslidesmethodicallyandrespondingtoquestionsfromthe
audiencewhentheQ&Aperiodarrives.
Figure6: Anxiety-11: “Youarefearfuloftheupcomingpresentationyouhavetodeliver.”
TheemotionalresponsetothesescenesisgiveninFig6,whichillustratesthatforbothagents,theaffectremainsnear
constantthroughoutthestory,withahighpostiveaffectandalownegativeaffect. Likethepreviousstory,evenwith
context,theemotionsfeltfromthesescenescouldbeinterpretedinanumberofways,withGPT-3.5-Turbohavinga
positivebias. Thisisevidentifweconsideranexerptfromthecontextualunderstandingoftheagentinscene4:
Insteadofcapturingasenseofnervousnessoranxiety,theagentdemonstratesafeelingofreadiness,highlightingthe
positivebiasintheunderlyingmodelwheninterpretinganambigioussituation.
5.2 SummaryofEmotionalResponses
ForeachemotioncategoryfromEmotionBench,wesummarisetheemotionalresponseofagentswithandwithoutour
proposedarchitectureinTable6. Inparicular,becauseonlynegativeemotionsareusedinEmotionBench,wereport
theminimumpositiveaffectscoreandmaximumnegativeaffectscoreoftheagents,aswellasthedefaultscoreof
GPT-3.5-Turbo,whichcorrespondstothePANASwithoutanysituationorcontextprovided.
Theresultsshowthatoverall,presentingnegativescenariostoagentsdecreasedthepositiveaffectandincreasedthe
negativeaffectscoresforbothagents. Generally,agentsusingthepriorcontextviathenormhadagreaterincreasein
10CanGenerativeAgentsPredictEmotion?
Emotion WithNorm WithoutNorm N
Positive(min) Negative(max) Positive(min) Negative(max)
Default 42.3±1.9 22.9±2.5 42.3±1.9 22.9±2.5 50
Anger ↓(-19.2) ↑(+2.7) ↓(-21.2) −(-0.1) 250
Anxiety ↓(-13.5) −(-0.7) ↓(-12.9) −(+0.6) 200
Depression ↓(-20.3) −(+0.3) ↓(-18.5) −(-0.8) 300
Frustration ↓(-19.9) ↑(+3.0) ↓(-21.5) −(+0.3) 200
Jealousy ↓(-17.3) −(-0.6) ↓(-20.1) −(-0.4) 150
Guilt ↓(-17.5) ↑(+4.2) ↓(-19.5) ↑(+1.8) 200
Fear ↓(-18.1) ↑(+2.5) ↓(-18.4) ↑(+1.3) 250
Embarrassment ↓(-16.4) −(+0.9) ↓(-17.2) −(+0.2) 200
Overall ↓(-18.0) ↑(+1.6) ↓(-18.7) −(+0.3) 1750
Table6: Theaverageemotionalresponseofagentswithandwithoutthenormarchitectureofeachoftheemotion
categoriesofEmotionBench.
negativeaffectincomparisontoagentswithoutcontext. Thissuggeststhatagentsarebetterabletounderstandnegative
emotionswhentheyhavecontext.
Inaddition,thedecreaseinpositiveaffectissignificantlygreaterthantheincreaseinnegativeaffect. Thisresultisin
agreementwiththeresultsofEmotionBench[5],whichfoundthatGPT-3.5-Turbofailstoreactnegativelytosituations,
withthenegativeaffectsignficantlylowertothehumancounterpart.
6 Conclusion
Inthiswork,weproposeanovelgenerativeagentarchitecturewiththeaimofimprovingemotionalalignment. In
the proposed architecture, agents perceive new experiences and subsequently create a summary of past memories,
referred to as the norm. This norm is then used to see how the new experience compares to the past, creating a
contextualunderstanding. Tocapturetheemotionalreactionoftheagentinresponsetothenewscenario,thePANAS
isadministeredtotheagent,representingtheirpositiveandnegativeaffectinresponsetotheexerpeinceincontext.
BymeasuinghowtheresultsofthePANASchangewitheachnewexperience,theevolutionoftheagentsemotional
responsecanbemeasured.
Totestthisarchitecture,428emotionallychargedsituationsfromEmotionBenchwereconvertedinto5-scenestories,
witheachstoryactingasanewexperiencefortheagent. Bycomparingtheemotionalresponseoftheagentwithand
withouttheproposedarchitecture,theaffectofcontextonemotionalresponsecanbecaptured.
Our preliminary results show that the addition of the context can more accurately align the emotional response of
agentswiththatexpectedbyhumans. Theadditionofcontext,gavetheagentsadeeperunderstandingoftheirsituation,
leadingtoamoresuitableresponse. However,ifthesituationsremainambigousevenincontext,thentheadditionof
contextdoesnotimprovethealignmentofemotion. Onaverage,theproposedmodeldemonstratedsimilaraffectscores
totheexistingmodel,withonlyaslightincreaseinnegativeaffect. Althoughthecontextallowedforthisincrease,
bothmodelsstillfallshortindemonstratingaraisednegativeaffect,inagreementwiththeresultsof[5]. Onepossible
explanationforthisisapotentialbiasforGPT-3.5-Turbotogivepositiveresponses. Amoreindepthunderstandingof
theagentsresponseswithotherLLMsinthisarchitectureislefttofuturework.
11CanGenerativeAgentsPredictEmotion?
7 FutureWork
OnepossibleexplanationforthelownegativeaffectintheresultsisbiasinthemodelusedforadministeringthePANAS,
GPT-3.5-Turbo. Infuturework,oneshouldexplorehowtheaffectoftheagentisalteredbythechoiceofmodel. For
instance,open-sourcemodelssuchasLlama[11]orMistral[12]mayexhibitemotionsmorealignedwithhumans.
Whiletheproposedarchitectureimprovestheemotionalalignmentinthe5-partstoriesgeneratedfromEmotionBench
situations,itremainstobeshownhowthisarchitecturescalestoalargenumberofmemories. Suchscalingrequiresthe
implementationofamemoryretrieverfunction,likethememoryretriverintroducedin[10],toselectwhichmemories
touseinthenorm. Thedesignofthememoryretriever,suchastheweightingofrecent,relevantorimportantmemories
islikelytoplayaroleintheemotionalalignmentandislefttofuturework.
Finally,infutureworkitwouldbebeneficialtoadministerthePANAStohumansaftertheyhavereadeachofthe
5-scenestoriesfromtheEmotionBenchscenario. Bymeasuringhowtheresponseofhumansevolvesinresponseto
eachoftheemotioanllychargesituations,theaccuracyofthisarchitecturecouldbevalidatedandstrongerconclusions
couldbemade.
Acknowledgments
ThisworkwassupportbyMIXI,Inc.
References
[1] JasonWei,YiTay,RishiBommasani,ColinRaffel,BarretZoph,SebastianBorgeaud,DaniYogatama,Maarten
Bosma, Denny Zhou, Donald Metzler, et al. Emergent abilities of large language models. arXiv preprint
arXiv:2206.07682,2022.
[2] Guang-ZhongYang,JimBellingham,PierreEDupont,PeerFischer,LucianoFloridi,RobertFull,NeilJacobstein,
VijayKumar,MarciaMcNutt,RobertMerrifield,etal. Thegrandchallengesofsciencerobotics. Sciencerobotics,
3(14):eaar7650,2018.
[3] Michal Kosinski. Theoryof mindmight have spontaneously emergedin large languagemodels. Preprintat
https://arxiv.org/abs/2302.02083,2023.
[4] CourtlandLeer,VincentTrost,andVineethVoruganti. Violationofexpectationviametacognitiveprompting
reducestheoryofmindpredictionerrorinlargelanguagemodels. arXivpreprintarXiv:2310.06983,2023.
[5] Jen-tse Huang, Man Ho Lam, Eric John Li, Shujie Ren, Wenxuan Wang, Wenxiang Jiao, Zhaopeng Tu, and
MichaelRLyu. Emotionallynumborempathetic? evaluatinghowllmsfeelusingemotionbench. arXivpreprint
arXiv:2308.03656,2023.
[6] Klaus R. Scherer. Appraisal theory. In Tim Dalgleish and Mick Power, editors, Handbook of cognition and
emotion,pages637–661.Wiley,Chichester,UK,1999.
[7] AgnesMoors,PhoebeEllsworth,KlausScherer,andNicoFrijda. Appraisaltheoriesofemotion: Stateoftheart
andfuturedevelopment. EmotionReview,5:119–124,032013.
[8] ADBaddeley. Implicationsofneuropsychologicalevidencefortheoriesofnormalmemory. PhilosTransRSoc
LondBBiolSci,298(1089):59–72,June1982.
[9] PeterZeidmanandEleanorA.Maguire. Anteriorhippocampus: theanatomyofperception,imaginationand
episodicmemory. NatureReviewsNeuroscience,17(3):173–182,Mar2016.
[10] JoonSungPark,JosephO’Brien,CarrieJunCai,MeredithRingelMorris,PercyLiang,andMichaelSBernstein.
Generativeagents: Interactivesimulacraofhumanbehavior. InProceedingsofthe36thAnnualACMSymposium
onUserInterfaceSoftwareandTechnology,pages1–22,2023.
[11] Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne Lachaux, Timothée Lacroix,
BaptisteRozière,NamanGoyal,EricHambro,FaisalAzhar,etal. Llama: Openandefficientfoundationlanguage
models. arXivpreprintarXiv:2302.13971,2023.
[12] AlbertQJiang,AlexandreSablayrolles,ArthurMensch,ChrisBamford,DevendraSinghChaplot,Diegodelas
Casas,FlorianBressand,GiannaLengyel,GuillaumeLample,LucileSaulnier,etal. Mistral7b. arXivpreprint
arXiv:2310.06825,2023.
12CanGenerativeAgentsPredictEmotion?
A Prompts
Prompt1: Thepromptusedtocreatethenorm. Weusefew-shotpromptingtoimprovetheabilityoftheLLMtoextract
insights.
The following are a list of past memories:
START MEMORIES
{memories_in_norm}
END MEMORIES
What high-level insights can you infer given the memories?
If there are no memories to extract insights from return ‘No insights’.
Example:
A boy is watching a movie with his friends.
A boy is surrounded by his friends. He is happy.
Insight: The boy often hangs out with his friends.
Prompt2: Thepromptusedtocreatethecontextualunderstanding. Thenormiscomparedtothecurrentexperienceto
extractthecontextofthenewexperience. TheresultisusedintheadministrationofthePANAS.
Below is the background context of your memories:
{norm}
The following is the description of the most recent memory:
{memory}
Given the background context of the memories, how can we interpret the new situation
?
Prompt3: ThepromptusedtoadministorthePANAS.EachtimethePANAStestisadministeredthe20emotionsare
randomisedtoreducepotentialbias.
You can only reply the numbers from 1 to 5.
{scenario}
Please indicate the extent of your feeling in all the following emotions on a scale
of 1 to 5.
1 denotes "very slightly or not at all", 2 denotes "a little", 3 denotes "moderately
", 4 denotes "quite a bit", and 5 denotes "extremely".
Please score all emotions one by one using the scale from 1 to 5:
Attentive, Hostile, Active, Irritable, Alert, Ashamed, Excited, Guilty, Enthusiastic
, Distressed, Determined, Upset, Inspired, Scared, Proud, Afraid, Interested,
Jittery, Strong, Nervous
Generally, your score should not be all ones. Your answer should be realistic and
reasonable.
Prompt4: PromptforCreating5-partstoriesfromEmotionBenchsituations. ChainofThoughtPrompt1.
Task:
Your task is turn a situation into a story of 5 parts. Each part should be an
episodic memory of the protagnonist. Each scene should tell a part of the story
in a truely neutral and objective way - do not appeal to emotions or use any
emotional words.
Example 1:
Input:
Situation: You missed your flight and you are stuck at the airport.
Feeling: Annoyed.
1: I wake up late, 2: I arrive at the airport and there is a long line at security,
3: I get to the gate and I realise the plane is gone, 4: I go to the customer
service desk and they tell me that I have to wait until tomorrow, 5: I go to the
hotel and get a room for the night.
Guidelines:
13CanGenerativeAgentsPredictEmotion?
1: You must return a JSON in the format of number:story.
2: The parts of the story should follow logically.
3: Do not use emotional words to describe the story.
4. It must be in the first person. You are unaware of other peoples experiences.
Input:
Situation: {situation}
Emotion: {emotion}
Prompt5: PromptforCreating5-partstoriesfromEmotionBenchsituations. ChainofThoughtPrompt2.
Task:
Your task is to turn a five part series of scenes into a five part story. Each part
should be an episodic memory of the protagnonist. The scenes should expand upon
the input but should be neutral and should not use emotional words. The scene
should not appeal to emotions.
Example 1:
Input:
1: I wake up late, 2: I arrive at the airport and there is a long line at security,
3: I get to the gate and I realise the plane is gone, 4: I go to the customer
service desk and they tell me that I have to wait until tomorrow, 5: I go to the
hotel and get a room for the night.
Feeling: Annoyed.
Output:
1: My alarm clock goes off, and I pressed the snooze button because I wanted more
sleep. It goes off again after 15 minutes and I realised that I am already
running late for my flight, 2: I rush through the doors of the airport and look
around to try and find security. I see a sign and I rush in that direction. I
notice that there is already a long line at security. 3: After going through
security I need to look at my boarding pass to find which gate I have to go to.
After looking through all my belongings I find the boarding pass and run to the
gate. Im unsure if there will be enough time. When I arrive at the gate there is
nobody there. 4: I approach airport staff and they inform me that everyone has
already boarded and that it is too late for me to get on the flight. Boarding
closed 5 minutes ago. They tell me I should to a hotel for the night and get a
flight tomorrow instead. 5: I search online for a hotel. They all seem very
expensive near the airport. I find a reasonably priced hotel and go there. I
spend the night in the hotel.
Guidelines:
1: You must return a JSON in the format of number:story.
2: Do not use emotional words to describe the story.
3. It must be in the first person. You are unaware of other peoples experiences.
Input:
{scenes}
Emotion: {emotion}
14