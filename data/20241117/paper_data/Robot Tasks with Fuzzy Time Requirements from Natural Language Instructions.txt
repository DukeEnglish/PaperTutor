Accepted for presentation at 2024 IEEE International Conference on Robotic Computing (IRC)
Robot Tasks with Fuzzy Time Requirements
from Natural Language Instructions
1st Sascha Sucker 2nd Michael Neubauer 3rd Dominik Henrich
Chair of Applied Computer Science III Chair of Applied Computer Science III Chair of Applied Computer Science III
(Robotics and Embedded Systems) (Robotics and Embedded Systems) (Robotics and Embedded Systems)
University of Bayreuth University of Bayreuth University of Bayreuth
Bayreuth, Germany Bayreuth, Germany Bayreuth, Germany
sascha.sucker@uni-bayreuth.de michael.neubauer@uni-bayreuth.de dominik.henrich@uni-bayreuth.de
Abstract—Natural language allows robot programming to be Satisfaction
accessibletoeveryone.However,theinherentfuzzinessinnatural
languageposeschallengesforinflexible,traditionalrobotsystems.
We focus on instructions with fuzzy time requirements (e.g.,
“startinafewminutes”).Buildingonpreviousroboticsresearch, 5 10 15 20 Time [min]
we introduce fuzzy skills. These define an execution by the
robot with so-called satisfaction functions representing vague
execution time requirements. Such functions express a user’s
satisfaction over potential starting times for skill execution.
When the robot handles multiple fuzzy skills, the satisfaction
function provides a temporal tolerance window for execution,
thus, enabling optimal scheduling based on satisfaction. We
generalizedsuchfunctionsbasedonindividualuserexpectations Prepare some food
with a user study. The participants rated their satisfaction with
in aboutten minutes!
an instruction’s execution at various times. Our investigations
reveal that trapezoidal functions best approximate the users’
satisfaction.Additionally,theresultssuggestthatusersaremore Fig. 1. Natural language instructions are inherently fuzzy, requiring an
lenient if the execution is specified further into the future. interpretation within the context of the instruction and instructor. Here, the
Index Terms—intelligent and flexible manufacturing, schedul- user’ssatisfactionvariesovertimebasedonthestartofthetaskexecution.
ing, user satisfaction, temporal expectations.
I. INTRODUCTION around the specified time, which depends on the instruction
Automating household tasks and production in small and and the context. In this example, execution after 15 minutes
medium enterprises is attracting considerable attention in leads to higher user satisfaction than after 20 minutes.
robotics (e.g., [1], [2]). Robot programming is still mostly Thispaperinvestigatesinstructionswithfuzzytimerequire-
relegatedtospecializedroboticsexperts,resultinginhighcosts ments. An instruction describes a fuzzy skill that encodes the
and slow adaptation to new situations [2]. One response to manipulation of an object by the robot (in continuation of
this is to increase the accessibility of robot programming [3], [11], [12]). If the user instructs only one fuzzy skill, it can
[4], for example, with natural language [5]. Natural language be executed at maximum satisfaction by default. However,
contains inherent fuzziness that reduces the user’s cognitive suppose the user instructs several fuzzy skills combined into
load. However, this contrasts with the rigid parameters (like one superordinate plan, the fuzzy task. In that case, the task
concrete execution times) demanded by traditional robot sys- execution may require compromises, i.e., the robot must per-
tems [6]. For example, the instruction “Prepare some food formsomeskillsatasuboptimaltime.Forexample,iftheuser
in about ten minutes!” (Fig. 1) contains fuzziness regarding issues another command that should also start in ten minutes
parameters (“some food”) and execution time (“about ten (Fig. 1), rigid robot systems lack the knowledge of which
minutes”). To handle fuzzy parameters, fuzzy-logic [7] is operation to prefer. The satisfaction function provides this
commonly used to deduce exact parameters (e.g., weight in required knowledge – enabling the scheduling to maximize
grams) for the operating robot system [8], [9]. For time- overall satisfaction. Precisely identifying the expectations of
dependent parameters, fuzzy-logic is extended to temporal an individual user before execution is challenging. In addition
fuzzy logic [10]. However, previous research focused hardly to the given instruction itself, other aspects could also influ-
ontheuser’sperceptionoffuzzinessregardingexecutiontime. ence satisfaction, e.g., the context of the scenario, the user’s
For instance in Fig. 1, there is no immediate loss if the robot previous experience, or the expected abilities of the actor.
prepares the food five minutes earlier or later. Nevertheless, Another challenge is that several users with (partly) divergent
the user may be dissatisfied if the operation is not performed expectations may instruct the robot system. One response to
©2024IEEE.Personaluseofthismaterialispermitted.PermissionfromIEEEmustbeobtainedforallotheruses,inanycurrentorfuturemedia,including
reprinting/republishingthismaterialforadvertisingorpromotionalpurposes,creatingnewcollectiveworks,forresaleorredistributiontoserversorlists,or
reuseofanycopyrightedcomponentofthisworkinotherworks.
4202
voN
41
]OR.sc[
1v63490.1142:viXrathis could be the creation of user profiles. However, this does : Place a panon : Start cleaningin
: Place thevegetablesin
notaccountforfrequentuserchangesorpublicscenarioswith thestove. thenextthree thepanin fourminutes.
minutes.
previously unknown users. Hence, we aim to provide general Satisfaction[%]
statements about deriving the satisfaction functions from the
instructions and context.
We present two central contributions: (i) We formalize
Time [s]
fuzzytasks,theirinferencefromlanguage,andthescheduling
(Section III-A and Section III-B). (ii) We deduce an overall 1 2 3 4 5
satisfaction function from individual user satisfaction (Sec-
tionIII-C).Onthisbasis,weexaminefuzzytimerequirements Fig. 2. The actor must cope with fuzzy time specifications for each
regarding their modeling, the difference between human and instruction Ii (issued at 0 s). We consider the user satisfaction (ψi) when
robot actors, and the influence of time until the required
the specific skills (si) are started, indicated by the boxes s1 to s3. Non-
optimizedschedulingmayleadtolowsatisfaction(s1,s3)andoverlaps.
execution starts (Section IV). For this, we exploit subjective
satisfaction data gathered with an online user study.
on satisfaction regarding execution time. Our work addresses
II. RELATEDWORK
these gaps.
The resolution of uncertainties is already examined within
III. METHODOLOGY
the contexts of robotics [13], [14], control systems [15], [16],
and scheduling system [17], [18], [19]. These approaches use Thispaperfocusesonassessingtheperceptionoffuzzytime
fuzzysetsdefinedbymembershipfunctionstodetermineexact requirements in natural language instructions. For this pur-
output values from vague input statements. Within natural pose, we model such fuzzy time requirements with functions
language processing, fuzzy sets can also represent natural representing the user’s satisfaction regarding the execution
language components to quantify fuzziness [20], [9]. For over time (Section III-A). We interpret satisfaction functions
example, language-based decision-making systems [21] or from natural language instructions and their context (Fig. 2).
information retrieval systems [22], [23] utilize this quantifica- Multiple satisfaction functions within a task are used for
tion. However, these approaches use expert knowledge to set scheduling with fuzzy deadlines. We define the corresponding
the membership function of a corresponding fuzzy set, which optimization problem with additional restrictions, including
may not always be available. Incoming data can parameterize overlap. In Section III-B, we formalize this problem and
membershipfunctions[24],[25],butthiswasnotinvestigated outlinesolutions.Satisfactionfunctionsdescribethesubjective
with natural language. user expectations concerning the execution times of the task.
Similarly, no fuzzy sets examined temporal information We derive general satisfaction functions from these subjective
for instruction/skill sorting or scheduling. Usually, in natural satisfaction functions (Section III-C). These methodologies
language, the order of instructions does not always adhere serve as the basis for our evaluation (Section IV).
to logical-temporal relationships [26], [27]. An approach that
A. Tasks with Fuzzy Time Requirements
achievesachronologicalsortingofnaturallanguagestatements
uses logical-temporal relationships between expressions [28]. A task is the model describing the manipulation of objects.
Here, temporal keywords (e.g., ’before’, ’after’, and ’while’) Our tasks comprise skills, each describing the manipula-
indicatetheorderoftheexpressions,thus,formingatimeline. tion of objects within the given scene. Skills serve as mid-
Additionally, the context of instructions may be interpreted level representations of robot operations [11] abstracting from
to find a sensible execution order (e.g., ’cleaning’ should be motion primitives (explicit robot movements) but providing
done after ’drilling’) [29]. This context is especially required more detail than the overarching tasks. They are the most
if the expressions lack temporal keywords. Other approaches specific operation representation that manipulates objects in-
tacklesortingnaturallanguagestatementswithlineartemporal dependently of any particular hardware setup. We distinguish
logic(LTL)[30],[31].Thetransformationofnaturallanguage between specific and fuzzy skills. Specific skills are defined
to logical expressions in LTL is challenging. This problem is following the commonly used skills with no ambiguities (as
solved using large language models like BERT [32] or GPT-4 in [11], [34]). They consist of motion primitives that are
[33]. Large language models are pre-trained neural networks entirely and precisely parameterized. Following [11], specific
thatreturnLTLexpressionswhenprompted.Theseexpressions skills can be directly executed, thereby manipulating objects
are then used to schedule the actions within the text. The based on the skill’s composition and the robot’s capabilities.
approaches using temporal operators [28] or LTL (e.g., [30], Inadditiontothecommondefinitionin[11],wefocusontask
[31]) do not provide time values required for scheduling timerequirements.Thus,werequireourskillstocontainsuch
withfuzzytimerequirementsbutratherdependenciesbetween time requirements – leading to the specific skill tuple
expressions. Thus, a formalization of tasks with such fuzzy s =(ts,td,Λ ). (1)
time requirements is missing. Studies investigating natural i i i i
language as a medium for programming (e.g., [26], [27]) Itcontainstheexplicitstarttimeanddurationts,td ∈R and
i i +
have yet to examine the impact of fuzzy time requirements additional, specific parameters Λ . The origin of the timeline
ifor both the positive real-valued times t and t is when the
s d
instruction is issued. The parameter set Λ represents every adv num obl:
i
det obj case det obl case mod mod tmod
non-time-related parameter (e.g., the object to be manipulated
or its goal state). This is purposely kept abstract to transfer Place the vegetables in the pan in about four minutes
our concepts to various robot systems.
Fuzzy skills represent vague operation specifications Fig. 3. The dependency tree encodes grammatical connections between
(Fig. 1). This vagueness constitutes fuzzy object descriptions, wordsinasentence.Thesedependenciesincludeobliquetemporalmodifiers
(obl:tmod),numbers(nummod),adverbs(advmod),andprepositions(case).
parameters, and time requirements. The concrete mapping
fromfuzzyobjectdescriptionstophysicalobjectsisdiscussed
in our prior works [3], [5]. Fuzziness in parameters is fre- possible solutions are discussed: an exhaustive exploration of
quently tackled with (temporal) fuzzy logic (e.g., in [35]). the problem space, hill climbing, and simulated annealing.
Consequently, we primarily focus on fuzzy execution time 1) Inferring Fuzzy Time Requirements from Language: We
requirements. We define the parameters for fuzzy skills extend our previous work [5] by identifying and interpret-
ing temporal specifications in natural language instructions.
s˜ =(ψ ,td,Θ ,Λ˜), (2)
i i i i i Current approaches utilize Large Language Models (LLMs)
as a tuple of the satisfaction function ψ(t) and the duration td for natural language programming [37], [38] in particular, as
i
(Eq. 1) as well as a mix of fuzzy Θ and specific parameters theydelivergoodresultsinpreviouslyunknownenvironments.
i
Λ˜. The satisfaction function However, these approaches still show some problems, such
i
as transparency, explainability, and consistency. Since the
ψ :R →[0,1] (3)
+ language interpretation only is secondary to this paper and
maps positive real-valued time (R ) to a satisfaction value the investigation of LLM robot programming is still early, we
+
between 0 and 1, indicating a spectrum between no to com- opted for an established approach: We perform a syntactic
pletesatisfaction(inspiredbyreal-timerequirements[36]).To analysis of the instruction, i.e., a part-of-speech tagging [39]
streamline scheduling, we define the input time of ψ as the together with the construction of a dependency tree [40].
starttimeofthespecificskill.Thisrequirementdoesnotimply The dependency tree describes how the words in a sentence
that the specified time within instructions always refers to the are interconnected syntactically. Prior work [28], [41] already
start time. The instruction may contain indicator verbs that focuses on sorting instructions if they directly relate to each
relate to the start, end, or weighted time over the execution other.Thus,weconcentrateoninstructionsthatrefertopoints
duration (e.g., ’start’ or ’finish’). The indicator verb ’start’ (I in time (“in about three minutes”), i.e., to identify temporal
2
in Fig. 2) references the start time of the operation, while specifications that refer to the instructed operation (verb).
’finish’ would indicate an end time. This indicator verb may Accordingly, we search for an oblique temporal modifier
be omitted (I and I in Fig. 2), requiring an inference by dependent on the root verb in the dependency tree. In the
1 3
context. When converting the instruction into a fuzzy skill, instruction in Fig. 3, the temporal modifier ’minutes’ is
the indicator verb should be considered. However, indicator referenced from the root verb ’Place’. Further specifiers are
verbs are beyond the scope of this paper. Thus, we assume searchedrecursively,e.g.,numbermodifiers(’four’),fuzziness
thatallinstructionsinthisconversion(SectionIII-B1)andthe modifiers (’about’), and prepositions (’in’).
evaluation (Section IV) refer to the start time. A fuzzy task is The satisfaction ψ must be derived from these parameters.
a set of fuzzy skills (Fig. 2). Fuzzy tasks are unordered as the One possibility is a direct lookup: A satisfaction function is
execution times rely on the skills’ satisfaction functions. storedforeachpossiblemodifiercombination,whichislooked
upinthecorrespondinginstruction.However,aseparatefunc-
B. Handling Tasks with Fuzzy Time Requirements
tion would be required for every modifier combination (e.g.,
Robot systems must cope with uncertainties in natural foreverypossiblenumbermodifier).Instead,thereshouldonly
language instructions. This involves deriving the fuzzy skills be a few fundamental functions that are adapted depending
from instructions and converting them into specific skills for on the modifier, i.e., lookup and adapt. Here, for example,
execution. For this purpose, an instruction I is converted to a the function could be scaled due to fuzziness modifiers like
fuzzyskills˜.Wemainlyfollowourpreviouswork[5]forthis ’approximately’ (ψ(m ·t) with m ̸= 0) or shifted due to
p p
mapping.Nevertheless,weconsiderfuzzytemporalconstraints the number modifier (ψ(t+m ) with m ≥0). The width of
n n
as part of the task description. To this end, suitable parts- the satisfaction may also change due to the number modifier.
of-speech are extracted from the instructions and interpreted However, such lookup methods do not take the context of
accordingtothecontext,yieldingfuzzyskills(SectionIII-B1). theinstructionintoaccount.Forexample,thepantemperature
To convert them into specific skills, the start time and explicit can significantly influence when the instruction I should be
3
parameters are derived from a set T ={s˜,...,s˜} of n fuzzy executed (cf. Fig. 1). Temporal Fuzzy-Logic can be used
1 n
skills. The start time is determined by maximizing the satis- for this purpose. A system implementing Temporal Fuzzy-
faction of every fuzzy skill without overlapping executions. Logic holds a set of predefined rules. These rules determine
For this, the task must be considered as a whole – leading the satisfaction function model and its parameters based on
to a scheduling problem, presented in Section III-B2. Three a combined set of context information. For example, in the
toor(a)Satisfactionfunctionsoftenusers. (b)Histogramofsatisfactionfunctions. (c)Distributionplotofsatisfactionfunctions.
Fig. 4. Users’ expectations regarding executing one instruction may vary. Given the instruction “The assignment should start in 30 minutes!”, our study
participantsdrewtheirsatisfactionfunctions.In(a),onlytenfunctionsareshownforabetteroverview.Thedistributionacrossallparticipantsisdisplayed
usingahistogram(b)ordistributionplot(c).Inc),theareabetweenthe25-and75-quantilesisshaded;theminimumandmaximumvaluesaredotted.
instruction of Fig. 3, one may utilize the pan’s heat to find a of the satisfaction functions ψ can be adjusted. One practical
suitableexecutiontime.Contextinformationmaybeespecially solution could be to set a minimum threshold for ψ (t)>0.
i
valuable if no explicit time is specified (e.g., ’soon’). Satisfaction can be adapted for various scheduling applica-
2) SchedulingwithFuzzyTimeRequirements: Afuzzytask tions, e.g., by associating it with general execution utility. In
is scheduled to maximize the user’s satisfaction. We assume contrast,theoverlapavoidancemayberelaxedifmskillscan
that only one agent handles the skills in the task. For this be executed in parallel, e.g., by several robots. Accordingly,
reason, the skill executions may not overlap in the resulting theconstraintwouldbechangedtoamaximumofmoverlap-
schedule. Given a fuzzy task T = {s˜,...,s˜} as a set of n ping skills at one single time step. Based on the application,
1 n
fuzzyskills(Eq.2),wesearchfortheoptimalstarttimevector other aspects may be considered for scheduling, including the
t⃗∗ ∈Rn. It describes the start time of each fuzzy skill s˜ that total execution time, the idle time, the intrusiveness to the
+ i
optimizes satisfaction without overlap. Regarding satisfaction instructor, or the energy consumption.
optimization, we search for To solve the optimization, a combinatorial approach is only
feasibletoalimitedextent:ThesearchspaceRn iscontinuous,
n +
t⃗∗ = argmax (cid:89) ψ (t ). (4) resulting in infinite possible discrete solutions. One naive
(t1,...,tn)∈Rn
+ i=1
i i approach is to sample Rn +. For this purpose, the considered
time interval J is restricted and sampled at a frequency u.
s
To avoid overlaps, no two skill execution time intervals may This results in k ∈ N time steps k = ⌊u · |J |⌋, where
intersect. To test this, we sort the elements of t⃗∗ using a s
|J | denotes the length of the time interval J . All sampled
s s
sort function π : {1,...,n} → {1,...,n} defined by t π(i) ≤ start times for t⃗∗ are tested for each skill. This leads to
t π(i+1),∀i ∈ {1,...,n − 1}. Given the duration td π(i), the an exponential runtime of O(kn), rendering it feasible only
overlap avoidance restricts the solution space by requiring
for small search spaces. Consequently, the solution must be
t +td ≤t ∀i∈{1,...,n−1}. (5) approximated even for moderately large problem spaces.
π(i) π(i) π(i+1) Forthis,apossibleapproachistheHillClimbingalgorithm
After optimization (Eq. 4) with overlap avoidance (Eq. 5), the [42].Ittriestomaximizetheschedule’ssatisfactionbyshifting
start time of the specific skill s is t ∈t⃗∗. the skills’ start times. Such a greedy approach, however, runs
i i
Conceptually, we search for the optimization of all ψ by the risk of returning a sub-optimal solution by converging
linking them with the logical AND, leading them to be mul- withinalocaloptimum.Tosolvethisissue,SimulatedAnneal-
tiplied. This results in the required decisive satisfaction loss ing may be utilized [42]. This algorithm mostly follows Hill
if one or a few start times are hardly accepted. However, the Climbing but allows for a reduction in satisfaction based on
optimization fails if at least one satisfaction results in 0, e.g., probability. With this, the algorithm may escape local optima
duetotheoverlapavoidance.Thus,theoverallsatisfactionis0 but requires more iterations. Another approach is to utilize
independent of the other start times. Accordingly, start times genetic algorithms for optimizing scheduling by mimicking
for other skills could be chosen arbitrarily, not influencing evolutionary processes of selection and reproduction [42].
overall satisfaction. Arguably, the task would be invalid if
C. Estimating Satisfaction from User Data
every arrangement of skills leads to one satisfaction of 0: The
execution of this skill would not be accepted. However, if Thesatisfactionψ(t)ofafuzzyskilldepends,bydefinition,
optimization of the remaining skills is still desired, the output on the subjective expectations of the user. However, we aimtodeterminegeneralstatementsaboutderivingthesatisfaction Level of satisfaction if the
task would start at the
functions from the instructions and context. For this purpose, corresponding time stamp Instruction
the expectations of multiple users must be analyzed, e.g.,
Canvas
through a user study (cf. Section IV). Given one specific Click-and-drag to draw
instruction I, a user u states their satisfaction within ψ (for
i i
example, by drawing). The satisfaction functions of multiple
users are combined to the subjective satisfaction functions as
a set Ψ = {ψ ,ψ ,...} of satisfaction functions (Fig. 4a).
I 1 2
If a sufficient number of users provide their satisfaction, the
satisfaction at each time step forms a probability function.
Overalltimeline
Thus, the subjective satisfaction functions Ψ I comprise three Moves time frame Click to jump to specific time Moves time frame
dimensions: satisfaction (cf. Fig. 2), time, and distribution of oneminuteleft oneminuteright
(�-key) (�-key)
the individual satisfaction functions. In Fig. 4b, we represent
Clear the entiretimeline of
this using a three-dimensional graph whose distribution is this task
approximated by a histogram. From Ψ we determine the
I
satisfaction ψ(t). Furthermore, by analyzing Ψ , we can Fig. 5. Participants of our online user study should draw their satisfaction
I
identify aspects that influence satisfaction functions. giveninstructionswithfuzzytimerequirementsifthetaskstartedatthetime
stamp.Beforecarryingoutthefirsttask,thistutorialpagewasshowntothe
1) DeterminingCharacteristicValues: Weanalyzethesub-
participants–highlightingthecorefunctionalitiesoftheinterface.
jective satisfaction function by viewing each time step as a
probabilityfunctionanddeterminingcharacteristicvalues.For
example, we calculate arithmetic mean Ψ (t) point-wise for 2) Fitting Continuous Satisfaction Functions: For this pur-
I
each time step t with pose,wefindacontinuousbest-fittingfunctionforthesatisfac-
tion function ψ. Accordingly, no interpolation is required for
1 (cid:88)
Ψ I(t)=
|Ψ |
ψ(t). (6) scheduling. Instead, the function is evaluated at the respective
I ψ∈ΨI time values. Depending on the complexity of the continuous
This is then examined over each time step, allowing us to function, the calculation effort can be similar to interpolation.
draw general conclusions. The generalization quality for Ψ Nevertheless, only a fixed number of parameters must be
I
to one ψ is expressed with quality metrics, e.g., deviation. A held to describe the function, regardless of the time steps k.
high deviation indicates conflicting participant expectations, Variousmodelsandmethodscanapproximatesuchafunction.
which may require dividing the users into subgroups. With For example, the function may be approximated utilizing
this, the satisfaction function could better represent user ex- polynomials [43]. However, a better approximation requires
pectations.Theoverallsatisfactionfunctionmaybecalculated a higher polynomial degree, leading to extensive memory and
considering the mode, arithmetic mean, and median (each calculation requirements.
evaluated point-wise). Although the mode represents the most Alternatively,predeterminedfunctionscouldbefittedtothe
frequentsatisfaction,itmaynotrepresentthecentraltendency data, for example, with the Trust Region Reflective algorithm
of the distribution (e.g., in the case of several maxima or [44]. With this algorithm, non-linear functions can also be fit-
asymmetry). The mean value indicates the central tendency ted to the data (e.g., bell curves or trapezoidal functions). The
but is susceptible to outliers compared to the median. Thus, algorithm iteratively adjusts the search region within which
we primarily focus on the median during our evaluation. In it approximates the objective function with the model to be
addition, quantiles help to visualize Ψ , for example, in a fitted.However,thisalgorithmmaygetstuckinlocalminima,
I
distribution plot (Fig. 4c). Other values, such as skew or so choosing initial parameters is particularly important. In
kurtosis, could also be used to analyze the function. general,approximationreducestheaccuracyofthesatisfaction
Such a satisfaction function is discretized to the time function. Nevertheless, the k time steps of the satisfaction
steps of the subjective satisfaction functions, for example, functioncanbereducedtoafewparameters.Suchanapproxi-
when the satisfaction for individual time steps is recorded mation can be especially beneficial if human expectations and
in a user study. If the discretization between this satisfaction specific models coincide, resulting in a negligible error.
function and the scheduling does not match, an interpolation
between the values must be performed, requiring additional
IV. EVALUATION
computationaleffort.Thisapproachalsoforcesthesatisfaction We investigate users’ expectations of fuzzy time require-
values to be saved for each time step, requiring extensive ments by analyzing their satisfaction function given different
memory. Reusing (and thus referencing) such satisfaction instructions.CorrespondingtoSectionIII-C,wewanttoderive
functions is challenging, as instructions can contain arbitrary general satisfaction functions from subjective user data and
time specifications with variable specificity. For a task plan approximatethemwithcontinuousfunctions.Furthermore,we
with n fuzzy skills and discretization in k time steps, a assumethatvariousfactorsinfluenceusersatisfaction,suchas
memory overhead of O(n·k) arises. This can be addressed theexpectedabilitiesoftheactorortheinstructedstarttimeof
by further approximating the satisfaction. the fuzzy time requirements. This will be examined in detail(a)“intenminutes” (b)“beforetenminutes” (c)“aftertenminutes”
(d)“in30minutes” (e)“before30minutes” (f)“after30minutes”
Fig.6. Excerptoffunctions(red)fittedtothedistributions(green).(a)-(c)representtheprepositionsin,before,andafterat10min;(d)-(f)at30min.
to draw general conclusions about user satisfaction. Based on at the corresponding time. To answer question F1, we com-
this objective, we focus on three research questions: pare their drawn satisfaction functions with fitted continuous
functions. We address question F2 by randomly assigning the
F1 Which continuous functions are best suited to model
participants into a ’robot’ or ’person’ actor group to avoid
fuzzy time requirements with varying prepositions (in,
carryover effects. Thus, the actor is consistently called either
after, before)?
’robot’ or ’person’ in the task description. The instructions
F2 To what extent does the satisfaction function differ when
have different time specifications, allowing us to examine F3.
the task is executed by a human compared to a robot?
F3 To what extent do different start times influence the A. User Study Design
satisfaction function?
The user study consists of four components: Demographic
Accordingly,weaskuserstoratetheirsatisfactionwiththeex- questions, an introduction, main tasks, and a control question.
ecution of instructions at various execution times. A potential Demographic questions include the age, gender, and cultural
methodology would be a sampling-based study design. This background of the participant. The introduction explains the
design requires users to instruct the actor, thus triggering the tasks and a short tutorial about the user interface (Fig. 5). In
execution at a point in time. Then, the users would indicate the described scenario, the actor is already working on other
their satisfaction with this execution time. However, this has unnamed assignments. Therefore, a perfect adherence to the
the disadvantage that we require many sample points (i.e., specified start times is not possible. The participants are each
questions per instruction) for a high-resolution satisfaction given14instructionsandaskedtodrawtheirsatisfactionifthe
function.Assumingthesatisfactionfunctionsvaryfordifferent actor would start the task at the corresponding time stamp.
instructions, this design would require numerous questions. The user study interface (Fig. 5) consists of the canvas for
Alternatively, a function-based study design mitigates this drawing and the timeline for quickly moving the canvas over
issue: Users receive an instruction and are asked to assess time. To mitigate the impact of the users’ drawing skills with
their own satisfaction over the entire timeline. The user then the computer mouse, they can overwrite the drawn function
draws the complete satisfaction function instead of giving a and, thus, precisely specify their desired function.
few points to which the function is fitted. This design may The instructions for the main tasks follow the pattern “The
be less straightforward for the user as the execution is not assignment should start ⟨preposition⟩ ⟨fuzziness⟩ ⟨time⟩!”,
directly shown. However, this reduces the number of required where ⟨·⟩ signifies placeholders: ⟨preposition⟩ ∈ {in, after,
questions, enabling a broader exploration of fuzzy time re- before the next}, ⟨fuzziness⟩ ∈ {∅, approximately}, and
quirements,includingahighersamplingrateandbroadertime ⟨time⟩ ∈ {now, one minute, 10 minutes, 30 minutes}. Based
interval. We opted for a function-based study design as we on ⟨time⟩, every instruction contains the specified time t
spec
couldnotcollectsufficientdataforthesampling-baseddesign. (e.g., one minute: t = 1 min). The order of the words in
spec
We conducted the so-designed study with an online user the instruction had to be partially adjusted for a correct gram-
study. The participants are directed that they are instructing matical sentence (e.g., “The assignment should start before
one actor. The task is to draw a satisfaction function over approximately the next ten minutes.”). To reduce the testing
timeformultipleinstructionsiftheactorwouldstartexecution fatigueoftheparticipantswhilestillinvestigatingourresearchquestions,wedonotregardeverycombinationofplaceholders.
Overall, we combined (i) approximately only with the times
10-minutes and now (to soon); and (ii) now only with the in-
preposition. Thus, the user study consists of 14 instructions.
The timeline covers the time range between 0 and 60 minutes
sampled by 800 measurements per instruction (sampling rate
of 4.5 s−1). The initial default value of the function at each
timestepis0.Theinstructionsarepresentedtotheparticipants
in random order to minimize learning effects. In advance, we
defined as attention checks that the participant is filtered if
the drawn function equals zero for every time step ±5 min
aroundt inanyinstruction.Wedeliberatelyprovidegeneric
spec
instructions for result generalization, as the scenario may
influence satisfaction. The application scenario and explicit
operations are intentionally kept generic. We assume that the
application has a significant influence on user satisfaction.
Accordingly,wedetachedthetasksfromaspecificapplication Fig.7. Comparisonbetweenrobotandpersonactors.Thetimerequirements
to further generalize the results. In the control question, the are“inoneminute”(top)and“in30minutes”(bottom).
actor should start at 10 minutes but is three minutes late. The
participants rate their satisfaction using a Likert Scale.
trapezoidal functions (e.g., Fig. 6e). Their errors are between
B. Results and Discussion 0.008 and 0.098. The fitted parameters result in functions
The user study was conducted with convenience sampling, at maximum between 0 and t spec (except for t = 0 due to
mostly among students and employees of the University of rounding error). Each fitted satisfaction function for after-
Bayreuth.Onepersonhadtobefilteredbasedontheattention prepositions is trapezoidal with a prediction error between
check, resulting in 32 participants. Of these, four are female 0.038 and 0.774. Analogous to Fig. 6c and Fig. 6f, their right
(12.25%), 26 are male (81.5%), and two stated no answer maximum is greater than t spec, whereas the left maximum is
(6.25%). The participants are between 21 and 35 years old, directly on t spec (margin of 5.4 s). The mean of the absolute
with a median x˜ = 26.5 years. Of all participants, 29 have a gradientontheleft(5.946)isgreaterthanontheright(0.312).
German cultural background (90.625%), two have an Indian The participants’ median is mostly linear, impeding the
background (6.25%), and one has a US-German background. prediction quality of the bell curve fit. Conforming with
The division into the actor group was 16 participants each. our expectations, the user satisfaction is maximum around
The following sections are structured based on the research t spec. We also confirmed the expectation regarding the before-
questions:Eachsectionbrieflyexplainstheevaluationmethod- preposition as its value range between 0 and t spec is maximal.
ology, gives our predictions before the study commenced, Bell curves were also fitted, but their transition to 0 is abrupt
presents the results, and discusses them. (similartothetrapezoidalfunctions).Contrarytoexpectations,
1) Best Fit Continuous Satisfaction Functions: We use a however, the median in after-prepositions does not plateau
Trust Region Reflective (Section III-C2) to determine the best from t spec to t max. Yet, it was represented with a trapezoidal
fittingfunctions.Ourstudyincludesfourinstructionswithin-, function slowly decreasing to the right. This indicates that
after-,andbefore-prepositioneach.Weconsidertherespective participants are not satisfied to wait an extended period but
tasksindividuallyandcomparetheprepositions.Thefunctions have the execution close to t spec. The high difference between
are fitted to the median satisfaction function. We considered thequantilesoftheparticipants’answersshouldbenotedhere
rectangular,triangular,trapezoidal,andbellcurvefunctionsas (e.g., in Fig. 6f), indicating divergent participant expectations.
they commonly model uncertainty in fuzzy-logic [45]. Since In response to F1, trapezoids are suitable representations of
trapezoidal functions encompass rectangular and triangular fuzzy time requirements: in-trapezoids are centered at t spec;
functions, we fitted trapezoidal functions and bell curves. before-trapezoids are maximal between 0 and t spec, and after-
We assumed that in-prepositions lead predominantly to bell trapezoids are maximal at t spec decreasing slowly to the right.
curvescenteredaroundt .Weexpectedatrapezoidaltobest 2) Expectation Comparison between Human and Robot
spec
approximate before- (between 0 to t maximal) and after- Actors: We compare the human and robot groups for each
spec
prepositions (between t and t maximal). instruction.Forthispurpose,themedianiscalculatedforeach
spec max
Theinstructionswithinbestfittotrapezoidalfunctionwith group independently. We assume that the “broadness” of the
a prediction error between 0.084 and 0.206 (e.g., Fig. 6a and respectivesatisfactionfunctionsdiffers.Accordingly,wewant
Fig. 6d). In contrast, the fitted bell curve’s prediction error to calculate the variance of the satisfaction functions. For this
is between 0.221 and 0.890. The maxima of the trapezoid purpose, we interpret the median satisfaction functions as a
encompass t . The fitted satisfaction functions to before- probability density distribution over time, i.e., the percentage
spec
instructionsaredividedintotwobellcurves(e.g.,Fig.6b)and of satisfaction at one point in time. This is compared betweenthe groups. Furthermore, the answers to the control question
are compared and tested for significance with the Mann-
Whitney U test. We presumed that the participants are more
lenienttowardsotherpeoplethantowardsarobot,asarobotis
expected to be more precise. This means that the variance of
the person group is greater than that of the robot group. We
expect the participants to be significantly less satisfied with
the robot’s delays (control question).
Thevarianceofthemediansatisfactionfunctionswithinthe
person group is smaller than in the robot group in 12 out of
14 cases. The mean difference in variance between the person
and robot group is −0.769 (negative values indicate a larger Fig.8. Comparisonofhowthespecifiedstarttimeinfluencesthevariance
variance in the robot group). In Fig. 7 (top), the difference inthemediansatisfactionfunctions(at0,1,10,and30minutes).
in variance for the in-preposition is −0.606. An example of
the robot group’s lower variance with a difference of 0.633 have more tolerance for late executions by person actors in
is shown in Fig. 7 (bottom). The control question’s results future operations (in Fig. 8 at 30 minutes). Conceivably, users
exhibit a mode at 1 (lowest) for the robot group and a mode expect a more precise internal time in robots. For this, further
at 3 (medium) for the person group. The Mann-Whitney U investigations with more time markers are required.
test results in a p=0.267.
Theuserstudyresultscannotbeunambiguouslyinterpreted V. CONCLUSIONS
to which extent humans are more lenient towards persons In this paper, we contribute a methodology for handling
than robots. The robot group’s variance is larger for most in- and interpreting fuzzy time requirements in natural language
structions,indicatinggreaterleniencytowardsrobots.Humans instructions. We introduced fuzzy skills managing fuzziness
perhaps consider other people as more capable than robots. In in execution times (Section III-A). This fuzzy execution time
contrast,thecontrolquestionshowstheparticipants’tendency is represented by satisfaction functions reflecting the user’s
to be more lenient towards people. However, the test is not satisfaction over time regarding the timeliness of execution.
statistically significant (p=0.267 is over 0.05). Accordingly, We derive satisfaction functions from the user instruction
wecannotanswerquestionF2unequivocally.Nevertheless,we by interpreting keywords and employing lookup methods or
interpret the results as showing that the actor may influence temporal fuzzy-logic (Section III-B1). These functions enable
user satisfaction. Further studies with more actors (including the robot system to make educated decisions when specifi-
different robot actors) could give more insight. In particular, cations overlap, facilitating satisfaction-maximizing schedul-
thedifferencesbetweenthedirectopinionquery(controlques- ing. Hill Climbing approximates this optimization problem
tion) and the drawn satisfaction functions must be evaluated. (Section III-B2). Satisfaction functions are subjective for the
Itisalsouncertaintowhatextenttheabsentvisualcomponent user. For generalization, we interpret subjective satisfaction
of the actor influenced our results. functions by their characteristic properties and fit continu-
3) Influence of Start Times: We compare the satisfaction ous functions to them (Section III-C). Building on this, we
functions of the four time-variants (now, one minute, 10 conducted an online user study (Section IV) to investigate
minutes, and 30 minutes). We consider the in-preposition models for fuzzy time requirements, the influence of the actor
withoutfuzzinessmodifierforadirectcomparisonofthestart (robot or person), and start time. The participants assessed
times. For this, we plot the variance of the median over the their satisfaction based on the actor’s execution of a given
time t . We presumed that the variance of the median and instruction at different points in time. For this, they would
spec
t are positively correlated, i.e., the greater the specified draw the complete satisfaction function, allowing a broad
spec
time,thegreaterthevariance.Punctualitymaybelessrelevant exploration of fuzzy time requirements. The evaluation shows
for later instructions than for imminent ones. that trapezoidal functions are suitable for representing fuzzy
Thevarianceacrossbothgroupsincreaseswiththespecified time requirements. However, regarding the actor’s influence,
time t (Fig. 8). For a now-instruction, the general variance results are mixed: Users generally appear to grant the robot
spec
is 0.197; for in 30 minutes, it is 1.63 (increased by a factor of more leniency in execution time according to the drawn
8.274).Therobotvarianceatthemarkers0,1,and10minutes satisfactionfunctions.Eventhoughtheresponsestothecontrol
ishigher,whereas,for30minutes,thepersongroup’svariance question are not statistically significant, they contradict this,
is 1.805 compared to 1.171. suggesting the opposite. Start times further in the future
The presumption that variance and t positively correlate increase the width of the tolerance window.
spec
isconfirmedinthecontextofourevaluatedtimespecifications. Ourexplorationoffuzzytimerequirementslaystheground-
Thus,usersgenerallygivetheactoralargerexecutionwindow work for future work: We detached our evaluation from
as it is specified further in the future. For the person group, an explicit domain and hardware setup. Accordingly, the
the variance is slightly smaller at t = 1 compared to conclusions must be validated based on an explicit scenario
spec
t =0. We attribute this result to noise. Additionally, users with real physical actors. To gain further insight into the
speccomparison between robot and human actors, a broader study [21] N. A. Omoregbe, I. O. Ndaman, S. Misra, O. O. Abayomi-Alli,
with increased participant numbers and task variations can and R. Damasˇevicˇius, “Text messaging-based medical diagnosis using
natural language processing and fuzzy logic,” Journal of Healthcare
be conducted. Several aspects remain open for exploration,
Engineering,vol.2020,2020.
such as the impact of the application scenario, skill duration, [22] L. Bolc, A. Kowalski, M. Kozlowska, and T. Strzalkowski, “A natural
indicatorverbs(“finishtheassignmentby...”),missingexplicit language information retrieval system with extentions towards fuzzy
reasoning,” International Journal of Man-Machine Studies, vol. 23,
time specification (e.g., “soon”), and demographic factors
no.4,pp.335–367,1985.
(e.g., culture and education). Furthermore, the approaches to [23] A. Tamrakar and V. K. Mishra, “Natural language query processing
solvetheoptimizationproblemcanbeexaminedmoreclosely, based on fuzzylogic,” International Journal ofComputer Science and
Engineering,vol.3,no.2,pp.105–110,2014.
e.g., by analyzing their runtime and quality. Additionally, a
[24] M.Cerrada,J.Aguilar,E.Colina,andA.Titli,“Dynamicalmembership
user study may investigate the automatic inference of the functions: an approach for adaptive fuzzy modelling,” Fuzzy Sets and
satisfactionfunctionsfrominstructionsinspecificapplications. Systems,vol.152,no.3,pp.513–533,2005.
[25] A.-X.Zhu,L.Yang,B.Li,C.Qin,T.Pei,andB.Liu,“Constructionof
ACKNOWLEDGMENTS membership functions for predictive soil mapping under fuzzy logic,”
Geoderma,pp.164–174,2010.
The authors thank the participants of the user study for [26] J. Pane, C. Ratanamahatana, and B. Myers, “Studying the language
contributing to our research. andstructureinnon-programmers’solutionstoprogrammingproblems,”
Intern.JournalofHumanComputerStudies,pp.237–264,2000.
[27] H. Lieberman and H. Liu, “Feasibility studies for programming in
REFERENCES
naturallanguage,”inEndUserDevelopment,H.Lieberman,F.Paterno`,
[1] D. Riedelbauch, J. Hartwig, and D. Henrich, “Enabling End-Users to andV.Wulf,Eds.,2006,pp.459–473.
DeployFlexibleHuman-RobotTeamstoFactoriesoftheFuture,”IROS [28] M. Landha¨ußer, T. Hey, and W. F. Tichy, “Deriving time lines from
2019WorkshopFactoryoftheFuture,2019. texts,” in Proc. of the 3rd Intern. Workshop on Realizing Artificial
[2] T.Dietzetal.,“Programmingsystemforefficientuseofindustrialrobots IntelligentSynergiesinSoftwareEngineering. ACM,2014,p.45–51.
fordeburringinsmeenvironments,”inROBOTIK,2012. [29] R.LiuandX.Zhang,“Generatingmachine-executableplansfromend-
[3] D.RiedelbauchandS.Sucker,“Visualprogrammingofrobottaskswith user’s natural-language instructions,” Knowledge-Based Systems, vol.
productandprocessvariety,”AnnalsofScientificSocietyforAssembly, 140,pp.15–26,2018.
HandlingandIndustrialRobotics,2022. [30] J. X. Liu et al., “Lang2ltl: Translating natural language commands to
[4] J. Hartwig, S. Fischer, and D. Henrich, “Visualization of forces and temporal specification with large language models,” in Workshop on
torquesforrobot-programmingofin-contacttasks,”AnnalsofScientific LanguageandRoboticsatCoRL2022,2022.
SocietyforAssembly,HandlingandIndustrialRobotics,2023. [31] M.Cosler,C.Hahn,D.Mendoza,F.Schmitt,andC.Trippel,“Nl2spec:
[5] S. Sucker and D. Henrich, “A layered Pipeline for Natural Language Interactivelytranslatingunstructurednaturallanguagetotemporallogics
RobotProgrammingwithControlStructures,”AnnalsofScientificSoci- withlargelanguagemodels,”Intern.Conf.onComputerAidedVerifica-
etyforAssembly,HandlingandIndustrialRobotics,2023. tion,pp.383–396,2023.
[6] N. Mavridis, “A review of verbal and non-verbal human–robot inter- [32] J. Devlin, M. Chang, K. Lee, and K. Toutanova, “Bert: Pre-training
active communication,” Robotic and Autonomous Systems, pp. 22–35, of deep bidirectional transformers for language understanding,” CoRR,
2015. 2018.[Online].Available:http://arxiv.org/abs/1810.04805
[7] L.Zadeh,“Fuzzysets,”InformationandControl,vol.8,no.3,pp.338– [33] J.Achiametal.,“Gpt-4technicalreport,”OpenAi,Tech.Rep.,2023.
353,1965. [34] C.Paxton,A.Hundt,F.Jonathan,K.Guerin,andG.D.Hager,“Costar:
[8] G. Klir and B. Yuan, Fuzzy sets and fuzzy logic. Prentice hall New Instructingcollaborativerobotswithbehaviortreesandvision,”inIEEE
Jersey,1995,vol.4. Intern.Conf.onRoboticsandAutomation(ICRA),2017,pp.564–571.
[9] K.Wo¨lfelandD.Henrich,“Groundingverbsfortool-dependent,sensor- [35] K.Wo¨lfelandD.Henrich,“Groundingofuncertainforceparametersin
basedrobottasks,”in2018RO-MAN,2018,pp.378–383. spoken robot commands,” in International Conference on Robotics in
[10] D.DuBoisandH.Prade,“Processingfuzzytemporalknowledge,”IEEE Alpe-Adria-DanubeRegion,2019.
TransactionsonSystems,Man,andCybernetics,pp.729–744,1989. [36] H. Kopetz and W. Steiner, Real-time systems: design principles for
[11] M. R. Pedersen et al., “Robot skills for manufacturing: From concept distributedembeddedapplications. SpringerNature,2022.
toindustrialdeployment,”RoboticsandComputer-IntegratedManufac- [37] I.Singhetal.,“ProgPrompt:GeneratingSituatedRobotTaskPlansusing
turing,vol.37,pp.282–291,2016. Large Language Models,” in 2023 IEEE International Conference on
[12] M. Fichtner, S. Sucker, D. Riedelbauch, S. Jablonski, and D. Henrich,
RoboticsandAutomation(ICRA),May2023,pp.11523–11530.
“Enriching process models with relevant process details for flexible [38] S. H. Vemprala, R. Bonatti, A. Bucker, and A. Kapoor, “ChatGPT for
human-robotteaming,”inCollaborativeComputation:Netw.,Appl.and Robotics:DesignPrinciplesandModelAbilities,”IEEEAccess,vol.12,
Worksharing. SpringerNatureSwitzerland,2024,pp.249–269. pp.55682–55696,2024.
[13] P. Carinena, C. Regueiro, A. Otero, A. Bugarin, and S. Barro, “Land- [39] D.JurafskyandJ.H.Martin,“Sequencelabelingforpartsofspeechand
mark detection in mobile robotics using fuzzy temporal rules,” IEEE namedentities,”inSpeechandLanguageProcessing:AnIntroductionto
TransactionsonFuzzySystems,pp.423–435,2004. Natural Language Processing, Computational Linguistics, and Speech
[14] J.AbouSaleh,F.Karray,andM.Morckos,“Modellingofrobotattention Recognition,3rded. Pearson,2023,ch.8,pp.165–167.
demand in human-robot interaction using finite fuzzy state automata,” [40] M.-C. de Marneffe et al., “Universal stanford dependencies: A cross-
inInternationalConferenceonFuzzySystems. IEEE,2012,pp.1–8. linguistic typology,” in LREC’14). European Language Resources
[15] H.-X. Li and X.-G. Duan, “A spatio-temporal fuzzy logic system for Association(ELRA),2014,pp.4585–4592.
processcontrol,”inSMC’09,2009,pp.783–788. [41] L. Ferro, I. Mani, B. Sundheim, and G. Wilson, “Tides temporal
[16] M.MartosandJ.Velasco,“Evolutionarytemporalfuzzycontrolapplied annotationguidelines,”TheMITRECorporation,WashingtonC3Center,
toadaptivedistributedrouting.”inEUSFLATConf.,2005,pp.488–493. McLean,Virginia,Tech.Rep.1.0.2,2000.
[17] D.Dubois,H.Fargier,andP.Fortemps,“Fuzzyscheduling:Modelling [42] S. J. Russell and P. Norvig, “Beyond classical search,” in Artificial
flexibleconstraintsvs.copingwithincompleteknowledge,”EJOR,vol. intelligence: a modern approach, 3rd ed. Pearson Education, Inc.,
147,no.2,pp.231–252,2003. NewJersey,USA,2010,ch.4,pp.122–129.
[18] W.Slany,“Fuzzyscheduling,”Ph.D.dissertation,ViennaUniversityof [43] G. James et al., “Moving beyond linerarity,” in An introduction to
Technology(TUWien),1994. statisticallearning. Springer,2013,vol.112,ch.4,pp.266–268.
[19] D.Liu,G.Shi,andZ.Kang,“Fuzzyschedulingproblemofvesselsin [44] M.A.Branch,T.F.Coleman,andY.Li,“Asubspace,interior,andcon-
one-waywaterway,”J.ofMarineSci.andEng.,no.10,2021. jugategradientmethodforlarge-scalebound-constrainedminimization
[20] H.M.HershandA.Caramazza,“Afuzzysetapproachtomodifiersand
problems,”SIAMJournalonScientificComputing,pp.1–23,1999.
vagueness in natural language.” Journal of Experimental Psychology: [45] J. Zhao and B. Bose, “Evaluation of membership functions for fuzzy
General,vol.105,no.3,p.254,1976. logiccontrolledinductionmotordrive,”inIECON,2002,pp.229–234.