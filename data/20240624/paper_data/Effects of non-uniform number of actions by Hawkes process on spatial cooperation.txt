Effects of non-uniform number of actions by Hawkes process
on spatial cooperation
Daiki Miyagawa1∗ and Genki Ichinose2
1 Graduate School of Science and Technology, Shizuoka University,
3-5-1 Johoku, Naka-ku, Hamamatsu, 432-8561, Japan
2 Department of Mathematical and Systems Engineering, Shizuoka University,
3-5-1 Johoku, Naka-ku, Hamamatsu, 432-8561, Japan
∗ Corresponding author (miyagawa.daiki.18@shizuoka.ac.jp)
June 24, 2024
Abstract
Theemergenceofcooperativebehavior,despitenaturalselectionfavoringrationalself-interest,presentsasignif-
icant evolutionary puzzle. Evolutionary game theory elucidates why cooperative behavior can be advantageous
for survival. However, the impact of non-uniformity in the frequency of actions, particularly when actions are
altered in the short term, has received little scholarly attention. To demonstrate the relationship between the
non-uniformity in the frequency of actions and the evolution of cooperation, we conducted multi-agent simu-
lations of evolutionary games. In our model, each agent performs actions in a chain-reaction, resulting in a
non-uniformdistributionofthenumberofactions. Toachieveavarietyofnon-uniformactionfrequency, wein-
troducedtwotypesofchain-reactionrules: onewhereanagent’sactionstriggersubsequentactions,andanother
where an agent’s actions depend on the actions of others. Our results revealed that cooperation evolves more
effectively in scenarios with even slight non-uniformity in action frequency compared to completely uniform
cases. In addition, scenarios where agents’ actions are primarily triggered by their own previous actions more
effectivelysupportcooperation, whereasthosetriggeredbyothers’actionsarelesseffective. Thisimpliesthata
few highly active individuals contribute positively to cooperation, while the tendency to follow others’ actions
can hinder it.
Keywords
Evolutionary game, Donation game, Spatial structure, Cascading action, Non-uniformity
1 Introduction
Cooperation is one of the key elements of human society. However, competition among individuals frequently
arises due to the potential benefits of exploiting others. Game theory posits that cooperation is inherently
irrational,asindividualsareoftentemptedbyopportunitiesforexploitation. Thus,thereasonswhycooperation
is common in society have attracted great attention and many researchers continue to tackle this problem.
Evolutionarygametheoryisfrequentlyusedtoanalyzethedilemmaofcooperation. Thistheoreticalframe-
work, which draws on concepts from biological evolution, examines which behaviors and traits are likely to
persist across numerous generations [1]. In standard evolutionary games, a population is composed of many
individuals. Each individual possesses a strategy to survive in a population and utilizes this strategy when
playing a game with other individuals. Individuals who achieve higher payoffs than others in such interactions
canreproducemoresuccessfully,resultinginagreaternumberofoffspring. Consequently,thestrategiesofthese
individuals become more prevalent within the population over time.
Manyresearchershaveusedevolutionarygamestoseekeffectivestrategiesformaintainingcooperation. For
example, when considering long-term relationships, it has been theoretically demonstrated that cooperative
strategies can survive [2–5]. Evolutionary game models have also revealed that being evaluated by others
1
4202
nuJ
12
]AM.sc[
1v63051.6042:viXracontributes to the evolution of cooperation [6–8]. Additionally, the introduction of spatial structures such
as lattices, small-world networks, and scale-free networks is known to facilitate the formation of clusters of
cooperators, enhancing their chances of survival [9–11].
It is well studied in evolutionary theory that the relative rate at which strategies are updated compared
to the frequency of interactions can significantly influence the outcomes of evolution [12–15]. In classical
evolutionarygamestherateofstrategyupdateisassumedtobemuchslowerthantheinteraction. Thisscenario
assumesbiologicalevolution,whereinthebasicpremiseisthatindividualsaltertheirtraitsandbehaviorsacross
generations. Consequently, while interactions occur numerous times throughout an individual’s lifetime, it is
reasonable to assume that strategy updates happen at most a few times. In cultural evolution, on the other
hand,individualsmodifytheirbehaviormultipletimesthroughouttheirlifetime. Therefore,therateofstrategy
updates closely matches the frequency of interactions. Additionally, several studies have also investigated the
effects of dynamically changing the rate of strategy updates [16–19].
Timescales are not the only distinguishing factor between cultural and biological evolution. Another key
differenceisthenon-uniformityinthenumberofinteractionsexperiencedbyindividuals. Inbiologicalevolution,
the rate of interactions is significantly faster compared to the rate of strategy updating, resulting in a high
frequency of interactions for all individuals. Consequently, there is relatively little variation in the number
of interactions among individuals. However, in cultural evolution, strategy updating occurs at stages with
insufficient interactions. As a result, the number of interactions among individuals tends to be more non-
uniform than in biological evolution.
Roca et al. considered the effect of such non-uniformity of the number of interactions among individuals on
the evolution of cooperation [12]. Their model realized the slower rate of interactions by repeating n times to
randomly pick up two agents and let them play games (n is sufficiently smaller than the total number of agents
N). Hence, as n increases (decreases), the distribution of the number of games approaches the uniform (non-
uniform) state. They showed that cooperation was hard to evolve in the prisoner’s dilemma game as n became
smaller. Additionally, Li et al. has examined the impact of both “spatial structure” and “non-uniformity of
interactions”ontheevolutionofcooperation [20]. Theyinvestigatedhowtherelativerateoftopologicalchanges
inatemporalnetworkaffectstheevolutionofcooperationincomparisontotherateofstrategyupdates. Inthis
temporal network, topological changes activate (or deactivate) each link, meaning that only certain individuals
caninteractatanygiventime. Consequently,whentopologicalchangesareslow,someindividualscancontinue
to interact until strategy updates occur, whereas rapid changes enable nearly all individuals to interact. As
a result, they demonstrated that when the rate of topological change is equivalent to the rate of strategy
updates, cooperation is promoted more effectively than in cases where the rate of topological change is very
fast. In other words, they have shown that cooperation is better maintained in a non-uniform situation where
topological changes are slow, allowing only some individuals to interact.
On the other hand, studies on the effects of non-uniformity on the evolution of cooperation are still limited.
This is because it is not clear whether, for example, cooperation is promoted in the case of extreme non-
uniformity. For instance, extreme non-uniformity in the number of interactions among individuals (which
has been extensively studied as a bursting phenomenon [21–26]), could emerge due to self-exciting behavioral
rules. Therefore, understanding the relationship between the diversity of non-uniformity and the evolution of
cooperationisessentialforelucidatinghowtherulesgoverningthetimingofouractionsinfluencetheevolution
of cooperation.
The aim of this study is to reproduce the diversity of non-uniformity in the number of interactions and to
show its relationship with the evolution of cooperation. To achieve specific types of non-uniformity, we define
cascadingagentsthatactinachain-reactionmannerandconductmulti-agentsimulationsofevolutionarygames.
We prepare two types of cascading rules: (1) endogenous exciting cascades, where an action once taken excites
subsequent actions of the same individual, and (2) exogenous exciting cascades, where the actions of others
excite the next action of the individual. From the perspective of achieving non-uniformity, we anticipate that
the rule (1) will result in a state where a few individuals have a very high number of actions, and the rule (2)
will produce groups where individuals excite each other, leading to a collective with a high number of actions.
Forinstance,inthecontextofSNS,therule(1)resemblesasituationwherepostinganopinionmakesonemore
likelytopostrelatedcontentagain,whiletherule(2)issimilartoseeingfriendspostonsocialmedia,prompting
one to post as well. Cascading actions thus can be considered realistic, so verifying the connection between
these natural tendencies and forming a cooperative society is also a significant motivation for this study. We
generate thesechain-reaction timings using the Hawkes process, a methodcommonly employed instudies using
self-exciting behavioral models [27–30].
22 Overview of Hawkes processes
Hawkes process is a part of the point process that represents occurrences of events in a time series [31,32]. The
point process models the frequency of events using an intensity function λ(t). We can interpret the function as
an event occurrence rate at the time t. The probability that an event occurs once from t until t+∆t is hence
λ(t)∆t.
In the case that λ(t) is a constant value ρ (>0), we call this the stationary Poisson process. It means that
the possibility of an event occurring is constant, independent of time and other factors. This well-known model
is the basis of the queue theory [33]. We call it just the Poisson process in the rest of this paper.
Hawkesprocessisasubsetofpointprocessmodels, whoseprobabilityofgeneratinganeweventdependson
the past events. Defining the time series of event occurrence in order t ,t ,··· ,t , the Hawkes process can be
0 1 ℓ
explained by the following:
(cid:88)
λ(t)=ρ+ g(t−t ). (1)
ℓ
tℓ<t
Thefunctiong(τ)indicatestheinfluencethataneventafterτ elapsedsinceitsoccurrencehasontheoccurrence
of a new event, which is called the kernel function of the Hawkes processes. It defines 0 if τ <0 but otherwise
non-negative so that exponential and power functions are often used. We now use the extended exponential
one:
g(τ)=ανexp(−βντ), (2)
where α, ν, and β are constant parameters. Equation (1) can be rewritten using that function as below:
(cid:88)
λ(t)=ρ+ ανexp{−βν(t−t )}. (3)
ℓ
tℓ<t
Figure 1 shows the fluctuation of λ(t) as an example. The black circles on the horizontal axis indicate the
moments when events occurred (t ). We can see that λ(t) increases sharply at these moments by the effect of
ℓ
the second term in Eq. (3). Thus, the next event will more frequently occur in a few moments because λ(t)
becomeshigherafteranevent. Itmeansthatthecascadingofeventscanhappenbythekernelfunction. Letus
explain the parameters by this figure. Parameter ρ means the initial and the lowest value of λ(t). As soon as
theeventsoccur,λ(t)risesbythevalueofαν (redarrow)becauseoftheexponentialkernel. Itthendecayswith
steepness represented by βν (gray arrow) until the next event occurs. In other words, the larger α is, the larger
λ(t)risesandincreasestheprobabilityofoccurrenceofthenextevent(asshowninthetoprowofFig.2),while
the larger β is, the faster λ(t) decays and the more difficult the chain of events occurs (as shown in the middle
row of Fig. 2). Additionally, while ν is not typically included in the ordinary exponential kernel, as depicted
in the bottom row of Fig. 2, it serves as a parameter that allows for altering the spike shape of the intensity
function. Note that changing ν does not change the expected number of events per unit time ⟨λ⟩ = ρ
1−α/β
(which is derived in Appendix A). Therefore, we introduced it in our model to control the intensity of the λ(t)
change while maintaining the value of ⟨λ⟩.
WhiletheHawkesprocessdescribedaboveisoneinwhichone’spasteventsexciteone’sfutureevents, there
are also situations in which one’s future events are excited by other event generators. These can be regarded,
forexample, asasituationinwhichoneuser’sactivitytriggersanother’sactivityinasocialnetworkingservice.
In this case, let N be the set of neighboring event generators that can influence generator i, and t be the ℓth
i ℓ;i
event occurrence time of generator i. We can express the intensity function by adding up influences from all
the neighbors as follows:
(cid:88) (cid:88)
λ (t)=ρ + α ν exp{−β ν (t−t )}, (4)
i i ji ji ji ji ℓ;j
j∈Nitℓ;j<t
where ρ is generator i’s lowest value of λ (t). Additionally, α , ν , and β are the parameters of the effect of
i i ji ji ji
the event generated by j on i.
3 Model
We developed agent-based evolutionary game models on the square lattice. We prepared two kinds of models.
The first is the “standard model”, which assumes biological evolution. Another one is the Hawkes process
model. ThismodelusestheHawkesprocesstocalculatethenumberofdonationsforeachagent,butmostparts
overlap the standard one. Therefore, we first explain the standard model.
3(t)
t
: Event occurrence
Figure 1: An example where λ(t) fluctuates over time according to event occurrences. We use the following
setting: ρ=0.5, α=0.5, ν =1, and β =1.
( , , )=(0.1, 1.0, 1.0) 1.0 ( , , )=(0.9, 1.0, 1.0)
1.0
1.693...
0.5
0.2
1.693...
0.0
( , , )=(0.5, 1.0, 1.0) ( , , )=(0.5, 1.0, 2.0)
1.0
0.6 0.6
0.5
1.693... 1.347...
0.0
( , , )=(0.5, 1.0, 1.0) 2.6 ( , , )=(0.5, 5.0, 1.0)
2
1.139...
1
0.6
1.693...
0
0 1 2 3 4 5 0 1 2 3 4 5
t t
Figure2: Effectsoftheparametersontheexponentialkernel(Eq.(2)). Plotsinthetoprowcomparetheeffect
of α (left: α = 0.1; right: α = 0.9). ν = 1 and β = 1 are constant in both. Plots in the middle compare the
effectofβ (left: β =1; right: β =2). α=0.5andν =1areconstantinboth. Plotsinthebottomcomparethe
effect of ν (left: ν =1; right: ν =5). α=0.5 and β =1 are constant in both. Each red broken line denotes a
peak of λ(t) that is raised by an event occurrence. Each blue broken line represents the half-life period of λ(t)
after it rises, affected by an occurrence of an event.
4
)t(
)t(
)t(3.1 Standard Model
In this model, we prepare L×L = N agents separately allocated on L×L square lattice, which satisfies the
periodic boundary condition. Each agent can interact with k neighbor agents. Agent i has its strategy s . We
i
define strategy s as the tuple composed of some variables that are used to make decisions. Basically, we use
i
s =(a ), where a indicates the attitude of agent i: Cooperative (C) or Defective (D); thus a ∈{C,D}.
i i i i
Three stages compose the flow of our model as shown in Fig. 3: Initialization, Donation, and Update. In
the initialization stage, we allocate random strategies to every agent and set accumulated rewards to zero. In
thedonationstage, everyagentsimultaneouslydecideswhethertodonatetoitsneighboragentsonceaccording
to its action: Agent i with a =C, i.e., cooperator, donates payoff b to all neighbors and pays the cost k(b−1).
i
On the other hand, agent i with a = D, i.e., defector, donates nothing and pays nothing. We impose b > 1
i
to regard neighboring individuals as playing a donation game, a part of the prisoner’s dilemma games, showing
the payoff matrix in this game in Table 1. In this case, parameter b is regarded as the defectors’ advantage
because the cost-benefit ratio becomes smaller as b becomes larger. Each agent can store payoffs until one
generation ends. In the next stage, update, every agent updates their strategies simultaneously. Update means
to imitate a strategy of an agent whose payoff is the highest among its neighbors including itself (if there are a
few candidates, the agent selects one randomly). When an agent imitates another agent’s strategy, the agent
can copy with probability 1−µ, but its strategy mutates with probability µ (reset each variable randomly).
We call the consecutive process of donation and update stages the process of one generation. The simulation
executes G times in one trial to obtain the final state of the individuals. To analyze the result, we mainly
end
use the fraction of cooperators (f ) given by dividing the number of cooperators into that of all individuals.
C
Every indicator is averaged in the last G generations.
ave
3.2 Hawkes process (HP) model
The difference between the standard model and the HP one is in the donation stage. At each donation stage,
the HP model requires agents to generate the time series of executing donations following the Hawkes process
until the one-generation-time t has elapsed. Thus, each agent’s number of actions is no longer limited to one.
G
Table 1: Payoff matrix. It shows payoffs on the “Self” player’s side when the two players decide whether to
cooperate.
Opponent
Cooperate Defect
Cooperate 1 1−b
Self
Defect b 0
Repeat times
Initialize Donate Update
Cooperator Defector Select Imitate
Gives to neighbors Does not give Focal agent selects a neighboring
Agentsselectstrategiesrandomly and pay and pay agent( ) toimitate
Figure 3: Flow of our model.
5The intensity function λ (t) of agent i is written as below:
i
(cid:88)
λ (t)=ρ +α ν exp{−β ν (t−t )}
i i i;n i i;n i ℓ;i
tℓ;i<t
(cid:88) (cid:88)
+α ν exp{−β ν (t−t )}, (5)
i;x i i;x i ℓ;j
j∈Nitℓ;j<t
where ρ is the baseline intensity, α and α correspond to the strength of excitation α in Eq. (3), but they
i i;n i;x
havedifferentroles; Theformerisendogenousone, i.e. usedtodealwiththepasteventsofitself, butthelatter
isexogenousone, i.e. usedtodeal withthatofneighbors. Similarly, β andβ correspondtothedecayratio
i;n i;x
of endogenous and exogenous, respectively. To simplify, we use the common parameter β instead of all β
i;n
and β . We also use a common parameter ν for ν similarly; unless otherwise specified, we assume ν = 1 by
i;x i
default. Variable t indicates the time when agent k executed its ℓth action.
ℓ;k
3.3 Algorithm to generate time series of executing donations according to Hawkes
processes
WeuseOgata’sthinningmethodtosimulategeneratingatimeseriesofevents(whichareinterpretedasdonation
actions in our model) according to the Hawkes process [34]. We show the process of generating a new event
through the thinning method with a single event generator (agent) expressed by Eq. (1):
1. Set t=0, λ∗ =ρ.
2. Regarding the process as the Poisson process with λ = λ∗, calculate the estimated time t∗ that the next
event will occur using the exponential distribution.
3. Calculate λ(t+t∗) by Eq. (1).
4. Execute acceptance if u <
λ(t+t∗);
otherwise, execute rejection, where u ∈ [0,1) is a random number
λ(t)
following the uniform distribution.
• Acceptance: Generate and record the new event, and then update variables: λ∗ ←λ(t+t∗)+g(0),
t←t+t∗.
• Rejection: Update variables without generating the new event: λ∗ ←λ(t+t∗), t←t+t∗.
5. Return to 2 if t<t otherwise stop generating and go to the update stage.
G
OuralgorithmisbasedonthatthinningmethodandtheGillespiealgorithm,whichsimulatesthemulti-variable
Hawkes process regarding each agent as one event generator. We used the heap structure to accelerate the
Gillespie algorithm. This improvement was proposed by the manuscript [35] and introduced into a Python
library EoN, which simulated infectious disease transmission and was applied to the multi-variable Hawkes
process by Farajtabar et al. [36].
4 Results
4.1 Experiment I: Comparing the impact of different types of cascading donation
on evolution of cooperation
First of all, we compared the HP model with the standard one to identify the effect of cascading actions on the
evolution of cooperation. Here, the HP model is divided into three cases by the settings of α and α .
i;n i;x
• Poisson-case: α =α =0 for arbitrary agent i;
i;n i;x
• Endogenous case (Endo case): α =α, α =0;
i;n i;x
• Exogenous case (Exo case): α =0, α =α;
i;n i;x
where α∈[0,1) is a common parameter. Additionally, we set ρ to all agents as a common parameter instead of
ρ . In this case, the expected value ⟨λ⟩ of the intensity of occurrence for every individual for one unit of time is
i
also common and can be obtained (see Appendix A for details). We set ⟨λ⟩ to one in all experiments to focus
on the difference in individual donation numbers. We can use ρ to adjust ⟨λ⟩. The value ρ is automatically
6Table 2: Values of parameter ρ , α , α , and β in each situation. Note that the standard model doesn’t use
i i;n i;x
any of these parameters.
standard Poisson Endo Exo
ρ - 1 1−α 1−α
i
α - 0 α 0
i;n
α - 0 0 α
i;x
β - 1 1 k
calculateddependingonαandβ byEq.(A7). Wesummarizethevaluesof{ρ ,α ,α ,β}asshowninTable2.
i i;n i;x
Theexcitationintensityν isalsounifiedtothisexperiment’scommonparameterν. Inaddition,weuset =1.
i G
The setting combining ⟨λ⟩=1 sets each agent’s expected number of actions during one donation stage to 1. It
is intended to make the timescale of interactions close to that of strategy changes, in other words, to simulate
the cultural evolution. We used L=100, G =3000, and G =500 to set constant parameters.
end ave
We investigated which case promotes cooperation, observing how cooperators evolve in each case (Fig. 4).
The horizontal and vertical axes show the advantage of defectors and the final fraction of cooperators, respec-
tively. Theblackdottedlinewithcrosssymbolscorrespondstothestandardmodel; thegraylinewithtriangles
corresponds to the Poisson case; the red line with circles corresponds to the Endo case; the blue line with
squares corresponds to the Exo case. We generated each data point on the lines by averaging 100 runs.
1.0
Standard
0.8 Poisson
Endo
0.6
Exo
0.4
0.2
0.0
1.1 1.5 2.0 2.5 3.0
b
Figure4: Changesinthefinalaveragefractionofcooperators(f )foreachcase. Thehorizontalaxisrepresents
C
the advantage of defectors (b), and the line colors distinguish between different models/cases: gray dashed line
for the standard model, gray for Poisson, red for Endo, and blue for Exo cases.
Let us compare the standard model with the others first. The standard model maintains cooperators at
around65%untilb=1.3,beyondwhichitdropstozero. Ontheotherhand,theothersachieveahigherfraction
of cooperators than the standard does. Poisson case maintains cooperators at around 100% until b=1.3, then
75% until b = 1.5, 55% until b = 1.9, and finally, the line drops to zero. The red line, Endo case, falls to 55%
at b = 2.0, 15% at b = 2.1, and 8% at b = 2.7. The blue Exo case significantly falls to 25% at b = 1.4 and
zero at b = 1.6. Hence, it shows that cooperators can survive more easily in non-uniform cases. Besides, the
highest fraction of cooperators is achieved in the Endo case compared to others; the subsequent order is the
Poisson and then Exo cases. It is implied that it is advantageous for cooperators to play the games stimulated
by themselves rather than by others. This result showed us that acting by exciting oneself is more beneficial to
maintaining a cooperative society than being encouraged by others.
To study the robustness of the result, we examined the dynamics of strategies in the intensity of various
endogenous and exogenous cascades by changing α and ν. Figure 5 clearly shows the effects of the intensity
7
f
Cof cascades. The left column represents the result of the Endo case, focusing on α (upper) and ν (lower)
n
variations while keeping α fixed at zero. By contrast, the right one represents the result of the Exo case. The
x
axes of the four subplots are the same as those of Fig. 4. In each subplot, the outcome of the Poisson case is
illustrated using gray lines and triangles. Let us explain these subplots one by one. The upper left one, which
corresponds to the Endo case where we changed α, displays that more cooperators survive as α increases. In
addition, all lines are over that of the Poisson case. The lower left one, which corresponds to the Endo case
where we changed ν, provides similar trends as the upper one. The upper right one, which corresponds to the
Exo case where we changed α, shows that fewer cooperators survive as the parameter increases, and all lines
are under that of the Poisson case. The lower right one, which corresponds to the Exo case where we changed
ν, provides similar trends as the upper one. These results showed that the order of the Endo, Poisson, and Exo
cases is robust regardless of the intensity of cascades.
Endo Exo
1.0
x=0.1
0.8
x=0.3
x=0.5
0.6 x=0.7
n=0.1 x=0.9
0.4 n=0.3
n=0.5
0.2
n=0.7
n=0.9
0.0
1.0
=1e-02
=1e-01
0.8 =1e-02
=1e+00
=1e-01
0.6 =1e+01
=1e+00 =1e+02
=1e+01
0.4 =1e+03
=1e+02
=1e+03
0.2
0.0
1.1 1.5 2.0 2.5 3.0 1.1 1.5 2.0 2.5 3.0
b b
Figure 5: Changes in f with various values of α and ν. The upper row represents the variation with α (α ),
C n x
while the lower row shows the variation with ν. The left column (red series) corresponds to the Endo case, and
the right column (blue series) corresponds to the Exo case.
Weattributedthisresulttothenon-uniformityofthenumberofactions. Thisideaisbasedonthefactthat
the distribution of the number of times was non-uniform, both totally and spatially, as shown in Fig. 6. The
following subsection will investigate this in detail.
4.2 Experiment II: Analyzing the effect of non-uniformity in the number of do-
nations
We considered that the differences among the above results are caused by the difference in non-uniformity
in the number of donations. To validate the idea, we initially prepared some indices of non-uniformity and
subsequently examined the relationships between them and the evolution of cooperators.
Wedefinedthreeindices: 1)standarddeviations(σ )ofthenumberofdonations;2)decayrates(γ )obtained
d 1
by fitting the distribution of the number of donations to a power-law distribution; 3) averaged similarities of
the number of donations between neighbors, which we call “donation correlation (r ).” The calculus of σ is as
d d
follows:
N
1 (cid:88)
σ = (d −d)2, (6)
d N −1 i
i=1
where d represents the number of donations of agent i.
i
8
f
f
C
C7
12
25
6
10
5 20
8
4
15
6
3
10
2 4
1 5 2
0 0 0
Figure 6: Distribution of the number of actions in three cases.
The idea of γ came from the observation of distributions of donations in the cases shown in Fig. 7. The
1
gray triangles, the red circles, and the blue diamonds indicate the Poisson, Endo, and Exo cases, respectively.
Both axes are logarithmic. This figure shows that the distribution of the Endo case seemed to follow a power-
law distribution known to have a fat tail. Here, we formulate the power-law distribution as D(d) = γ 0d−γ1,
where γ and γ are coefficients. Although the Poisson and Exo cases seem to follow exponential distributions,
0 1
we can also regard them as a power-law distribution with a thinner tail. Generally, a power-law distribution
becomes the uniform distribution as its tail becomes fatter (i.e., as γ decreases). In contrast, it becomes
1
the delta distribution as its tail becomes thinner (as γ increases). In terms of the uniformity of the values
1
produced, it is clear that the uniform distribution is the most non-uniform, and the delta function is entirely
uniform. Therefore, we decided to use γ obtained by fitting distributions of d to the power-law distribution
1 i
as a parameter that reflects the non-uniformity.
0
10
Poisson
Endo
Exo
2
10
4
10
0 1 2
10 10 10
d
Figure 7: Log-log plots of the distribution of donation actions for each of the Poisson (gray triangles), Endo
(red circles), and Exo (blue diamonds) cases.
Finally, inspired by the degree correlation in network science, we computed the donation correlation r ,
d
9
noitubirtsiD
snoitca# snoitca# snoitca#which indicates the local similarity in the number of actions, using the following formula:
(cid:40) (cid:80) (u,v)∈E(dudv−d2)
(d2
̸=d2
),
r
d
= |E|(d2−d2) (7)
1 (otherwise).
In Eq. (7), E is the set of all edges on the lattice, and |E| indicates the total number of edges calculated by
kN/2usingthenumberofneighborsk andthetotalnumberofagentsN. Moreover, d istheagentu’snumber
u
of donation actions, d is the average of d , and d2 is the average of squared d . The values of r range from -1
u u d
to 1; it indicates that the number of donations between neighbors becomes different as r becomes closer to -1,
d
while the number becomes similar as r becomes closer to 1. Thus, the standard model shows us r = 1. In
d d
contrast, in a particular case where individuals with d=0 and d=1 are distributed like a chessboard, r takes
d
on the value of -1.
Beforeanalyzingtherelationshipbetweentheseindicesandtheevolutionofcooperation,wewillclarifyhow
the intensity of endogenous and exogenous cascades affect those indices. The upper (lower) row of Fig. 8 plots
the changes in the non-uniformity indices as α (ν) is changed for the Endo and Exo cases. The first column
represents the average of donation actions in the population. In this experiment, we adjusted ρ to keep the
averagevalueconstanttofocussolelyonnon-uniformity. Wecanconfirmthatthisconditionhasbeenachieved.
The second, third, and fourth columns indicate σ , γ , and r , respectively. Additionally, it is essential to
d 1 d
note that the non-uniformity indices are based on b = 1.1 (keeping in mind that the distribution of donation
frequencyisorisnotindependentofcooperationandthusunrelatedtob). Thegraylinewithatrianglemarker
illustrates the results of the Poisson case.
Observations from this figure can be summarized as follows: 1) In the first column, we can ensure that the
averagesofdonationactions(d)arealwaysone;2)Thestandarddeviationsσ (thesecondcolumn)increasedas
d
α and ν increased, but the decay rates γ (the third column) decreased; 3) In addition, the Endo case changes
1
more dramatically than the Exo. 4) The fourth column, r , shows that only the Exo case increases though
d
others lie on zero.
1.10 2.5 4.0 0.3
Poisson
0.25
1.05 Endo 3.5
Exo 2.0 0.2
1.00 3.0 0.15
1.5 0.1
0.95 2.5
0.05
0.90 1.0 2.0 0.0
0.0 0.5 1.0 0.0 0.5 1.0 0.0 0.5 1.0 0.0 0.5 1.0
1.10 2.5 4.0 0.3
0.25
1.05 3.5
2.0 0.2
1.00 3.0 0.15
1.5 0.1
0.95 2.5
0.05
0.90 1.0 2.0 0.0
10 210 1100 101 102 103 10 210 1100 101 102 103 10 210 1100 101 102 103 10 210 1100 101 102 103
Figure 8: The relationship between parameters related to behavior and indices of non-uniformity. The upper
row takes α as the horizontal axis, while the lower row takes ν as the horizontal axis.
From these observations, we can propose hypotheses to explain the order among the cases illustrated in
Fig. 4: 1) The results of the Endo case can be attributed to a significant global non-uniformity (σ and γ ) in
d 1
thenumberofdonations; 2)TheoutcomesintheExocasearecausedbythelocalsimilarity(r )inthenumber
d
of donations.
Figure 9 shows the relationships between each non-uniformity indicator and the fraction of cooperators by
the scatter plot in each case of b=1.5, 1.9, 2.3, and 2.7. Each point represents the results obtained by varying
α and ν while keeping b fixed, with an average of 100 trials for each point. The red points, blue points, and
gray triangles represent the results of the Endo, Exo, and Poisson cases, respectively. The internal graph is
an enlarged portion to confirm the linearity. Let’s focus on the Endogenous case first. Because r (local non-
d
uniformity) is consistently zero and thus irrelevant, we can focus on the relationship between σ and γ (global
d 1
10
d
d
d
d
1
1
r
r
d
dnon-uniformity) and the evolution of cooperation in the Endo case. Examining the internal graphs, we can
confirm partial positive linearity with σ and partial negative linearity with γ . Therefore, we can observe that
d 1
more significant global non-uniformity has an enhancing effect on the evolution of cooperation. Furthermore,
bycomparingeachrow,itisindicatedthattheimpactontheevolutionofcooperationdiminishesasbincreases.
We also see that for b>2, the condition σ >1.2 (γ <3.4) was imposed to preserve the impact. Conversely,
d 1
in the subplot of b = 1.5 in the fourth column (r ) shows linearity in the region of approximately r < 0.13,
d d
indicating that the cooperator survives. Similarly, the subplot for b = 1.9 shows the condition for r < 0.04.
d
For b > 2, the condition of r under which the cooperator survives in the Exo case disappears. Considering
d
that Fig. 8 shows lowering r (i.e., decreasing α in Exo) reduces global non-uniformity metrics like σ or γ ,
d d 1
we can infer that sufficiently low r fails to meet the global non-uniformity conditions observed in the Endo
d
case. It can be considered that a sufficiently low r no longer satisfies the condition for global non-uniformity
d
observed in the Endo case. Therefore, it is suggested that larger local non-uniformity has a negative effect on
the evolution of cooperation and that this effect exceeds the positive effect of global non-uniformity. In other
words, it suggests that more significant local non-uniformity hurts the evolution of cooperation, and this effect
outweighs the positive impact associated with the global one.
1.0
0.8
1 1 1
0.6
0.4
0 0 0
0.2 1.0 1.5 3 4 0.0 0.1
0.0
1.0
0.8
1 1 1
0.6
0.4
0 0 0
0.2 1.0 1.5 3 4 0.0 0.1
0.0
1.0
0.8
1 1 1
0.6
0.4
0 0 0
0.2 1.0 1.5 3 4 0.0 0.1
0.0
1.0
0.8
1 1 1
0.6
0.4
0 0 0
0.2 1.0 1.5 3 4 0.0 0.1
0.0
0.95 1.00 1.05 2.5 5.0 7.5 10.0 1 2 3 4 0.0 0.2 0.4 0.6
d d 1 r d
Figure 9: Relationships between three non-uniformity indicators (the standard deviations σ , the decay rate of
d
power law γ , and the local similarity in the number of donations r ) and the fraction of cooperators by the
1 d
scatter plot in each case of b=1.5, 1.9, 2.3, and 2.7.
Fromtheobservationsabove,wecansuggestthatthedegreeofvariabilityinstandarddeviation(σ ),power-
d
law distribution (γ ), and donation correlation (r ) is linearly related to the proportion of cooperators in the
1 d
particular region. The comparison between the Exo and Endo cases reveals that low local non-uniformity is a
more preferred factor in the evolution of cooperation. This finding is natural because local non-uniformity can
11
5.1=b
9.1=b
3.2=b
7.2=b
f
f
f
f
C
C
C
Caffect agents’ actions and decisions more than global ones, given the spatial constraints imposed on the agents’
actions. In addition, since the global non-uniformity results show that the more severe the non-uniformity is,
the more cooperation is promoted, the relationship between non-uniformity and cooperation we find can be
summarized as “cooperation is encouraged when the number of donations differs among neighbors more often
and when the differences are more varied.”
Why does the relationship between non-uniformity and the evolution of cooperation appear? We consider
it is because non-uniformity allows for cooperators with an extreme number of actions. Let us first consider
cooperators with d =0 (hereafter called C ). Despite having a =C, C has never had the opportunity to act,
i 0 i 0
so they do not change their or their neighbors’ payoffs. Therefore, C is neutral in the evolution concerning
0
non-cooperators; in other words, it can resist non-cooperators without forming clusters with other cooperators.
Due to their numerous donations, these cooperators bear significant costs and are thus evolutionarily weak.
Conversely, the more they contribute, the more likely their neighbor agents will survive. Therefore, the pair of
C and C appears advantageous for cooperators.
0 n
Analyzingthefrequencyofthiscombinationcanhelpusunderstandtherelationshipbetweennon-uniformity
and the evolution of cooperation. Let us consider local non-uniformity and the tendency for C -C pairs to
0 n
appear. Whenlocalnon-uniformityisatitsmaximum(i.e.,1),adjacentagentshaveanequalnumberofactions,
so this pair cannot exist, and cooperation struggles to survive in the standard model (dashed line in Fig. 4).
Whenlocalnon-uniformityishigh,thenumberofactionsofadjacentagentsaresimilar,makingtheappearance
of such pairs rare. Conversely, when local non-uniformity is low, adjacent agents have a different number of
actions, increasing the likelihood of the pair’s occurrence. Moreover, local non-uniformity exhibits a threshold
for the evolution of cooperation (as seen in the 4th column of Fig. 9). We believe this threshold exists because
ifaninsufficientnumberofpairsarecreatedtocounteracttheeffectofnon-cooperators,cooperatorsgoextinct.
As global non-uniformity increases, cooperators who have made more contributions emerge, thus increasing the
probability of the emergence of more strong C -C pairs.
0 n
Hence, we argue that the probability of the emergence of C -C pairs in the state of non-uniformity can
0 n
explain the relationship between non-uniformity and the evolution of cooperation.
5 Discussion
To gain a deeper understanding of the mechanisms behind human behavioral change (cultural evolution), we
constructed a multi-agent model where agents act according to timings determined by the Hawkes process and
investigated the impact of cascading actions on the evolution of cooperation. In this study, we employed two
mechanisms for cascading actions: self-excitation (Endo), where an individual’s past actions influence their
current actions, and external excitation (Exo), where the past actions of others affect an individual’s current
actions. Additionally, we included the other two comparative cases: one where agents act randomly according
to the Poisson process (Poisson), and the other representing biological evolution (standard), where actions are
performed only once.
Simulationresultsinitiallydemonstratedtherankingofthesefourcases,revealingthatEndomosteffectively
promotescooperation. Weattributedthisresulttothedifferingdistributionsofthenumberofactionsassociated
with each behavioral rule. Subsequently, we defined a measure of non-uniformity and examined its relationship
with the evolution of cooperation. Our findings indicated that when local non-uniformity (non-uniformity
amongneighbors)islow, higherglobalnon-uniformitypromotescooperationmoreeffectively. Thelikelyreason
for this condition is that it facilitates the formation of pairs consisting of cooperators who have never acted
and those who have acted extensively. These results suggest that random elements causing non-uniformity
and cooperation by a few highly active individuals effectively maintain a cooperative society. Conversely, the
tendency to follow others’ actions does not help to escape the temptation of free-riding.
We confirm that local and global non-uniformity in the frequency of actions is a crucial determinant in the
evolution of cooperation. This leads us to the following assumptions. First, actions triggered by others are
disadvantageous. However, in the real world, people are often influenced by others to act, so this assumption
contradictsreal-worldphenomena. Therefore,itisnecessarytoexaminemoredeeplywhetherthereisarealistic
setting in which cooperation can evolve, which was unintentionally ignored in our model, even in Exo cases.
Alternatively, it is essential to explore whether there is some advantage of Exo cases from another perspective
that remains characteristic of human behavior. Second, the result indicating that greater local non-uniformity
favors the evolution of cooperation raises the question of whether it is possible to create a more locally non-
uniform situation using the Hawkes process model. In other words, the smallest value of local non-uniformity
was zero for Endo, Poisson, and Exo. However, is it possible to create a situation where the value is lower than
zero, or is such a situation nonexistent in reality? In this context, we consider an extended model where the
actions of others suppress the occurrence of an individual’s action.
12On the other hand, it is important to note that this study only examines limited situations. One significant
limitation is the fixed spatial structure of the square lattice. Since spatial structure significantly influences
the results, examining the relationship with spatial structure in more detail is essential. However, a technical
problem arises when applying the Hawkes process directly to other well-known networks, such as scale-free and
small-world networks, due to potential divergence issues. If we can solve this problem, we can test various
networks. Furthermore,whileweusedidenticalexcitationparametersforallagentsinthisstudy,allowingthese
parameters to evolve could reveal the optimal excitation levels.
Acknowledgment
This study was partly supported by JSPS KAKENHI, Grant No. JP23K22982 (G.I.).
Declaration of generative AI and AI-assisted technologies in the writ-
ing process
While preparing this work, the authors used ChatGPT-4o to improve the readability and language of the
manuscript. Afterusingthistool, theauthorsreviewedandeditedthecontentasneeded. Theauthorstakefull
responsibility for the content of the published article.
Appendix A Expected intensity
First, consider the expected intensity when there is a single event generator. In the Hawkes process, the
(cid:82)∞
branchingratioisdefinedas g(τ)dτ. Thisindicatorrepresentshowmanyeventsaneventoccurrencecauses
0
on average. When the Hawkes process follows Eq. (3), its branching ratio can be calculated as follows:
(cid:90) ∞
γ = ανexp(−βντ)dτ
0
α
= . (A1)
β
Using this, we can obtain the expected intensity ⟨λ⟩, i.e., the average number of events per unit time:
∞
(cid:88) 1
⟨λ⟩= γk = , (A2)
1−γ
k=0
where γ <1 must be satisfied.
Second, we deal with the case where multiple event generators are considered, which is also used in our
multi-agent model. Hereafter, we regard event generators as individuals according to the model. Using Eq. (5),
we calculate the effect of an excitation of individual i on j, i.e., the branching ratio γ from i to j.
i,j
In the case of i=j, we obtain
(cid:90) ∞
γ = α ν exp(−β ν τ)dτ
ij j;n j j;n j
0
α
= j;n. (A3)
β
j;n
Then, in the case of j ∈N , we obtain
i
(cid:90) ∞
γ = α ν exp(−β ν τ)dτ
ij j;x j j;x j
0
α
= j;x. (A4)
β
j;x
Otherwise, γ =0.
ij
The N ×N matrix of γ is defined as Γ. It can be regarded as an N ×N lattice adjacency matrix with
ij
the weights of the branching ratios, or more specifically, the amount of influence of individual i on individual j.
Using this, the N×1 column vector of expected values for each individual ⟨λ⟩ composed of ⟨λ ⟩ is obtained by
i
⟨λ⟩=(I−Γ)−1ρ, (A5)
13where I is the N ×N identity matrix and ρ is the column vector of ρ .
i
Thistime,weuseGershgorin’stheoremtoestimatethesufficientconditionsunderwhichthespectralradius
ofΓissmallerthan1. Usingthestandardparametersα , α ∈[0,1)andβ >0andthensimplifyingα =α ,
n x i;n n
α
i;x
= α x, β
i;X
= β (X ∈ {n,x}), we obtain D(α βn,kα βx), which is the only Gershgorin disk of Γ. Therefore,
from αn >0, we know that the eigenvalues of Γ are at most αn+kαx and at least αn−kαx.
β β β
Define β ≡ o +ko , where o ∈ {0,1} and takes the value 1 when α > 0 and 0 when otherwise. o has
n x n n x
the same meaning for α . Then, we obtain
x
α +kα α −kα
n x <1, n x >−1.
o +ko o +ko
n x n x
Thus, the spectral radius of Γ is smaller than 1 when using these definitions.
Let us transform Eq. (A5). Suppose we use ρ with the same value for all individuals. That is, ρ =ρ using
i i
the common parameter ρ.
⟨λ⟩=(I−Γ)−1ρ
=(I−Γ)−1ρ1
∴ρ1=(I−Γ)⟨λ⟩
(A6)
Here, if we assume that ⟨λ ⟩ has the same value for all individuals (⟨λ⟩),
i
ρ1=(I−Γ)⟨λ⟩1
(cid:18) (cid:19)
α α
∴ρ=⟨λ⟩ 1− n −k x
β β
(cid:18) (cid:19)
α +kα
=⟨λ⟩ 1− n x . (A7)
β
References
[1] J. Maynard Smith. Evolution and the Theory of Games. Cambridge University Press, Cambridge, 1982.
[2] M.NowakandK.Sigmund. Astrategyofwin-stay,lose-shiftthatoutperformstit-for-tatintheprisoner’s
dilemma game. Nature, 364:56–58, 1993.
[3] D. Fudenberg, D. Levine, and E. Maskin. The folk theorem with imperfect public information. Econo-
metrica, 62:997–1039, 1994.
[4] K. Sigmund. The Calculus of Selfishness. Princeton University Press, Princeton, NJ, 2010.
[5] Lorens A Imhof, Drew Fudenberg, and Martin A Nowak. Tit-for-tat or win-stay, lose-shift? Journal of
theoretical biology, 247(3):574–580, 2007.
[6] M. A. Nowak and K. Sigmund. Evolution of indirect reciprocity by image scoring. Nature, 393:573–577,
1998.
[7] M. A. Nowak and K. Sigmund. The dynamics of indirect reciprocity. J. Theor. Biol., 194:561–574, 1998.
[8] H. Ohtsuki and Y. Iwasa. How should we define goodness?–reputation dynamics in indirect reciprocity.
J. Theor. Biol., 231:107–120, 2004.
[9] M. A. Nowak and R. M. May. Evolutionary games and spatial chaos. Nature, 359:826–829, 1992.
[10] F. C. Santos and J. M. Pacheco. Scale-free networks provide a unifying framework for the emergence of
cooperation. Phys. Rev. Lett., 95:098104, 2005.
[11] H. Ohtsuki, C. Hauert, E. Lieberman, and M. A. Nowak. A simple rule for the evolution of cooperation
on graphs and social networks. Nature, 441:502–505, 2006.
[12] CarlosPRoca,Jos´eACuesta,andAngelS´anchez. Timescalesinevolutionarydynamics. Physical review
letters, 97(15):158701, 2006.
14[13] Carlos P Roca, Jos´e A Cuesta, and Angel S´anchez. Evolutionary game theory: Temporal and spatial
effects beyond replicator dynamics. Physics of life reviews, 6(4):208–249, 2009.
[14] Zhi-Xi Wu, Zhihai Rong, and Petter Holme. Diversity of reproduction time scale promotes cooperation
in spatial prisoner’s dilemma games. Physical Review E, 80(3):036106, 2009.
[15] Xu-Sheng Liu, Zhi-Xi Wu, and Jian-Yue Guan. Influence of small-world topology and time-scale in
evolutionary kuramoto dilemma. Europhysics Letters, 122(2):20001, 2018.
[16] Zhihai Rong, Zhi-Xi Wu, and Wen-Xu Wang. Emergence of cooperation through coevolving time scale in
spatial prisoner’s dilemma. Physical Review E, 82(2):026101, 2010.
[17] ZhihaiRong,Zhi-XiWu,andGuanrongChen.Coevolutionofstrategy-selectiontimescaleandcooperation
in spatial prisoner’s dilemma game. Europhysics Letters, 102(6):68005, 2013.
[18] Rui Cong, Te Wu, Yuan-Ying Qiu, and Long Wang. Time scales in evolutionary game on adaptive
networks. Physics Letters A, 378(13):950–955, 2014.
[19] Yajun Mao, Zhihai Rong, and Zhi-Xi Wu. Effect of collective influence on the evolution of cooperation in
evolutionary prisoner’s dilemma games. Applied Mathematics and Computation, 392:125679, 2021.
[20] Aming Li, Lei Zhou, Qi Su, Sean P Cornelius, Yang-Yu Liu, Long Wang, and Simon A Levin. Evolution
of cooperation on temporal networks. Nature communications, 11(1):1–9, 2020.
[21] A. L. Barab´asi. The origin of bursts and heavy tails in human dynamics. Nature, 435:207–211, 2005.
[22] A. V´azquez, J. G. Oliveira, Z. Dezs¨o, K. I. Goh, I. Kondor, and A. L. Barab´asi. Modeling bursts and
heavy tails in human dynamics. Phys. Rev. E, 73:036127, 2006.
[23] A. Vazquez, B. R´acz, A. Luk´acs, and A. L. Barab´asi. Impact of non-Poissonian activity patterns on
spreading processes. Phys. Rev. Lett., 98:158702, 2007.
[24] M. Karsai, K. Kaski, A. L. Barab´asi, and J. Kert´esz. Universal features of correlated bursty behaviour.
Sci. Rep., 2:397, 2012.
[25] AMReynolds.Ontheoriginofburstsandheavytailsinanimaldynamics.PhysicaA:StatisticalMechanics
and its Applications, 390(2):245–249, 2011.
[26] Senzhang Wang, Zhao Yan, Xia Hu, S Yu Philip, and Zhoujun Li. Burst time prediction in cascades. In
Proceedings of the AAAI Conference on Artificial Intelligence, volume 29, 2015.
[27] Yosihiko Ogata. Statistical models for earthquake occurrences and residual analysis for point processes.
Journal of the American Statistical association, 83(401):9–27, 1988.
[28] Marcello Rambaldi, Paris Pennesi, and Fabrizio Lillo. Modeling foreign exchange market activity around
macroeconomic news: Hawkes-process approach. Physical Review E, 91(1):012819, 2015.
[29] StephenJHardiman,NicolasBercot,andJean-PhilippeBouchaud.Criticalreflexivityinfinancialmarkets:
a hawkes process analysis. The European Physical Journal B, 86:1–9, 2013.
[30] Paul Embrechts, Thomas Liniger, and Lu Lin. Multivariate hawkes processes: an application to financial
data. Journal of Applied Probability, 48(A):367–378, 2011.
[31] AlanGHawkes.Spectraofsomeself-excitingandmutuallyexcitingpointprocesses.Biometrika,58(1):83–
90, 1971.
[32] Emmanuel Bacry, Iacopo Mastromatteo, and Jean-Franc¸ois Muzy. Hawkes processes in finance. Market
Microstructure and Liquidity, 1(01):1550005, 2015.
[33] Ivo Adan and Jacques Resing. Queueing theory. Eindhoven University of Technology, 180, 2002.
[34] Yosihiko Ogata. On lewis’ simulation method for point processes. IEEE transactions on information
theory, 27(1):23–31, 1981.
[35] Istv´an Z Kiss, Joel C Miller, P´eter L Simon, et al. Mathematics of epidemics on networks. Cham:
Springer, 598:31, 2017.
15[36] Mehrdad Farajtabar, Yichen Wang, Manuel Gomez-Rodriguez, Shuang Li, Hongyuan Zha, and Le Song.
Coevolve: Ajointpointprocessmodelforinformationdiffusionandnetworkevolution.JournalofMachine
Learning Research, 18(41):1–49, 2017.
16